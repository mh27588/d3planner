! function(e, t) {
    function n(e) {
        var t = e.length,
            n = Q.type(e);
        return !Q.isWindow(e) && (!(1 !== e.nodeType || !t) || ("array" === n || "function" !== n && (0 === t || "number" == typeof t && t > 0 && t - 1 in e)))
    }

    function r() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {}
            }
        }), this.expando = Q.expando + Math.random()
    }

    function i(e, n, r) {
        var i;
        if (r === t && 1 === e.nodeType)
            if (i = "data-" + n.replace(ce, "-$1").toLowerCase(), "string" == typeof(r = e.getAttribute(i))) {
                try {
                    r = "true" === r || "false" !== r && ("null" === r ? null : +r + "" === r ? +r : le.test(r) ? JSON.parse(r) : r)
                } catch (e) {}
                ae.set(e, n, r)
            } else r = t;
        return r
    }

    function o() {
        return !0
    }

    function s() {
        return !1
    }

    function a() {
        try {
            return M.activeElement
        } catch (e) {}
    }

    function u(e, t) {
        for (;
            (e = e[t]) && 1 !== e.nodeType;);
        return e
    }

    function l(e, t, n) {
        if (Q.isFunction(t)) return Q.grep(e, function(e, r) {
            return !!t.call(e, r, e) !== n
        });
        if (t.nodeType) return Q.grep(e, function(e) {
            return e === t !== n
        });
        if ("string" == typeof t) {
            if (xe.test(t)) return Q.filter(t, e, n);
            t = Q.filter(t, e)
        }
        return Q.grep(e, function(e) {
            return Y.call(t, e) >= 0 !== n
        })
    }

    function c(e, t) {
        return Q.nodeName(e, "table") && Q.nodeName(1 === t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function f(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
    }

    function p(e) {
        var t = Ae.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function d(e, t) {
        for (var n = e.length, r = 0; r < n; r++) ue.set(e[r], "globalEval", !t || ue.get(t[r], "globalEval"))
    }

    function h(e, t) {
        var n, r, i, o, s, a, u, l;
        if (1 === t.nodeType) {
            if (ue.hasData(e) && (o = ue.access(e), s = ue.set(t, o), l = o.events)) {
                delete s.handle, s.events = {};
                for (i in l)
                    for (n = 0, r = l[i].length; n < r; n++) Q.event.add(t, i, l[i][n])
            }
            ae.hasData(e) && (a = ae.access(e), u = Q.extend({}, a), ae.set(t, u))
        }
    }

    function g(e, n) {
        var r = e.getElementsByTagName ? e.getElementsByTagName(n || "*") : e.querySelectorAll ? e.querySelectorAll(n || "*") : [];
        return n === t || n && Q.nodeName(e, n) ? Q.merge([e], r) : r
    }

    function m(e, t) {
        if (t in e) return t;
        for (var n = t.charAt(0).toUpperCase() + t.slice(1), r = t, i = _e.length; i--;)
            if ((t = _e[i] + n) in e) return t;
        return r
    }

    function y(e, t) {
        return e = t || e, "none" === Q.css(e, "display") || !Q.contains(e.ownerDocument, e)
    }

    function v(t) {
        return e.getComputedStyle(t, null)
    }

    function x(e, t) {
        for (var n, r, i, o = [], s = 0, a = e.length; s < a; s++)(r = e[s]).style && (o[s] = ue.get(r, "olddisplay"), n = r.style.display, t ? (o[s] || "none" !== n || (r.style.display = ""), "" === r.style.display && y(r) && (o[s] = ue.access(r, "olddisplay", function(e) {
            var t = M,
                n = $e[e];
            n || ("none" !== (n = C(e, t)) && n || (Oe = (Oe || Q("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement), (t = (Oe[0].contentWindow || Oe[0].contentDocument).document).write("<!doctype html><html><body>"), t.close(), n = C(e, t), Oe.detach()), $e[e] = n);
            return n
        }(r.nodeName)))) : o[s] || (i = y(r), (n && "none" !== n || !i) && ue.set(r, "olddisplay", i ? n : Q.css(r, "display"))));
        for (s = 0; s < a; s++)(r = e[s]).style && (t && "none" !== r.style.display && "" !== r.style.display || (r.style.display = t ? o[s] || "" : "none"));
        return e
    }

    function b(e, t, n) {
        var r = Re.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }

    function w(e, t, n, r, i) {
        for (var o = n === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0, s = 0; o < 4; o += 2) "margin" === n && (s += Q.css(e, n + ze[o], !0, i)), r ? ("content" === n && (s -= Q.css(e, "padding" + ze[o], !0, i)), "margin" !== n && (s -= Q.css(e, "border" + ze[o] + "Width", !0, i))) : (s += Q.css(e, "padding" + ze[o], !0, i), "padding" !== n && (s += Q.css(e, "border" + ze[o] + "Width", !0, i)));
        return s
    }

    function T(e, t, n) {
        var r = !0,
            i = "width" === t ? e.offsetWidth : e.offsetHeight,
            o = v(e),
            s = Q.support.boxSizing && "border-box" === Q.css(e, "boxSizing", !1, o);
        if (i <= 0 || null == i) {
            if (((i = He(e, t, o)) < 0 || null == i) && (i = e.style[t]), Me.test(i)) return i;
            r = s && (Q.support.boxSizingReliable || i === e.style[t]), i = parseFloat(i) || 0
        }
        return i + w(e, t, n || (s ? "border" : "content"), r, o) + "px"
    }

    function C(e, t) {
        var n = Q(t.createElement(e)).appendTo(t.body),
            r = Q.css(n[0], "display");
        return n.remove(), r
    }

    function N(e, t, n, r) {
        var i;
        if (Q.isArray(t)) Q.each(t, function(t, i) {
            n || Ue.test(e) ? r(e, i) : N(e + "[" + ("object" == typeof i ? t : "") + "]", i, n, r)
        });
        else if (n || "object" !== Q.type(t)) r(e, t);
        else
            for (i in t) N(e + "[" + i + "]", t[i], n, r)
    }

    function k(e) {
        return function(t, n) {
            "string" != typeof t && (n = t, t = "*");
            var r, i = 0,
                o = t.toLowerCase().match(Z) || [];
            if (Q.isFunction(n))
                for (; r = o[i++];) "+" === r[0] ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
        }
    }

    function E(e, t, n, r) {
        function i(a) {
            var u;
            return o[a] = !0, Q.each(e[a] || [], function(e, a) {
                var l = a(t, n, r);
                return "string" != typeof l || s || o[l] ? s ? !(u = l) : void 0 : (t.dataTypes.unshift(l), i(l), !1)
            }), u
        }
        var o = {},
            s = e === ut;
        return i(t.dataTypes[0]) || !o["*"] && i("*")
    }

    function S(e, n) {
        var r, i, o = Q.ajaxSettings.flatOptions || {};
        for (r in n) n[r] !== t && ((o[r] ? e : i || (i = {}))[r] = n[r]);
        return i && Q.extend(!0, e, i), e
    }

    function j() {
        return setTimeout(function() {
            mt = t
        }), mt = Q.now()
    }

    function D(e, t, n) {
        for (var r, i = (Tt[t] || []).concat(Tt["*"]), o = 0, s = i.length; o < s; o++)
            if (r = i[o].call(n, t, e)) return r
    }

    function A(e, t, n) {
        var r, i, o = 0,
            s = wt.length,
            a = Q.Deferred().always(function() {
                delete u.elem
            }),
            u = function() {
                if (i) return !1;
                for (var t = mt || j(), n = Math.max(0, l.startTime + l.duration - t), r = 1 - (n / l.duration || 0), o = 0, s = l.tweens.length; o < s; o++) l.tweens[o].run(r);
                return a.notifyWith(e, [l, r, n]), r < 1 && s ? n : (a.resolveWith(e, [l]), !1)
            },
            l = a.promise({
                elem: e,
                props: Q.extend({}, t),
                opts: Q.extend(!0, {
                    specialEasing: {}
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: mt || j(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = Q.Tween(e, l.opts, t, n, l.opts.specialEasing[t] || l.opts.easing);
                    return l.tweens.push(r), r
                },
                stop: function(t) {
                    var n = 0,
                        r = t ? l.tweens.length : 0;
                    if (i) return this;
                    for (i = !0; n < r; n++) l.tweens[n].run(1);
                    return t ? a.resolveWith(e, [l, t]) : a.rejectWith(e, [l, t]), this
                }
            }),
            c = l.props;
        for (function(e, t) {
                var n, r, i, o, s;
                for (n in e)
                    if (r = Q.camelCase(n), i = t[r], o = e[n], Q.isArray(o) && (i = o[1], o = e[n] = o[0]), n !== r && (e[r] = o, delete e[n]), (s = Q.cssHooks[r]) && "expand" in s) {
                        o = s.expand(o), delete e[r];
                        for (n in o) n in e || (e[n] = o[n], t[n] = i)
                    } else t[r] = i
            }(c, l.opts.specialEasing); o < s; o++)
            if (r = wt[o].call(l, e, c, l.opts)) return r;
        return Q.map(c, D, l), Q.isFunction(l.opts.start) && l.opts.start.call(e, l), Q.fx.timer(Q.extend(u, {
            elem: e,
            anim: l,
            queue: l.opts.queue
        })), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
    }

    function L(e, t, n, r, i) {
        return new L.prototype.init(e, t, n, r, i)
    }

    function q(e, t) {
        var n, r = {
                height: e
            },
            i = 0;
        for (t = t ? 1 : 0; i < 4; i += 2 - t) r["margin" + (n = ze[i])] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e), r
    }

    function H(e) {
        return Q.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
    }
    var O, F, P = typeof t,
        R = e.location,
        M = e.document,
        W = M.documentElement,
        $ = e.jQuery,
        B = e.$,
        I = {},
        z = [],
        _ = z.concat,
        X = z.push,
        U = z.slice,
        Y = z.indexOf,
        V = I.toString,
        G = I.hasOwnProperty,
        J = "2.0.3".trim,
        Q = function(e, t) {
            return new Q.fn.init(e, t, O)
        },
        K = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        Z = /\S+/g,
        ee = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        te = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        ne = /^-ms-/,
        re = /-([\da-z])/gi,
        ie = function(e, t) {
            return t.toUpperCase()
        },
        oe = function() {
            M.removeEventListener("DOMContentLoaded", oe, !1), e.removeEventListener("load", oe, !1), Q.ready()
        };
    Q.fn = Q.prototype = {
            jquery: "2.0.3",
            constructor: Q,
            init: function(e, n, r) {
                var i, o;
                if (!e) return this;
                if ("string" == typeof e) {
                    if (!(i = "<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3 ? [null, e, null] : ee.exec(e)) || !i[1] && n) return !n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e);
                    if (i[1]) {
                        if (n = n instanceof Q ? n[0] : n, Q.merge(this, Q.parseHTML(i[1], n && n.nodeType ? n.ownerDocument || n : M, !0)), te.test(i[1]) && Q.isPlainObject(n))
                            for (i in n) Q.isFunction(this[i]) ? this[i](n[i]) : this.attr(i, n[i]);
                        return this
                    }
                    return (o = M.getElementById(i[2])) && o.parentNode && (this.length = 1, this[0] = o), this.context = M, this.selector = e, this
                }
                return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : Q.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector, this.context = e.context), Q.makeArray(e, this))
            },
            selector: "",
            length: 0,
            toArray: function() {
                return U.call(this)
            },
            get: function(e) {
                return null == e ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
            },
            pushStack: function(e) {
                var t = Q.merge(this.constructor(), e);
                return t.prevObject = this, t.context = this.context, t
            },
            each: function(e, t) {
                return Q.each(this, e, t)
            },
            ready: function(e) {
                return Q.ready.promise().done(e), this
            },
            slice: function() {
                return this.pushStack(U.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length,
                    n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            map: function(e) {
                return this.pushStack(Q.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: X,
            sort: [].sort,
            splice: [].splice
        }, Q.fn.init.prototype = Q.fn, Q.extend = Q.fn.extend = function() {
            var e, n, r, i, o, s, a = arguments[0] || {},
                u = 1,
                l = arguments.length,
                c = !1;
            for ("boolean" == typeof a && (c = a, a = arguments[1] || {}, u = 2), "object" == typeof a || Q.isFunction(a) || (a = {}), l === u && (a = this, --u); u < l; u++)
                if (null != (e = arguments[u]))
                    for (n in e) r = a[n], a !== (i = e[n]) && (c && i && (Q.isPlainObject(i) || (o = Q.isArray(i))) ? (o ? (o = !1, s = r && Q.isArray(r) ? r : []) : s = r && Q.isPlainObject(r) ? r : {}, a[n] = Q.extend(c, s, i)) : i !== t && (a[n] = i));
            return a
        }, Q.extend({
            expando: "jQuery" + ("2.0.3" + Math.random()).replace(/\D/g, ""),
            noConflict: function(t) {
                return e.$ === Q && (e.$ = B), t && e.jQuery === Q && (e.jQuery = $), Q
            },
            isReady: !1,
            readyWait: 1,
            holdReady: function(e) {
                e ? Q.readyWait++ : Q.ready(!0)
            },
            ready: function(e) {
                (!0 === e ? --Q.readyWait : Q.isReady) || (Q.isReady = !0, !0 !== e && --Q.readyWait > 0 || (F.resolveWith(M, [Q]), Q.fn.trigger && Q(M).trigger("ready").off("ready")))
            },
            isFunction: function(e) {
                return "function" === Q.type(e)
            },
            isArray: Array.isArray,
            isWindow: function(e) {
                return null != e && e === e.window
            },
            isNumeric: function(e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            },
            type: function(e) {
                return null == e ? String(e) : "object" == typeof e || "function" == typeof e ? I[V.call(e)] || "object" : typeof e
            },
            isPlainObject: function(e) {
                if ("object" !== Q.type(e) || e.nodeType || Q.isWindow(e)) return !1;
                try {
                    if (e.constructor && !G.call(e.constructor.prototype, "isPrototypeOf")) return !1
                } catch (e) {
                    return !1
                }
                return !0
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e) return !1;
                return !0
            },
            error: function(e) {
                throw new Error(e)
            },
            parseHTML: function(e, t, n) {
                if (!e || "string" != typeof e) return null;
                "boolean" == typeof t && (n = t, t = !1), t = t || M;
                var r = te.exec(e),
                    i = !n && [];
                return r ? [t.createElement(r[1])] : (r = Q.buildFragment([e], t, i), i && Q(i).remove(), Q.merge([], r.childNodes))
            },
            parseJSON: JSON.parse,
            parseXML: function(e) {
                var n, r;
                if (!e || "string" != typeof e) return null;
                try {
                    r = new DOMParser, n = r.parseFromString(e, "text/xml")
                } catch (e) {
                    n = t
                }
                return n && !n.getElementsByTagName("parsererror").length || Q.error("Invalid XML: " + e), n
            },
            noop: function() {},
            globalEval: function(e) {
                var t, n = eval;
                (e = Q.trim(e)) && (1 === e.indexOf("use strict") ? ((t = M.createElement("script")).text = e, M.head.appendChild(t).parentNode.removeChild(t)) : n(e))
            },
            camelCase: function(e) {
                return e.replace(ne, "ms-").replace(re, ie)
            },
            nodeName: function(e, t) {
                return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
            },
            each: function(e, t, r) {
                var i = 0,
                    o = e.length,
                    s = n(e);
                if (r) {
                    if (s)
                        for (; i < o && !1 !== t.apply(e[i], r); i++);
                    else
                        for (i in e)
                            if (!1 === t.apply(e[i], r)) break
                } else if (s)
                    for (; i < o && !1 !== t.call(e[i], i, e[i]); i++);
                else
                    for (i in e)
                        if (!1 === t.call(e[i], i, e[i])) break; return e
            },
            trim: function(e) {
                return null == e ? "" : J.call(e)
            },
            makeArray: function(e, t) {
                var r = t || [];
                return null != e && (n(Object(e)) ? Q.merge(r, "string" == typeof e ? [e] : e) : X.call(r, e)), r
            },
            inArray: function(e, t, n) {
                return null == t ? -1 : Y.call(t, e, n)
            },
            merge: function(e, n) {
                var r = n.length,
                    i = e.length,
                    o = 0;
                if ("number" == typeof r)
                    for (; o < r; o++) e[i++] = n[o];
                else
                    for (; n[o] !== t;) e[i++] = n[o++];
                return e.length = i, e
            },
            grep: function(e, t, n) {
                var r = [],
                    i = 0,
                    o = e.length;
                for (n = !!n; i < o; i++) n !== !!t(e[i], i) && r.push(e[i]);
                return r
            },
            map: function(e, t, r) {
                var i, o = 0,
                    s = e.length,
                    a = [];
                if (n(e))
                    for (; o < s; o++) null != (i = t(e[o], o, r)) && (a[a.length] = i);
                else
                    for (o in e) null != (i = t(e[o], o, r)) && (a[a.length] = i);
                return _.apply([], a)
            },
            guid: 1,
            proxy: function(e, n) {
                var r, i, o;
                return "string" == typeof n && (r = e[n], n = e, e = r), Q.isFunction(e) ? (i = U.call(arguments, 2), o = function() {
                    return e.apply(n || this, i.concat(U.call(arguments)))
                }, o.guid = e.guid = e.guid || Q.guid++, o) : t
            },
            access: function(e, n, r, i, o, s, a) {
                var u = 0,
                    l = e.length,
                    c = null == r;
                if ("object" === Q.type(r)) {
                    o = !0;
                    for (u in r) Q.access(e, n, u, r[u], !0, s, a)
                } else if (i !== t && (o = !0, Q.isFunction(i) || (a = !0), c && (a ? (n.call(e, i), n = null) : (c = n, n = function(e, t, n) {
                        return c.call(Q(e), n)
                    })), n))
                    for (; u < l; u++) n(e[u], r, a ? i : i.call(e[u], u, n(e[u], r)));
                return o ? e : c ? n.call(e) : l ? n(e[0], r) : s
            },
            now: Date.now,
            swap: function(e, t, n, r) {
                var i, o, s = {};
                for (o in t) s[o] = e.style[o], e.style[o] = t[o];
                i = n.apply(e, r || []);
                for (o in t) e.style[o] = s[o];
                return i
            }
        }), Q.ready.promise = function(t) {
            return F || (F = Q.Deferred(), "complete" === M.readyState ? setTimeout(Q.ready) : (M.addEventListener("DOMContentLoaded", oe, !1), e.addEventListener("load", oe, !1))), F.promise(t)
        }, Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
            I["[object " + t + "]"] = t.toLowerCase()
        }), O = Q(M),
        function(e, t) {
            function n(e, t, n, r) {
                var i, o, s, a, u, l, c, f, h, g;
                if ((t ? t.ownerDocument || t : R) !== D && j(t), t = t || D, n = n || [], !e || "string" != typeof e) return n;
                if (1 !== (a = t.nodeType) && 9 !== a) return [];
                if (L && !r) {
                    if (i = ge.exec(e))
                        if (s = i[1]) {
                            if (9 === a) {
                                if (!(o = t.getElementById(s)) || !o.parentNode) return n;
                                if (o.id === s) return n.push(o), n
                            } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(s)) && F(t, o) && o.id === s) return n.push(o), n
                        } else {
                            if (i[2]) return J.apply(n, t.getElementsByTagName(e)), n;
                            if ((s = i[3]) && b.getElementsByClassName && t.getElementsByClassName) return J.apply(n, t.getElementsByClassName(s)), n
                        }
                    if (b.qsa && (!q || !q.test(e))) {
                        if (f = c = P, h = t, g = 9 === a && e, 1 === a && "object" !== t.nodeName.toLowerCase()) {
                            for (l = p(e), (c = t.getAttribute("id")) ? f = c.replace(ve, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", u = l.length; u--;) l[u] = f + d(l[u]);
                            h = le.test(e) && t.parentNode || t, g = l.join(",")
                        }
                        if (g) try {
                            return J.apply(n, h.querySelectorAll(g)), n
                        } catch (e) {} finally {
                            c || t.removeAttribute("id")
                        }
                    }
                }
                return function(e, t, n, r) {
                    var i, o, s, a, u, l = p(e);
                    if (!r && 1 === l.length) {
                        if ((o = l[0] = l[0].slice(0)).length > 2 && "ID" === (s = o[0]).type && b.getById && 9 === t.nodeType && L && T.relative[o[1].type]) {
                            if (!(t = (T.find.ID(s.matches[0].replace(xe, be), t) || [])[0])) return n;
                            e = e.slice(o.shift().value.length)
                        }
                        for (i = de.needsContext.test(e) ? 0 : o.length; i-- && (s = o[i], !T.relative[a = s.type]);)
                            if ((u = T.find[a]) && (r = u(s.matches[0].replace(xe, be), le.test(o[0].type) && t.parentNode || t))) {
                                if (o.splice(i, 1), !(e = r.length && d(o))) return J.apply(n, r), n;
                                break
                            }
                    }
                    return k(e, l)(r, t, !L, n, le.test(e)), n
                }(e.replace(se, "$1"), t, n, r)
            }

            function r() {
                function e(n, r) {
                    return t.push(n += " ") > T.cacheLength && delete e[t.shift()], e[n] = r
                }
                var t = [];
                return e
            }

            function i(e) {
                return e[P] = !0, e
            }

            function o(e) {
                var t = D.createElement("div");
                try {
                    return !!e(t)
                } catch (e) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t), t = null
                }
            }

            function s(e, t) {
                for (var n = e.split("|"), r = e.length; r--;) T.attrHandle[n[r]] = t
            }

            function a(e, t) {
                var n = t && e,
                    r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || X) - (~e.sourceIndex || X);
                if (r) return r;
                if (n)
                    for (; n = n.nextSibling;)
                        if (n === t) return -1;
                return e ? 1 : -1
            }

            function u(e) {
                return function(t) {
                    return "input" === t.nodeName.toLowerCase() && t.type === e
                }
            }

            function l(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && t.type === e
                }
            }

            function c(e) {
                return i(function(t) {
                    return t = +t, i(function(n, r) {
                        for (var i, o = e([], n.length, t), s = o.length; s--;) n[i = o[s]] && (n[i] = !(r[i] = n[i]))
                    })
                })
            }

            function f() {}

            function p(e, t) {
                var r, i, o, s, a, u, l, c = B[e + " "];
                if (c) return t ? 0 : c.slice(0);
                for (a = e, u = [], l = T.preFilter; a;) {
                    r && !(i = ae.exec(a)) || (i && (a = a.slice(i[0].length) || a), u.push(o = [])), r = !1, (i = ue.exec(a)) && (r = i.shift(), o.push({
                        value: r,
                        type: i[0].replace(se, " ")
                    }), a = a.slice(r.length));
                    for (s in T.filter) !(i = de[s].exec(a)) || l[s] && !(i = l[s](i)) || (r = i.shift(), o.push({
                        value: r,
                        type: s,
                        matches: i
                    }), a = a.slice(r.length));
                    if (!r) break
                }
                return t ? a.length : a ? n.error(e) : B(e, u).slice(0)
            }

            function d(e) {
                for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
                return r
            }

            function h(e, t, n) {
                var r = t.dir,
                    i = n && "parentNode" === r,
                    o = W++;
                return t.first ? function(t, n, o) {
                    for (; t = t[r];)
                        if (1 === t.nodeType || i) return e(t, n, o)
                } : function(t, n, s) {
                    var a, u, l, c = M + " " + o;
                    if (s) {
                        for (; t = t[r];)
                            if ((1 === t.nodeType || i) && e(t, n, s)) return !0
                    } else
                        for (; t = t[r];)
                            if (1 === t.nodeType || i)
                                if (l = t[P] || (t[P] = {}), (u = l[r]) && u[0] === c) {
                                    if (!0 === (a = u[1]) || a === w) return !0 === a
                                } else if (u = l[r] = [c], u[1] = e(t, n, s) || w, !0 === u[1]) return !0
                }
            }

            function g(e) {
                return e.length > 1 ? function(t, n, r) {
                    for (var i = e.length; i--;)
                        if (!e[i](t, n, r)) return !1;
                    return !0
                } : e[0]
            }

            function m(e, t, n, r, i) {
                for (var o, s = [], a = 0, u = e.length, l = null != t; a < u; a++)(o = e[a]) && (n && !n(o, r, i) || (s.push(o), l && t.push(a)));
                return s
            }

            function y(e, t, r, o, s, a) {
                return o && !o[P] && (o = y(o)), s && !s[P] && (s = y(s, a)), i(function(i, a, u, l) {
                    var c, f, p, d = [],
                        h = [],
                        g = a.length,
                        y = i || function(e, t, r) {
                            for (var i = 0, o = t.length; i < o; i++) n(e, t[i], r);
                            return r
                        }(t || "*", u.nodeType ? [u] : u, []),
                        v = !e || !i && t ? y : m(y, d, e, u, l),
                        x = r ? s || (i ? e : g || o) ? [] : a : v;
                    if (r && r(v, x, u, l), o)
                        for (c = m(x, h), o(c, [], u, l), f = c.length; f--;)(p = c[f]) && (x[h[f]] = !(v[h[f]] = p));
                    if (i) {
                        if (s || e) {
                            if (s) {
                                for (c = [], f = x.length; f--;)(p = x[f]) && c.push(v[f] = p);
                                s(null, x = [], c, l)
                            }
                            for (f = x.length; f--;)(p = x[f]) && (c = s ? Z.call(i, p) : d[f]) > -1 && (i[c] = !(a[c] = p))
                        }
                    } else x = m(x === a ? x.splice(g, x.length) : x), s ? s(null, a, x, l) : J.apply(a, x)
                })
            }

            function v(e) {
                for (var t, n, r, i = e.length, o = T.relative[e[0].type], s = o || T.relative[" "], a = o ? 1 : 0, u = h(function(e) {
                        return e === t
                    }, s, !0), l = h(function(e) {
                        return Z.call(t, e) > -1
                    }, s, !0), c = [function(e, n, r) {
                        return !o && (r || n !== E) || ((t = n).nodeType ? u(e, n, r) : l(e, n, r))
                    }]; a < i; a++)
                    if (n = T.relative[e[a].type]) c = [h(g(c), n)];
                    else {
                        if ((n = T.filter[e[a].type].apply(null, e[a].matches))[P]) {
                            for (r = ++a; r < i && !T.relative[e[r].type]; r++);
                            return y(a > 1 && g(c), a > 1 && d(e.slice(0, a - 1).concat({
                                value: " " === e[a - 2].type ? "*" : ""
                            })).replace(se, "$1"), n, a < r && v(e.slice(a, r)), r < i && v(e = e.slice(r)), r < i && d(e))
                        }
                        c.push(n)
                    }
                return g(c)
            }
            var x, b, w, T, C, N, k, E, S, j, D, A, L, q, H, O, F, P = "sizzle" + -new Date,
                R = e.document,
                M = 0,
                W = 0,
                $ = r(),
                B = r(),
                I = r(),
                z = !1,
                _ = function(e, t) {
                    return e === t ? (z = !0, 0) : 0
                },
                X = 1 << 31,
                U = {}.hasOwnProperty,
                Y = [],
                V = Y.pop,
                G = Y.push,
                J = Y.push,
                K = Y.slice,
                Z = Y.indexOf || function(e) {
                    for (var t = 0, n = this.length; t < n; t++)
                        if (this[t] === e) return t;
                    return -1
                },
                ee = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                te = "[\\x20\\t\\r\\n\\f]",
                ne = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                re = ne.replace("w", "w#"),
                ie = "\\[" + te + "*(" + ne + ")" + te + "*(?:([*^$|!~]?=)" + te + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + re + ")|)|)" + te + "*\\]",
                oe = ":(" + ne + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + ie.replace(3, 8) + ")*)|.*)\\)|)",
                se = new RegExp("^" + te + "+|((?:^|[^\\\\])(?:\\\\.)*)" + te + "+$", "g"),
                ae = new RegExp("^" + te + "*," + te + "*"),
                ue = new RegExp("^" + te + "*([>+~]|" + te + ")" + te + "*"),
                le = new RegExp(te + "*[+~]"),
                ce = new RegExp("=" + te + "*([^\\]'\"]*)" + te + "*\\]", "g"),
                fe = new RegExp(oe),
                pe = new RegExp("^" + re + "$"),
                de = {
                    ID: new RegExp("^#(" + ne + ")"),
                    CLASS: new RegExp("^\\.(" + ne + ")"),
                    TAG: new RegExp("^(" + ne.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + ie),
                    PSEUDO: new RegExp("^" + oe),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + te + "*(even|odd|(([+-]|)(\\d*)n|)" + te + "*(?:([+-]|)" + te + "*(\\d+)|))" + te + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + ee + ")$", "i"),
                    needsContext: new RegExp("^" + te + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + te + "*((?:-\\d)?\\d*)" + te + "*\\)|)(?=[^-]|$)", "i")
                },
                he = /^[^{]+\{\s*\[native \w/,
                ge = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                me = /^(?:input|select|textarea|button)$/i,
                ye = /^h\d$/i,
                ve = /'|\\/g,
                xe = new RegExp("\\\\([\\da-f]{1,6}" + te + "?|(" + te + ")|.)", "ig"),
                be = function(e, t, n) {
                    var r = "0x" + t - 65536;
                    return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
                };
            try {
                J.apply(Y = K.call(R.childNodes), R.childNodes), Y[R.childNodes.length].nodeType
            } catch (e) {
                J = {
                    apply: Y.length ? function(e, t) {
                        G.apply(e, K.call(t))
                    } : function(e, t) {
                        for (var n = e.length, r = 0; e[n++] = t[r++];);
                        e.length = n - 1
                    }
                }
            }
            N = n.isXML = function(e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return !!t && "HTML" !== t.nodeName
            }, b = n.support = {}, j = n.setDocument = function(e) {
                var t = e ? e.ownerDocument || e : R,
                    n = t.defaultView;
                return t !== D && 9 === t.nodeType && t.documentElement ? (D = t, A = t.documentElement, L = !N(t), n && n.attachEvent && n !== n.top && n.attachEvent("onbeforeunload", function() {
                    j()
                }), b.attributes = o(function(e) {
                    return e.className = "i", !e.getAttribute("className")
                }), b.getElementsByTagName = o(function(e) {
                    return e.appendChild(t.createComment("")), !e.getElementsByTagName("*").length
                }), b.getElementsByClassName = o(function(e) {
                    return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length
                }), b.getById = o(function(e) {
                    return A.appendChild(e).id = P, !t.getElementsByName || !t.getElementsByName(P).length
                }), b.getById ? (T.find.ID = function(e, t) {
                    if (void 0 !== t.getElementById && L) {
                        var n = t.getElementById(e);
                        return n && n.parentNode ? [n] : []
                    }
                }, T.filter.ID = function(e) {
                    var t = e.replace(xe, be);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                }) : (delete T.find.ID, T.filter.ID = function(e) {
                    var t = e.replace(xe, be);
                    return function(e) {
                        var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                        return n && n.value === t
                    }
                }), T.find.TAG = b.getElementsByTagName ? function(e, t) {
                    if (void 0 !== t.getElementsByTagName) return t.getElementsByTagName(e)
                } : function(e, t) {
                    var n, r = [],
                        i = 0,
                        o = t.getElementsByTagName(e);
                    if ("*" === e) {
                        for (; n = o[i++];) 1 === n.nodeType && r.push(n);
                        return r
                    }
                    return o
                }, T.find.CLASS = b.getElementsByClassName && function(e, t) {
                    if (void 0 !== t.getElementsByClassName && L) return t.getElementsByClassName(e)
                }, H = [], q = [], (b.qsa = he.test(t.querySelectorAll)) && (o(function(e) {
                    e.innerHTML = "<select><option selected=''></option></select>", e.querySelectorAll("[selected]").length || q.push("\\[" + te + "*(?:value|" + ee + ")"), e.querySelectorAll(":checked").length || q.push(":checked")
                }), o(function(e) {
                    var n = t.createElement("input");
                    n.setAttribute("type", "hidden"), e.appendChild(n).setAttribute("t", ""), e.querySelectorAll("[t^='']").length && q.push("[*^$]=" + te + "*(?:''|\"\")"), e.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), q.push(",.*:")
                })), (b.matchesSelector = he.test(O = A.webkitMatchesSelector || A.mozMatchesSelector || A.oMatchesSelector || A.msMatchesSelector)) && o(function(e) {
                    b.disconnectedMatch = O.call(e, "div"), O.call(e, "[s!='']:x"), H.push("!=", oe)
                }), q = q.length && new RegExp(q.join("|")), H = H.length && new RegExp(H.join("|")), F = he.test(A.contains) || A.compareDocumentPosition ? function(e, t) {
                    var n = 9 === e.nodeType ? e.documentElement : e,
                        r = t && t.parentNode;
                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                } : function(e, t) {
                    if (t)
                        for (; t = t.parentNode;)
                            if (t === e) return !0;
                    return !1
                }, _ = A.compareDocumentPosition ? function(e, n) {
                    if (e === n) return z = !0, 0;
                    var r = n.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(n);
                    return r ? 1 & r || !b.sortDetached && n.compareDocumentPosition(e) === r ? e === t || F(R, e) ? -1 : n === t || F(R, n) ? 1 : S ? Z.call(S, e) - Z.call(S, n) : 0 : 4 & r ? -1 : 1 : e.compareDocumentPosition ? -1 : 1
                } : function(e, n) {
                    var r, i = 0,
                        o = e.parentNode,
                        s = n.parentNode,
                        u = [e],
                        l = [n];
                    if (e === n) return z = !0, 0;
                    if (!o || !s) return e === t ? -1 : n === t ? 1 : o ? -1 : s ? 1 : S ? Z.call(S, e) - Z.call(S, n) : 0;
                    if (o === s) return a(e, n);
                    for (r = e; r = r.parentNode;) u.unshift(r);
                    for (r = n; r = r.parentNode;) l.unshift(r);
                    for (; u[i] === l[i];) i++;
                    return i ? a(u[i], l[i]) : u[i] === R ? -1 : l[i] === R ? 1 : 0
                }, t) : D
            }, n.matches = function(e, t) {
                return n(e, null, null, t)
            }, n.matchesSelector = function(e, t) {
                if ((e.ownerDocument || e) !== D && j(e), t = t.replace(ce, "='$1']"), b.matchesSelector && L && (!H || !H.test(t)) && (!q || !q.test(t))) try {
                    var r = O.call(e, t);
                    if (r || b.disconnectedMatch || e.document && 11 !== e.document.nodeType) return r
                } catch (e) {}
                return n(t, D, null, [e]).length > 0
            }, n.contains = function(e, t) {
                return (e.ownerDocument || e) !== D && j(e), F(e, t)
            }, n.attr = function(e, t) {
                (e.ownerDocument || e) !== D && j(e);
                var n = T.attrHandle[t.toLowerCase()],
                    r = n && U.call(T.attrHandle, t.toLowerCase()) ? n(e, t, !L) : void 0;
                return void 0 === r ? b.attributes || !L ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null : r
            }, n.error = function(e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            }, n.uniqueSort = function(e) {
                var t, n = [],
                    r = 0,
                    i = 0;
                if (z = !b.detectDuplicates, S = !b.sortStable && e.slice(0), e.sort(_), z) {
                    for (; t = e[i++];) t === e[i] && (r = n.push(i));
                    for (; r--;) e.splice(n[r], 1)
                }
                return e
            }, C = n.getText = function(e) {
                var t, n = "",
                    r = 0,
                    i = e.nodeType;
                if (i) {
                    if (1 === i || 9 === i || 11 === i) {
                        if ("string" == typeof e.textContent) return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling) n += C(e)
                    } else if (3 === i || 4 === i) return e.nodeValue
                } else
                    for (; t = e[r]; r++) n += C(t);
                return n
            }, (T = n.selectors = {
                cacheLength: 50,
                createPseudo: i,
                match: de,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(e) {
                        return e[1] = e[1].replace(xe, be), e[3] = (e[4] || e[5] || "").replace(xe, be), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                    },
                    CHILD: function(e) {
                        return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || n.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && n.error(e[0]), e
                    },
                    PSEUDO: function(e) {
                        var t, n = !e[5] && e[2];
                        return de.CHILD.test(e[0]) ? null : (e[3] && void 0 !== e[4] ? e[2] = e[4] : n && fe.test(n) && (t = p(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(e) {
                        var t = e.replace(xe, be).toLowerCase();
                        return "*" === e ? function() {
                            return !0
                        } : function(e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(e) {
                        var t = $[e + " "];
                        return t || (t = new RegExp("(^|" + te + ")" + e + "(" + te + "|$)")) && $(e, function(e) {
                            return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(e, t, r) {
                        return function(i) {
                            var o = n.attr(i, e);
                            return null == o ? "!=" === t : !t || (o += "", "=" === t ? o === r : "!=" === t ? o !== r : "^=" === t ? r && 0 === o.indexOf(r) : "*=" === t ? r && o.indexOf(r) > -1 : "$=" === t ? r && o.slice(-r.length) === r : "~=" === t ? (" " + o + " ").indexOf(r) > -1 : "|=" === t && (o === r || o.slice(0, r.length + 1) === r + "-"))
                        }
                    },
                    CHILD: function(e, t, n, r, i) {
                        var o = "nth" !== e.slice(0, 3),
                            s = "last" !== e.slice(-4),
                            a = "of-type" === t;
                        return 1 === r && 0 === i ? function(e) {
                            return !!e.parentNode
                        } : function(t, n, u) {
                            var l, c, f, p, d, h, g = o !== s ? "nextSibling" : "previousSibling",
                                m = t.parentNode,
                                y = a && t.nodeName.toLowerCase(),
                                v = !u && !a;
                            if (m) {
                                if (o) {
                                    for (; g;) {
                                        for (f = t; f = f[g];)
                                            if (a ? f.nodeName.toLowerCase() === y : 1 === f.nodeType) return !1;
                                        h = g = "only" === e && !h && "nextSibling"
                                    }
                                    return !0
                                }
                                if (h = [s ? m.firstChild : m.lastChild], s && v) {
                                    for (d = (l = (c = m[P] || (m[P] = {}))[e] || [])[0] === M && l[1], p = l[0] === M && l[2], f = d && m.childNodes[d]; f = ++d && f && f[g] || (p = d = 0) || h.pop();)
                                        if (1 === f.nodeType && ++p && f === t) {
                                            c[e] = [M, d, p];
                                            break
                                        }
                                } else if (v && (l = (t[P] || (t[P] = {}))[e]) && l[0] === M) p = l[1];
                                else
                                    for (;
                                        (f = ++d && f && f[g] || (p = d = 0) || h.pop()) && ((a ? f.nodeName.toLowerCase() !== y : 1 !== f.nodeType) || !++p || (v && ((f[P] || (f[P] = {}))[e] = [M, p]), f !== t)););
                                return (p -= i) === r || p % r == 0 && p / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(e, t) {
                        var r, o = T.pseudos[e] || T.setFilters[e.toLowerCase()] || n.error("unsupported pseudo: " + e);
                        return o[P] ? o(t) : o.length > 1 ? (r = [e, e, "", t], T.setFilters.hasOwnProperty(e.toLowerCase()) ? i(function(e, n) {
                            for (var r, i = o(e, t), s = i.length; s--;) e[r = Z.call(e, i[s])] = !(n[r] = i[s])
                        }) : function(e) {
                            return o(e, 0, r)
                        }) : o
                    }
                },
                pseudos: {
                    not: i(function(e) {
                        var t = [],
                            n = [],
                            r = k(e.replace(se, "$1"));
                        return r[P] ? i(function(e, t, n, i) {
                            for (var o, s = r(e, null, i, []), a = e.length; a--;)(o = s[a]) && (e[a] = !(t[a] = o))
                        }) : function(e, i, o) {
                            return t[0] = e, r(t, null, o, n), !n.pop()
                        }
                    }),
                    has: i(function(e) {
                        return function(t) {
                            return n(e, t).length > 0
                        }
                    }),
                    contains: i(function(e) {
                        return function(t) {
                            return (t.textContent || t.innerText || C(t)).indexOf(e) > -1
                        }
                    }),
                    lang: i(function(e) {
                        return pe.test(e || "") || n.error("unsupported lang: " + e), e = e.replace(xe, be).toLowerCase(),
                            function(t) {
                                var n;
                                do {
                                    if (n = L ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
                                } while ((t = t.parentNode) && 1 === t.nodeType);
                                return !1
                            }
                    }),
                    target: function(t) {
                        var n = e.location && e.location.hash;
                        return n && n.slice(1) === t.id
                    },
                    root: function(e) {
                        return e === A
                    },
                    focus: function(e) {
                        return e === D.activeElement && (!D.hasFocus || D.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: function(e) {
                        return !1 === e.disabled
                    },
                    disabled: function(e) {
                        return !0 === e.disabled
                    },
                    checked: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function(e) {
                        return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                    },
                    empty: function(e) {
                        for (e = e.firstChild; e; e = e.nextSibling)
                            if (e.nodeName > "@" || 3 === e.nodeType || 4 === e.nodeType) return !1;
                        return !0
                    },
                    parent: function(e) {
                        return !T.pseudos.empty(e)
                    },
                    header: function(e) {
                        return ye.test(e.nodeName)
                    },
                    input: function(e) {
                        return me.test(e.nodeName)
                    },
                    button: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    text: function(e) {
                        var t;
                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || t.toLowerCase() === e.type)
                    },
                    first: c(function() {
                        return [0]
                    }),
                    last: c(function(e, t) {
                        return [t - 1]
                    }),
                    eq: c(function(e, t, n) {
                        return [n < 0 ? n + t : n]
                    }),
                    even: c(function(e, t) {
                        for (var n = 0; n < t; n += 2) e.push(n);
                        return e
                    }),
                    odd: c(function(e, t) {
                        for (var n = 1; n < t; n += 2) e.push(n);
                        return e
                    }),
                    lt: c(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n; --r >= 0;) e.push(r);
                        return e
                    }),
                    gt: c(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                        return e
                    })
                }
            }).pseudos.nth = T.pseudos.eq;
            for (x in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) T.pseudos[x] = u(x);
            for (x in {
                    submit: !0,
                    reset: !0
                }) T.pseudos[x] = l(x);
            f.prototype = T.filters = T.pseudos, T.setFilters = new f, k = n.compile = function(e, t) {
                var r, o = [],
                    s = [],
                    a = I[e + " "];
                if (!a) {
                    for (t || (t = p(e)), r = t.length; r--;)(a = v(t[r]))[P] ? o.push(a) : s.push(a);
                    a = I(e, function(e, t) {
                        var r = 0,
                            o = t.length > 0,
                            s = e.length > 0,
                            a = function(i, a, u, l, c) {
                                var f, p, d, h = [],
                                    g = 0,
                                    y = "0",
                                    v = i && [],
                                    x = null != c,
                                    b = E,
                                    C = i || s && T.find.TAG("*", c && a.parentNode || a),
                                    N = M += null == b ? 1 : Math.random() || .1;
                                for (x && (E = a !== D && a, w = r); null != (f = C[y]); y++) {
                                    if (s && f) {
                                        for (p = 0; d = e[p++];)
                                            if (d(f, a, u)) {
                                                l.push(f);
                                                break
                                            }
                                        x && (M = N, w = ++r)
                                    }
                                    o && ((f = !d && f) && g--, i && v.push(f))
                                }
                                if (g += y, o && y !== g) {
                                    for (p = 0; d = t[p++];) d(v, h, a, u);
                                    if (i) {
                                        if (g > 0)
                                            for (; y--;) v[y] || h[y] || (h[y] = V.call(l));
                                        h = m(h)
                                    }
                                    J.apply(l, h), x && !i && h.length > 0 && g + t.length > 1 && n.uniqueSort(l)
                                }
                                return x && (M = N, E = b), v
                            };
                        return o ? i(a) : a
                    }(s, o))
                }
                return a
            }, b.sortStable = P.split("").sort(_).join("") === P, b.detectDuplicates = z, j(), b.sortDetached = o(function(e) {
                return 1 & e.compareDocumentPosition(D.createElement("div"))
            }), o(function(e) {
                return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
            }) || s("type|href|height|width", function(e, t, n) {
                if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
            }), b.attributes && o(function(e) {
                return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
            }) || s("value", function(e, t, n) {
                if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue
            }), o(function(e) {
                return null == e.getAttribute("disabled")
            }) || s(ee, function(e, t, n) {
                var r;
                if (!n) return (r = e.getAttributeNode(t)) && r.specified ? r.value : !0 === e[t] ? t.toLowerCase() : null
            }), Q.find = n, Q.expr = n.selectors, Q.expr[":"] = Q.expr.pseudos, Q.unique = n.uniqueSort, Q.text = n.getText, Q.isXMLDoc = n.isXML, Q.contains = n.contains
        }(e);
    var se = {};
    Q.Callbacks = function(e) {
        var n, r, i, o, s, a, u = [],
            l = !(e = "string" == typeof e ? se[e] || function(e) {
                var t = se[e] = {};
                return Q.each(e.match(Z) || [], function(e, n) {
                    t[n] = !0
                }), t
            }(e) : Q.extend({}, e)).once && [],
            c = function(t) {
                for (n = e.memory && t, r = !0, a = o || 0, o = 0, s = u.length, i = !0; u && a < s; a++)
                    if (!1 === u[a].apply(t[0], t[1]) && e.stopOnFalse) {
                        n = !1;
                        break
                    }
                i = !1, u && (l ? l.length && c(l.shift()) : n ? u = [] : f.disable())
            },
            f = {
                add: function() {
                    if (u) {
                        var t = u.length;
                        ! function t(n) {
                            Q.each(n, function(n, r) {
                                var i = Q.type(r);
                                "function" === i ? e.unique && f.has(r) || u.push(r) : r && r.length && "string" !== i && t(r)
                            })
                        }(arguments), i ? s = u.length : n && (o = t, c(n))
                    }
                    return this
                },
                remove: function() {
                    return u && Q.each(arguments, function(e, t) {
                        for (var n;
                            (n = Q.inArray(t, u, n)) > -1;) u.splice(n, 1), i && (n <= s && s--, n <= a && a--)
                    }), this
                },
                has: function(e) {
                    return e ? Q.inArray(e, u) > -1 : !(!u || !u.length)
                },
                empty: function() {
                    return u = [], s = 0, this
                },
                disable: function() {
                    return u = l = n = t, this
                },
                disabled: function() {
                    return !u
                },
                lock: function() {
                    return l = t, n || f.disable(), this
                },
                locked: function() {
                    return !l
                },
                fireWith: function(e, t) {
                    return !u || r && !l || (t = [e, (t = t || []).slice ? t.slice() : t], i ? l.push(t) : c(t)), this
                },
                fire: function() {
                    return f.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!r
                }
            };
        return f
    }, Q.extend({
        Deferred: function(e) {
            var t = [
                    ["resolve", "done", Q.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", Q.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", Q.Callbacks("memory")]
                ],
                n = "pending",
                r = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return i.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var e = arguments;
                        return Q.Deferred(function(n) {
                            Q.each(t, function(t, o) {
                                var s = o[0],
                                    a = Q.isFunction(e[t]) && e[t];
                                i[o[1]](function() {
                                    var e = a && a.apply(this, arguments);
                                    e && Q.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[s + "With"](this === r ? n.promise() : this, a ? [e] : arguments)
                                })
                            }), e = null
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? Q.extend(e, r) : r
                    }
                },
                i = {};
            return r.pipe = r.then, Q.each(t, function(e, o) {
                var s = o[2],
                    a = o[3];
                r[o[1]] = s.add, a && s.add(function() {
                    n = a
                }, t[1 ^ e][2].disable, t[2][2].lock), i[o[0]] = function() {
                    return i[o[0] + "With"](this === i ? r : this, arguments), this
                }, i[o[0] + "With"] = s.fireWith
            }), r.promise(i), e && e.call(i, i), i
        },
        when: function(e) {
            var t, n, r, i = 0,
                o = U.call(arguments),
                s = o.length,
                a = 1 !== s || e && Q.isFunction(e.promise) ? s : 0,
                u = 1 === a ? e : Q.Deferred(),
                l = function(e, n, r) {
                    return function(i) {
                        n[e] = this, r[e] = arguments.length > 1 ? U.call(arguments) : i, r === t ? u.notifyWith(n, r) : --a || u.resolveWith(n, r)
                    }
                };
            if (s > 1)
                for (t = new Array(s), n = new Array(s), r = new Array(s); i < s; i++) o[i] && Q.isFunction(o[i].promise) ? o[i].promise().done(l(i, r, o)).fail(u.reject).progress(l(i, n, t)) : --a;
            return a || u.resolveWith(r, o), u.promise()
        }
    }), Q.support = function(t) {
        var n = M.createElement("input"),
            r = M.createDocumentFragment(),
            i = M.createElement("div"),
            o = M.createElement("select"),
            s = o.appendChild(M.createElement("option"));
        return n.type ? (n.type = "checkbox", t.checkOn = "" !== n.value, t.optSelected = s.selected, t.reliableMarginRight = !0, t.boxSizingReliable = !0, t.pixelPosition = !1, n.checked = !0, t.noCloneChecked = n.cloneNode(!0).checked, o.disabled = !0, t.optDisabled = !s.disabled, n = M.createElement("input"), n.value = "t", n.type = "radio", t.radioValue = "t" === n.value, n.setAttribute("checked", "t"), n.setAttribute("name", "t"), r.appendChild(n), t.checkClone = r.cloneNode(!0).cloneNode(!0).lastChild.checked, t.focusinBubbles = "onfocusin" in e, i.style.backgroundClip = "content-box", i.cloneNode(!0).style.backgroundClip = "", t.clearCloneStyle = "content-box" === i.style.backgroundClip, Q(function() {
            var n, r, o = M.getElementsByTagName("body")[0];
            o && ((n = M.createElement("div")).style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", o.appendChild(n).appendChild(i), i.innerHTML = "", i.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%", Q.swap(o, null != o.style.zoom ? {
                zoom: 1
            } : {}, function() {
                t.boxSizing = 4 === i.offsetWidth
            }), e.getComputedStyle && (t.pixelPosition = "1%" !== (e.getComputedStyle(i, null) || {}).top, t.boxSizingReliable = "4px" === (e.getComputedStyle(i, null) || {
                width: "4px"
            }).width, (r = i.appendChild(M.createElement("div"))).style.cssText = i.style.cssText = "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box", r.style.marginRight = r.style.width = "0", i.style.width = "1px", t.reliableMarginRight = !parseFloat((e.getComputedStyle(r, null) || {}).marginRight)), o.removeChild(n))
        }), t) : t
    }({});
    var ae, ue, le = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
        ce = /([A-Z])/g;
    r.uid = 1, r.accepts = function(e) {
        return !e.nodeType || (1 === e.nodeType || 9 === e.nodeType)
    }, r.prototype = {
        key: function(e) {
            if (!r.accepts(e)) return 0;
            var t = {},
                n = e[this.expando];
            if (!n) {
                n = r.uid++;
                try {
                    t[this.expando] = {
                        value: n
                    }, Object.defineProperties(e, t)
                } catch (r) {
                    t[this.expando] = n, Q.extend(e, t)
                }
            }
            return this.cache[n] || (this.cache[n] = {}), n
        },
        set: function(e, t, n) {
            var r, i = this.key(e),
                o = this.cache[i];
            if ("string" == typeof t) o[t] = n;
            else if (Q.isEmptyObject(o)) Q.extend(this.cache[i], t);
            else
                for (r in t) o[r] = t[r];
            return o
        },
        get: function(e, n) {
            var r = this.cache[this.key(e)];
            return n === t ? r : r[n]
        },
        access: function(e, n, r) {
            var i;
            return n === t || n && "string" == typeof n && r === t ? (i = this.get(e, n)) !== t ? i : this.get(e, Q.camelCase(n)) : (this.set(e, n, r), r !== t ? r : n)
        },
        remove: function(e, n) {
            var r, i, o, s = this.key(e),
                a = this.cache[s];
            if (n === t) this.cache[s] = {};
            else {
                Q.isArray(n) ? i = n.concat(n.map(Q.camelCase)) : (o = Q.camelCase(n), i = n in a ? [n, o] : (i = o) in a ? [i] : i.match(Z) || []), r = i.length;
                for (; r--;) delete a[i[r]]
            }
        },
        hasData: function(e) {
            return !Q.isEmptyObject(this.cache[e[this.expando]] || {})
        },
        discard: function(e) {
            e[this.expando] && delete this.cache[e[this.expando]]
        }
    }, ae = new r, ue = new r, Q.extend({
        acceptData: r.accepts,
        hasData: function(e) {
            return ae.hasData(e) || ue.hasData(e)
        },
        data: function(e, t, n) {
            return ae.access(e, t, n)
        },
        removeData: function(e, t) {
            ae.remove(e, t)
        },
        _data: function(e, t, n) {
            return ue.access(e, t, n)
        },
        _removeData: function(e, t) {
            ue.remove(e, t)
        }
    }), Q.fn.extend({
        data: function(e, n) {
            var r, o, s = this[0],
                a = 0,
                u = null;
            if (e === t) {
                if (this.length && (u = ae.get(s), 1 === s.nodeType && !ue.get(s, "hasDataAttrs"))) {
                    for (r = s.attributes; a < r.length; a++) 0 === (o = r[a].name).indexOf("data-") && (o = Q.camelCase(o.slice(5)), i(s, o, u[o]));
                    ue.set(s, "hasDataAttrs", !0)
                }
                return u
            }
            return "object" == typeof e ? this.each(function() {
                ae.set(this, e)
            }) : Q.access(this, function(n) {
                var r, o = Q.camelCase(e);
                if (s && n === t) {
                    if ((r = ae.get(s, e)) !== t) return r;
                    if ((r = ae.get(s, o)) !== t) return r;
                    if ((r = i(s, o, t)) !== t) return r
                } else this.each(function() {
                    var r = ae.get(this, o);
                    ae.set(this, o, n), -1 !== e.indexOf("-") && r !== t && ae.set(this, e, n)
                })
            }, null, n, arguments.length > 1, null, !0)
        },
        removeData: function(e) {
            return this.each(function() {
                ae.remove(this, e)
            })
        }
    }), Q.extend({
        queue: function(e, t, n) {
            var r;
            if (e) return t = (t || "fx") + "queue", r = ue.get(e, t), n && (!r || Q.isArray(n) ? r = ue.access(e, t, Q.makeArray(n)) : r.push(n)), r || []
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = Q.queue(e, t),
                r = n.length,
                i = n.shift(),
                o = Q._queueHooks(e, t);
            "inprogress" === i && (i = n.shift(), r--), i && ("fx" === t && n.unshift("inprogress"), delete o.stop, i.call(e, function() {
                Q.dequeue(e, t)
            }, o)), !r && o && o.empty.fire()
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return ue.get(e, n) || ue.access(e, n, {
                empty: Q.Callbacks("once memory").add(function() {
                    ue.remove(e, [t + "queue", n])
                })
            })
        }
    }), Q.fn.extend({
        queue: function(e, n) {
            var r = 2;
            return "string" != typeof e && (n = e, e = "fx", r--), arguments.length < r ? Q.queue(this[0], e) : n === t ? this : this.each(function() {
                var t = Q.queue(this, e, n);
                Q._queueHooks(this, e), "fx" === e && "inprogress" !== t[0] && Q.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                Q.dequeue(this, e)
            })
        },
        delay: function(e, t) {
            return e = Q.fx ? Q.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function(t, n) {
                var r = setTimeout(t, e);
                n.stop = function() {
                    clearTimeout(r)
                }
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, n) {
            var r, i = 1,
                o = Q.Deferred(),
                s = this,
                a = this.length,
                u = function() {
                    --i || o.resolveWith(s, [s])
                };
            for ("string" != typeof e && (n = e, e = t), e = e || "fx"; a--;)(r = ue.get(s[a], e + "queueHooks")) && r.empty && (i++, r.empty.add(u));
            return u(), o.promise(n)
        }
    });
    var fe, pe = /[\t\r\n\f]/g,
        de = /\r/g,
        he = /^(?:input|select|textarea|button)$/i;
    Q.fn.extend({
        attr: function(e, t) {
            return Q.access(this, Q.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                Q.removeAttr(this, e)
            })
        },
        prop: function(e, t) {
            return Q.access(this, Q.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[Q.propFix[e] || e]
            })
        },
        addClass: function(e) {
            var t, n, r, i, o, s = 0,
                a = this.length,
                u = "string" == typeof e && e;
            if (Q.isFunction(e)) return this.each(function(t) {
                Q(this).addClass(e.call(this, t, this.className))
            });
            if (u)
                for (t = (e || "").match(Z) || []; s < a; s++)
                    if (n = this[s], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(pe, " ") : " ")) {
                        for (o = 0; i = t[o++];) r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                        n.className = Q.trim(r)
                    }
            return this
        },
        removeClass: function(e) {
            var t, n, r, i, o, s = 0,
                a = this.length,
                u = 0 === arguments.length || "string" == typeof e && e;
            if (Q.isFunction(e)) return this.each(function(t) {
                Q(this).removeClass(e.call(this, t, this.className))
            });
            if (u)
                for (t = (e || "").match(Z) || []; s < a; s++)
                    if (n = this[s], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(pe, " ") : "")) {
                        for (o = 0; i = t[o++];)
                            for (; r.indexOf(" " + i + " ") >= 0;) r = r.replace(" " + i + " ", " ");
                        n.className = e ? Q.trim(r) : ""
                    }
            return this
        },
        toggleClass: function(e, t) {
            var n = typeof e;
            return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : Q.isFunction(e) ? this.each(function(n) {
                Q(this).toggleClass(e.call(this, n, this.className, t), t)
            }) : this.each(function() {
                if ("string" === n)
                    for (var t, r = 0, i = Q(this), o = e.match(Z) || []; t = o[r++];) i.hasClass(t) ? i.removeClass(t) : i.addClass(t);
                else n !== P && "boolean" !== n || (this.className && ue.set(this, "__className__", this.className), this.className = this.className || !1 === e ? "" : ue.get(this, "__className__") || "")
            })
        },
        hasClass: function(e) {
            for (var t = " " + e + " ", n = 0, r = this.length; n < r; n++)
                if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(pe, " ").indexOf(t) >= 0) return !0;
            return !1
        },
        val: function(e) {
            var n, r, i, o = this[0]; {
                if (arguments.length) return i = Q.isFunction(e), this.each(function(r) {
                    var o;
                    1 === this.nodeType && (null == (o = i ? e.call(this, r, Q(this).val()) : e) ? o = "" : "number" == typeof o ? o += "" : Q.isArray(o) && (o = Q.map(o, function(e) {
                        return null == e ? "" : e + ""
                    })), (n = Q.valHooks[this.type] || Q.valHooks[this.nodeName.toLowerCase()]) && "set" in n && n.set(this, o, "value") !== t || (this.value = o))
                });
                if (o) return (n = Q.valHooks[o.type] || Q.valHooks[o.nodeName.toLowerCase()]) && "get" in n && (r = n.get(o, "value")) !== t ? r : "string" == typeof(r = o.value) ? r.replace(de, "") : null == r ? "" : r
            }
        }
    }), Q.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = e.attributes.value;
                    return !t || t.specified ? e.value : e.text
                }
            },
            select: {
                get: function(e) {
                    for (var t, n, r = e.options, i = e.selectedIndex, o = "select-one" === e.type || i < 0, s = o ? null : [], a = o ? i + 1 : r.length, u = i < 0 ? a : o ? i : 0; u < a; u++)
                        if (((n = r[u]).selected || u === i) && (Q.support.optDisabled ? !n.disabled : null === n.getAttribute("disabled")) && (!n.parentNode.disabled || !Q.nodeName(n.parentNode, "optgroup"))) {
                            if (t = Q(n).val(), o) return t;
                            s.push(t)
                        }
                    return s
                },
                set: function(e, t) {
                    for (var n, r, i = e.options, o = Q.makeArray(t), s = i.length; s--;)((r = i[s]).selected = Q.inArray(Q(r).val(), o) >= 0) && (n = !0);
                    return n || (e.selectedIndex = -1), o
                }
            }
        },
        attr: function(e, n, r) {
            var i, o, s = e.nodeType;
            if (e && 3 !== s && 8 !== s && 2 !== s) return typeof e.getAttribute === P ? Q.prop(e, n, r) : (1 === s && Q.isXMLDoc(e) || (n = n.toLowerCase(), i = Q.attrHooks[n] || (Q.expr.match.bool.test(n) ? fe : void 0)), r === t ? i && "get" in i && null !== (o = i.get(e, n)) ? o : null == (o = Q.find.attr(e, n)) ? t : o : null !== r ? i && "set" in i && (o = i.set(e, r, n)) !== t ? o : (e.setAttribute(n, r + ""), r) : void Q.removeAttr(e, n))
        },
        removeAttr: function(e, t) {
            var n, r, i = 0,
                o = t && t.match(Z);
            if (o && 1 === e.nodeType)
                for (; n = o[i++];) r = Q.propFix[n] || n, Q.expr.match.bool.test(n) && (e[r] = !1), e.removeAttribute(n)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!Q.support.radioValue && "radio" === t && Q.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        },
        prop: function(e, n, r) {
            var i, o, s = e.nodeType;
            if (e && 3 !== s && 8 !== s && 2 !== s) return (1 !== s || !Q.isXMLDoc(e)) && (n = Q.propFix[n] || n, o = Q.propHooks[n]), r !== t ? o && "set" in o && (i = o.set(e, r, n)) !== t ? i : e[n] = r : o && "get" in o && null !== (i = o.get(e, n)) ? i : e[n]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    return e.hasAttribute("tabindex") || he.test(e.nodeName) || e.href ? e.tabIndex : -1
                }
            }
        }
    }), fe = {
        set: function(e, t, n) {
            return !1 === t ? Q.removeAttr(e, n) : e.setAttribute(n, n), n
        }
    }, Q.each(Q.expr.match.bool.source.match(/\w+/g), function(e, n) {
        var r = Q.expr.attrHandle[n] || Q.find.attr;
        Q.expr.attrHandle[n] = function(e, n, i) {
            var o = Q.expr.attrHandle[n],
                s = i ? t : (Q.expr.attrHandle[n] = t) != r(e, n, i) ? n.toLowerCase() : null;
            return Q.expr.attrHandle[n] = o, s
        }
    }), Q.support.optSelected || (Q.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null
        }
    }), Q.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        Q.propFix[this.toLowerCase()] = this
    }), Q.each(["radio", "checkbox"], function() {
        Q.valHooks[this] = {
            set: function(e, t) {
                if (Q.isArray(t)) return e.checked = Q.inArray(Q(e).val(), t) >= 0
            }
        }, Q.support.checkOn || (Q.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on" : e.value
        })
    });
    var ge = /^key/,
        me = /^(?:mouse|contextmenu)|click/,
        ye = /^(?:focusinfocus|focusoutblur)$/,
        ve = /^([^.]*)(?:\.(.+)|)$/;
    Q.event = {
        global: {},
        add: function(e, n, r, i, o) {
            var s, a, u, l, c, f, p, d, h, g, m, y = ue.get(e);
            if (y) {
                for (r.handler && (r = (s = r).handler, o = s.selector), r.guid || (r.guid = Q.guid++), (l = y.events) || (l = y.events = {}), (a = y.handle) || ((a = y.handle = function(e) {
                        return typeof Q === P || e && Q.event.triggered === e.type ? t : Q.event.dispatch.apply(a.elem, arguments)
                    }).elem = e), c = (n = (n || "").match(Z) || [""]).length; c--;)
                    if (u = ve.exec(n[c]) || [], h = m = u[1], g = (u[2] || "").split(".").sort(), h) {
                        if (p = Q.event.special[h] || {}, h = (o ? p.delegateType : p.bindType) || h, p = Q.event.special[h] || {}, f = Q.extend({
                                type: h,
                                origType: m,
                                data: i,
                                handler: r,
                                guid: r.guid,
                                selector: o,
                                needsContext: o && Q.expr.match.needsContext.test(o),
                                namespace: g.join(".")
                            }, s), !(d = l[h]) && (d = l[h] = [], d.delegateCount = 0, (!p.setup || !1 === p.setup.call(e, i, g, a)) && e.addEventListener)) try {
                            e.addEventListener(h, a, {
                                passive: !1
                            })
                        } catch (t) {
                            e.addEventListener(h, a, !1)
                        }
                        p.add && (p.add.call(e, f), f.handler.guid || (f.handler.guid = r.guid)), o ? d.splice(d.delegateCount++, 0, f) : d.push(f), Q.event.global[h] = !0
                    }
                e = null
            }
        },
        remove: function(e, t, n, r, i) {
            var o, s, a, u, l, c, f, p, d, h, g, m = ue.hasData(e) && ue.get(e);
            if (m && (u = m.events)) {
                for (l = (t = (t || "").match(Z) || [""]).length; l--;)
                    if (a = ve.exec(t[l]) || [], d = g = a[1], h = (a[2] || "").split(".").sort(), d) {
                        for (f = Q.event.special[d] || {}, p = u[d = (r ? f.delegateType : f.bindType) || d] || [], a = a[2] && new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = p.length; o--;) c = p[o], !i && g !== c.origType || n && n.guid !== c.guid || a && !a.test(c.namespace) || r && r !== c.selector && ("**" !== r || !c.selector) || (p.splice(o, 1), c.selector && p.delegateCount--, f.remove && f.remove.call(e, c));
                        s && !p.length && (f.teardown && !1 !== f.teardown.call(e, h, m.handle) || Q.removeEvent(e, d, m.handle), delete u[d])
                    } else
                        for (d in u) Q.event.remove(e, d + t[l], n, r, !0);
                Q.isEmptyObject(u) && (delete m.handle, ue.remove(e, "events"))
            }
        },
        trigger: function(n, r, i, o) {
            var s, a, u, l, c, f, p, d = [i || M],
                h = G.call(n, "type") ? n.type : n,
                g = G.call(n, "namespace") ? n.namespace.split(".") : [];
            if (a = u = i = i || M, 3 !== i.nodeType && 8 !== i.nodeType && !ye.test(h + Q.event.triggered) && (h.indexOf(".") >= 0 && (h = (g = h.split(".")).shift(), g.sort()), c = h.indexOf(":") < 0 && "on" + h, n = n[Q.expando] ? n : new Q.Event(h, "object" == typeof n && n), n.isTrigger = o ? 2 : 3, n.namespace = g.join("."), n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + g.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, n.result = t, n.target || (n.target = i), r = null == r ? [n] : Q.makeArray(r, [n]), p = Q.event.special[h] || {}, o || !p.trigger || !1 !== p.trigger.apply(i, r))) {
                if (!o && !p.noBubble && !Q.isWindow(i)) {
                    for (l = p.delegateType || h, ye.test(l + h) || (a = a.parentNode); a; a = a.parentNode) d.push(a), u = a;
                    u === (i.ownerDocument || M) && d.push(u.defaultView || u.parentWindow || e)
                }
                for (s = 0;
                    (a = d[s++]) && !n.isPropagationStopped();) n.type = s > 1 ? l : p.bindType || h, (f = (ue.get(a, "events") || {})[n.type] && ue.get(a, "handle")) && f.apply(a, r), (f = c && a[c]) && Q.acceptData(a) && f.apply && !1 === f.apply(a, r) && n.preventDefault();
                return n.type = h, o || n.isDefaultPrevented() || p._default && !1 !== p._default.apply(d.pop(), r) || !Q.acceptData(i) || c && Q.isFunction(i[h]) && !Q.isWindow(i) && ((u = i[c]) && (i[c] = null), Q.event.triggered = h, i[h](), Q.event.triggered = t, u && (i[c] = u)), n.result
            }
        },
        dispatch: function(e) {
            e = Q.event.fix(e);
            var n, r, i, o, s, a = [],
                u = U.call(arguments),
                l = (ue.get(this, "events") || {})[e.type] || [],
                c = Q.event.special[e.type] || {};
            if (u[0] = e, e.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, e)) {
                for (a = Q.event.handlers.call(this, e, l), n = 0;
                    (o = a[n++]) && !e.isPropagationStopped();)
                    for (e.currentTarget = o.elem, r = 0;
                        (s = o.handlers[r++]) && !e.isImmediatePropagationStopped();) e.namespace_re && !e.namespace_re.test(s.namespace) || (e.handleObj = s, e.data = s.data, (i = ((Q.event.special[s.origType] || {}).handle || s.handler).apply(o.elem, u)) !== t && !1 === (e.result = i) && (e.preventDefault(), e.stopPropagation()));
                return c.postDispatch && c.postDispatch.call(this, e), e.result
            }
        },
        handlers: function(e, n) {
            var r, i, o, s, a = [],
                u = n.delegateCount,
                l = e.target;
            if (u && l.nodeType && (!e.button || "click" !== e.type))
                for (; l !== this; l = l.parentNode || this)
                    if (!0 !== l.disabled || "click" !== e.type) {
                        for (i = [], r = 0; r < u; r++) i[o = (s = n[r]).selector + " "] === t && (i[o] = s.needsContext ? Q(o, this).index(l) >= 0 : Q.find(o, this, null, [l]).length), i[o] && i.push(s);
                        i.length && a.push({
                            elem: l,
                            handlers: i
                        })
                    }
            return u < n.length && a.push({
                elem: this,
                handlers: n.slice(u)
            }), a
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, n) {
                var r, i, o, s = n.button;
                return null == e.pageX && null != n.clientX && (i = (r = e.target.ownerDocument || M).documentElement, o = r.body, e.pageX = n.clientX + (i && i.scrollLeft || o && o.scrollLeft || 0) - (i && i.clientLeft || o && o.clientLeft || 0), e.pageY = n.clientY + (i && i.scrollTop || o && o.scrollTop || 0) - (i && i.clientTop || o && o.clientTop || 0)), e.which || s === t || (e.which = 1 & s ? 1 : 2 & s ? 3 : 4 & s ? 2 : 0), e
            }
        },
        fix: function(e) {
            if (e[Q.expando]) return e;
            var t, n, r, i = e.type,
                o = e,
                s = this.fixHooks[i];
            for (s || (this.fixHooks[i] = s = me.test(i) ? this.mouseHooks : ge.test(i) ? this.keyHooks : {}), r = s.props ? this.props.concat(s.props) : this.props, e = new Q.Event(o), t = r.length; t--;) e[n = r[t]] = o[n];
            return e.target || (e.target = M), 3 === e.target.nodeType && (e.target = e.target.parentNode), s.filter ? s.filter(e, o) : e
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== a() && this.focus) return this.focus(), !1
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === a() && this.blur) return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if ("checkbox" === this.type && this.click && Q.nodeName(this, "input")) return this.click(), !1
                },
                _default: function(e) {
                    return Q.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    e.result !== t && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, n, r) {
            var i = Q.extend(new Q.Event, n, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            r ? Q.event.trigger(i, null, t) : Q.event.dispatch.call(t, i), i.isDefaultPrevented() && n.preventDefault()
        }
    }, Q.removeEvent = function(e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    }, Q.Event = function(e, t) {
        if (!(this instanceof Q.Event)) return new Q.Event(e, t);
        e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.getPreventDefault && e.getPreventDefault() ? o : s) : this.type = e, t && Q.extend(this, t), this.timeStamp = e && e.timeStamp || Q.now(), this[Q.expando] = !0
    }, Q.Event.prototype = {
        isDefaultPrevented: s,
        isPropagationStopped: s,
        isImmediatePropagationStopped: s,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = o, e && e.preventDefault && e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = o, e && e.stopPropagation && e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = o, this.stopPropagation()
        }
    }, Q.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(e, t) {
        Q.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var n, r = e.relatedTarget,
                    i = e.handleObj;
                return r && (r === this || Q.contains(this, r)) || (e.type = i.origType, n = i.handler.apply(this, arguments), e.type = t), n
            }
        }
    }), Q.support.focusinBubbles || Q.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        var n = 0,
            r = function(e) {
                Q.event.simulate(t, e.target, Q.event.fix(e), !0)
            };
        Q.event.special[t] = {
            setup: function() {
                0 == n++ && M.addEventListener(e, r, !0)
            },
            teardown: function() {
                0 == --n && M.removeEventListener(e, r, !0)
            }
        }
    }), Q.fn.extend({
        on: function(e, n, r, i, o) {
            var a, u;
            if ("object" == typeof e) {
                "string" != typeof n && (r = r || n, n = t);
                for (u in e) this.on(u, n, r, e[u], o);
                return this
            }
            if (null == r && null == i ? (i = n, r = n = t) : null == i && ("string" == typeof n ? (i = r, r = t) : (i = r, r = n, n = t)), !1 === i) i = s;
            else if (!i) return this;
            return 1 === o && (a = i, (i = function(e) {
                return Q().off(e), a.apply(this, arguments)
            }).guid = a.guid || (a.guid = Q.guid++)), this.each(function() {
                Q.event.add(this, e, i, r, n)
            })
        },
        one: function(e, t, n, r) {
            return this.on(e, t, n, r, 1)
        },
        off: function(e, n, r) {
            var i, o;
            if (e && e.preventDefault && e.handleObj) return i = e.handleObj, Q(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
            if ("object" == typeof e) {
                for (o in e) this.off(o, n, e[o]);
                return this
            }
            return !1 !== n && "function" != typeof n || (r = n, n = t), !1 === r && (r = s), this.each(function() {
                Q.event.remove(this, e, r, n)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                Q.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var n = this[0];
            if (n) return Q.event.trigger(e, t, n, !0)
        }
    });
    var xe = /^.[^:#\[\.,]*$/,
        be = /^(?:parents|prev(?:Until|All))/,
        we = Q.expr.match.needsContext,
        Te = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    Q.fn.extend({
        find: function(e) {
            var t, n = [],
                r = this,
                i = r.length;
            if ("string" != typeof e) return this.pushStack(Q(e).filter(function() {
                for (t = 0; t < i; t++)
                    if (Q.contains(r[t], this)) return !0
            }));
            for (t = 0; t < i; t++) Q.find(e, r[t], n);
            return n = this.pushStack(i > 1 ? Q.unique(n) : n), n.selector = this.selector ? this.selector + " " + e : e, n
        },
        has: function(e) {
            var t = Q(e, this),
                n = t.length;
            return this.filter(function() {
                for (var e = 0; e < n; e++)
                    if (Q.contains(this, t[e])) return !0
            })
        },
        not: function(e) {
            return this.pushStack(l(this, e || [], !0))
        },
        filter: function(e) {
            return this.pushStack(l(this, e || [], !1))
        },
        is: function(e) {
            return !!l(this, "string" == typeof e && we.test(e) ? Q(e) : e || [], !1).length
        },
        closest: function(e, t) {
            for (var n, r = 0, i = this.length, o = [], s = we.test(e) || "string" != typeof e ? Q(e, t || this.context) : 0; r < i; r++)
                for (n = this[r]; n && n !== t; n = n.parentNode)
                    if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && Q.find.matchesSelector(n, e))) {
                        n = o.push(n);
                        break
                    }
            return this.pushStack(o.length > 1 ? Q.unique(o) : o)
        },
        index: function(e) {
            return e ? "string" == typeof e ? Y.call(Q(e), this[0]) : Y.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            var n = "string" == typeof e ? Q(e, t) : Q.makeArray(e && e.nodeType ? [e] : e),
                r = Q.merge(this.get(), n);
            return this.pushStack(Q.unique(r))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), Q.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return Q.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return Q.dir(e, "parentNode", n)
        },
        next: function(e) {
            return u(e, "nextSibling")
        },
        prev: function(e) {
            return u(e, "previousSibling")
        },
        nextAll: function(e) {
            return Q.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return Q.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return Q.dir(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return Q.dir(e, "previousSibling", n)
        },
        siblings: function(e) {
            return Q.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return Q.sibling(e.firstChild)
        },
        contents: function(e) {
            return e.contentDocument || Q.merge([], e.childNodes)
        }
    }, function(e, t) {
        Q.fn[e] = function(n, r) {
            var i = Q.map(this, t, n);
            return "Until" !== e.slice(-5) && (r = n), r && "string" == typeof r && (i = Q.filter(r, i)), this.length > 1 && (Te[e] || Q.unique(i), be.test(e) && i.reverse()), this.pushStack(i)
        }
    }), Q.extend({
        filter: function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === r.nodeType ? Q.find.matchesSelector(r, e) ? [r] : [] : Q.find.matches(e, Q.grep(t, function(e) {
                return 1 === e.nodeType
            }))
        },
        dir: function(e, n, r) {
            for (var i = [], o = r !== t;
                (e = e[n]) && 9 !== e.nodeType;)
                if (1 === e.nodeType) {
                    if (o && Q(e).is(r)) break;
                    i.push(e)
                }
            return i
        },
        sibling: function(e, t) {
            for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
            return n
        }
    });
    var Ce = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        Ne = /<([\w:]+)/,
        ke = /<|&#?\w+;/,
        Ee = /<(?:script|style|link)/i,
        Se = /^(?:checkbox|radio)$/i,
        je = /checked\s*(?:[^=]|=\s*.checked.)/i,
        De = /^$|\/(?:java|ecma)script/i,
        Ae = /^true\/(.*)/,
        Le = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        qe = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    qe.optgroup = qe.option, qe.tbody = qe.tfoot = qe.colgroup = qe.caption = qe.thead, qe.th = qe.td, Q.fn.extend({
        text: function(e) {
            return Q.access(this, function(e) {
                return e === t ? Q.text(this) : this.empty().append((this[0] && this[0].ownerDocument || M).createTextNode(e))
            }, null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    c(this, e).appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = c(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var n, r = e ? Q.filter(e, this) : this, i = 0; null != (n = r[i]); i++) t || 1 !== n.nodeType || Q.cleanData(g(n)), n.parentNode && (t && Q.contains(n.ownerDocument, n) && d(g(n, "script")), n.parentNode.removeChild(n));
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (Q.cleanData(g(e, !1)), e.textContent = "");
            return this
        },
        clone: function(e, t) {
            return e = null != e && e, t = null == t ? e : t, this.map(function() {
                return Q.clone(this, e, t)
            })
        },
        html: function(e) {
            return Q.access(this, function(e) {
                var n = this[0] || {},
                    r = 0,
                    i = this.length;
                if (e === t && 1 === n.nodeType) return n.innerHTML;
                if ("string" == typeof e && !Ee.test(e) && !qe[(Ne.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(Ce, "<$1></$2>");
                    try {
                        for (; r < i; r++) 1 === (n = this[r] || {}).nodeType && (Q.cleanData(g(n, !1)), n.innerHTML = e);
                        n = 0
                    } catch (e) {}
                }
                n && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var e = Q.map(this, function(e) {
                    return [e.nextSibling, e.parentNode]
                }),
                t = 0;
            return this.domManip(arguments, function(n) {
                var r = e[t++],
                    i = e[t++];
                i && (r && r.parentNode !== i && (r = this.nextSibling), Q(this).remove(), i.insertBefore(n, r))
            }, !0), t ? this : this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t, n) {
            e = _.apply([], e);
            var r, i, o, s, a, u, l = 0,
                c = this.length,
                d = this,
                h = c - 1,
                m = e[0],
                y = Q.isFunction(m);
            if (y || !(c <= 1 || "string" != typeof m || Q.support.checkClone) && je.test(m)) return this.each(function(r) {
                var i = d.eq(r);
                y && (e[0] = m.call(this, r, i.html())), i.domManip(e, t, n)
            });
            if (c && (r = Q.buildFragment(e, this[0].ownerDocument, !1, !n && this), i = r.firstChild, 1 === r.childNodes.length && (r = i), i)) {
                for (s = (o = Q.map(g(r, "script"), f)).length; l < c; l++) a = r, l !== h && (a = Q.clone(a, !0, !0), s && Q.merge(o, g(a, "script"))), t.call(this[l], a, l);
                if (s)
                    for (u = o[o.length - 1].ownerDocument, Q.map(o, p), l = 0; l < s; l++) a = o[l], De.test(a.type || "") && !ue.access(a, "globalEval") && Q.contains(u, a) && (a.src ? Q._evalUrl(a.src) : Q.globalEval(a.textContent.replace(Le, "")))
            }
            return this
        }
    }), Q.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, t) {
        Q.fn[e] = function(e) {
            for (var n, r = [], i = Q(e), o = i.length - 1, s = 0; s <= o; s++) n = s === o ? this : this.clone(!0), Q(i[s])[t](n), X.apply(r, n.get());
            return this.pushStack(r)
        }
    }), Q.extend({
        clone: function(e, t, n) {
            var r, i, o, s, a = e.cloneNode(!0),
                u = Q.contains(e.ownerDocument, e);
            if (!(Q.support.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || Q.isXMLDoc(e)))
                for (s = g(a), r = 0, i = (o = g(e)).length; r < i; r++) ! function(e, t) {
                    var n = t.nodeName.toLowerCase();
                    "input" === n && Se.test(e.type) ? t.checked = e.checked : "input" !== n && "textarea" !== n || (t.defaultValue = e.defaultValue)
                }(o[r], s[r]);
            if (t)
                if (n)
                    for (o = o || g(e), s = s || g(a), r = 0, i = o.length; r < i; r++) h(o[r], s[r]);
                else h(e, a);
            return (s = g(a, "script")).length > 0 && d(s, !u && g(e, "script")), a
        },
        buildFragment: function(e, t, n, r) {
            for (var i, o, s, a, u, l, c = 0, f = e.length, p = t.createDocumentFragment(), h = []; c < f; c++)
                if ((i = e[c]) || 0 === i)
                    if ("object" === Q.type(i)) Q.merge(h, i.nodeType ? [i] : i);
                    else if (ke.test(i)) {
                for (o = o || p.appendChild(t.createElement("div")), s = (Ne.exec(i) || ["", ""])[1].toLowerCase(), a = qe[s] || qe._default, o.innerHTML = a[1] + i.replace(Ce, "<$1></$2>") + a[2], l = a[0]; l--;) o = o.lastChild;
                Q.merge(h, o.childNodes), (o = p.firstChild).textContent = ""
            } else h.push(t.createTextNode(i));
            for (p.textContent = "", c = 0; i = h[c++];)
                if ((!r || -1 === Q.inArray(i, r)) && (u = Q.contains(i.ownerDocument, i), o = g(p.appendChild(i), "script"), u && d(o), n))
                    for (l = 0; i = o[l++];) De.test(i.type || "") && n.push(i);
            return p
        },
        cleanData: function(e) {
            for (var n, i, o, s, a, u, l = Q.event.special, c = 0;
                (i = e[c]) !== t; c++) {
                if (r.accepts(i) && (a = i[ue.expando]) && (n = ue.cache[a])) {
                    if ((o = Object.keys(n.events || {})).length)
                        for (u = 0;
                            (s = o[u]) !== t; u++) l[s] ? Q.event.remove(i, s) : Q.removeEvent(i, s, n.handle);
                    ue.cache[a] && delete ue.cache[a]
                }
                delete ae.cache[i[ae.expando]]
            }
        },
        _evalUrl: function(e) {
            return Q.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                throws: !0
            })
        }
    }), Q.fn.extend({
        wrapAll: function(e) {
            var t;
            return Q.isFunction(e) ? this.each(function(t) {
                Q(this).wrapAll(e.call(this, t))
            }) : (this[0] && (t = Q(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
                for (var e = this; e.firstElementChild;) e = e.firstElementChild;
                return e
            }).append(this)), this)
        },
        wrapInner: function(e) {
            return Q.isFunction(e) ? this.each(function(t) {
                Q(this).wrapInner(e.call(this, t))
            }) : this.each(function() {
                var t = Q(this),
                    n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        },
        wrap: function(e) {
            var t = Q.isFunction(e);
            return this.each(function(n) {
                Q(this).wrapAll(t ? e.call(this, n) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                Q.nodeName(this, "body") || Q(this).replaceWith(this.childNodes)
            }).end()
        }
    });
    var He, Oe, Fe = /^(none|table(?!-c[ea]).+)/,
        Pe = /^margin/,
        Re = new RegExp("^(" + K + ")(.*)$", "i"),
        Me = new RegExp("^(" + K + ")(?!px)[a-z%]+$", "i"),
        We = new RegExp("^([+-])=(" + K + ")", "i"),
        $e = {
            BODY: "block"
        },
        Be = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ie = {
            letterSpacing: 0,
            fontWeight: 400
        },
        ze = ["Top", "Right", "Bottom", "Left"],
        _e = ["Webkit", "O", "Moz", "ms"];
    Q.fn.extend({
        css: function(e, n) {
            return Q.access(this, function(e, n, r) {
                var i, o, s = {},
                    a = 0;
                if (Q.isArray(n)) {
                    for (i = v(e), o = n.length; a < o; a++) s[n[a]] = Q.css(e, n[a], !1, i);
                    return s
                }
                return r !== t ? Q.style(e, n, r) : Q.css(e, n)
            }, e, n, arguments.length > 1)
        },
        show: function() {
            return x(this, !0)
        },
        hide: function() {
            return x(this)
        },
        toggle: function(e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                y(this) ? Q(this).show() : Q(this).hide()
            })
        }
    }), Q.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = He(e, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            float: "cssFloat"
        },
        style: function(e, n, r, i) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var o, s, a, u = Q.camelCase(n),
                    l = e.style;
                if (n = Q.cssProps[u] || (Q.cssProps[u] = m(l, u)), a = Q.cssHooks[n] || Q.cssHooks[u], r === t) return a && "get" in a && (o = a.get(e, !1, i)) !== t ? o : l[n];
                "string" == (s = typeof r) && (o = We.exec(r)) && (r = (o[1] + 1) * o[2] + parseFloat(Q.css(e, n)), s = "number"), null == r || "number" === s && isNaN(r) || ("number" !== s || Q.cssNumber[u] || (r += "px"), Q.support.clearCloneStyle || "" !== r || 0 !== n.indexOf("background") || (l[n] = "inherit"), a && "set" in a && (r = a.set(e, r, i)) === t || (l[n] = r))
            }
        },
        css: function(e, n, r, i) {
            var o, s, a, u = Q.camelCase(n);
            return n = Q.cssProps[u] || (Q.cssProps[u] = m(e.style, u)), (a = Q.cssHooks[n] || Q.cssHooks[u]) && "get" in a && (o = a.get(e, !0, r)), o === t && (o = He(e, n, i)), "normal" === o && n in Ie && (o = Ie[n]), "" === r || r ? (s = parseFloat(o), !0 === r || Q.isNumeric(s) ? s || 0 : o) : o
        }
    }), He = function(e, n, r) {
        var i, o, s, a = r || v(e),
            u = a ? a.getPropertyValue(n) || a[n] : t,
            l = e.style;
        return a && ("" !== u || Q.contains(e.ownerDocument, e) || (u = Q.style(e, n)), Me.test(u) && Pe.test(n) && (i = l.width, o = l.minWidth, s = l.maxWidth, l.minWidth = l.maxWidth = l.width = u, u = a.width, l.width = i, l.minWidth = o, l.maxWidth = s)), u
    }, Q.each(["height", "width"], function(e, t) {
        Q.cssHooks[t] = {
            get: function(e, n, r) {
                if (n) return 0 === e.offsetWidth && Fe.test(Q.css(e, "display")) ? Q.swap(e, Be, function() {
                    return T(e, t, r)
                }) : T(e, t, r)
            },
            set: function(e, n, r) {
                var i = r && v(e);
                return b(0, n, r ? w(e, t, r, Q.support.boxSizing && "border-box" === Q.css(e, "boxSizing", !1, i), i) : 0)
            }
        }
    }), Q(function() {
        Q.support.reliableMarginRight || (Q.cssHooks.marginRight = {
            get: function(e, t) {
                if (t) return Q.swap(e, {
                    display: "inline-block"
                }, He, [e, "marginRight"])
            }
        }), !Q.support.pixelPosition && Q.fn.position && Q.each(["top", "left"], function(e, t) {
            Q.cssHooks[t] = {
                get: function(e, n) {
                    if (n) return n = He(e, t), Me.test(n) ? Q(e).position()[t] + "px" : n
                }
            }
        })
    }), Q.expr && Q.expr.filters && (Q.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0
    }, Q.expr.filters.visible = function(e) {
        return !Q.expr.filters.hidden(e)
    }), Q.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(e, t) {
        Q.cssHooks[e + t] = {
            expand: function(n) {
                for (var r = 0, i = {}, o = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++) i[e + ze[r] + t] = o[r] || o[r - 2] || o[0];
                return i
            }
        }, Pe.test(e) || (Q.cssHooks[e + t].set = b)
    });
    var Xe = /%20/g,
        Ue = /\[\]$/,
        Ye = /\r?\n/g,
        Ve = /^(?:submit|button|image|reset|file)$/i,
        Ge = /^(?:input|select|textarea|keygen)/i;
    Q.fn.extend({
        serialize: function() {
            return Q.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = Q.prop(this, "elements");
                return e ? Q.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !Q(this).is(":disabled") && Ge.test(this.nodeName) && !Ve.test(e) && (this.checked || !Se.test(e))
            }).map(function(e, t) {
                var n = Q(this).val();
                return null == n ? null : Q.isArray(n) ? Q.map(n, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Ye, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(Ye, "\r\n")
                }
            }).get()
        }
    }), Q.param = function(e, n) {
        var r, i = [],
            o = function(e, t) {
                t = Q.isFunction(t) ? t() : null == t ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
            };
        if (n === t && (n = Q.ajaxSettings && Q.ajaxSettings.traditional), Q.isArray(e) || e.jquery && !Q.isPlainObject(e)) Q.each(e, function() {
            o(this.name, this.value)
        });
        else
            for (r in e) N(r, e[r], n, o);
        return i.join("&").replace(Xe, "+")
    }, Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
        Q.fn[t] = function(e, n) {
            return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        }
    }), Q.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function(e, t, n) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    var Je, Qe, Ke = Q.now(),
        Ze = /\?/,
        et = /#.*$/,
        tt = /([?&])_=[^&]*/,
        nt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        rt = /^(?:GET|HEAD)$/,
        it = /^\/\//,
        ot = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
        st = Q.fn.load,
        at = {},
        ut = {},
        lt = "*/".concat("*");
    try {
        Qe = R.href
    } catch (e) {
        (Qe = M.createElement("a")).href = "", Qe = Qe.href
    }
    Je = ot.exec(Qe.toLowerCase()) || [], Q.fn.load = function(e, n, r) {
        if ("string" != typeof e && st) return st.apply(this, arguments);
        var i, o, s, a = this,
            u = e.indexOf(" ");
        return u >= 0 && (i = e.slice(u), e = e.slice(0, u)), Q.isFunction(n) ? (r = n, n = t) : n && "object" == typeof n && (o = "POST"), a.length > 0 && Q.ajax({
            url: e,
            type: o,
            dataType: "html",
            data: n
        }).done(function(e) {
            s = arguments, a.html(i ? Q("<div>").append(Q.parseHTML(e)).find(i) : e)
        }).complete(r && function(e, t) {
            a.each(r, s || [e.responseText, t, e])
        }), this
    }, Q.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        Q.fn[t] = function(e) {
            return this.on(t, e)
        }
    }), Q.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Qe,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Je[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": lt,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": Q.parseJSON,
                "text xml": Q.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? S(S(e, Q.ajaxSettings), t) : S(Q.ajaxSettings, e)
        },
        ajaxPrefilter: k(at),
        ajaxTransport: k(ut),
        ajax: function(e, n) {
            function r(e, n, r, a) {
                var l, f, v, x, w, C = n;
                2 !== b && (b = 2, u && clearTimeout(u), i = t, s = a || "", T.readyState = e > 0 ? 4 : 0, l = e >= 200 && e < 300 || 304 === e, r && (x = function(e, n, r) {
                    for (var i, o, s, a, u = e.contents, l = e.dataTypes;
                        "*" === l[0];) l.shift(), i === t && (i = e.mimeType || n.getResponseHeader("Content-Type"));
                    if (i)
                        for (o in u)
                            if (u[o] && u[o].test(i)) {
                                l.unshift(o);
                                break
                            }
                    if (l[0] in r) s = l[0];
                    else {
                        for (o in r) {
                            if (!l[0] || e.converters[o + " " + l[0]]) {
                                s = o;
                                break
                            }
                            a || (a = o)
                        }
                        s = s || a
                    }
                    if (s) return s !== l[0] && l.unshift(s), r[s]
                }(p, T, r)), x = function(e, t, n, r) {
                    var i, o, s, a, u, l = {},
                        c = e.dataTypes.slice();
                    if (c[1])
                        for (s in e.converters) l[s.toLowerCase()] = e.converters[s];
                    for (o = c.shift(); o;)
                        if (e.responseFields[o] && (n[e.responseFields[o]] = t), !u && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), u = o, o = c.shift())
                            if ("*" === o) o = u;
                            else if ("*" !== u && u !== o) {
                        if (!(s = l[u + " " + o] || l["* " + o]))
                            for (i in l)
                                if ((a = i.split(" "))[1] === o && (s = l[u + " " + a[0]] || l["* " + a[0]])) {
                                    !0 === s ? s = l[i] : !0 !== l[i] && (o = a[0], c.unshift(a[1]));
                                    break
                                }
                        if (!0 !== s)
                            if (s && e.throws) t = s(t);
                            else try {
                                t = s(t)
                            } catch (e) {
                                return {
                                    state: "parsererror",
                                    error: s ? e : "No conversion from " + u + " to " + o
                                }
                            }
                    }
                    return {
                        state: "success",
                        data: t
                    }
                }(p, x, T, l), l ? (p.ifModified && ((w = T.getResponseHeader("Last-Modified")) && (Q.lastModified[o] = w), (w = T.getResponseHeader("etag")) && (Q.etag[o] = w)), 204 === e || "HEAD" === p.type ? C = "nocontent" : 304 === e ? C = "notmodified" : (C = x.state, f = x.data, l = !(v = x.error))) : (v = C, !e && C || (C = "error", e < 0 && (e = 0))), T.status = e, T.statusText = (n || C) + "", l ? g.resolveWith(d, [f, C, T]) : g.rejectWith(d, [T, C, v]), T.statusCode(y), y = t, c && h.trigger(l ? "ajaxSuccess" : "ajaxError", [T, p, l ? f : v]), m.fireWith(d, [T, C]), c && (h.trigger("ajaxComplete", [T, p]), --Q.active || Q.event.trigger("ajaxStop")))
            }
            "object" == typeof e && (n = e, e = t), n = n || {};
            var i, o, s, a, u, l, c, f, p = Q.ajaxSetup({}, n),
                d = p.context || p,
                h = p.context && (d.nodeType || d.jquery) ? Q(d) : Q.event,
                g = Q.Deferred(),
                m = Q.Callbacks("once memory"),
                y = p.statusCode || {},
                v = {},
                x = {},
                b = 0,
                w = "canceled",
                T = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (2 === b) {
                            if (!a)
                                for (a = {}; t = nt.exec(s);) a[t[1].toLowerCase()] = t[2];
                            t = a[e.toLowerCase()]
                        }
                        return null == t ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return 2 === b ? s : null
                    },
                    setRequestHeader: function(e, t) {
                        var n = e.toLowerCase();
                        return b || (e = x[n] = x[n] || e, v[e] = t), this
                    },
                    overrideMimeType: function(e) {
                        return b || (p.mimeType = e), this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (b < 2)
                                for (t in e) y[t] = [y[t], e[t]];
                            else T.always(e[T.status]);
                        return this
                    },
                    abort: function(e) {
                        var t = e || w;
                        return i && i.abort(t), r(0, t), this
                    }
                };
            if (g.promise(T).complete = m.add, T.success = T.done, T.error = T.fail, p.url = ((e || p.url || Qe) + "").replace(et, "").replace(it, Je[1] + "//"), p.type = n.method || n.type || p.method || p.type, p.dataTypes = Q.trim(p.dataType || "*").toLowerCase().match(Z) || [""], null == p.crossDomain && (l = ot.exec(p.url.toLowerCase()), p.crossDomain = !(!l || l[1] === Je[1] && l[2] === Je[2] && (l[3] || ("http:" === l[1] ? "80" : "443")) === (Je[3] || ("http:" === Je[1] ? "80" : "443")))), p.data && p.processData && "string" != typeof p.data && (p.data = Q.param(p.data, p.traditional)), E(at, p, n, T), 2 === b) return T;
            (c = p.global) && 0 == Q.active++ && Q.event.trigger("ajaxStart"), p.type = p.type.toUpperCase(), p.hasContent = !rt.test(p.type), o = p.url, p.hasContent || (p.data && (o = p.url += (Ze.test(o) ? "&" : "?") + p.data, delete p.data), !1 === p.cache && (p.url = tt.test(o) ? o.replace(tt, "$1_=" + Ke++) : o + (Ze.test(o) ? "&" : "?") + "_=" + Ke++)), p.ifModified && (Q.lastModified[o] && T.setRequestHeader("If-Modified-Since", Q.lastModified[o]), Q.etag[o] && T.setRequestHeader("If-None-Match", Q.etag[o])), (p.data && p.hasContent && !1 !== p.contentType || n.contentType) && T.setRequestHeader("Content-Type", p.contentType), T.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + lt + "; q=0.01" : "") : p.accepts["*"]);
            for (f in p.headers) T.setRequestHeader(f, p.headers[f]);
            if (p.beforeSend && (!1 === p.beforeSend.call(d, T, p) || 2 === b)) return T.abort();
            w = "abort";
            for (f in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) T[f](p[f]);
            if (i = E(ut, p, n, T)) {
                T.readyState = 1, c && h.trigger("ajaxSend", [T, p]), p.async && p.timeout > 0 && (u = setTimeout(function() {
                    T.abort("timeout")
                }, p.timeout));
                try {
                    b = 1, i.send(v, r)
                } catch (e) {
                    if (!(b < 2)) throw e;
                    r(-1, e)
                }
            } else r(-1, "No Transport");
            return T
        },
        getJSON: function(e, t, n) {
            return Q.get(e, t, n, "json")
        },
        getScript: function(e, n) {
            return Q.get(e, t, n, "script")
        }
    }), Q.each(["get", "post"], function(e, n) {
        Q[n] = function(e, r, i, o) {
            return Q.isFunction(r) && (o = o || i, i = r, r = t), Q.ajax({
                url: e,
                type: n,
                dataType: o,
                data: r,
                success: i
            })
        }
    }), Q.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return Q.globalEval(e), e
            }
        }
    }), Q.ajaxPrefilter("script", function(e) {
        e.cache === t && (e.cache = !1), e.crossDomain && (e.type = "GET")
    }), Q.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var t, n;
            return {
                send: function(r, i) {
                    t = Q("<script>").prop({
                        async: !0,
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", n = function(e) {
                        t.remove(), n = null, e && i("error" === e.type ? 404 : 200, e.type)
                    }), M.head.appendChild(t[0])
                },
                abort: function() {
                    n && n()
                }
            }
        }
    });
    var ct = [],
        ft = /(=)\?(?=&|$)|\?\?/;
    Q.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = ct.pop() || Q.expando + "_" + Ke++;
            return this[e] = !0, e
        }
    }), Q.ajaxPrefilter("json jsonp", function(n, r, i) {
        var o, s, a, u = !1 !== n.jsonp && (ft.test(n.url) ? "url" : "string" == typeof n.data && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && ft.test(n.data) && "data");
        if (u || "jsonp" === n.dataTypes[0]) return o = n.jsonpCallback = Q.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback, u ? n[u] = n[u].replace(ft, "$1" + o) : !1 !== n.jsonp && (n.url += (Ze.test(n.url) ? "&" : "?") + n.jsonp + "=" + o), n.converters["script json"] = function() {
            return a || Q.error(o + " was not called"), a[0]
        }, n.dataTypes[0] = "json", s = e[o], e[o] = function() {
            a = arguments
        }, i.always(function() {
            e[o] = s, n[o] && (n.jsonpCallback = r.jsonpCallback, ct.push(o)), a && Q.isFunction(s) && s(a[0]), a = s = t
        }), "script"
    }), Q.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest
        } catch (e) {}
    };
    var pt = Q.ajaxSettings.xhr(),
        dt = {
            0: 200,
            1223: 204
        },
        ht = 0,
        gt = {};
    e.ActiveXObject && Q(e).on("unload", function() {
        for (var e in gt) gt[e]();
        gt = t
    }), Q.support.cors = !!pt && "withCredentials" in pt, Q.support.ajax = pt = !!pt, Q.ajaxTransport(function(e) {
        var n;
        if (Q.support.cors || pt && !e.crossDomain) return {
            send: function(r, i) {
                var o, s, a = e.xhr();
                if (a.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                    for (o in e.xhrFields) a[o] = e.xhrFields[o];
                e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType), e.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest");
                for (o in r) a.setRequestHeader(o, r[o]);
                n = function(e) {
                    return function() {
                        n && (delete gt[s], n = a.onload = a.onerror = null, "abort" === e ? a.abort() : "error" === e ? i(a.status || 404, a.statusText) : i(dt[a.status] || a.status, a.statusText, "string" == typeof a.responseText ? {
                            text: a.responseText
                        } : t, a.getAllResponseHeaders()))
                    }
                }, a.onload = n(), a.onerror = n("error"), n = gt[s = ht++] = n("abort"), a.send(e.hasContent && e.data || null)
            },
            abort: function() {
                n && n()
            }
        }
    });
    var mt, yt, vt = /^(?:toggle|show|hide)$/,
        xt = new RegExp("^(?:([+-])=|)(" + K + ")([a-z%]*)$", "i"),
        bt = /queueHooks$/,
        wt = [function(e, n, r) {
            var i, o, s, a, u, l, c = this,
                f = {},
                p = e.style,
                d = e.nodeType && y(e),
                h = ue.get(e, "fxshow");
            r.queue || (null == (u = Q._queueHooks(e, "fx")).unqueued && (u.unqueued = 0, l = u.empty.fire, u.empty.fire = function() {
                u.unqueued || l()
            }), u.unqueued++, c.always(function() {
                c.always(function() {
                    u.unqueued--, Q.queue(e, "fx").length || u.empty.fire()
                })
            })), 1 === e.nodeType && ("height" in n || "width" in n) && (r.overflow = [p.overflow, p.overflowX, p.overflowY], "inline" === Q.css(e, "display") && "none" === Q.css(e, "float") && (p.display = "inline-block")), r.overflow && (p.overflow = "hidden", c.always(function() {
                p.overflow = r.overflow[0], p.overflowX = r.overflow[1], p.overflowY = r.overflow[2]
            }));
            for (i in n)
                if (o = n[i], vt.exec(o)) {
                    if (delete n[i], s = s || "toggle" === o, o === (d ? "hide" : "show")) {
                        if ("show" !== o || !h || h[i] === t) continue;
                        d = !0
                    }
                    f[i] = h && h[i] || Q.style(e, i)
                }
            if (!Q.isEmptyObject(f)) {
                h ? "hidden" in h && (d = h.hidden) : h = ue.access(e, "fxshow", {}), s && (h.hidden = !d), d ? Q(e).show() : c.done(function() {
                    Q(e).hide()
                }), c.done(function() {
                    var t;
                    ue.remove(e, "fxshow");
                    for (t in f) Q.style(e, t, f[t])
                });
                for (i in f) a = D(d ? h[i] : 0, i, c), i in h || (h[i] = a.start, d && (a.end = a.start, a.start = "width" === i || "height" === i ? 1 : 0))
            }
        }],
        Tt = {
            "*": [function(e, t) {
                var n = this.createTween(e, t),
                    r = n.cur(),
                    i = xt.exec(t),
                    o = i && i[3] || (Q.cssNumber[e] ? "" : "px"),
                    s = (Q.cssNumber[e] || "px" !== o && +r) && xt.exec(Q.css(n.elem, e)),
                    a = 1,
                    u = 20;
                if (s && s[3] !== o) {
                    o = o || s[3], i = i || [], s = +r || 1;
                    do {
                        s /= a = a || ".5", Q.style(n.elem, e, s + o)
                    } while (a !== (a = n.cur() / r) && 1 !== a && --u)
                }
                return i && (s = n.start = +s || +r || 0, n.unit = o, n.end = i[1] ? s + (i[1] + 1) * i[2] : +i[2]), n
            }]
        };
    Q.Animation = Q.extend(A, {
        tweener: function(e, t) {
            Q.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
            for (var n, r = 0, i = e.length; r < i; r++) n = e[r], Tt[n] = Tt[n] || [], Tt[n].unshift(t)
        },
        prefilter: function(e, t) {
            t ? wt.unshift(e) : wt.push(e)
        }
    }), Q.Tween = L, (L.prototype = {
        constructor: L,
        init: function(e, t, n, r, i, o) {
            this.elem = e, this.prop = n, this.easing = i || "swing", this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = o || (Q.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var e = L.propHooks[this.prop];
            return e && e.get ? e.get(this) : L.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = L.propHooks[this.prop];
            return this.options.duration ? this.pos = t = Q.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : L.propHooks._default.set(this), this
        }
    }).init.prototype = L.prototype, (L.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = Q.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0 : e.elem[e.prop]
            },
            set: function(e) {
                Q.fx.step[e.prop] ? Q.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[Q.cssProps[e.prop]] || Q.cssHooks[e.prop]) ? Q.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }).scrollTop = L.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, Q.each(["toggle", "show", "hide"], function(e, t) {
        var n = Q.fn[t];
        Q.fn[t] = function(e, r, i) {
            return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(q(t, !0), e, r, i)
        }
    }), Q.fn.extend({
        fadeTo: function(e, t, n, r) {
            return this.filter(y).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, n, r)
        },
        animate: function(e, t, n, r) {
            var i = Q.isEmptyObject(e),
                o = Q.speed(t, n, r),
                s = function() {
                    var t = A(this, Q.extend({}, e), o);
                    (i || ue.get(this, "finish")) && t.stop(!0)
                };
            return s.finish = s, i || !1 === o.queue ? this.each(s) : this.queue(o.queue, s)
        },
        stop: function(e, n, r) {
            var i = function(e) {
                var t = e.stop;
                delete e.stop, t(r)
            };
            return "string" != typeof e && (r = n, n = e, e = t), n && !1 !== e && this.queue(e || "fx", []), this.each(function() {
                var t = !0,
                    n = null != e && e + "queueHooks",
                    o = Q.timers,
                    s = ue.get(this);
                if (n) s[n] && s[n].stop && i(s[n]);
                else
                    for (n in s) s[n] && s[n].stop && bt.test(n) && i(s[n]);
                for (n = o.length; n--;) o[n].elem !== this || null != e && o[n].queue !== e || (o[n].anim.stop(r), t = !1, o.splice(n, 1));
                !t && r || Q.dequeue(this, e)
            })
        },
        finish: function(e) {
            return !1 !== e && (e = e || "fx"), this.each(function() {
                var t, n = ue.get(this),
                    r = n[e + "queue"],
                    i = n[e + "queueHooks"],
                    o = Q.timers,
                    s = r ? r.length : 0;
                for (n.finish = !0, Q.queue(this, e, []), i && i.stop && i.stop.call(this, !0), t = o.length; t--;) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
                for (t = 0; t < s; t++) r[t] && r[t].finish && r[t].finish.call(this);
                delete n.finish
            })
        }
    }), Q.each({
        slideDown: q("show"),
        slideUp: q("hide"),
        slideToggle: q("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, t) {
        Q.fn[e] = function(e, n, r) {
            return this.animate(t, e, n, r)
        }
    }), Q.speed = function(e, t, n) {
        var r = e && "object" == typeof e ? Q.extend({}, e) : {
            complete: n || !n && t || Q.isFunction(e) && e,
            duration: e,
            easing: n && t || t && !Q.isFunction(t) && t
        };
        return r.duration = Q.fx.off ? 0 : "number" == typeof r.duration ? r.duration : r.duration in Q.fx.speeds ? Q.fx.speeds[r.duration] : Q.fx.speeds._default, null != r.queue && !0 !== r.queue || (r.queue = "fx"), r.old = r.complete, r.complete = function() {
            Q.isFunction(r.old) && r.old.call(this), r.queue && Q.dequeue(this, r.queue)
        }, r
    }, Q.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, Q.timers = [], Q.fx = L.prototype.init, Q.fx.tick = function() {
        var e, n = Q.timers,
            r = 0;
        for (mt = Q.now(); r < n.length; r++)(e = n[r])() || n[r] !== e || n.splice(r--, 1);
        n.length || Q.fx.stop(), mt = t
    }, Q.fx.timer = function(e) {
        e() && Q.timers.push(e) && Q.fx.start()
    }, Q.fx.interval = 13, Q.fx.start = function() {
        yt || (yt = setInterval(Q.fx.tick, Q.fx.interval))
    }, Q.fx.stop = function() {
        clearInterval(yt), yt = null
    }, Q.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, Q.fx.step = {}, Q.expr && Q.expr.filters && (Q.expr.filters.animated = function(e) {
        return Q.grep(Q.timers, function(t) {
            return e === t.elem
        }).length
    }), Q.fn.offset = function(e) {
        if (arguments.length) return e === t ? this : this.each(function(t) {
            Q.offset.setOffset(this, e, t)
        });
        var n, r, i = this[0],
            o = {
                top: 0,
                left: 0
            },
            s = i && i.ownerDocument;
        if (s) return n = s.documentElement, Q.contains(n, i) ? (typeof i.getBoundingClientRect !== P && (o = i.getBoundingClientRect()), r = H(s), {
            top: o.top + r.pageYOffset - n.clientTop,
            left: o.left + r.pageXOffset - n.clientLeft
        }) : o
    }, Q.offset = {
        setOffset: function(e, t, n) {
            var r, i, o, s, a, u, l = Q.css(e, "position"),
                c = Q(e),
                f = {};
            "static" === l && (e.style.position = "relative"), a = c.offset(), o = Q.css(e, "top"), u = Q.css(e, "left"), ("absolute" === l || "fixed" === l) && (o + u).indexOf("auto") > -1 ? (s = (r = c.position()).top, i = r.left) : (s = parseFloat(o) || 0, i = parseFloat(u) || 0), Q.isFunction(t) && (t = t.call(e, n, a)), null != t.top && (f.top = t.top - a.top + s), null != t.left && (f.left = t.left - a.left + i), "using" in t ? t.using.call(e, f) : c.css(f)
        }
    }, Q.fn.extend({
        position: function() {
            if (this[0]) {
                var e, t, n = this[0],
                    r = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === Q.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), Q.nodeName(e[0], "html") || (r = e.offset()), r.top += Q.css(e[0], "borderTopWidth", !0), r.left += Q.css(e[0], "borderLeftWidth", !0)), {
                    top: t.top - r.top - Q.css(n, "marginTop", !0),
                    left: t.left - r.left - Q.css(n, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || W; e && !Q.nodeName(e, "html") && "static" === Q.css(e, "position");) e = e.offsetParent;
                return e || W
            })
        }
    }), Q.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(n, r) {
        var i = "pageYOffset" === r;
        Q.fn[n] = function(o) {
            return Q.access(this, function(n, o, s) {
                var a = H(n);
                if (s === t) return a ? a[r] : n[o];
                a ? a.scrollTo(i ? e.pageXOffset : s, i ? s : e.pageYOffset) : n[o] = s
            }, n, o, arguments.length, null)
        }
    }), Q.each({
        Height: "height",
        Width: "width"
    }, function(e, n) {
        Q.each({
            padding: "inner" + e,
            content: n,
            "": "outer" + e
        }, function(r, i) {
            Q.fn[i] = function(i, o) {
                var s = arguments.length && (r || "boolean" != typeof i),
                    a = r || (!0 === i || !0 === o ? "margin" : "border");
                return Q.access(this, function(n, r, i) {
                    var o;
                    return Q.isWindow(n) ? n.document.documentElement["client" + e] : 9 === n.nodeType ? (o = n.documentElement, Math.max(n.body["scroll" + e], o["scroll" + e], n.body["offset" + e], o["offset" + e], o["client" + e])) : i === t ? Q.css(n, r, a) : Q.style(n, r, i, a)
                }, n, s ? i : t, s, null)
            }
        })
    }), Q.fn.size = function() {
        return this.length
    }, Q.fn.andSelf = Q.fn.addBack, "object" == typeof module && module && "object" == typeof module.exports ? module.exports = Q : "function" == typeof define && define.amd && define("jquery", [], function() {
        return Q
    }), "object" == typeof e && "object" == typeof e.document && (e.jQuery = e.$ = Q)
}(window);
! function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(t) {
    function e(e, s) {
        var n, o, a, r = e.nodeName.toLowerCase();
        return "area" === r ? (n = e.parentNode, o = n.name, !(!e.href || !o || "map" !== n.nodeName.toLowerCase()) && (!!(a = t("img[usemap='#" + o + "']")[0]) && i(a))) : (/^(input|select|textarea|button|object)$/.test(r) ? !e.disabled : "a" === r ? e.href || s : s) && i(e)
    }

    function i(e) {
        return t.expr.filters.visible(e) && !t(e).parents().addBack().filter(function() {
            return "hidden" === t.css(this, "visibility")
        }).length
    }

    function s() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, t.extend(this._defaults, this.regional[""]), this.regional.en = t.extend(!0, {}, this.regional[""]), this.regional["en-US"] = t.extend(!0, {}, this.regional.en), this.dpDiv = n(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function n(e) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.delegate(i, "mouseout", function() {
            t(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", o)
    }

    function o() {
        t.datepicker._isDisabledDatepicker(g.inline ? g.dpDiv.parent()[0] : g.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), t(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).addClass("ui-datepicker-next-hover"))
    }

    function a(e, i) {
        t.extend(e, i);
        for (var s in i) null == i[s] && (e[s] = i[s]);
        return e
    }

    function r(t) {
        return function() {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }
    t.ui = t.ui || {}, t.extend(t.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), t.fn.extend({
        scrollParent: function(e) {
            var i = this.css("position"),
                s = "absolute" === i,
                n = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                o = this.parents().filter(function() {
                    var e = t(this);
                    return (!s || "static" !== e.css("position")) && n.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
                }).eq(0);
            return "fixed" !== i && o.length ? o : t(this[0].ownerDocument || document)
        },
        uniqueId: function() {
            var t = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++t)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id")
            })
        }
    }), t.extend(t.expr[":"], {
        data: t.expr.createPseudo ? t.expr.createPseudo(function(e) {
            return function(i) {
                return !!t.data(i, e)
            }
        }) : function(e, i, s) {
            return !!t.data(e, s[3])
        },
        focusable: function(i) {
            return e(i, !isNaN(t.attr(i, "tabindex")))
        },
        tabbable: function(i) {
            var s = t.attr(i, "tabindex"),
                n = isNaN(s);
            return (n || s >= 0) && e(i, !n)
        }
    }), t("<a>").outerWidth(1).jquery || t.each(["Width", "Height"], function(e, i) {
        function s(e, i, s, o) {
            return t.each(n, function() {
                i -= parseFloat(t.css(e, "padding" + this)) || 0, s && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0), o && (i -= parseFloat(t.css(e, "margin" + this)) || 0)
            }), i
        }
        var n = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"],
            o = i.toLowerCase(),
            a = {
                innerWidth: t.fn.innerWidth,
                innerHeight: t.fn.innerHeight,
                outerWidth: t.fn.outerWidth,
                outerHeight: t.fn.outerHeight
            };
        t.fn["inner" + i] = function(e) {
            return void 0 === e ? a["inner" + i].call(this) : this.each(function() {
                t(this).css(o, s(this, e) + "px")
            })
        }, t.fn["outer" + i] = function(e, n) {
            return "number" != typeof e ? a["outer" + i].call(this, e) : this.each(function() {
                t(this).css(o, s(this, e, !0, n) + "px")
            })
        }
    }), t.fn.addBack || (t.fn.addBack = function(t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }), t("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (t.fn.removeData = function(e) {
        return function(i) {
            return arguments.length ? e.call(this, t.camelCase(i)) : e.call(this)
        }
    }(t.fn.removeData)), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), t.fn.extend({
        focus: function(e) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var e = this;
                    setTimeout(function() {
                        t(e).focus(), s && s.call(e)
                    }, i)
                }) : e.apply(this, arguments)
            }
        }(t.fn.focus),
        disableSelection: function() {
            var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(t + ".ui-disableSelection", function(t) {
                    t.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(e) {
            if (void 0 !== e) return this.css("zIndex", e);
            if (this.length)
                for (var i, s, n = t(this[0]); n.length && n[0] !== document;) {
                    if (("absolute" === (i = n.css("position")) || "relative" === i || "fixed" === i) && (s = parseInt(n.css("zIndex"), 10), !isNaN(s) && 0 !== s)) return s;
                    n = n.parent()
                }
            return 0
        }
    }), t.ui.plugin = {
        add: function(e, i, s) {
            var n, o = t.ui[e].prototype;
            for (n in s) o.plugins[n] = o.plugins[n] || [], o.plugins[n].push([i, s[n]])
        },
        call: function(t, e, i, s) {
            var n, o = t.plugins[e];
            if (o && (s || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
                for (n = 0; n < o.length; n++) t.options[o[n][0]] && o[n][1].apply(t.element, i)
        }
    };
    var h = 0,
        l = Array.prototype.slice;
    t.cleanData = function(e) {
        return function(i) {
            var s, n, o;
            for (o = 0; null != (n = i[o]); o++) try {
                (s = t._data(n, "events")) && s.remove && t(n).triggerHandler("remove")
            } catch (t) {}
            e(i)
        }
    }(t.cleanData), t.widget = function(e, i, s) {
        var n, o, a, r, h = {},
            l = e.split(".")[0];
        return e = e.split(".")[1], n = l + "-" + e, s || (s = i, i = t.Widget), t.expr[":"][n.toLowerCase()] = function(e) {
            return !!t.data(e, n)
        }, t[l] = t[l] || {}, o = t[l][e], a = t[l][e] = function(t, e) {
            if (!this._createWidget) return new a(t, e);
            arguments.length && this._createWidget(t, e)
        }, t.extend(a, o, {
            version: s.version,
            _proto: t.extend({}, s),
            _childConstructors: []
        }), r = new i, r.options = t.widget.extend({}, r.options), t.each(s, function(e, s) {
            t.isFunction(s) ? h[e] = function() {
                var t = function() {
                        return i.prototype[e].apply(this, arguments)
                    },
                    n = function(t) {
                        return i.prototype[e].apply(this, t)
                    };
                return function() {
                    var e, i = this._super,
                        o = this._superApply;
                    return this._super = t, this._superApply = n, e = s.apply(this, arguments), this._super = i, this._superApply = o, e
                }
            }() : h[e] = s
        }), a.prototype = t.widget.extend(r, {
            widgetEventPrefix: o ? r.widgetEventPrefix || e : e
        }, h, {
            constructor: a,
            namespace: l,
            widgetName: e,
            widgetFullName: n
        }), o ? (t.each(o._childConstructors, function(e, i) {
            var s = i.prototype;
            t.widget(s.namespace + "." + s.widgetName, a, i._proto)
        }), delete o._childConstructors) : i._childConstructors.push(a), t.widget.bridge(e, a), a
    }, t.widget.extend = function(e) {
        for (var i, s, n = l.call(arguments, 1), o = 0, a = n.length; o < a; o++)
            for (i in n[o]) s = n[o][i], n[o].hasOwnProperty(i) && void 0 !== s && (t.isPlainObject(s) ? e[i] = t.isPlainObject(e[i]) ? t.widget.extend({}, e[i], s) : t.widget.extend({}, s) : e[i] = s);
        return e
    }, t.widget.bridge = function(e, i) {
        var s = i.prototype.widgetFullName || e;
        t.fn[e] = function(n) {
            var o = "string" == typeof n,
                a = l.call(arguments, 1),
                r = this;
            return o ? this.each(function() {
                var i, o = t.data(this, s);
                return "instance" === n ? (r = o, !1) : o ? t.isFunction(o[n]) && "_" !== n.charAt(0) ? (i = o[n].apply(o, a)) !== o && void 0 !== i ? (r = i && i.jquery ? r.pushStack(i.get()) : i, !1) : void 0 : t.error("no such method '" + n + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; attempted to call method '" + n + "'")
            }) : (a.length && (n = t.widget.extend.apply(null, [n].concat(a))), this.each(function() {
                var e = t.data(this, s);
                e ? (e.option(n || {}), e._init && e._init()) : t.data(this, s, new i(n, this))
            })), r
        }
    }, t.Widget = function() {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(e, i) {
            i = t(i || this.defaultElement || this)[0], this.element = t(i), this.uuid = h++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), i !== this && (t.data(i, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(t) {
                    t.target === i && this.destroy()
                }
            }), this.document = t(i.style ? i.ownerDocument : i.document || i), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function() {
            return this.element
        },
        option: function(e, i) {
            var s, n, o, a = e;
            if (0 === arguments.length) return t.widget.extend({}, this.options);
            if ("string" == typeof e)
                if (a = {}, s = e.split("."), e = s.shift(), s.length) {
                    for (n = a[e] = t.widget.extend({}, this.options[e]), o = 0; o < s.length - 1; o++) n[s[o]] = n[s[o]] || {}, n = n[s[o]];
                    if (e = s.pop(), 1 === arguments.length) return void 0 === n[e] ? null : n[e];
                    n[e] = i
                } else {
                    if (1 === arguments.length) return void 0 === this.options[e] ? null : this.options[e];
                    a[e] = i
                }
            return this._setOptions(a), this
        },
        _setOptions: function(t) {
            var e;
            for (e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!e), e && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(e, i, s) {
            var n, o = this;
            "boolean" != typeof e && (s = i, i = e, e = !1), s ? (i = n = t(i), this.bindings = this.bindings.add(i)) : (s = i, i = this.element, n = this.widget()), t.each(s, function(s, a) {
                function r() {
                    if (e || !0 !== o.options.disabled && !t(this).hasClass("ui-state-disabled")) return ("string" == typeof a ? o[a] : a).apply(o, arguments)
                }
                "string" != typeof a && (r.guid = a.guid = a.guid || r.guid || t.guid++);
                var h = s.match(/^([\w:-]*)\s*(.*)$/),
                    l = h[1] + o.eventNamespace,
                    c = h[2];
                c ? n.delegate(c, l, r) : i.bind(l, r)
            })
        },
        _off: function(e, i) {
            i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(i).undelegate(i), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get())
        },
        _delay: function(t, e) {
            var i = this;
            return setTimeout(function() {
                return ("string" == typeof t ? i[t] : t).apply(i, arguments)
            }, e || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function(e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function(e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(e, i, s) {
            var n, o, a = this.options[e];
            if (s = s || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent)
                for (n in o) n in i || (i[n] = o[n]);
            return this.element.trigger(i, s), !(t.isFunction(a) && !1 === a.apply(this.element[0], [i].concat(s)) || i.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(e, i) {
        t.Widget.prototype["_" + e] = function(s, n, o) {
            "string" == typeof n && (n = {
                effect: n
            });
            var a, r = n ? !0 === n || "number" == typeof n ? i : n.effect || i : e;
            "number" == typeof(n = n || {}) && (n = {
                duration: n
            }), a = !t.isEmptyObject(n), n.complete = o, n.delay && s.delay(n.delay), a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e && s[r] ? s[r](n.duration, n.easing, o) : s.queue(function(i) {
                t(this)[e](), o && o.call(s[0]), i()
            })
        }
    });
    t.widget;
    var c = !1;
    t(document).mouseup(function() {
        c = !1
    });
    t.widget("ui.mouse", {
        version: "1.11.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function(t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function(i) {
                if (!0 === t.data(i.target, e.widgetName + ".preventClickEvent")) return t.removeData(i.target, e.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1
            }), this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(e) {
            if (!c) {
                this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e;
                var i = this,
                    s = 1 === e.which,
                    n = !("string" != typeof this.options.cancel || !e.target.nodeName) && t(e.target).closest(this.options.cancel).length;
                return !(s && !n && this._mouseCapture(e)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    i.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(e), !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(t) {
                    return i._mouseMove(t)
                }, this._mouseUpDelegate = function(t) {
                    return i._mouseUp(t)
                }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), c = !0, !0))
            }
        },
        _mouseMove: function(e) {
            if (this._mouseMoved) {
                if (t.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button) return this._mouseUp(e);
                if (!e.which) return this._mouseUp(e)
            }
            return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, e), this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function(e) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), c = !1, !1
        },
        _mouseDistanceMet: function(t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    });
    ! function() {
        function e(t, e, i) {
            return [parseFloat(t[0]) * (d.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (d.test(t[1]) ? i / 100 : 1)]
        }

        function i(e, i) {
            return parseInt(t.css(e, i), 10) || 0
        }
        t.ui = t.ui || {};
        var s, n, o = Math.max,
            a = Math.abs,
            r = Math.round,
            h = /left|center|right/,
            l = /top|center|bottom/,
            c = /[\+\-]\d+(\.[\d]+)?%?/,
            u = /^\w+/,
            d = /%$/,
            p = t.fn.position;
        t.position = {
                scrollbarWidth: function() {
                    if (void 0 !== s) return s;
                    var e, i, n = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                        o = n.children()[0];
                    return t("body").append(n), e = o.offsetWidth, n.css("overflow", "scroll"), i = o.offsetWidth, e === i && (i = n[0].clientWidth), n.remove(), s = e - i
                },
                getScrollInfo: function(e) {
                    var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                        s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                        n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth;
                    return {
                        width: "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight ? t.position.scrollbarWidth() : 0,
                        height: n ? t.position.scrollbarWidth() : 0
                    }
                },
                getWithinInfo: function(e) {
                    var i = t(e || window),
                        s = t.isWindow(i[0]),
                        n = !!i[0] && 9 === i[0].nodeType;
                    return {
                        element: i,
                        isWindow: s,
                        isDocument: n,
                        offset: i.offset() || {
                            left: 0,
                            top: 0
                        },
                        scrollLeft: i.scrollLeft(),
                        scrollTop: i.scrollTop(),
                        width: s || n ? i.width() : i.outerWidth(),
                        height: s || n ? i.height() : i.outerHeight()
                    }
                }
            }, t.fn.position = function(s) {
                if (!s || !s.of) return p.apply(this, arguments);
                s = t.extend({}, s);
                var d, f, m, g, v, _, b = t(s.of),
                    y = t.position.getWithinInfo(s.within),
                    w = t.position.getScrollInfo(y),
                    x = (s.collision || "flip").split(" "),
                    k = {};
                return _ = function(e) {
                    var i = e[0];
                    return 9 === i.nodeType ? {
                        width: e.width(),
                        height: e.height(),
                        offset: {
                            top: 0,
                            left: 0
                        }
                    } : t.isWindow(i) ? {
                        width: e.width(),
                        height: e.height(),
                        offset: {
                            top: e.scrollTop(),
                            left: e.scrollLeft()
                        }
                    } : i.preventDefault ? {
                        width: 0,
                        height: 0,
                        offset: {
                            top: i.pageY,
                            left: i.pageX
                        }
                    } : {
                        width: e.outerWidth(),
                        height: e.outerHeight(),
                        offset: e.offset()
                    }
                }(b), b[0].preventDefault && (s.at = "left top"), f = _.width, m = _.height, g = _.offset, v = t.extend({}, g), t.each(["my", "at"], function() {
                    var t, e, i = (s[this] || "").split(" ");
                    1 === i.length && (i = h.test(i[0]) ? i.concat(["center"]) : l.test(i[0]) ? ["center"].concat(i) : ["center", "center"]), i[0] = h.test(i[0]) ? i[0] : "center", i[1] = l.test(i[1]) ? i[1] : "center", t = c.exec(i[0]), e = c.exec(i[1]), k[this] = [t ? t[0] : 0, e ? e[0] : 0], s[this] = [u.exec(i[0])[0], u.exec(i[1])[0]]
                }), 1 === x.length && (x[1] = x[0]), "right" === s.at[0] ? v.left += f : "center" === s.at[0] && (v.left += f / 2), "bottom" === s.at[1] ? v.top += m : "center" === s.at[1] && (v.top += m / 2), d = e(k.at, f, m), v.left += d[0], v.top += d[1], this.each(function() {
                    var h, l, c = t(this),
                        u = c.outerWidth(),
                        p = c.outerHeight(),
                        _ = i(this, "marginLeft"),
                        C = i(this, "marginTop"),
                        D = u + _ + i(this, "marginRight") + w.width,
                        I = p + C + i(this, "marginBottom") + w.height,
                        T = t.extend({}, v),
                        P = e(k.my, c.outerWidth(), c.outerHeight());
                    "right" === s.my[0] ? T.left -= u : "center" === s.my[0] && (T.left -= u / 2), "bottom" === s.my[1] ? T.top -= p : "center" === s.my[1] && (T.top -= p / 2), T.left += P[0], T.top += P[1], n || (T.left = r(T.left), T.top = r(T.top)), h = {
                        marginLeft: _,
                        marginTop: C
                    }, t.each(["left", "top"], function(e, i) {
                        t.ui.position[x[e]] && t.ui.position[x[e]][i](T, {
                            targetWidth: f,
                            targetHeight: m,
                            elemWidth: u,
                            elemHeight: p,
                            collisionPosition: h,
                            collisionWidth: D,
                            collisionHeight: I,
                            offset: [d[0] + P[0], d[1] + P[1]],
                            my: s.my,
                            at: s.at,
                            within: y,
                            elem: c
                        })
                    }), s.using && (l = function(t) {
                        var e = g.left - T.left,
                            i = e + f - u,
                            n = g.top - T.top,
                            r = n + m - p,
                            h = {
                                target: {
                                    element: b,
                                    left: g.left,
                                    top: g.top,
                                    width: f,
                                    height: m
                                },
                                element: {
                                    element: c,
                                    left: T.left,
                                    top: T.top,
                                    width: u,
                                    height: p
                                },
                                horizontal: i < 0 ? "left" : e > 0 ? "right" : "center",
                                vertical: r < 0 ? "top" : n > 0 ? "bottom" : "middle"
                            };
                        f < u && a(e + i) < f && (h.horizontal = "center"), m < p && a(n + r) < m && (h.vertical = "middle"), o(a(e), a(i)) > o(a(n), a(r)) ? h.important = "horizontal" : h.important = "vertical", s.using.call(this, t, h)
                    }), c.offset(t.extend(T, {
                        using: l
                    }))
                })
            }, t.ui.position = {
                fit: {
                    left: function(t, e) {
                        var i, s = e.within,
                            n = s.isWindow ? s.scrollLeft : s.offset.left,
                            a = s.width,
                            r = t.left - e.collisionPosition.marginLeft,
                            h = n - r,
                            l = r + e.collisionWidth - a - n;
                        e.collisionWidth > a ? h > 0 && l <= 0 ? (i = t.left + h + e.collisionWidth - a - n, t.left += h - i) : t.left = l > 0 && h <= 0 ? n : h > l ? n + a - e.collisionWidth : n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = o(t.left - r, t.left)
                    },
                    top: function(t, e) {
                        var i, s = e.within,
                            n = s.isWindow ? s.scrollTop : s.offset.top,
                            a = e.within.height,
                            r = t.top - e.collisionPosition.marginTop,
                            h = n - r,
                            l = r + e.collisionHeight - a - n;
                        e.collisionHeight > a ? h > 0 && l <= 0 ? (i = t.top + h + e.collisionHeight - a - n, t.top += h - i) : t.top = l > 0 && h <= 0 ? n : h > l ? n + a - e.collisionHeight : n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = o(t.top - r, t.top)
                    }
                },
                flip: {
                    left: function(t, e) {
                        var i, s, n = e.within,
                            o = n.offset.left + n.scrollLeft,
                            r = n.width,
                            h = n.isWindow ? n.scrollLeft : n.offset.left,
                            l = t.left - e.collisionPosition.marginLeft,
                            c = l - h,
                            u = l + e.collisionWidth - r - h,
                            d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                            p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                            f = -2 * e.offset[0];
                        c < 0 ? ((i = t.left + d + p + f + e.collisionWidth - r - o) < 0 || i < a(c)) && (t.left += d + p + f) : u > 0 && ((s = t.left - e.collisionPosition.marginLeft + d + p + f - h) > 0 || a(s) < u) && (t.left += d + p + f)
                    },
                    top: function(t, e) {
                        var i, s, n = e.within,
                            o = n.offset.top + n.scrollTop,
                            r = n.height,
                            h = n.isWindow ? n.scrollTop : n.offset.top,
                            l = t.top - e.collisionPosition.marginTop,
                            c = l - h,
                            u = l + e.collisionHeight - r - h,
                            d = "top" === e.my[1] ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                            p = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                            f = -2 * e.offset[1];
                        c < 0 ? ((s = t.top + d + p + f + e.collisionHeight - r - o) < 0 || s < a(c)) && (t.top += d + p + f) : u > 0 && ((i = t.top - e.collisionPosition.marginTop + d + p + f - h) > 0 || a(i) < u) && (t.top += d + p + f)
                    }
                },
                flipfit: {
                    left: function() {
                        t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                    },
                    top: function() {
                        t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                    }
                }
            },
            function() {
                var e, i, s, o, a, r = document.getElementsByTagName("body")[0],
                    h = document.createElement("div");
                e = document.createElement(r ? "div" : "body"), s = {
                    visibility: "hidden",
                    width: 0,
                    height: 0,
                    border: 0,
                    margin: 0,
                    background: "none"
                }, r && t.extend(s, {
                    position: "absolute",
                    left: "-1000px",
                    top: "-1000px"
                });
                for (a in s) e.style[a] = s[a];
                e.appendChild(h), (i = r || document.documentElement).insertBefore(e, i.firstChild), h.style.cssText = "position: absolute; left: 10.7432222px;", o = t(h).offset().left, n = o > 10 && o < 11, e.innerHTML = "", i.removeChild(e)
            }()
    }();
    t.ui.position;
    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._setHandleClassName(), this._mouseInit()
        },
        _setOption: function(t, e) {
            this._super(t, e), "handle" === t && (this._removeHandleClassName(), this._setHandleClassName())
        },
        _destroy: function() {
            (this.helper || this.element).is(".ui-draggable-dragging") ? this.destroyOnClear = !0 : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), this._mouseDestroy())
        },
        _mouseCapture: function(e) {
            var i = this.options;
            return this._blurActiveElement(e), !(this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(e), !!this.handle && (this._blockFrames(!0 === i.iframeFix ? "iframe" : i.iframeFix), !0))
        },
        _blockFrames: function(e) {
            this.iframeBlocks = this.document.find(e).map(function() {
                var e = t(this);
                return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _blurActiveElement: function(e) {
            var i = this.document[0];
            if (this.handleElement.is(e.target)) try {
                i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && t(i.activeElement).blur()
            } catch (t) {}
        },
        _mouseStart: function(e) {
            var i = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function() {
                return "fixed" === t(this).css("position")
            }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(e), this.originalPosition = this.position = this._generatePosition(e, !1), this.originalPageX = e.pageX, this.originalPageY = e.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), !1 === this._trigger("start", e) ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._normalizeRightBottom(), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _refreshOffsets: function(t) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }, this.offset.click = {
                left: t.pageX - this.offset.left,
                top: t.pageY - this.offset.top
            }
        },
        _mouseDrag: function(e, i) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                var s = this._uiHash();
                if (!1 === this._trigger("drag", e, s)) return this._mouseUp({}), !1;
                this.position = s.position
            }
            return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function(e) {
            var i = this,
                s = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)), this.dropped && (s = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !s || "valid" === this.options.revert && s || !0 === this.options.revert || t.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                !1 !== i._trigger("stop", e) && i._clear()
            }) : !1 !== this._trigger("stop", e) && this._clear(), !1
        },
        _mouseUp: function(e) {
            return this._unblockFrames(), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), this.handleElement.is(e.target) && this.element.focus(), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function(e) {
            return !this.options.handle || !!t(e.target).closest(this.element.find(this.options.handle)).length
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(e) {
            var i = this.options,
                s = t.isFunction(i.helper),
                n = s ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return n.parents("body").length || n.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), s && n[0] === this.element[0] && this._setPositionRelative(), n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"), n
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _isRootNode: function(t) {
            return /(html|body)/i.test(t.tagName) || t === this.document[0]
        },
        _getParentOffset: function() {
            var e = this.offsetParent.offset(),
                i = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== i && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition) return {
                top: 0,
                left: 0
            };
            var t = this.element.position(),
                e = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i, s, n = this.options,
                o = this.document[0];
            this.relativeContainer = null, n.containment ? "window" !== n.containment ? "document" !== n.containment ? n.containment.constructor !== Array ? ("parent" === n.containment && (n.containment = this.helper[0].parentNode), (s = (i = t(n.containment))[0]) && (e = /(scroll|auto)/.test(i.css("overflow")), this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = i)) : this.containment = n.containment : this.containment = [0, 0, t(o).width() - this.helperProportions.width - this.margins.left, (t(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] : this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top] : this.containment = null
        },
        _convertPositionTo: function(t, e) {
            e || (e = this.position);
            var i = "absolute" === t ? 1 : -1,
                s = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i,
                left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i
            }
        },
        _generatePosition: function(t, e) {
            var i, s, n, o, a = this.options,
                r = this._isRootNode(this.scrollParent[0]),
                h = t.pageX,
                l = t.pageY;
            return r && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }), e && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, t.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left), t.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top), t.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left), t.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)), a.grid && (n = a.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY, l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - a.grid[1] : n + a.grid[1] : n, o = a.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX, h = i ? o - this.offset.click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - a.grid[0] : o + a.grid[0] : o), "y" === a.axis && (h = this.originalPageX), "x" === a.axis && (l = this.originalPageY)), {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top),
                left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")), "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto"))
        },
        _trigger: function(e, i, s) {
            return s = s || this._uiHash(), t.ui.plugin.call(this, e, [i, s, this], !0), /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"), s.offset = this.positionAbs), t.Widget.prototype._trigger.call(this, e, i, s)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function(e, i, s) {
            var n = t.extend({}, i, {
                item: s.element
            });
            s.sortables = [], t(s.options.connectToSortable).each(function() {
                var i = t(this).sortable("instance");
                i && !i.options.disabled && (s.sortables.push(i), i.refreshPositions(), i._trigger("activate", e, n))
            })
        },
        stop: function(e, i, s) {
            var n = t.extend({}, i, {
                item: s.element
            });
            s.cancelHelperRemoval = !1, t.each(s.sortables, function() {
                this.isOver ? (this.isOver = 0, s.cancelHelperRemoval = !0, this.cancelHelperRemoval = !1, this._storedCSS = {
                    position: this.placeholder.css("position"),
                    top: this.placeholder.css("top"),
                    left: this.placeholder.css("left")
                }, this._mouseStop(e), this.options.helper = this.options._helper) : (this.cancelHelperRemoval = !0, this._trigger("deactivate", e, n))
            })
        },
        drag: function(e, i, s) {
            t.each(s.sortables, function() {
                var n = !1,
                    o = this;
                o.positionAbs = s.positionAbs, o.helperProportions = s.helperProportions, o.offset.click = s.offset.click, o._intersectsWith(o.containerCache) && (n = !0, t.each(s.sortables, function() {
                    return this.positionAbs = s.positionAbs, this.helperProportions = s.helperProportions, this.offset.click = s.offset.click, this !== o && this._intersectsWith(this.containerCache) && t.contains(o.element[0], this.element[0]) && (n = !1), n
                })), n ? (o.isOver || (o.isOver = 1, s._parent = i.helper.parent(), o.currentItem = i.helper.appendTo(o.element).data("ui-sortable-item", !0), o.options._helper = o.options.helper, o.options.helper = function() {
                    return i.helper[0]
                }, e.target = o.currentItem[0], o._mouseCapture(e, !0), o._mouseStart(e, !0, !0), o.offset.click.top = s.offset.click.top, o.offset.click.left = s.offset.click.left, o.offset.parent.left -= s.offset.parent.left - o.offset.parent.left, o.offset.parent.top -= s.offset.parent.top - o.offset.parent.top, s._trigger("toSortable", e), s.dropped = o.element, t.each(s.sortables, function() {
                    this.refreshPositions()
                }), s.currentItem = s.element, o.fromOutside = s), o.currentItem && (o._mouseDrag(e), i.position = o.position)) : o.isOver && (o.isOver = 0, o.cancelHelperRemoval = !0, o.options._revert = o.options.revert, o.options.revert = !1, o._trigger("out", e, o._uiHash(o)), o._mouseStop(e, !0), o.options.revert = o.options._revert, o.options.helper = o.options._helper, o.placeholder && o.placeholder.remove(), i.helper.appendTo(s._parent), s._refreshOffsets(e), i.position = s._generatePosition(e, !0), s._trigger("fromSortable", e), s.dropped = !1, t.each(s.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function(e, i, s) {
            var n = t("body"),
                o = s.options;
            n.css("cursor") && (o._cursor = n.css("cursor")), n.css("cursor", o.cursor)
        },
        stop: function(e, i, s) {
            var n = s.options;
            n._cursor && t("body").css("cursor", n._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function(e, i, s) {
            var n = t(i.helper),
                o = s.options;
            n.css("opacity") && (o._opacity = n.css("opacity")), n.css("opacity", o.opacity)
        },
        stop: function(e, i, s) {
            var n = s.options;
            n._opacity && t(i.helper).css("opacity", n._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function(t, e, i) {
            i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)), i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
        },
        drag: function(e, i, s) {
            var n = s.options,
                o = !1,
                a = s.scrollParentNotHidden[0],
                r = s.document[0];
            a !== r && "HTML" !== a.tagName ? (n.axis && "x" === n.axis || (s.overflowOffset.top + a.offsetHeight - e.pageY < n.scrollSensitivity ? a.scrollTop = o = a.scrollTop + n.scrollSpeed : e.pageY - s.overflowOffset.top < n.scrollSensitivity && (a.scrollTop = o = a.scrollTop - n.scrollSpeed)), n.axis && "y" === n.axis || (s.overflowOffset.left + a.offsetWidth - e.pageX < n.scrollSensitivity ? a.scrollLeft = o = a.scrollLeft + n.scrollSpeed : e.pageX - s.overflowOffset.left < n.scrollSensitivity && (a.scrollLeft = o = a.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (e.pageY - t(r).scrollTop() < n.scrollSensitivity ? o = t(r).scrollTop(t(r).scrollTop() - n.scrollSpeed) : t(window).height() - (e.pageY - t(r).scrollTop()) < n.scrollSensitivity && (o = t(r).scrollTop(t(r).scrollTop() + n.scrollSpeed))), n.axis && "y" === n.axis || (e.pageX - t(r).scrollLeft() < n.scrollSensitivity ? o = t(r).scrollLeft(t(r).scrollLeft() - n.scrollSpeed) : t(window).width() - (e.pageX - t(r).scrollLeft()) < n.scrollSensitivity && (o = t(r).scrollLeft(t(r).scrollLeft() + n.scrollSpeed)))), !1 !== o && t.ui.ddmanager && !n.dropBehaviour && t.ui.ddmanager.prepareOffsets(s, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function(e, i, s) {
            var n = s.options;
            s.snapElements = [], t(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function() {
                var e = t(this),
                    i = e.offset();
                this !== s.element[0] && s.snapElements.push({
                    item: this,
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    top: i.top,
                    left: i.left
                })
            })
        },
        drag: function(e, i, s) {
            var n, o, a, r, h, l, c, u, d, p, f = s.options,
                m = f.snapTolerance,
                g = i.offset.left,
                v = g + s.helperProportions.width,
                _ = i.offset.top,
                b = _ + s.helperProportions.height;
            for (d = s.snapElements.length - 1; d >= 0; d--) l = (h = s.snapElements[d].left - s.margins.left) + s.snapElements[d].width, u = (c = s.snapElements[d].top - s.margins.top) + s.snapElements[d].height, v < h - m || g > l + m || b < c - m || _ > u + m || !t.contains(s.snapElements[d].item.ownerDocument, s.snapElements[d].item) ? (s.snapElements[d].snapping && s.options.snap.release && s.options.snap.release.call(s.element, e, t.extend(s._uiHash(), {
                snapItem: s.snapElements[d].item
            })), s.snapElements[d].snapping = !1) : ("inner" !== f.snapMode && (n = Math.abs(c - b) <= m, o = Math.abs(u - _) <= m, a = Math.abs(h - v) <= m, r = Math.abs(l - g) <= m, n && (i.position.top = s._convertPositionTo("relative", {
                top: c - s.helperProportions.height,
                left: 0
            }).top), o && (i.position.top = s._convertPositionTo("relative", {
                top: u,
                left: 0
            }).top), a && (i.position.left = s._convertPositionTo("relative", {
                top: 0,
                left: h - s.helperProportions.width
            }).left), r && (i.position.left = s._convertPositionTo("relative", {
                top: 0,
                left: l
            }).left)), p = n || o || a || r, "outer" !== f.snapMode && (n = Math.abs(c - _) <= m, o = Math.abs(u - b) <= m, a = Math.abs(h - g) <= m, r = Math.abs(l - v) <= m, n && (i.position.top = s._convertPositionTo("relative", {
                top: c,
                left: 0
            }).top), o && (i.position.top = s._convertPositionTo("relative", {
                top: u - s.helperProportions.height,
                left: 0
            }).top), a && (i.position.left = s._convertPositionTo("relative", {
                top: 0,
                left: h
            }).left), r && (i.position.left = s._convertPositionTo("relative", {
                top: 0,
                left: l - s.helperProportions.width
            }).left)), !s.snapElements[d].snapping && (n || o || a || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, e, t.extend(s._uiHash(), {
                snapItem: s.snapElements[d].item
            })), s.snapElements[d].snapping = n || o || a || r || p)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function(e, i, s) {
            var n, o = s.options,
                a = t.makeArray(t(o.stack)).sort(function(e, i) {
                    return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0)
                });
            a.length && (n = parseInt(t(a[0]).css("zIndex"), 10) || 0, t(a).each(function(e) {
                t(this).css("zIndex", n + e)
            }), this.css("zIndex", n + a.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function(e, i, s) {
            var n = t(i.helper),
                o = s.options;
            n.css("zIndex") && (o._zIndex = n.css("zIndex")), n.css("zIndex", o.zIndex)
        },
        stop: function(e, i, s) {
            var n = s.options;
            n._zIndex && t(i.helper).css("zIndex", n._zIndex)
        }
    });
    t.ui.draggable;
    t.widget("ui.droppable", {
        version: "1.11.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var e, i = this.options,
                s = i.accept;
            this.isover = !1, this.isout = !0, this.accept = t.isFunction(s) ? s : function(t) {
                return t.is(s)
            }, this.proportions = function() {
                if (!arguments.length) return e || (e = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                });
                e = arguments[0]
            }, this._addToManager(i.scope), i.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function(e) {
            t.ui.ddmanager.droppables[e] = t.ui.ddmanager.droppables[e] || [], t.ui.ddmanager.droppables[e].push(this)
        },
        _splice: function(t) {
            for (var e = 0; e < t.length; e++) t[e] === this && t.splice(e, 1)
        },
        _destroy: function() {
            var e = t.ui.ddmanager.droppables[this.options.scope];
            this._splice(e), this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(e, i) {
            if ("accept" === e) this.accept = t.isFunction(i) ? i : function(t) {
                return t.is(i)
            };
            else if ("scope" === e) {
                var s = t.ui.ddmanager.droppables[this.options.scope];
                this._splice(s), this._addToManager(i)
            }
            this._super(e, i)
        },
        _activate: function(e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function(e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger("deactivate", e, this.ui(i))
        },
        _over: function(e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", e, this.ui(i)))
        },
        _out: function(e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", e, this.ui(i)))
        },
        _drop: function(e, i) {
            var s = i || t.ui.ddmanager.current,
                n = !1;
            return !(!s || (s.currentItem || s.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var i = t(this).droppable("instance");
                if (i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && t.ui.intersect(s, t.extend(i, {
                        offset: i.element.offset()
                    }), i.options.tolerance, e)) return n = !0, !1
            }), !n && (!!this.accept.call(this.element[0], s.currentItem || s.element) && (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", e, this.ui(s)), this.element)))
        },
        ui: function(t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }), t.ui.intersect = function() {
        function t(t, e, i) {
            return t >= e && t < e + i
        }
        return function(e, i, s, n) {
            if (!i.offset) return !1;
            var o = (e.positionAbs || e.position.absolute).left + e.margins.left,
                a = (e.positionAbs || e.position.absolute).top + e.margins.top,
                r = o + e.helperProportions.width,
                h = a + e.helperProportions.height,
                l = i.offset.left,
                c = i.offset.top,
                u = l + i.proportions().width,
                d = c + i.proportions().height;
            switch (s) {
                case "fit":
                    return l <= o && r <= u && c <= a && h <= d;
                case "intersect":
                    return l < o + e.helperProportions.width / 2 && r - e.helperProportions.width / 2 < u && c < a + e.helperProportions.height / 2 && h - e.helperProportions.height / 2 < d;
                case "pointer":
                    return t(n.pageY, c, i.proportions().height) && t(n.pageX, l, i.proportions().width);
                case "touch":
                    return (a >= c && a <= d || h >= c && h <= d || a < c && h > d) && (o >= l && o <= u || r >= l && r <= u || o < l && r > u);
                default:
                    return !1
            }
        }
    }(), t.ui.ddmanager = {
        current: null,
        droppables: {
            default: []
        },
        prepareOffsets: function(e, i) {
            var s, n, o = t.ui.ddmanager.droppables[e.options.scope] || [],
                a = i ? i.type : null,
                r = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
            t: for (s = 0; s < o.length; s++)
                if (!(o[s].options.disabled || e && !o[s].accept.call(o[s].element[0], e.currentItem || e.element))) {
                    for (n = 0; n < r.length; n++)
                        if (r[n] === o[s].element[0]) {
                            o[s].proportions().height = 0;
                            continue t
                        }
                    o[s].visible = "none" !== o[s].element.css("display"), o[s].visible && ("mousedown" === a && o[s]._activate.call(o[s], i), o[s].offset = o[s].element.offset(), o[s].proportions({
                        width: o[s].element[0].offsetWidth,
                        height: o[s].element[0].offsetHeight
                    }))
                }
        },
        drop: function(e, i) {
            var s = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && t.ui.intersect(e, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
            }), s
        },
        dragStart: function(e, i) {
            e.element.parentsUntil("body").bind("scroll.droppable", function() {
                e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
            })
        },
        drag: function(e, i) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, o, a = t.ui.intersect(e, this, this.options.tolerance, i),
                        r = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope, (o = this.element.parents(":data(ui-droppable)").filter(function() {
                        return t(this).droppable("instance").options.scope === n
                    })).length && ((s = t(o[0]).droppable("instance")).greedyChild = "isover" === r)), s && "isover" === r && (s.isover = !1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this["isout" === r ? "isover" : "isout"] = !1, this["isover" === r ? "_over" : "_out"].call(this, i), s && "isout" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i)))
                }
            })
        },
        dragStop: function(e, i) {
            e.element.parentsUntil("body").unbind("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
        }
    };
    t.ui.droppable;
    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(t) {
            return parseInt(t, 10) || 0
        },
        _isNumber: function(t) {
            return !isNaN(parseInt(t, 10))
        },
        _hasScroll: function(e, i) {
            if ("hidden" === t(e).css("overflow")) return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop",
                n = !1;
            return e[s] > 0 || (e[s] = 1, n = e[s] > 0, e[s] = 0, n)
        },
        _create: function() {
            var e, i, s, n, o = this,
                a = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                    _aspectRatio: !!a.aspectRatio,
                    aspectRatio: a.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: a.helper || a.ghost || a.animate ? a.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }), this._proportionallyResize()), this.handles = a.handles || (t(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this._handles = t(), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, i = 0; i < e.length; i++) s = t.trim(e[i]), (n = t("<div class='ui-resizable-handle " + ("ui-resizable-" + s) + "'></div>")).css({
                    zIndex: a.zIndex
                }), "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[s] = ".ui-resizable-" + s, this.element.append(n);
            this._renderAxis = function(e) {
                var i, s, n, a;
                e = e || this.element;
                for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = t(this.handles[i]), this._on(this.handles[i], {
                    mousedown: o._mouseDown
                })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (s = t(this.handles[i], this.element), a = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(), n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(n, a), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i])
            }, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.mouseover(function() {
                o.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), o.axis = n && n[1] ? n[1] : "se")
            }), a.autoHide && (this._handles.hide(), t(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                a.disabled || (t(this).removeClass("ui-resizable-autohide"), o._handles.show())
            }).mouseleave(function() {
                a.disabled || o.resizing || (t(this).addClass("ui-resizable-autohide"), o._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var e, i = function(e) {
                t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
        },
        _mouseCapture: function(e) {
            var i, s, n = !1;
            for (i in this.handles)((s = t(this.handles[i])[0]) === e.target || t.contains(s, e.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(e) {
            var i, s, n, o = this.options,
                a = this.element;
            return this.resizing = !0, this._renderProxy(), i = this._num(this.helper.css("left")), s = this._num(this.helper.css("top")), o.containment && (i += t(o.containment).scrollLeft() || 0, s += t(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: i,
                top: s
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: a.width(),
                height: a.height()
            }, this.originalSize = this._helper ? {
                width: a.outerWidth(),
                height: a.outerHeight()
            } : {
                width: a.width(),
                height: a.height()
            }, this.sizeDiff = {
                width: a.outerWidth() - a.width(),
                height: a.outerHeight() - a.height()
            }, this.originalPosition = {
                left: i,
                top: s
            }, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, n = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === n ? this.axis + "-resize" : n), a.addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function(e) {
            var i, s, n = this.originalMousePosition,
                o = this.axis,
                a = e.pageX - n.left || 0,
                r = e.pageY - n.top || 0,
                h = this._change[o];
            return this._updatePrevProperties(), !!h && (i = h.apply(this, [e, a, r]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), s = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(s) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1)
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var i, s, n, o, a, r, h, l = this.options;
            return this._helper && (n = (s = (i = this._proportionallyResizeElements).length && /textarea/i.test(i[0].nodeName)) && this._hasScroll(i[0], "left") ? 0 : this.sizeDiff.height, o = s ? 0 : this.sizeDiff.width, a = {
                width: this.helper.width() - o,
                height: this.helper.height() - n
            }, r = parseInt(this.element.css("left"), 10) + (this.position.left - this.originalPosition.left) || null, h = parseInt(this.element.css("top"), 10) + (this.position.top - this.originalPosition.top) || null, l.animate || this.element.css(t.extend(a, {
                top: h,
                left: r
            })), this.helper.height(this.size.height), this.helper.width(this.size.width), this._helper && !l.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            }, this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var t = {};
            return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"), this.helper.css(t), t
        },
        _updateVirtualBoundaries: function(t) {
            var e, i, s, n, o, a = this.options;
            o = {
                minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0,
                maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0,
                minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0,
                maxHeight: this._isNumber(a.maxHeight) ? a.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio, s = o.minWidth / this.aspectRatio, i = o.maxHeight * this.aspectRatio, n = o.maxWidth / this.aspectRatio, e > o.minWidth && (o.minWidth = e), s > o.minHeight && (o.minHeight = s), i < o.maxWidth && (o.maxWidth = i), n < o.maxHeight && (o.maxHeight = n)), this._vBoundaries = o
        },
        _updateCache: function(t) {
            this.offset = this.helper.offset(), this._isNumber(t.left) && (this.position.left = t.left), this._isNumber(t.top) && (this.position.top = t.top), this._isNumber(t.height) && (this.size.height = t.height), this._isNumber(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function(t) {
            var e = this.position,
                i = this.size,
                s = this.axis;
            return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio), "sw" === s && (t.left = e.left + (i.width - t.width), t.top = null), "nw" === s && (t.top = e.top + (i.height - t.height), t.left = e.left + (i.width - t.width)), t
        },
        _respectSize: function(t) {
            var e = this._vBoundaries,
                i = this.axis,
                s = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width,
                n = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height,
                o = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width,
                a = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height,
                r = this.originalPosition.left + this.originalSize.width,
                h = this.position.top + this.size.height,
                l = /sw|nw|w/.test(i),
                c = /nw|ne|n/.test(i);
            return o && (t.width = e.minWidth), a && (t.height = e.minHeight), s && (t.width = e.maxWidth), n && (t.height = e.maxHeight), o && l && (t.left = r - e.minWidth), s && l && (t.left = r - e.maxWidth), a && c && (t.top = h - e.minHeight), n && c && (t.top = h - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _getPaddingPlusBorderDimensions: function(t) {
            for (var e = 0, i = [], s = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], n = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; e < 4; e++) i[e] = parseInt(s[e], 10) || 0, i[e] += parseInt(n[e], 10) || 0;
            return {
                height: i[0] + i[2],
                width: i[1] + i[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var t, e = 0, i = this.helper || this.element; e < this._proportionallyResizeElements.length; e++) t = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)), t.css({
                    height: i.height() - this.outerDimensions.height || 0,
                    width: i.width() - this.outerDimensions.width || 0
                })
        },
        _renderProxy: function() {
            var e = this.element,
                i = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(t, e) {
                var i = this.originalSize;
                return {
                    left: this.originalPosition.left + e,
                    width: i.width - e
                }
            },
            n: function(t, e, i) {
                var s = this.originalSize;
                return {
                    top: this.originalPosition.top + i,
                    height: s.height - i
                }
            },
            s: function(t, e, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            sw: function(e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            },
            ne: function(e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            nw: function(e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            }
        },
        _propagate: function(e, i) {
            t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function(e) {
            var i = t(this).resizable("instance"),
                s = i.options,
                n = i._proportionallyResizeElements,
                o = n.length && /textarea/i.test(n[0].nodeName),
                a = o && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height,
                r = o ? 0 : i.sizeDiff.width,
                h = {
                    width: i.size.width - r,
                    height: i.size.height - a
                },
                l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(t.extend(h, c && l ? {
                top: c,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function() {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && t(n[0]).css({
                        width: s.width,
                        height: s.height
                    }), i._updateCache(s), i._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function() {
            var e, i, s, n, o, a, r, h = t(this).resizable("instance"),
                l = h.options,
                c = h.element,
                u = l.containment,
                d = u instanceof t ? u.get(0) : /parent/.test(u) ? c.parent().get(0) : u;
            d && (h.containerElement = t(d), /document/.test(u) || u === document ? (h.containerOffset = {
                left: 0,
                top: 0
            }, h.containerPosition = {
                left: 0,
                top: 0
            }, h.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(d), i = [], t(["Top", "Right", "Left", "Bottom"]).each(function(t, s) {
                i[t] = h._num(e.css("padding" + s))
            }), h.containerOffset = e.offset(), h.containerPosition = e.position(), h.containerSize = {
                height: e.innerHeight() - i[3],
                width: e.innerWidth() - i[1]
            }, s = h.containerOffset, n = h.containerSize.height, o = h.containerSize.width, a = h._hasScroll(d, "left") ? d.scrollWidth : o, r = h._hasScroll(d) ? d.scrollHeight : n, h.parentData = {
                element: d,
                left: s.left,
                top: s.top,
                width: a,
                height: r
            }))
        },
        resize: function(e) {
            var i, s, n, o, a = t(this).resizable("instance"),
                r = a.options,
                h = a.containerOffset,
                l = a.position,
                c = a._aspectRatio || e.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                d = a.containerElement,
                p = !0;
            d[0] !== document && /static/.test(d.css("position")) && (u = h), l.left < (a._helper ? h.left : 0) && (a.size.width = a.size.width + (a._helper ? a.position.left - h.left : a.position.left - u.left), c && (a.size.height = a.size.width / a.aspectRatio, p = !1), a.position.left = r.helper ? h.left : 0), l.top < (a._helper ? h.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top - h.top : a.position.top), c && (a.size.width = a.size.height * a.aspectRatio, p = !1), a.position.top = a._helper ? h.top : 0), n = a.containerElement.get(0) === a.element.parent().get(0), o = /relative|absolute/.test(a.containerElement.css("position")), n && o ? (a.offset.left = a.parentData.left + a.position.left, a.offset.top = a.parentData.top + a.position.top) : (a.offset.left = a.element.offset().left, a.offset.top = a.element.offset().top), i = Math.abs(a.sizeDiff.width + (a._helper ? a.offset.left - u.left : a.offset.left - h.left)), s = Math.abs(a.sizeDiff.height + (a._helper ? a.offset.top - u.top : a.offset.top - h.top)), i + a.size.width >= a.parentData.width && (a.size.width = a.parentData.width - i, c && (a.size.height = a.size.width / a.aspectRatio, p = !1)), s + a.size.height >= a.parentData.height && (a.size.height = a.parentData.height - s, c && (a.size.width = a.size.height * a.aspectRatio, p = !1)), p || (a.position.left = a.prevPosition.left, a.position.top = a.prevPosition.top, a.size.width = a.prevSize.width, a.size.height = a.prevSize.height)
        },
        stop: function() {
            var e = t(this).resizable("instance"),
                i = e.options,
                s = e.containerOffset,
                n = e.containerPosition,
                o = e.containerElement,
                a = t(e.helper),
                r = a.offset(),
                h = a.outerWidth() - e.sizeDiff.width,
                l = a.outerHeight() - e.sizeDiff.height;
            e._helper && !i.animate && /relative/.test(o.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            }), e._helper && !i.animate && /static/.test(o.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var e = t(this).resizable("instance").options;
            t(e.alsoResize).each(function() {
                var e = t(this);
                e.data("ui-resizable-alsoresize", {
                    width: parseInt(e.width(), 10),
                    height: parseInt(e.height(), 10),
                    left: parseInt(e.css("left"), 10),
                    top: parseInt(e.css("top"), 10)
                })
            })
        },
        resize: function(e, i) {
            var s = t(this).resizable("instance"),
                n = s.options,
                o = s.originalSize,
                a = s.originalPosition,
                r = {
                    height: s.size.height - o.height || 0,
                    width: s.size.width - o.width || 0,
                    top: s.position.top - a.top || 0,
                    left: s.position.left - a.left || 0
                };
            t(n.alsoResize).each(function() {
                var e = t(this),
                    s = t(this).data("ui-resizable-alsoresize"),
                    n = {},
                    o = e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                t.each(o, function(t, e) {
                    var i = (s[e] || 0) + (r[e] || 0);
                    i && i >= 0 && (n[e] = i || null)
                }), e.css(n)
            })
        },
        stop: function() {
            t(this).removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var e = t(this).resizable("instance"),
                i = e.options,
                s = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""), e.ghost.appendTo(e.helper)
        },
        resize: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var e, i = t(this).resizable("instance"),
                s = i.options,
                n = i.size,
                o = i.originalSize,
                a = i.originalPosition,
                r = i.axis,
                h = "number" == typeof s.grid ? [s.grid, s.grid] : s.grid,
                l = h[0] || 1,
                c = h[1] || 1,
                u = Math.round((n.width - o.width) / l) * l,
                d = Math.round((n.height - o.height) / c) * c,
                p = o.width + u,
                f = o.height + d,
                m = s.maxWidth && s.maxWidth < p,
                g = s.maxHeight && s.maxHeight < f,
                v = s.minWidth && s.minWidth > p,
                _ = s.minHeight && s.minHeight > f;
            s.grid = h, v && (p += l), _ && (f += c), m && (p -= l), g && (f -= c), /^(se|s|e)$/.test(r) ? (i.size.width = p, i.size.height = f) : /^(ne)$/.test(r) ? (i.size.width = p, i.size.height = f, i.position.top = a.top - d) : /^(sw)$/.test(r) ? (i.size.width = p, i.size.height = f, i.position.left = a.left - u) : ((f - c <= 0 || p - l <= 0) && (e = i._getPaddingPlusBorderDimensions(this)), f - c > 0 ? (i.size.height = f, i.position.top = a.top - d) : (f = c - e.height, i.size.height = f, i.position.top = a.top + o.height - f), p - l > 0 ? (i.size.width = p, i.position.left = a.left - u) : (p = l - e.width, i.size.width = p, i.position.left = a.left + o.width - p))
        }
    });
    t.ui.resizable, t.widget("ui.selectable", t.ui.mouse, {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var e, i = this;
            this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
                (e = t(i.options.filter, i.element[0])).addClass("ui-selectee"), e.each(function() {
                    var e = t(this),
                        i = e.offset();
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }, this.refresh(), this.selectees = e.addClass("ui-selectee"), this._mouseInit(), this.helper = t("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
        },
        _mouseStart: function(e) {
            var i = this,
                s = this.options;
            this.opos = [e.pageX, e.pageY], this.options.disabled || (this.selectees = t(s.filter, this.element[0]), this._trigger("start", e), t(s.appendTo).append(this.helper), this.helper.css({
                left: e.pageX,
                top: e.pageY,
                width: 0,
                height: 0
            }), s.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                var s = t.data(this, "selectable-item");
                s.startselected = !0, e.metaKey || e.ctrlKey || (s.$element.removeClass("ui-selected"), s.selected = !1, s.$element.addClass("ui-unselecting"), s.unselecting = !0, i._trigger("unselecting", e, {
                    unselecting: s.element
                }))
            }), t(e.target).parents().addBack().each(function() {
                var s, n = t.data(this, "selectable-item");
                if (n) return s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"), n.$element.removeClass(s ? "ui-unselecting" : "ui-selected").addClass(s ? "ui-selecting" : "ui-unselecting"), n.unselecting = !s, n.selecting = s, n.selected = s, s ? i._trigger("selecting", e, {
                    selecting: n.element
                }) : i._trigger("unselecting", e, {
                    unselecting: n.element
                }), !1
            }))
        },
        _mouseDrag: function(e) {
            if (this.dragged = !0, !this.options.disabled) {
                var i, s = this,
                    n = this.options,
                    o = this.opos[0],
                    a = this.opos[1],
                    r = e.pageX,
                    h = e.pageY;
                return o > r && (i = r, r = o, o = i), a > h && (i = h, h = a, a = i), this.helper.css({
                    left: o,
                    top: a,
                    width: r - o,
                    height: h - a
                }), this.selectees.each(function() {
                    var i = t.data(this, "selectable-item"),
                        l = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? l = !(i.left > r || i.right < o || i.top > h || i.bottom < a) : "fit" === n.tolerance && (l = i.left > o && i.right < r && i.top > a && i.bottom < h), l ? (i.selected && (i.$element.removeClass("ui-selected"), i.selected = !1), i.unselecting && (i.$element.removeClass("ui-unselecting"), i.unselecting = !1), i.selecting || (i.$element.addClass("ui-selecting"), i.selecting = !0, s._trigger("selecting", e, {
                        selecting: i.element
                    }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.$element.addClass("ui-selected"), i.selected = !0) : (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.startselected && (i.$element.addClass("ui-unselecting"), i.unselecting = !0), s._trigger("unselecting", e, {
                        unselecting: i.element
                    }))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"), i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, s._trigger("unselecting", e, {
                        unselecting: i.element
                    })))))
                }), !1
            }
        },
        _mouseStop: function(e) {
            var i = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0]).each(function() {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-unselecting"), s.unselecting = !1, s.startselected = !1, i._trigger("unselected", e, {
                    unselected: s.element
                })
            }), t(".ui-selecting", this.element[0]).each(function() {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-selecting").addClass("ui-selected"), s.selecting = !1, s.selected = !0, s.startselected = !0, i._trigger("selected", e, {
                    selected: s.element
                })
            }), this._trigger("stop", e), this.helper.remove(), !1
        }
    }), t.widget("ui.sortable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(t, e, i) {
            return t >= e && t < e + i
        },
        _isFloating: function(t) {
            return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
        },
        _create: function() {
            this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
        },
        _setOption: function(t, e) {
            this._super(t, e), "handle" === t && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"), t.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"), this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(e, i) {
            var s = null,
                n = !1,
                o = this;
            return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(e), t(e.target).parents().each(function() {
                if (t.data(this, o.widgetName + "-item") === o) return s = t(this), !1
            }), t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)), !!s && (!(this.options.handle && !i && (t(this.options.handle, s).find("*").addBack().each(function() {
                this === e.target && (n = !0)
            }), !n)) && (this.currentItem = s, this._removeCurrentsFromItems(), !0))))
        },
        _mouseStart: function(e, i, s) {
            var n, o, a = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor), this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !s)
                for (n = this.containers.length - 1; n >= 0; n--) this.containers[n]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function(e) {
            var i, s, n, o, a = this.options,
                r = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (e.pageY - this.document.scrollTop() < a.scrollSensitivity ? r = this.document.scrollTop(this.document.scrollTop() - a.scrollSpeed) : this.window.height() - (e.pageY - this.document.scrollTop()) < a.scrollSensitivity && (r = this.document.scrollTop(this.document.scrollTop() + a.scrollSpeed)), e.pageX - this.document.scrollLeft() < a.scrollSensitivity ? r = this.document.scrollLeft(this.document.scrollLeft() - a.scrollSpeed) : this.window.width() - (e.pageX - this.document.scrollLeft()) < a.scrollSensitivity && (r = this.document.scrollLeft(this.document.scrollLeft() + a.scrollSpeed))), !1 !== r && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i], n = s.item[0], (o = this._intersectsWithPointer(s)) && s.instance === this.currentContainer && !(n === this.currentItem[0] || this.placeholder[1 === o ? "next" : "prev"]()[0] === n || t.contains(this.placeholder[0], n) || "semi-dynamic" === this.options.type && t.contains(this.element[0], n))) {
                    if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(s)) break;
                    this._rearrange(e, s), this._trigger("change", e, this._uiHash());
                    break
                }
            return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function(e, i) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var s = this,
                        n = this.placeholder.offset(),
                        o = this.options.axis,
                        a = {};
                    o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function() {
                        s._clear(e)
                    })
                } else this._clear(e, i);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this
        },
        serialize: function(e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, t(i).each(function() {
                var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
            }), !s.length && e.key && s.push(e.key + "="), s.join("&")
        },
        toArray: function(e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, i.each(function() {
                s.push(t(e.item || this).attr(e.attribute || "id") || "")
            }), s
        },
        _intersectsWith: function(t) {
            var e = this.positionAbs.left,
                i = e + this.helperProportions.width,
                s = this.positionAbs.top,
                n = s + this.helperProportions.height,
                o = t.left,
                a = o + t.width,
                r = t.top,
                h = r + t.height,
                l = this.offset.click.top,
                c = this.offset.click.left,
                u = "x" === this.options.axis || s + l > r && s + l < h,
                d = "y" === this.options.axis || e + c > o && e + c < a,
                p = u && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : o < e + this.helperProportions.width / 2 && i - this.helperProportions.width / 2 < a && r < s + this.helperProportions.height / 2 && n - this.helperProportions.height / 2 < h
        },
        _intersectsWithPointer: function(t) {
            var e = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                i = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width),
                s = e && i,
                n = this._getDragVerticalDirection(),
                o = this._getDragHorizontalDirection();
            return !!s && (this.floating ? o && "right" === o || "down" === n ? 2 : 1 : n && ("down" === n ? 2 : 1))
        },
        _intersectsWithSides: function(t) {
            var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                s = this._getDragVerticalDirection(),
                n = this._getDragHorizontalDirection();
            return this.floating && n ? "right" === n && i || "left" === n && !i : s && ("down" === s && e || "up" === s && !e)
        },
        _getDragVerticalDirection: function() {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function(t) {
            return this._refreshItems(t), this._setHandleClassName(), this.refreshPositions(), this
        },
        _connectWith: function() {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function(e) {
            function i() {
                r.push(this)
            }
            var s, n, o, a, r = [],
                h = [],
                l = this._connectWith();
            if (l && e)
                for (s = l.length - 1; s >= 0; s--)
                    for (n = (o = t(l[s], this.document[0])).length - 1; n >= 0; n--)(a = t.data(o[n], this.widgetFullName)) && a !== this && !a.options.disabled && h.push([t.isFunction(a.options.items) ? a.options.items.call(a.element) : t(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
            for (h.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), s = h.length - 1; s >= 0; s--) h[s][0].each(i);
            return t(r)
        },
        _removeCurrentsFromItems: function() {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, function(t) {
                for (var i = 0; i < e.length; i++)
                    if (e[i] === t.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function(e) {
            this.items = [], this.containers = [this];
            var i, s, n, o, a, r, h, l, c = this.items,
                u = [
                    [t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
                        item: this.currentItem
                    }) : t(this.options.items, this.element), this]
                ],
                d = this._connectWith();
            if (d && this.ready)
                for (i = d.length - 1; i >= 0; i--)
                    for (s = (n = t(d[i], this.document[0])).length - 1; s >= 0; s--)(o = t.data(n[s], this.widgetFullName)) && o !== this && !o.options.disabled && (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem
                    }) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (i = u.length - 1; i >= 0; i--)
                for (a = u[i][1], s = 0, l = (r = u[i][0]).length; s < l; s++)(h = t(r[s])).data(this.widgetName + "-item", a), c.push({
                    item: h,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function(e) {
            this.floating = !!this.items.length && ("x" === this.options.axis || this._isFloating(this.items[0].item)), this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, o;
            for (i = this.items.length - 1; i >= 0; i--)(s = this.items[i]).instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item, e || (s.width = n.outerWidth(), s.height = n.outerHeight()), o = n.offset(), s.left = o.left, s.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--) o = this.containers[i].element.offset(), this.containers[i].containerCache.left = o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function(e) {
            var i, s = (e = e || this).options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder, s.placeholder = {
                element: function() {
                    var s = e.currentItem[0].nodeName.toLowerCase(),
                        n = t("<" + s + ">", e.document[0]).addClass(i || e.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tbody" === s ? e._createTrPlaceholder(e.currentItem.find("tr").eq(0), t("<tr>", e.document[0]).appendTo(n)) : "tr" === s ? e._createTrPlaceholder(e.currentItem, n) : "img" === s && n.attr("src", e.currentItem.attr("src")), i || n.css("visibility", "hidden"), n
                },
                update: function(t, n) {
                    i && !s.forcePlaceholderSize || (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), n.width() || n.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), s.placeholder.update(e, e.placeholder)
        },
        _createTrPlaceholder: function(e, i) {
            var s = this;
            e.children().each(function() {
                t("<td>&#160;</td>", s.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(i)
            })
        },
        _contactContainers: function(e) {
            var i, s, n, o, a, r, h, l, c, u, d = null,
                p = null;
            for (i = this.containers.length - 1; i >= 0; i--)
                if (!t.contains(this.currentItem[0], this.containers[i].element[0]))
                    if (this._intersectsWith(this.containers[i].containerCache)) {
                        if (d && t.contains(this.containers[i].element[0], d.element[0])) continue;
                        d = this.containers[i], p = i
                    } else this.containers[i].containerCache.over && (this.containers[i]._trigger("out", e, this._uiHash(this)), this.containers[i].containerCache.over = 0);
            if (d)
                if (1 === this.containers.length) this.containers[p].containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1);
                else {
                    for (n = 1e4, o = null, a = (c = d.floating || this._isFloating(this.currentItem)) ? "left" : "top", r = c ? "width" : "height", u = c ? "clientX" : "clientY", s = this.items.length - 1; s >= 0; s--) t.contains(this.containers[p].element[0], this.items[s].item[0]) && this.items[s].item[0] !== this.currentItem[0] && (h = this.items[s].item.offset()[a], l = !1, e[u] - h > this.items[s][r] / 2 && (l = !0), Math.abs(e[u] - h) < n && (n = Math.abs(e[u] - h), o = this.items[s], this.direction = l ? "up" : "down"));
                    if (!o && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[p]) return void(this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash()), this.currentContainer.containerCache.over = 1));
                    o ? this._rearrange(e, o, null, !0) : this._rearrange(e, null, this.containers[p].element, !0), this._trigger("change", e, this._uiHash()), this.containers[p]._trigger("change", e, this._uiHash(this)), this.currentContainer = this.containers[p], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1
                }
        },
        _createHelper: function(e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return s.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]), s[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }), s[0].style.width && !i.forceHelperSize || s.width(this.currentItem.width()), s[0].style.height && !i.forceHelperSize || s.height(this.currentItem.height()), s
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode), "document" !== n.containment && "window" !== n.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === n.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === n.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0], i = t(n.containment).offset(), s = "hidden" !== t(e).css("overflow"), this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function(e) {
            var i, s, n = this.options,
                o = e.pageX,
                a = e.pageY,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1], a = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i, s = this.originalPageX + Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0], o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)), {
                top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function(t, e, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function() {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function(t, e) {
            function i(t, e, i) {
                return function(s) {
                    i._trigger(t, s, e._uiHash(e))
                }
            }
            this.reverting = !1;
            var s, n = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (s in this._storedCSS) "auto" !== this._storedCSS[s] && "static" !== this._storedCSS[s] || (this._storedCSS[s] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && n.push(function(t) {
                    this._trigger("receive", t, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || n.push(function(t) {
                    this._trigger("update", t, this._uiHash())
                }), this !== this.currentContainer && (e || (n.push(function(t) {
                    this._trigger("remove", t, this._uiHash())
                }), n.push(function(t) {
                    return function(e) {
                        t._trigger("receive", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), n.push(function(t) {
                    return function(e) {
                        t._trigger("update", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), s = this.containers.length - 1; s >= 0; s--) e || n.push(i("deactivate", this, this.containers[s])), this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])), this.containers[s].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !e) {
                for (s = 0; s < n.length; s++) n[s].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !this.cancelHelperRemoval
        },
        _trigger: function() {
            !1 === t.Widget.prototype._trigger.apply(this, arguments) && this.cancel()
        },
        _uiHash: function(e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || t([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    }), t.widget("ui.accordion", {
        version: "1.11.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var e = this.options;
            this.prevShow = this.prevHide = t(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), e.collapsible || !1 !== e.active && null != e.active || (e.active = 0), this._processPanels(), e.active < 0 && (e.active += this.headers.length), this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : t()
            }
        },
        _createIcons: function() {
            var e = this.options.icons;
            e && (t("<span>").addClass("ui-accordion-header-icon ui-icon " + e.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader), this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var t;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(), this._destroyIcons(), t = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && t.css("height", "")
        },
        _setOption: function(t, e) {
            "active" !== t ? ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || !1 !== this.options.active || this._activate(0), "icons" === t && (this._destroyIcons(), e && this._createIcons()), "disabled" === t && (this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!e))) : this._activate(e)
        },
        _keydown: function(e) {
            if (!e.altKey && !e.ctrlKey) {
                var i = t.ui.keyCode,
                    s = this.headers.length,
                    n = this.headers.index(e.target),
                    o = !1;
                switch (e.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        o = this.headers[(n + 1) % s];
                        break;
                    case i.LEFT:
                    case i.UP:
                        o = this.headers[(n - 1 + s) % s];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(e);
                        break;
                    case i.HOME:
                        o = this.headers[0];
                        break;
                    case i.END:
                        o = this.headers[s - 1]
                }
                o && (t(e.target).attr("tabIndex", -1), t(o).attr("tabIndex", 0), o.focus(), e.preventDefault())
            }
        },
        _panelKeyDown: function(e) {
            e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().focus()
        },
        refresh: function() {
            var e = this.options;
            this._processPanels(), !1 === e.active && !0 === e.collapsible || !this.headers.length ? (e.active = !1, this.active = t()) : !1 === e.active ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },
        _processPanels: function() {
            var t = this.headers,
                e = this.panels;
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"), this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(), e && (this._off(t.not(this.headers)), this._off(e.not(this.panels)))
        },
        _refresh: function() {
            var e, i = this.options,
                s = i.heightStyle,
                n = this.element.parent();
            this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function() {
                var e = t(this),
                    i = e.uniqueId().attr("id"),
                    s = e.next(),
                    n = s.uniqueId().attr("id");
                e.attr("aria-controls", n), s.attr("aria-labelledby", i)
            }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(), this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(i.event), "fill" === s ? (e = n.height(), this.element.siblings(":visible").each(function() {
                var i = t(this),
                    s = i.css("position");
                "absolute" !== s && "fixed" !== s && (e -= i.outerHeight(!0))
            }), this.headers.each(function() {
                e -= t(this).outerHeight(!0)
            }), this.headers.next().each(function() {
                t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === s && (e = 0, this.headers.next().each(function() {
                e = Math.max(e, t(this).css("height", "").height())
            }).height(e))
        },
        _activate: function(e) {
            var i = this._findActive(e)[0];
            i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return "number" == typeof e ? this.headers.eq(e) : t()
        },
        _setupEvents: function(e) {
            var i = {
                keydown: "_keydown"
            };
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }), this._hoverable(this.headers), this._focusable(this.headers)
        },
        _eventHandler: function(e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget),
                o = n[0] === s[0],
                a = o && i.collapsible,
                r = a ? t() : n.next(),
                h = {
                    oldHeader: s,
                    oldPanel: s.next(),
                    newHeader: a ? t() : n,
                    newPanel: r
                };
            e.preventDefault(), o && !i.collapsible || !1 === this._trigger("beforeActivate", e, h) || (i.active = !a && this.headers.index(n), this.active = o ? t() : n, this._toggle(h), s.removeClass("ui-accordion-header-active ui-state-active"), i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), o || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(e) {
            var i = e.newPanel,
                s = this.prevShow.length ? this.prevShow : e.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = s, this.options.animate ? this._animate(i, s, e) : (s.hide(), i.show(), this._toggleComplete(e)), s.attr({
                "aria-hidden": "true"
            }), s.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), i.length && s.length ? s.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function() {
                return 0 === parseInt(t(this).attr("tabIndex"), 10)
            }).attr("tabIndex", -1), i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function(t, e, i) {
            var s, n, o, a = this,
                r = 0,
                h = t.css("box-sizing"),
                l = t.length && (!e.length || t.index() < e.index()),
                c = this.options.animate || {},
                u = l && c.down || c,
                d = function() {
                    a._toggleComplete(i)
                };
            return "number" == typeof u && (o = u), "string" == typeof u && (n = u), n = n || u.easing || c.easing, o = o || u.duration || c.duration, e.length ? t.length ? (s = t.show().outerHeight(), e.animate(this.hideProps, {
                duration: o,
                easing: n,
                step: function(t, e) {
                    e.now = Math.round(t)
                }
            }), void t.hide().animate(this.showProps, {
                duration: o,
                easing: n,
                complete: d,
                step: function(t, i) {
                    i.now = Math.round(t), "height" !== i.prop ? "content-box" === h && (r += i.now) : "content" !== a.options.heightStyle && (i.now = Math.round(s - e.outerHeight() - r), r = 0)
                }
            })) : e.animate(this.hideProps, o, n, d) : t.animate(this.showProps, o, n, d)
        },
        _toggleComplete: function(t) {
            var e = t.oldPanel;
            e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
        }
    }), t.widget("ui.menu", {
        version: "1.11.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({
                "mousedown .ui-menu-item": function(t) {
                    t.preventDefault()
                },
                "click .ui-menu-item": function(e) {
                    var i = t(e.target);
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && t(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(e) {
                    if (!this.previousFilter) {
                        var i = t(e.currentTarget);
                        i.siblings(".ui-state-active").removeClass("ui-state-active"), this.focus(e, i)
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(t, e) {
                    var i = this.active || this.element.find(this.options.items).eq(0);
                    e || this.focus(t, i)
                },
                blur: function(e) {
                    this._delay(function() {
                        t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                    })
                },
                keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function(t) {
                    this._closeOnDocumentClick(t) && this.collapseAll(t), this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var e = t(this);
                e.data("ui-menu-submenu-carat") && e.remove()
            }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(e) {
            var i, s, n, o, a = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    a = !1, s = this.previousFilter || "", n = String.fromCharCode(e.keyCode), o = !1, clearTimeout(this.filterTimer), n === s ? o = !0 : n = s + n, i = this._filterMenuItems(n), (i = o && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i).length || (n = String.fromCharCode(e.keyCode), i = this._filterMenuItems(n)), i.length ? (this.focus(e, i), this.previousFilter = n, this.filterTimer = this._delay(function() {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter
            }
            a && e.preventDefault()
        },
        _activate: function(t) {
            this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(t) : this.select(t))
        },
        refresh: function() {
            var e, i = this,
                s = this.options.icons.submenu,
                n = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var e = t(this),
                    i = e.parent(),
                    n = t("<span>").addClass("ui-menu-icon ui-icon " + s).data("ui-menu-submenu-carat", !0);
                i.attr("aria-haspopup", "true").prepend(n), e.attr("aria-labelledby", i.attr("id"))
            }), (e = n.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function() {
                var e = t(this);
                i._isDivider(e) && e.addClass("ui-widget-content ui-menu-divider")
            }), e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }), e.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this._super(t, e)
        },
        focus: function(t, e) {
            var i, s;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.addClass("ui-state-focus").removeClass("ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay), (i = e.children(".ui-menu")).length && t && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, {
                item: e
            })
        },
        _scrollIntoView: function(e) {
            var i, s, n, o, a, r;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, n = e.offset().top - this.activeMenu.offset().top - i - s, o = this.activeMenu.scrollTop(), a = this.activeMenu.height(), r = e.outerHeight(), n < 0 ? this.activeMenu.scrollTop(o + n) : n + r > a && this.activeMenu.scrollTop(o + n - a + r))
        },
        blur: function(t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {
                item: this.active
            }))
        },
        _startOpening: function(t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(), this._open(t)
            }, this.delay))
        },
        _open: function(e) {
            var i = t.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function() {
                var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element), this._close(s), this.blur(e), this.activeMenu = s
            }, this.delay)
        },
        _close: function(t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
        },
        _closeOnDocumentClick: function(e) {
            return !t(e.target).closest(".ui-menu").length
        },
        _isDivider: function(t) {
            return !/[^\-\u2014\u2013\s]/.test(t.text())
        },
        collapse: function(t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function(t) {
            var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            e && e.length && (this._open(e.parent()), this._delay(function() {
                this.focus(t, e)
            }))
        },
        next: function(t) {
            this._move("next", "first", t)
        },
        previous: function(t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(t, e, i) {
            var s;
            this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.find(this.options.items)[e]()), this.focus(i, s)
        },
        nextPage: function(e) {
            var i, s, n;
            this.active ? this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
                return (i = t(this)).offset().top - s - n < 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())) : this.next(e)
        },
        previousPage: function(e) {
            var i, s, n;
            this.active ? this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
                return (i = t(this)).offset().top - s + n > 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items).first())) : this.next(e)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i)
        },
        _filterMenuItems: function(e) {
            var i = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
                s = new RegExp("^" + i, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
                return s.test(t.trim(t(this).text()))
            })
        }
    });
    t.widget("ui.autocomplete", {
        version: "1.11.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var e, i, s, n = this.element[0].nodeName.toLowerCase(),
                o = "textarea" === n,
                a = "input" === n;
            this.isMultiLine = !!o || !a && this.element.prop("isContentEditable"), this.valueMethod = this.element[o || a ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {
                keydown: function(n) {
                    if (this.element.prop("readOnly")) return e = !0, s = !0, void(i = !0);
                    e = !1, s = !1, i = !1;
                    var o = t.ui.keyCode;
                    switch (n.keyCode) {
                        case o.PAGE_UP:
                            e = !0, this._move("previousPage", n);
                            break;
                        case o.PAGE_DOWN:
                            e = !0, this._move("nextPage", n);
                            break;
                        case o.UP:
                            e = !0, this._keyEvent("previous", n);
                            break;
                        case o.DOWN:
                            e = !0, this._keyEvent("next", n);
                            break;
                        case o.ENTER:
                            this.menu.active && (e = !0, n.preventDefault(), this.menu.select(n));
                            break;
                        case o.TAB:
                            this.menu.active && this.menu.select(n);
                            break;
                        case o.ESCAPE:
                            this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(n), n.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(n)
                    }
                },
                keypress: function(s) {
                    if (e) return e = !1, void(this.isMultiLine && !this.menu.element.is(":visible") || s.preventDefault());
                    if (!i) {
                        var n = t.ui.keyCode;
                        switch (s.keyCode) {
                            case n.PAGE_UP:
                                this._move("previousPage", s);
                                break;
                            case n.PAGE_DOWN:
                                this._move("nextPage", s);
                                break;
                            case n.UP:
                                this._keyEvent("previous", s);
                                break;
                            case n.DOWN:
                                this._keyEvent("next", s)
                        }
                    }
                },
                input: function(t) {
                    if (s) return s = !1, void t.preventDefault();
                    this._searchTimeout(t)
                },
                focus: function() {
                    this.selectedItem = null, this.previous = this._value()
                },
                blur: function(t) {
                    this.cancelBlur ? delete this.cancelBlur : (clearTimeout(this.searching), this.close(t), this._change(t))
                }
            }), this._initSource(), this.menu = t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"), this._on(this.menu.element, {
                mousedown: function(e) {
                    e.preventDefault(), this.cancelBlur = !0, this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    t(e.target).closest(".ui-menu-item").length || this._delay(function() {
                        var e = this;
                        this.document.one("mousedown", function(s) {
                            s.target === e.element[0] || s.target === i || t.contains(i, s.target) || e.close()
                        })
                    })
                },
                menufocus: function(e, i) {
                    var s, n;
                    if (this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type))) return this.menu.blur(), void this.document.one("mousemove", function() {
                        t(e.target).trigger(e.originalEvent)
                    });
                    n = i.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", e, {
                        item: n
                    }) && e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(n.value), (s = i.item.attr("aria-label") || n.value) && t.trim(s).length && (this.liveRegion.children().hide(), t("<div>").text(s).appendTo(this.liveRegion))
                },
                menuselect: function(t, e) {
                    var i = e.item.data("ui-autocomplete-item"),
                        s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(function() {
                        this.previous = s, this.selectedItem = i
                    })), !1 !== this._trigger("select", t, {
                        item: i
                    }) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i
                }
            }), this.liveRegion = t("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function(t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _initSource: function() {
            var e, i, s = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function(i, s) {
                s(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function(e, n) {
                s.xhr && s.xhr.abort(), s.xhr = t.ajax({
                    url: i,
                    data: e,
                    dataType: "json",
                    success: function(t) {
                        n(t)
                    },
                    error: function() {
                        n([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function(t) {
            clearTimeout(this.searching), this.searching = this._delay(function() {
                var e = this.term === this._value(),
                    i = this.menu.element.is(":visible"),
                    s = t.altKey || t.ctrlKey || t.metaKey || t.shiftKey;
                e && (!e || i || s) || (this.selectedItem = null, this.search(null, t))
            }, this.options.delay)
        },
        search: function(t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : !1 !== this._trigger("search", e) ? this._search(t) : void 0
        },
        _search: function(t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                term: t
            }, this._response())
        },
        _response: function() {
            var e = ++this.requestIndex;
            return t.proxy(function(t) {
                e === this.requestIndex && this.__response(t), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {
                content: t
            }), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },
        close: function(t) {
            this.cancelSearch = !0, this._close(t)
        },
        _close: function(t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },
        _change: function(t) {
            this.previous !== this._value() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function(e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function(e) {
                return "string" == typeof e ? {
                    label: e,
                    value: e
                } : t.extend({}, e, {
                    label: e.label || e.value,
                    value: e.value || e.label
                })
            })
        },
        _suggest: function(e) {
            var i = this.menu.element.empty();
            this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({
                of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(e, i) {
            var s = this;
            t.each(i, function(t, i) {
                s._renderItemData(e, i)
            })
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },
        _renderItem: function(e, i) {
            return t("<li>").text(i.label).appendTo(e)
        },
        _move: function(t, e) {
            if (this.menu.element.is(":visible")) return this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term), void this.menu.blur()) : void this.menu[t](e);
            this.search(null, e)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(t, e) {
            this.isMultiLine && !this.menu.element.is(":visible") || (this._move(t, e), e.preventDefault())
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(e, i) {
            var s = new RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function(t) {
                return s.test(t.label || t.value || t)
            })
        }
    }), t.widget("ui.autocomplete", t.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(e) {
            var i;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (i = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.children().hide(), t("<div>").text(i).appendTo(this.liveRegion))
        }
    });
    t.ui.autocomplete;
    var u, d = "ui-button ui-widget ui-state-default ui-corner-all",
        p = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        f = function() {
            var e = t(this);
            setTimeout(function() {
                e.find(":ui-button").button("refresh")
            }, 1)
        },
        m = function(e) {
            var i = e.name,
                s = e.form,
                n = t([]);
            return i && (i = i.replace(/'/g, "\\'"), n = s ? t(s).find("[name='" + i + "'][type=radio]") : t("[name='" + i + "'][type=radio]", e.ownerDocument).filter(function() {
                return !this.form
            })), n
        };
    t.widget("ui.button", {
        version: "1.11.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, f), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
            var e = this,
                i = this.options,
                s = "checkbox" === this.type || "radio" === this.type,
                n = s ? "" : "ui-state-active";
            null === i.label && (i.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(d).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                i.disabled || this === u && t(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                i.disabled || t(this).removeClass(n)
            }).bind("click" + this.eventNamespace, function(t) {
                i.disabled && (t.preventDefault(), t.stopImmediatePropagation())
            }), this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }), s && this.element.bind("change" + this.eventNamespace, function() {
                e.refresh()
            }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled) return !1
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled) return !1;
                t(this).addClass("ui-state-active"), e.buttonElement.attr("aria-pressed", "true");
                var s = e.element[0];
                m(s).not(s).map(function() {
                    return t(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                if (i.disabled) return !1;
                t(this).addClass("ui-state-active"), u = this, e.document.one("mouseup", function() {
                    u = null
                })
            }).bind("mouseup" + this.eventNamespace, function() {
                if (i.disabled) return !1;
                t(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(e) {
                if (i.disabled) return !1;
                e.keyCode !== t.ui.keyCode.SPACE && e.keyCode !== t.ui.keyCode.ENTER || t(this).addClass("ui-state-active")
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                t(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function(e) {
                e.keyCode === t.ui.keyCode.SPACE && t(this).click()
            })), this._setOption("disabled", i.disabled), this._resetButton()
        },
        _determineButtonType: function() {
            var t, e, i;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button", "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents().last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = t.find(e), this.buttonElement.length || (t = t.length ? t.siblings() : this.element.siblings(), this.buttonElement = t.filter(e), this.buttonElement.length || (this.buttonElement = t.find(e))), this.element.addClass("ui-helper-hidden-accessible"), (i = this.element.is(":checked")) && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(d + " ui-state-active " + p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(t, e) {
            if (this._super(t, e), "disabled" === t) return this.widget().toggleClass("ui-state-disabled", !!e), this.element.prop("disabled", !!e), void(e && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")));
            this._resetButton()
        },
        refresh: function() {
            var e = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            e !== this.options.disabled && this._setOption("disabled", e), "radio" === this.type ? m(this.element[0]).each(function() {
                t(this).is(":checked") ? t(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" !== this.type) {
                var e = this.buttonElement.removeClass(p),
                    i = t("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),
                    s = this.options.icons,
                    n = s.primary && s.secondary,
                    o = [];
                s.primary || s.secondary ? (this.options.text && o.push("ui-button-text-icon" + (n ? "s" : s.primary ? "-primary" : "-secondary")), s.primary && e.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"), s.secondary && e.append("<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"), this.options.text || (o.push(n ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || e.attr("title", t.trim(i)))) : o.push("ui-button-text-only"), e.addClass(o.join(" "))
            } else this.options.label && this.element.val(this.options.label)
        }
    }), t.widget("ui.buttonset", {
        version: "1.11.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(t, e) {
            "disabled" === t && this.buttons.button("option", t, e), this._super(t, e)
        },
        refresh: function() {
            var e = "rtl" === this.element.css("direction"),
                i = this.element.find(this.options.items),
                s = i.filter(":ui-button");
            i.not(":ui-button").button(), s.button("refresh"), this.buttons = i.map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(e ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    });
    t.ui.button;
    t.extend(t.ui, {
        datepicker: {
            version: "1.11.4"
        }
    });
    var g;
    t.extend(s.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(t) {
            return a(this._defaults, t || {}), this
        },
        _attachDatepicker: function(e, i) {
            var s, n, o;
            n = "div" === (s = e.nodeName.toLowerCase()) || "span" === s, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), (o = this._newInst(t(e), n)).settings = t.extend({}, i || {}), "input" === s ? this._connectDatepicker(e, o) : n && this._inlineDatepicker(e, o)
        },
        _newInst: function(e, i) {
            return {
                id: e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                input: e,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? n(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(e, i) {
            var s = t(e);
            i.append = t([]), i.trigger = t([]), s.hasClass(this.markerClassName) || (this._attachments(s, i), s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), t.data(e, "datepicker", i), i.settings.disabled && this._disableDatepicker(e))
        },
        _attachments: function(e, i) {
            var s, n, o, a = this._get(i, "appendText"),
                r = this._get(i, "isRTL");
            i.append && i.append.remove(), a && (i.append = t("<span class='" + this._appendClass + "'>" + a + "</span>"), e[r ? "before" : "after"](i.append)), e.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), "focus" !== (s = this._get(i, "showOn")) && "both" !== s || e.focus(this._showDatepicker), "button" !== s && "both" !== s || (n = this._get(i, "buttonText"), o = this._get(i, "buttonImage"), i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({
                src: o,
                alt: n,
                title: n
            }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({
                src: o,
                alt: n,
                title: n
            }) : n)), e[r ? "before" : "after"](i.trigger), i.trigger.click(function() {
                return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]), !1
            }))
        },
        _autoSize: function(t) {
            if (this._get(t, "autoSize") && !t.inline) {
                var e, i, s, n, o = new Date(2009, 11, 20),
                    a = this._get(t, "dateFormat");
                a.match(/[DM]/) && (e = function(t) {
                    for (i = 0, s = 0, n = 0; n < t.length; n++) t[n].length > i && (i = t[n].length, s = n);
                    return s
                }, o.setMonth(e(this._get(t, a.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, a.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o).length)
            }
        },
        _inlineDatepicker: function(e, i) {
            var s = t(e);
            s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv), t.data(e, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(e), i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(e, i, s, n, o) {
            var r, h, l, c, u, d = this._dialogInst;
            return d || (this.uuid += 1, r = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + r + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), t("body").append(this._dialogInput), (d = this._dialogInst = this._newInst(this._dialogInput, !1)).settings = {}, t.data(this._dialogInput[0], "datepicker", d)), a(d.settings, n || {}), i = i && i.constructor === Date ? this._formatDate(d, i) : i, this._dialogInput.val(i), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (h = document.documentElement.clientWidth, l = document.documentElement.clientHeight, c = document.documentElement.scrollLeft || document.body.scrollLeft, u = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [h / 2 - 100 + c, l / 2 - 150 + u]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), d.settings.onSelect = s, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], "datepicker", d), this
        },
        _destroyDatepicker: function(e) {
            var i, s = t(e),
                n = t.data(e, "datepicker");
            s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), t.removeData(e, "datepicker"), "input" === i ? (n.append.remove(), n.trigger.remove(), s.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : "div" !== i && "span" !== i || s.removeClass(this.markerClassName).empty(), g === n && (g = null))
        },
        _enableDatepicker: function(e) {
            var i, s, n = t(e),
                o = t.data(e, "datepicker");
            n.hasClass(this.markerClassName) && ("input" === (i = e.nodeName.toLowerCase()) ? (e.disabled = !1, o.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : "div" !== i && "span" !== i || ((s = n.children("." + this._inlineClass)).children().removeClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }))
        },
        _disableDatepicker: function(e) {
            var i, s, n = t(e),
                o = t.data(e, "datepicker");
            n.hasClass(this.markerClassName) && ("input" === (i = e.nodeName.toLowerCase()) ? (e.disabled = !0, o.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : "div" !== i && "span" !== i || ((s = n.children("." + this._inlineClass)).children().addClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }), this._disabledInputs[this._disabledInputs.length] = e)
        },
        _isDisabledDatepicker: function(t) {
            if (!t) return !1;
            for (var e = 0; e < this._disabledInputs.length; e++)
                if (this._disabledInputs[e] === t) return !0;
            return !1
        },
        _getInst: function(e) {
            try {
                return t.data(e, "datepicker")
            } catch (t) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(e, i, s) {
            var n, o, r, h, l = this._getInst(e);
            if (2 === arguments.length && "string" == typeof i) return "defaults" === i ? t.extend({}, t.datepicker._defaults) : l ? "all" === i ? t.extend({}, l.settings) : this._get(l, i) : null;
            n = i || {}, "string" == typeof i && ((n = {})[i] = s), l && (this._curInst === l && this._hideDatepicker(), o = this._getDateDatepicker(e, !0), r = this._getMinMaxDate(l, "min"), h = this._getMinMaxDate(l, "max"), a(l.settings, n), null !== r && void 0 !== n.dateFormat && void 0 === n.minDate && (l.settings.minDate = this._formatDate(l, r)), null !== h && void 0 !== n.dateFormat && void 0 === n.maxDate && (l.settings.maxDate = this._formatDate(l, h)), "disabled" in n && (n.disabled ? this._disableDatepicker(e) : this._enableDatepicker(e)), this._attachments(t(e), l), this._autoSize(l), this._setDate(l, o), this._updateAlternate(l), this._updateDatepicker(l))
        },
        _changeDatepicker: function(t, e, i) {
            this._optionDatepicker(t, e, i)
        },
        _refreshDatepicker: function(t) {
            var e = this._getInst(t);
            e && this._updateDatepicker(e)
        },
        _setDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            i && (this._setDate(i, e), this._updateDatepicker(i), this._updateAlternate(i))
        },
        _getDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            return i && !i.inline && this._setDateFromField(i, e), i ? this._getDate(i) : null
        },
        _doKeyDown: function(e) {
            var i, s, n, o = t.datepicker._getInst(e.target),
                a = !0,
                r = o.dpDiv.is(".ui-datepicker-rtl");
            if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) {
                case 9:
                    t.datepicker._hideDatepicker(), a = !1;
                    break;
                case 13:
                    return (n = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv))[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, n[0]), (i = t.datepicker._get(o, "onSelect")) ? (s = t.datepicker._formatDate(o), i.apply(o.input ? o.input[0] : null, [s, o])) : t.datepicker._hideDatepicker(), !1;
                case 27:
                    t.datepicker._hideDatepicker();
                    break;
                case 33:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 34:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 35:
                    (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? 1 : -1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 38:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? -1 : 1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 40:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                default:
                    a = !1
            } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : a = !1;
            a && (e.preventDefault(), e.stopPropagation())
        },
        _doKeyPress: function(e) {
            var i, s, n = t.datepicker._getInst(e.target);
            if (t.datepicker._get(n, "constrainInput")) return i = t.datepicker._possibleChars(t.datepicker._get(n, "dateFormat")), s = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), e.ctrlKey || e.metaKey || s < " " || !i || i.indexOf(s) > -1
        },
        _doKeyUp: function(e) {
            var i = t.datepicker._getInst(e.target);
            if (i.input.val() !== i.lastVal) try {
                t.datepicker.parseDate(t.datepicker._get(i, "dateFormat"), i.input ? i.input.val() : null, t.datepicker._getFormatConfig(i)) && (t.datepicker._setDateFromField(i), t.datepicker._updateAlternate(i), t.datepicker._updateDatepicker(i))
            } catch (t) {}
            return !0
        },
        _showDatepicker: function(e) {
            if ("input" !== (e = e.target || e).nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), !t.datepicker._isDisabledDatepicker(e) && t.datepicker._lastInput !== e) {
                var i, s, n, o, r, h, l;
                i = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== i && (t.datepicker._curInst.dpDiv.stop(!0, !0), i && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), !1 !== (n = (s = t.datepicker._get(i, "beforeShow")) ? s.apply(e, [e, i]) : {}) && (a(i.settings, n), i.lastVal = null, t.datepicker._lastInput = e, t.datepicker._setDateFromField(i), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), o = !1, t(e).parents().each(function() {
                    return !(o |= "fixed" === t(this).css("position"))
                }), r = {
                    left: t.datepicker._pos[0],
                    top: t.datepicker._pos[1]
                }, t.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }), t.datepicker._updateDatepicker(i), r = t.datepicker._checkOffset(i, r, o), i.dpDiv.css({
                    position: t.datepicker._inDialog && t.blockUI ? "static" : o ? "fixed" : "absolute",
                    display: "none",
                    left: r.left + "px",
                    top: r.top + "px"
                }), i.inline || (h = t.datepicker._get(i, "showAnim"), l = t.datepicker._get(i, "duration"), i.dpDiv.css("z-index", function(t) {
                    for (var e, i; t.length && t[0] !== document;) {
                        if (("absolute" === (e = t.css("position")) || "relative" === e || "fixed" === e) && (i = parseInt(t.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i;
                        t = t.parent()
                    }
                    return 0
                }(t(e)) + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[h] ? i.dpDiv.show(h, t.datepicker._get(i, "showOptions"), l) : i.dpDiv[h || "show"](h ? l : null), t.datepicker._shouldFocusInput(i) && i.input.focus(), t.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function(e) {
            this.maxRows = 4, g = e, e.dpDiv.empty().append(this._generateHTML(e)), this._attachHandlers(e);
            var i, s = this._getNumberOfMonths(e),
                n = s[1],
                a = e.dpDiv.find("." + this._dayOverClass + " a");
            a.length > 0 && o.apply(a.get(0)), e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), n > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", 17 * n + "em"), e.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.focus(), e.yearshtml && (i = e.yearshtml, setTimeout(function() {
                i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml), i = e.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(t) {
            return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
        },
        _checkOffset: function(e, i, s) {
            var n = e.dpDiv.outerWidth(),
                o = e.dpDiv.outerHeight(),
                a = e.input ? e.input.outerWidth() : 0,
                r = e.input ? e.input.outerHeight() : 0,
                h = document.documentElement.clientWidth + (s ? 0 : t(document).scrollLeft()),
                l = document.documentElement.clientHeight + (s ? 0 : t(document).scrollTop());
            return i.left -= this._get(e, "isRTL") ? n - a : 0, i.left -= s && i.left === e.input.offset().left ? t(document).scrollLeft() : 0, i.top -= s && i.top === e.input.offset().top + r ? t(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0), i.top -= Math.min(i.top, i.top + o > l && l > o ? Math.abs(o + r) : 0), i
        },
        _findPos: function(e) {
            for (var i, s = this._getInst(e), n = this._get(s, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));) e = e[n ? "previousSibling" : "nextSibling"];
            return i = t(e).offset(), [i.left, i.top]
        },
        _hideDatepicker: function(e) {
            var i, s, n, o, a = this._curInst;
            !a || e && a !== t.data(e, "datepicker") || this._datepickerShowing && (i = this._get(a, "showAnim"), s = this._get(a, "duration"), n = function() {
                t.datepicker._tidyDialog(a)
            }, t.effects && (t.effects.effect[i] || t.effects[i]) ? a.dpDiv.hide(i, t.datepicker._get(a, "showOptions"), s, n) : a.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n), i || n(), this._datepickerShowing = !1, (o = this._get(a, "onClose")) && o.apply(a.input ? a.input[0] : null, [a.input ? a.input.val() : "", a]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), t.blockUI && (t.unblockUI(), t("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function(t) {
            t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(e) {
            if (t.datepicker._curInst) {
                var i = t(e.target),
                    s = t.datepicker._getInst(i[0]);
                (i[0].id === t.datepicker._mainDivId || 0 !== i.parents("#" + t.datepicker._mainDivId).length || i.hasClass(t.datepicker.markerClassName) || i.closest("." + t.datepicker._triggerClass).length || !t.datepicker._datepickerShowing || t.datepicker._inDialog && t.blockUI) && (!i.hasClass(t.datepicker.markerClassName) || t.datepicker._curInst === s) || t.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(e, i, s) {
            var n = t(e),
                o = this._getInst(n[0]);
            this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(o, i + ("M" === s ? this._get(o, "showCurrentAtPos") : 0), s), this._updateDatepicker(o))
        },
        _gotoToday: function(e) {
            var i, s = t(e),
                n = this._getInst(s[0]);
            this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay, n.drawMonth = n.selectedMonth = n.currentMonth, n.drawYear = n.selectedYear = n.currentYear) : (i = new Date, n.selectedDay = i.getDate(), n.drawMonth = n.selectedMonth = i.getMonth(), n.drawYear = n.selectedYear = i.getFullYear()), this._notifyChange(n), this._adjustDate(s)
        },
        _selectMonthYear: function(e, i, s) {
            var n = t(e),
                o = this._getInst(n[0]);
            o["selected" + ("M" === s ? "Month" : "Year")] = o["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(n)
        },
        _selectDay: function(e, i, s, n) {
            var o, a = t(e);
            t(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || ((o = this._getInst(a[0])).selectedDay = o.currentDay = t("a", n).html(), o.selectedMonth = o.currentMonth = i, o.selectedYear = o.currentYear = s, this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
        },
        _clearDate: function(e) {
            var i = t(e);
            this._selectDate(i, "")
        },
        _selectDate: function(e, i) {
            var s, n = t(e),
                o = this._getInst(n[0]);
            i = null != i ? i : this._formatDate(o), o.input && o.input.val(i), this._updateAlternate(o), (s = this._get(o, "onSelect")) ? s.apply(o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.focus(), this._lastInput = null)
        },
        _updateAlternate: function(e) {
            var i, s, n, o = this._get(e, "altField");
            o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"), s = this._getDate(e), n = this.formatDate(i, s, this._getFormatConfig(e)), t(o).each(function() {
                t(this).val(n)
            }))
        },
        noWeekends: function(t) {
            var e = t.getDay();
            return [e > 0 && e < 6, ""]
        },
        iso8601Week: function(t) {
            var e, i = new Date(t.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), e = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((e - i) / 864e5) / 7) + 1
        },
        parseDate: function(e, i, s) {
            if (null == e || null == i) throw "Invalid arguments";
            if ("" === (i = "object" == typeof i ? i.toString() : i + "")) return null;
            var n, o, a, r, h = 0,
                l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                c = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10),
                u = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort,
                d = (s ? s.dayNames : null) || this._defaults.dayNames,
                p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort,
                f = (s ? s.monthNames : null) || this._defaults.monthNames,
                m = -1,
                g = -1,
                v = -1,
                _ = -1,
                b = !1,
                y = function(t) {
                    var i = n + 1 < e.length && e.charAt(n + 1) === t;
                    return i && n++, i
                },
                w = function(t) {
                    var e = y(t),
                        s = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2,
                        n = "y" === t ? s : 1,
                        o = new RegExp("^\\d{" + n + "," + s + "}"),
                        a = i.substring(h).match(o);
                    if (!a) throw "Missing number at position " + h;
                    return h += a[0].length, parseInt(a[0], 10)
                },
                x = function(e, s, n) {
                    var o = -1,
                        a = t.map(y(e) ? n : s, function(t, e) {
                            return [
                                [e, t]
                            ]
                        }).sort(function(t, e) {
                            return -(t[1].length - e[1].length)
                        });
                    if (t.each(a, function(t, e) {
                            var s = e[1];
                            if (i.substr(h, s.length).toLowerCase() === s.toLowerCase()) return o = e[0], h += s.length, !1
                        }), -1 !== o) return o + 1;
                    throw "Unknown name at position " + h
                },
                k = function() {
                    if (i.charAt(h) !== e.charAt(n)) throw "Unexpected literal at position " + h;
                    h++
                };
            for (n = 0; n < e.length; n++)
                if (b) "'" !== e.charAt(n) || y("'") ? k() : b = !1;
                else switch (e.charAt(n)) {
                    case "d":
                        v = w("d");
                        break;
                    case "D":
                        x("D", u, d);
                        break;
                    case "o":
                        _ = w("o");
                        break;
                    case "m":
                        g = w("m");
                        break;
                    case "M":
                        g = x("M", p, f);
                        break;
                    case "y":
                        m = w("y");
                        break;
                    case "@":
                        m = (r = new Date(w("@"))).getFullYear(), g = r.getMonth() + 1, v = r.getDate();
                        break;
                    case "!":
                        m = (r = new Date((w("!") - this._ticksTo1970) / 1e4)).getFullYear(), g = r.getMonth() + 1, v = r.getDate();
                        break;
                    case "'":
                        y("'") ? k() : b = !0;
                        break;
                    default:
                        k()
                }
                if (h < i.length && (a = i.substr(h), !/^\s+/.test(a))) throw "Extra/unparsed characters found in date: " + a;
            if (-1 === m ? m = (new Date).getFullYear() : m < 100 && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (m <= c ? 0 : -100)), _ > -1)
                for (g = 1, v = _;;) {
                    if (o = this._getDaysInMonth(m, g - 1), v <= o) break;
                    g++, v -= o
                }
            if ((r = this._daylightSavingAdjust(new Date(m, g - 1, v))).getFullYear() !== m || r.getMonth() + 1 !== g || r.getDate() !== v) throw "Invalid date";
            return r
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
        formatDate: function(t, e, i) {
            if (!e) return "";
            var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                o = (i ? i.dayNames : null) || this._defaults.dayNames,
                a = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                r = (i ? i.monthNames : null) || this._defaults.monthNames,
                h = function(e) {
                    var i = s + 1 < t.length && t.charAt(s + 1) === e;
                    return i && s++, i
                },
                l = function(t, e, i) {
                    var s = "" + e;
                    if (h(t))
                        for (; s.length < i;) s = "0" + s;
                    return s
                },
                c = function(t, e, i, s) {
                    return h(t) ? s[e] : i[e]
                },
                u = "",
                d = !1;
            if (e)
                for (s = 0; s < t.length; s++)
                    if (d) "'" !== t.charAt(s) || h("'") ? u += t.charAt(s) : d = !1;
                    else switch (t.charAt(s)) {
                        case "d":
                            u += l("d", e.getDate(), 2);
                            break;
                        case "D":
                            u += c("D", e.getDay(), n, o);
                            break;
                        case "o":
                            u += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            u += l("m", e.getMonth() + 1, 2);
                            break;
                        case "M":
                            u += c("M", e.getMonth(), a, r);
                            break;
                        case "y":
                            u += h("y") ? e.getFullYear() : (e.getYear() % 100 < 10 ? "0" : "") + e.getYear() % 100;
                            break;
                        case "@":
                            u += e.getTime();
                            break;
                        case "!":
                            u += 1e4 * e.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            h("'") ? u += "'" : d = !0;
                            break;
                        default:
                            u += t.charAt(s)
                    }
                    return u
        },
        _possibleChars: function(t) {
            var e, i = "",
                s = !1,
                n = function(i) {
                    var s = e + 1 < t.length && t.charAt(e + 1) === i;
                    return s && e++, s
                };
            for (e = 0; e < t.length; e++)
                if (s) "'" !== t.charAt(e) || n("'") ? i += t.charAt(e) : s = !1;
                else switch (t.charAt(e)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        n("'") ? i += "'" : s = !0;
                        break;
                    default:
                        i += t.charAt(e)
                }
                return i
        },
        _get: function(t, e) {
            return void 0 !== t.settings[e] ? t.settings[e] : this._defaults[e]
        },
        _setDateFromField: function(t, e) {
            if (t.input.val() !== t.lastVal) {
                var i = this._get(t, "dateFormat"),
                    s = t.lastVal = t.input ? t.input.val() : null,
                    n = this._getDefaultDate(t),
                    o = n,
                    a = this._getFormatConfig(t);
                try {
                    o = this.parseDate(i, s, a) || n
                } catch (t) {
                    s = e ? "" : s
                }
                t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay = s ? o.getDate() : 0, t.currentMonth = s ? o.getMonth() : 0, t.currentYear = s ? o.getFullYear() : 0, this._adjustInstDate(t)
            }
        },
        _getDefaultDate: function(t) {
            return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
        },
        _determineDate: function(e, i, s) {
            var n = null == i || "" === i ? s : "string" == typeof i ? function(i) {
                try {
                    return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e))
                } catch (t) {}
                for (var s = (i.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, n = s.getFullYear(), o = s.getMonth(), a = s.getDate(), r = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, h = r.exec(i); h;) {
                    switch (h[2] || "d") {
                        case "d":
                        case "D":
                            a += parseInt(h[1], 10);
                            break;
                        case "w":
                        case "W":
                            a += 7 * parseInt(h[1], 10);
                            break;
                        case "m":
                        case "M":
                            o += parseInt(h[1], 10), a = Math.min(a, t.datepicker._getDaysInMonth(n, o));
                            break;
                        case "y":
                        case "Y":
                            n += parseInt(h[1], 10), a = Math.min(a, t.datepicker._getDaysInMonth(n, o))
                    }
                    h = r.exec(i)
                }
                return new Date(n, o, a)
            }(i) : "number" == typeof i ? isNaN(i) ? s : function(t) {
                var e = new Date;
                return e.setDate(e.getDate() + t), e
            }(i) : new Date(i.getTime());
            return (n = n && "Invalid Date" === n.toString() ? s : n) && (n.setHours(0), n.setMinutes(0), n.setSeconds(0), n.setMilliseconds(0)), this._daylightSavingAdjust(n)
        },
        _daylightSavingAdjust: function(t) {
            return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null
        },
        _setDate: function(t, e, i) {
            var s = !e,
                n = t.selectedMonth,
                o = t.selectedYear,
                a = this._restrictMinMax(t, this._determineDate(t, e, new Date));
            t.selectedDay = t.currentDay = a.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = a.getMonth(), t.drawYear = t.selectedYear = t.currentYear = a.getFullYear(), n === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t), this._adjustInstDate(t), t.input && t.input.val(s ? "" : this._formatDate(t))
        },
        _getDate: function(t) {
            return !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay))
        },
        _attachHandlers: function(e) {
            var i = this._get(e, "stepMonths"),
                s = "#" + e.id.replace(/\\\\/g, "\\");
            e.dpDiv.find("[data-handler]").map(function() {
                var e = {
                    prev: function() {
                        t.datepicker._adjustDate(s, -i, "M")
                    },
                    next: function() {
                        t.datepicker._adjustDate(s, +i, "M")
                    },
                    hide: function() {
                        t.datepicker._hideDatepicker()
                    },
                    today: function() {
                        t.datepicker._gotoToday(s)
                    },
                    selectDay: function() {
                        return t.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    },
                    selectMonth: function() {
                        return t.datepicker._selectMonthYear(s, this, "M"), !1
                    },
                    selectYear: function() {
                        return t.datepicker._selectMonthYear(s, this, "Y"), !1
                    }
                };
                t(this).bind(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(t) {
            var e, i, s, n, o, a, r, h, l, c, u, d, p, f, m, g, v, _, b, y, w, x, k, C, D, I, T, P, M, S, z, H, A, N, E, W, O, F, R, L = new Date,
                Y = this._daylightSavingAdjust(new Date(L.getFullYear(), L.getMonth(), L.getDate())),
                B = this._get(t, "isRTL"),
                j = this._get(t, "showButtonPanel"),
                q = this._get(t, "hideIfNoPrevNext"),
                K = this._get(t, "navigationAsDateFormat"),
                U = this._getNumberOfMonths(t),
                V = this._get(t, "showCurrentAtPos"),
                X = this._get(t, "stepMonths"),
                $ = 1 !== U[0] || 1 !== U[1],
                G = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)),
                Q = this._getMinMaxDate(t, "min"),
                J = this._getMinMaxDate(t, "max"),
                Z = t.drawMonth - V,
                tt = t.drawYear;
            if (Z < 0 && (Z += 12, tt--), J)
                for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - U[0] * U[1] + 1, J.getDate())), e = Q && e < Q ? Q : e; this._daylightSavingAdjust(new Date(tt, Z, 1)) > e;) --Z < 0 && (Z = 11, tt--);
            for (t.drawMonth = Z, t.drawYear = tt, i = this._get(t, "prevText"), i = K ? this.formatDate(i, this._daylightSavingAdjust(new Date(tt, Z - X, 1)), this._getFormatConfig(t)) : i, s = this._canAdjustMonth(t, -1, tt, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "e" : "w") + "'>" + i + "</span></a>" : q ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "e" : "w") + "'>" + i + "</span></a>", n = this._get(t, "nextText"), n = K ? this.formatDate(n, this._daylightSavingAdjust(new Date(tt, Z + X, 1)), this._getFormatConfig(t)) : n, o = this._canAdjustMonth(t, 1, tt, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "w" : "e") + "'>" + n + "</span></a>" : q ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (B ? "w" : "e") + "'>" + n + "</span></a>", a = this._get(t, "currentText"), r = this._get(t, "gotoCurrent") && t.currentDay ? G : Y, a = K ? this.formatDate(a, r, this._getFormatConfig(t)) : a, h = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>", l = j ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (B ? h : "") + (this._isInRange(t, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + a + "</button>" : "") + (B ? "" : h) + "</div>" : "", c = parseInt(this._get(t, "firstDay"), 10), c = isNaN(c) ? 0 : c, u = this._get(t, "showWeek"), d = this._get(t, "dayNames"), p = this._get(t, "dayNamesMin"), f = this._get(t, "monthNames"), m = this._get(t, "monthNamesShort"), g = this._get(t, "beforeShowDay"), v = this._get(t, "showOtherMonths"), _ = this._get(t, "selectOtherMonths"), b = this._getDefaultDate(t), y = "", x = 0; x < U[0]; x++) {
                for (k = "", this.maxRows = 4, C = 0; C < U[1]; C++) {
                    if (D = this._daylightSavingAdjust(new Date(tt, Z, t.selectedDay)), I = " ui-corner-all", T = "", $) {
                        if (T += "<div class='ui-datepicker-group", U[1] > 1) switch (C) {
                            case 0:
                                T += " ui-datepicker-group-first", I = " ui-corner-" + (B ? "right" : "left");
                                break;
                            case U[1] - 1:
                                T += " ui-datepicker-group-last", I = " ui-corner-" + (B ? "left" : "right");
                                break;
                            default:
                                T += " ui-datepicker-group-middle", I = ""
                        }
                        T += "'>"
                    }
                    for (T += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + I + "'>" + (/all|left/.test(I) && 0 === x ? B ? o : s : "") + (/all|right/.test(I) && 0 === x ? B ? s : o : "") + this._generateMonthYearHeader(t, Z, tt, Q, J, x > 0 || C > 0, f, m) + "</div><table class='ui-datepicker-calendar'><thead><tr>", P = u ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", w = 0; w < 7; w++) M = (w + c) % 7, P += "<th scope='col'" + ((w + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + d[M] + "'>" + p[M] + "</span></th>";
                    for (T += P + "</tr></thead><tbody>", S = this._getDaysInMonth(tt, Z), tt === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, S)), z = (this._getFirstDayOfMonth(tt, Z) - c + 7) % 7, H = Math.ceil((z + S) / 7), A = $ && this.maxRows > H ? this.maxRows : H, this.maxRows = A, N = this._daylightSavingAdjust(new Date(tt, Z, 1 - z)), E = 0; E < A; E++) {
                        for (T += "<tr>", W = u ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(N) + "</td>" : "", w = 0; w < 7; w++) O = g ? g.apply(t.input ? t.input[0] : null, [N]) : [!0, ""], R = (F = N.getMonth() !== Z) && !_ || !O[0] || Q && N < Q || J && N > J, W += "<td class='" + ((w + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (N.getTime() === D.getTime() && Z === t.selectedMonth && t._keyEvent || b.getTime() === N.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (R ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !v ? "" : " " + O[1] + (N.getTime() === G.getTime() ? " " + this._currentClass : "") + (N.getTime() === Y.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !v || !O[2] ? "" : " title='" + O[2].replace(/'/g, "&#39;") + "'") + (R ? "" : " data-handler='selectDay' data-event='click' data-month='" + N.getMonth() + "' data-year='" + N.getFullYear() + "'") + ">" + (F && !v ? "&#xa0;" : R ? "<span class='ui-state-default'>" + N.getDate() + "</span>" : "<a class='ui-state-default" + (N.getTime() === Y.getTime() ? " ui-state-highlight" : "") + (N.getTime() === G.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + N.getDate() + "</a>") + "</td>", N.setDate(N.getDate() + 1), N = this._daylightSavingAdjust(N);
                        T += W + "</tr>"
                    }++Z > 11 && (Z = 0, tt++), k += T += "</tbody></table>" + ($ ? "</div>" + (U[0] > 0 && C === U[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "")
                }
                y += k
            }
            return y += l, t._keyEvent = !1, y
        },
        _generateMonthYearHeader: function(t, e, i, s, n, o, a, r) {
            var h, l, c, u, d, p, f, m, g = this._get(t, "changeMonth"),
                v = this._get(t, "changeYear"),
                _ = this._get(t, "showMonthAfterYear"),
                b = "<div class='ui-datepicker-title'>",
                y = "";
            if (o || !g) y += "<span class='ui-datepicker-month'>" + a[e] + "</span>";
            else {
                for (h = s && s.getFullYear() === i, l = n && n.getFullYear() === i, y += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", c = 0; c < 12; c++)(!h || c >= s.getMonth()) && (!l || c <= n.getMonth()) && (y += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + r[c] + "</option>");
                y += "</select>"
            }
            if (_ || (b += y + (!o && g && v ? "" : "&#xa0;")), !t.yearshtml)
                if (t.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (u = this._get(t, "yearRange").split(":"), d = (new Date).getFullYear(), f = (p = function(t) {
                            var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10);
                            return isNaN(e) ? d : e
                        })(u[0]), m = Math.max(f, p(u[1] || "")), f = s ? Math.max(f, s.getFullYear()) : f, m = n ? Math.min(m, n.getFullYear()) : m, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; f <= m; f++) t.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                    t.yearshtml += "</select>", b += t.yearshtml, t.yearshtml = null
                }
            return b += this._get(t, "yearSuffix"), _ && (b += (!o && g && v ? "" : "&#xa0;") + y), b += "</div>"
        },
        _adjustInstDate: function(t, e, i) {
            var s = t.drawYear + ("Y" === i ? e : 0),
                n = t.drawMonth + ("M" === i ? e : 0),
                o = Math.min(t.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? e : 0),
                a = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(s, n, o)));
            t.selectedDay = a.getDate(), t.drawMonth = t.selectedMonth = a.getMonth(), t.drawYear = t.selectedYear = a.getFullYear(), "M" !== i && "Y" !== i || this._notifyChange(t)
        },
        _restrictMinMax: function(t, e) {
            var i = this._getMinMaxDate(t, "min"),
                s = this._getMinMaxDate(t, "max"),
                n = i && e < i ? i : e;
            return s && n > s ? s : n
        },
        _notifyChange: function(t) {
            var e = this._get(t, "onChangeMonthYear");
            e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
        },
        _getNumberOfMonths: function(t) {
            var e = this._get(t, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function(t, e) {
            return this._determineDate(t, this._get(t, e + "Date"), null)
        },
        _getDaysInMonth: function(t, e) {
            return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate()
        },
        _getFirstDayOfMonth: function(t, e) {
            return new Date(t, e, 1).getDay()
        },
        _canAdjustMonth: function(t, e, i, s) {
            var n = this._getNumberOfMonths(t),
                o = this._daylightSavingAdjust(new Date(i, s + (e < 0 ? e : n[0] * n[1]), 1));
            return e < 0 && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o)
        },
        _isInRange: function(t, e) {
            var i, s, n = this._getMinMaxDate(t, "min"),
                o = this._getMinMaxDate(t, "max"),
                a = null,
                r = null,
                h = this._get(t, "yearRange");
            return h && (i = h.split(":"), s = (new Date).getFullYear(), a = parseInt(i[0], 10), r = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (a += s), i[1].match(/[+\-].*/) && (r += s)), (!n || e.getTime() >= n.getTime()) && (!o || e.getTime() <= o.getTime()) && (!a || e.getFullYear() >= a) && (!r || e.getFullYear() <= r)
        },
        _getFormatConfig: function(t) {
            var e = this._get(t, "shortYearCutoff");
            return e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10), {
                shortYearCutoff: e,
                dayNamesShort: this._get(t, "dayNamesShort"),
                dayNames: this._get(t, "dayNames"),
                monthNamesShort: this._get(t, "monthNamesShort"),
                monthNames: this._get(t, "monthNames")
            }
        },
        _formatDate: function(t, e, i, s) {
            e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear);
            var n = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(s, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return this.formatDate(this._get(t, "dateFormat"), n, this._getFormatConfig(t))
        }
    }), t.fn.datepicker = function(e) {
        if (!this.length) return this;
        t.datepicker.initialized || (t(document).mousedown(t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function() {
            "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this, e)
        }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i))
    }, t.datepicker = new s, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date).getTime(), t.datepicker.version = "1.11.4";
    t.datepicker, t.widget("ui.dialog", {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "Close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(e) {
                    var i = t(this).css(e).offset().top;
                    i < 0 && t(this).css("top", e.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            }, this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus()
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
        },
        _destroy: function() {
            var t, e = this.originalPosition;
            this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), (t = e.parent.children().eq(e.index)).length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: t.noop,
        enable: t.noop,
        close: function(e) {
            var i, s = this;
            if (this._isOpen && !1 !== this._trigger("beforeClose", e)) {
                if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try {
                    (i = this.document[0].activeElement) && "body" !== i.nodeName.toLowerCase() && t(i).blur()
                } catch (t) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    s._trigger("close", e)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(e, i) {
            var s = !1,
                n = this.uiDialog.siblings(".ui-front:visible").map(function() {
                    return +t(this).css("z-index")
                }).get(),
                o = Math.max.apply(null, n);
            return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), s = !0), s && !i && this._trigger("focus", e), s
        },
        open: function() {
            var e = this;
            this._isOpen ? this._moveToTop() && this._focusTabbable() : (this._isOpen = !0, this.opener = t(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function() {
                e._focusTabbable(), e._trigger("focus")
            }), this._makeFocusTarget(), this._trigger("open"))
        },
        _focusTabbable: function() {
            var t = this._focusedElement;
            t || (t = this.element.find("[autofocus]")), t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).focus()
        },
        _keepFocus: function(e) {
            function i() {
                var e = this.document[0].activeElement;
                this.uiDialog[0] === e || t.contains(this.uiDialog[0], e) || this._focusTabbable()
            }
            e.preventDefault(), i.call(this), this._delay(i)
        },
        _createWrapper: function() {
            this.uiDialog = t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                keydown: function(e) {
                    if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return e.preventDefault(), void this.close(e);
                    if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) {
                        var i = this.uiDialog.find(":tabbable"),
                            s = i.filter(":first"),
                            n = i.filter(":last");
                        e.target !== n[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== s[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay(function() {
                            n.focus()
                        }), e.preventDefault()) : (this._delay(function() {
                            s.focus()
                        }), e.preventDefault())
                    }
                },
                mousedown: function(t) {
                    this._moveToTop(t) && this._focusTabbable()
                }
            }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var e;
            this.uiDialogTitlebar = t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                mousedown: function(e) {
                    t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                click: function(t) {
                    t.preventDefault(), this.close(t)
                }
            }), e = t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(e), this.uiDialog.attr({
                "aria-labelledby": e.attr("id")
            })
        },
        _title: function(t) {
            this.options.title || t.html("&#160;"), t.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
        },
        _createButtons: function() {
            var e = this,
                i = this.options.buttons;
            this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(i) || t.isArray(i) && !i.length ? this.uiDialog.removeClass("ui-dialog-buttons") : (t.each(i, function(i, s) {
                var n, o;
                s = t.isFunction(s) ? {
                    click: s,
                    text: i
                } : s, s = t.extend({
                    type: "button"
                }, s), n = s.click, s.click = function() {
                    n.apply(e.element[0], arguments)
                }, o = {
                    icons: s.icons,
                    text: s.showText
                }, delete s.icons, delete s.showText, t("<button></button>", s).button(o).appendTo(e.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function e(t) {
                return {
                    position: t.position,
                    offset: t.offset
                }
            }
            var i = this,
                s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(s, n) {
                    t(this).addClass("ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", s, e(n))
                },
                drag: function(t, s) {
                    i._trigger("drag", t, e(s))
                },
                stop: function(n, o) {
                    var a = o.offset.left - i.document.scrollLeft(),
                        r = o.offset.top - i.document.scrollTop();
                    s.position = {
                        my: "left top",
                        at: "left" + (a >= 0 ? "+" : "") + a + " top" + (r >= 0 ? "+" : "") + r,
                        of: i.window
                    }, t(this).removeClass("ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", n, e(o))
                }
            })
        },
        _makeResizable: function() {
            function e(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }
            var i = this,
                s = this.options,
                n = s.resizable,
                o = this.uiDialog.css("position"),
                a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: s.maxWidth,
                maxHeight: s.maxHeight,
                minWidth: s.minWidth,
                minHeight: this._minHeight(),
                handles: a,
                start: function(s, n) {
                    t(this).addClass("ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", s, e(n))
                },
                resize: function(t, s) {
                    i._trigger("resize", t, e(s))
                },
                stop: function(n, o) {
                    var a = i.uiDialog.offset(),
                        r = a.left - i.document.scrollLeft(),
                        h = a.top - i.document.scrollTop();
                    s.height = i.uiDialog.height(), s.width = i.uiDialog.width(), s.position = {
                        my: "left top",
                        at: "left" + (r >= 0 ? "+" : "") + r + " top" + (h >= 0 ? "+" : "") + h,
                        of: i.window
                    }, t(this).removeClass("ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", n, e(o))
                }
            }).css("position", o)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(e) {
                    this._makeFocusTarget(), this._focusedElement = t(e.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(), this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var e = this._trackingInstances(),
                i = t.inArray(this, e); - 1 !== i && e.splice(i, 1)
        },
        _trackingInstances: function() {
            var t = this.document.data("ui-dialog-instances");
            return t || (t = [], this.document.data("ui-dialog-instances", t)), t
        },
        _minHeight: function() {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function() {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
        },
        _setOptions: function(e) {
            var i = this,
                s = !1,
                n = {};
            t.each(e, function(t, e) {
                i._setOption(t, e), t in i.sizeRelatedOptions && (s = !0), t in i.resizableRelatedOptions && (n[t] = e)
            }), s && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", n)
        },
        _setOption: function(t, e) {
            var i, s, n = this.uiDialog;
            "dialogClass" === t && n.removeClass(this.options.dialogClass).addClass(e), "disabled" !== t && (this._super(t, e), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t && this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({
                label: "" + e
            }), "draggable" === t && ((i = n.is(":data(ui-draggable)")) && !e && n.draggable("destroy"), !i && e && this._makeDraggable()), "position" === t && this._position(), "resizable" === t && ((s = n.is(":data(ui-resizable)")) && !e && n.resizable("destroy"), s && "string" == typeof e && n.resizable("option", "handles", e), s || !1 === e || this._makeResizable()), "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var t, e, i, s = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }), s.minWidth > s.width && (s.width = s.minWidth), t = this.uiDialog.css({
                height: "auto",
                width: s.width
            }).outerHeight(), e = Math.max(0, s.minHeight - t), i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - t) : "none", "auto" === s.height ? this.element.css({
                minHeight: e,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, s.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var e = t(this);
                return t("<div>").css({
                    position: "absolute",
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }).appendTo(e.parent()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function(e) {
            return !!t(e.target).closest(".ui-dialog").length || !!t(e.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var e = !0;
                this._delay(function() {
                    e = !1
                }), this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function(t) {
                        e || this._allowInteraction(t) || (t.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                    }
                }), this.overlay = t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (this.options.modal && this.overlay) {
                var t = this.document.data("ui-dialog-overlays") - 1;
                t ? this.document.data("ui-dialog-overlays", t) : this.document.unbind("focusin").removeData("ui-dialog-overlays"), this.overlay.remove(), this.overlay = null
            }
        }
    }), t.widget("ui.progressbar", {
        version: "1.11.4",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }), this.valueDiv = t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove()
        },
        value: function(t) {
            if (void 0 === t) return this.options.value;
            this.options.value = this._constrainedValue(t), this._refreshValue()
        },
        _constrainedValue: function(t) {
            return void 0 === t && (t = this.options.value), this.indeterminate = !1 === t, "number" != typeof t && (t = 0), !this.indeterminate && Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function(t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function(t, e) {
            "max" === t && (e = Math.max(this.min, e)), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this._super(t, e)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var e = this.options.value,
                i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min).toggleClass("ui-corner-right", e === this.options.max).width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete")
        }
    }), t.widget("ui.selectmenu", {
        version: "1.11.4",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var t = this.element.uniqueId().attr("id");
            this.ids = {
                element: t,
                button: t + "-button",
                menu: t + "-menu"
            }, this._drawButton(), this._drawMenu(), this.options.disabled && this.disable()
        },
        _drawButton: function() {
            var e = this;
            this.label = t("label[for='" + this.ids.element + "']").attr("for", this.ids.button), this._on(this.label, {
                click: function(t) {
                    this.button.focus(), t.preventDefault()
                }
            }), this.element.hide(), this.button = t("<span>", {
                class: "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element), t("<span>", {
                class: "ui-icon " + this.options.icons.button
            }).prependTo(this.button), this.buttonText = t("<span>", {
                class: "ui-selectmenu-text"
            }).appendTo(this.button), this._setText(this.buttonText, this.element.find("option:selected").text()), this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", function() {
                e.menuItems || e._refreshMenu()
            }), this._hoverable(this.button), this._focusable(this.button)
        },
        _drawMenu: function() {
            var e = this;
            this.menu = t("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }), this.menuWrap = t("<div>", {
                class: "ui-selectmenu-menu ui-front"
            }).append(this.menu).appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function(t, i) {
                    t.preventDefault(), e._setSelection(), e._select(i.item.data("ui-selectmenu-item"), t)
                },
                focus: function(t, i) {
                    var s = i.item.data("ui-selectmenu-item");
                    null != e.focusIndex && s.index !== e.focusIndex && (e._trigger("focus", t, {
                        item: s
                    }), e.isOpen || e._select(s, t)), e.focusIndex = s.index, e.button.attr("aria-activedescendant", e.menuItems.eq(s.index).attr("id"))
                }
            }).menu("instance"), this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }, this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            this._refreshMenu(), this._setText(this.buttonText, this._getSelectedItem().text()), this.options.width || this._resizeButton()
        },
        _refreshMenu: function() {
            this.menu.empty();
            var t, e = this.element.find("option");
            e.length && (this._parseOptions(e), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"), t = this._getSelectedItem(), this.menuInstance.focus(null, t), this._setAria(t.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function(t) {
            this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", t))
        },
        _position: function() {
            this.menuWrap.position(t.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(t) {
            this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", t))
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderMenu: function(e, i) {
            var s = this,
                n = "";
            t.each(i, function(i, o) {
                o.optgroup !== n && (t("<li>", {
                    class: "ui-selectmenu-optgroup ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                    text: o.optgroup
                }).appendTo(e), n = o.optgroup), s._renderItemData(e, o)
            })
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-selectmenu-item", e)
        },
        _renderItem: function(e, i) {
            var s = t("<li>");
            return i.disabled && s.addClass("ui-state-disabled"), this._setText(s, i.label), s.appendTo(e)
        },
        _setText: function(t, e) {
            e ? t.text(e) : t.html("&#160;")
        },
        _move: function(t, e) {
            var i, s, n = ".ui-menu-item";
            this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex), n += ":not(.ui-state-disabled)"), (s = "first" === t || "last" === t ? i["first" === t ? "prevAll" : "nextAll"](n).eq(-1) : i[t + "All"](n).eq(0)).length && this.menuInstance.focus(e, s)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex)
        },
        _toggle: function(t) {
            this[this.isOpen ? "close" : "open"](t)
        },
        _setSelection: function() {
            var t;
            this.range && (window.getSelection ? ((t = window.getSelection()).removeAllRanges(), t.addRange(this.range)) : this.range.select(), this.button.focus())
        },
        _documentClick: {
            mousedown: function(e) {
                this.isOpen && (t(e.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(e))
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var t;
                window.getSelection ? (t = window.getSelection()).rangeCount && (this.range = t.getRangeAt(0)) : this.range = document.selection.createRange()
            },
            click: function(t) {
                this._setSelection(), this._toggle(t)
            },
            keydown: function(e) {
                var i = !0;
                switch (e.keyCode) {
                    case t.ui.keyCode.TAB:
                    case t.ui.keyCode.ESCAPE:
                        this.close(e), i = !1;
                        break;
                    case t.ui.keyCode.ENTER:
                        this.isOpen && this._selectFocusedItem(e);
                        break;
                    case t.ui.keyCode.UP:
                        e.altKey ? this._toggle(e) : this._move("prev", e);
                        break;
                    case t.ui.keyCode.DOWN:
                        e.altKey ? this._toggle(e) : this._move("next", e);
                        break;
                    case t.ui.keyCode.SPACE:
                        this.isOpen ? this._selectFocusedItem(e) : this._toggle(e);
                        break;
                    case t.ui.keyCode.LEFT:
                        this._move("prev", e);
                        break;
                    case t.ui.keyCode.RIGHT:
                        this._move("next", e);
                        break;
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.PAGE_UP:
                        this._move("first", e);
                        break;
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_DOWN:
                        this._move("last", e);
                        break;
                    default:
                        this.menu.trigger(e), i = !1
                }
                i && e.preventDefault()
            }
        },
        _selectFocusedItem: function(t) {
            var e = this.menuItems.eq(this.focusIndex);
            e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t)
        },
        _select: function(t, e) {
            var i = this.element[0].selectedIndex;
            this.element[0].selectedIndex = t.index, this._setText(this.buttonText, t.label), this._setAria(t), this._trigger("select", e, {
                item: t
            }), t.index !== i && this._trigger("change", e, {
                item: t
            }), this.close(e)
        },
        _setAria: function(t) {
            var e = this.menuItems.eq(t.index).attr("id");
            this.button.attr({
                "aria-labelledby": e,
                "aria-activedescendant": e
            }), this.menu.attr("aria-activedescendant", e)
        },
        _setOption: function(t, e) {
            "icons" === t && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button), this._super(t, e), "appendTo" === t && this.menuWrap.appendTo(this._appendTo()), "disabled" === t && (this.menuInstance.option("disabled", e), this.button.toggleClass("ui-state-disabled", e).attr("aria-disabled", e), this.element.prop("disabled", e), e ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0)), "width" === t && this._resizeButton()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _toggleAttr: function() {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen), this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen), this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var t = this.options.width;
            t || (t = this.element.show().outerWidth(), this.element.hide()), this.button.outerWidth(t)
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            }
        },
        _parseOptions: function(e) {
            var i = [];
            e.each(function(e, s) {
                var n = t(s),
                    o = n.parent("optgroup");
                i.push({
                    element: n,
                    index: e,
                    value: n.val(),
                    label: n.text(),
                    optgroup: o.attr("label") || "",
                    disabled: o.prop("disabled") || n.prop("disabled")
                })
            }), this.items = i
        },
        _destroy: function() {
            this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.label.attr("for", this.ids.element)
        }
    }), t.widget("ui.slider", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function() {
            var e, i, s = this.options,
                n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                o = [];
            for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), e = n.length; e < i; e++) o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");
            this.handles = n.add(t(o.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(e) {
                t(this).data("ui-slider-handle-index", e)
            })
        },
        _createRange: function() {
            var e = this.options,
                i = "";
            e.range ? (!0 === e.range && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = t("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var i, s, n, o, a, r, h, l = this,
                c = this.options;
            return !c.disabled && (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), i = {
                x: e.pageX,
                y: e.pageY
            }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function(e) {
                var i = Math.abs(s - l.values(e));
                (n > i || n === i && (e === l._lastChangedValue || l.values(e) === c.min)) && (n = i, o = t(this), a = e)
            }), !1 !== this._start(e, a) && (this._mouseSliding = !0, this._handleIndex = a, o.addClass("ui-state-active").focus(), r = o.offset(), h = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = h ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - r.left - o.width() / 2,
                top: e.pageY - r.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(e, a, s), this._animateOff = !0, !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(t) {
            var e = {
                    x: t.pageX,
                    y: t.pageY
                },
                i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },
        _mouseStop: function(t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(t) {
            var e, i, s, n, o;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), (s = i / e) > 1 && (s = 1), s < 0 && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), o = this._valueMin() + s * n, this._trimAlignValue(o)
        },
        _start: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start", t, i)
        },
        _slide: function(t, e, i) {
            var s, n, o;
            this.options.values && this.options.values.length ? (s = this.values(e ? 0 : 1), 2 === this.options.values.length && !0 === this.options.range && (0 === e && i > s || 1 === e && i < s) && (i = s), i !== this.values(e) && ((n = this.values())[e] = i, o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i,
                values: n
            }), s = this.values(e ? 0 : 1), !1 !== o && this.values(e, i))) : i !== this.value() && !1 !== (o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            })) && this.value(i)
        },
        _stop: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },
        _change: function(t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, i)
            }
        },
        value: function(t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), void this._change(null, 0)) : this._value()
        },
        values: function(e, i) {
            var s, n, o;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), void this._change(null, e);
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (s = this.options.values, n = arguments[0], o = 0; o < s.length; o += 1) s[o] = this._trimAlignValue(n[o]), this._change(null, o);
            this._refreshValue()
        },
        _setOption: function(e, i) {
            var s, n = 0;
            switch ("range" === e && !0 === this.options.range && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (n = this.options.values.length), "disabled" === e && this.element.toggleClass("ui-state-disabled", !!i), this._super(e, i), e) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(), this.handles.css("horizontal" === i ? "bottom" : "left", "");
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), s = 0; s < n; s += 1) this._change(null, s);
                    this._animateOff = !1;
                    break;
                case "step":
                case "min":
                case "max":
                    this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function() {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function(t) {
            var e, i, s;
            if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), s = 0; s < i.length; s += 1) i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function(t) {
            if (t <= this._valueMin()) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1,
                i = (t - this._valueMin()) % e,
                s = t - i;
            return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
        },
        _calculateNewMax: function() {
            var t = this.options.max,
                e = this._valueMin(),
                i = this.options.step;
            t = Math.floor(+(t - e).toFixed(this._precision()) / i) * i + e, this.max = parseFloat(t.toFixed(this._precision()))
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function(t) {
            var e = t.toString(),
                i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshValue: function() {
            var e, i, s, n, o, a = this.options.range,
                r = this.options,
                h = this,
                l = !this._animateOff && r.animate,
                c = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = (h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin()) * 100, c["horizontal" === h.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[l ? "animate" : "css"](c, r.animate), !0 === h.options.range && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: i + "%"
                }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                    width: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: i + "%"
                }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                    height: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))), e = i
            }) : (s = this.value(), n = this._valueMin(), o = this._valueMax(), i = o !== n ? (s - n) / (o - n) * 100 : 0, c["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](c, r.animate), "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: i + "%"
            }, r.animate), "max" === a && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: i + "%"
            }, r.animate), "max" === a && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }))
        },
        _handleEvents: {
            keydown: function(e) {
                var i, s, n, o = t(e.target).data("ui-slider-handle-index");
                switch (e.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, t(e.target).addClass("ui-state-active"), !1 === this._start(e, o))) return
                }
                switch (n = this.options.step, i = s = this.options.values && this.options.values.length ? this.values(o) : this.value(), e.keyCode) {
                    case t.ui.keyCode.HOME:
                        s = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        s = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        s = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        s = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (i === this._valueMax()) return;
                        s = this._trimAlignValue(i + n);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (i === this._valueMin()) return;
                        s = this._trimAlignValue(i - n)
                }
                this._slide(e, o, s)
            },
            keyup: function(e) {
                var i = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target).removeClass("ui-state-active"))
            }
        }
    }), t.widget("ui.spinner", {
        version: "1.11.4",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var e = {},
                i = this.element;
            return t.each(["min", "max", "step"], function(t, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (e[s] = n)
            }), e
        },
        _events: {
            keydown: function(t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(t) {
                this.cancelBlur ? delete this.cancelBlur : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", t))
            },
            mousewheel: function(t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function() {
                        this.spinning && this._stop(t)
                    }, 100), t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(e) {
                function i() {
                    this.element[0] === this.document[0].activeElement || (this.element.focus(), this.previous = s, this._delay(function() {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function() {
                    delete this.cancelBlur, i.call(this)
                }), !1 !== this._start(e) && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(e) {
                if (t(e.currentTarget).hasClass("ui-state-active")) return !1 !== this._start(e) && void this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"), this.buttons = t.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * t.height()) && t.height() > 0 && t.height(t.height()), this.options.disabled && this.disable()
        },
        _keydown: function(e) {
            var i = this.options,
                s = t.ui.keyCode;
            switch (e.keyCode) {
                case s.UP:
                    return this._repeat(null, 1, e), !0;
                case s.DOWN:
                    return this._repeat(null, -1, e), !0;
                case s.PAGE_UP:
                    return this._repeat(null, i.page, e), !0;
                case s.PAGE_DOWN:
                    return this._repeat(null, -i.page, e), !0
            }
            return !1
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function() {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
        },
        _start: function(t) {
            return !(!this.spinning && !1 === this._trigger("start", t)) && (this.counter || (this.counter = 1), this.spinning = !0, !0)
        },
        _repeat: function(t, e, i) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function() {
                this._repeat(40, e, i)
            }, t), this._spin(e * this.options.step, i)
        },
        _spin: function(t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && !1 === this._trigger("spin", e, {
                value: i
            }) || (this._value(i), this.counter++)
        },
        _increment: function(e) {
            var i = this.options.incremental;
            return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function(t) {
            var e = t.toString(),
                i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function(t) {
            var e, i, s = this.options;
            return e = null !== s.min ? s.min : 0, i = t - e, i = Math.round(i / s.step) * s.step, t = e + i, t = parseFloat(t.toFixed(this._precision())), null !== s.max && t > s.max ? s.max : null !== s.min && t < s.min ? s.min : t
        },
        _stop: function(t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t))
        },
        _setOption: function(t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e, void this.element.val(this._format(i))
            }
            "max" !== t && "min" !== t && "step" !== t || "string" == typeof e && (e = this._parse(e)), "icons" === t && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)), this._super(t, e), "disabled" === t && (this.widget().toggleClass("ui-state-disabled", !!e), this.element.prop("disabled", !!e), this.buttons.button(e ? "disable" : "enable"))
        },
        _setOptions: r(function(t) {
            this._super(t)
        }),
        _parse: function(t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function(t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var t = this.value();
            return null !== t && t === this._adjustValue(t)
        },
        _value: function(t, e) {
            var i;
            "" !== t && null !== (i = this._parse(t)) && (e || (i = this._adjustValue(i)), t = this._format(i)), this.element.val(t), this._refresh()
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: r(function(t) {
            this._stepUp(t)
        }),
        _stepUp: function(t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: r(function(t) {
            this._stepDown(t)
        }),
        _stepDown: function(t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: r(function(t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: r(function(t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function(t) {
            if (!arguments.length) return this._parse(this.element.val());
            r(this._value).call(this, t)
        },
        widget: function() {
            return this.uiSpinner
        }
    }), t.widget("ui.tabs", {
        version: "1.11.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function() {
            var t = /#.*$/;
            return function(e) {
                var i, s;
                i = (e = e.cloneNode(!1)).href.replace(t, ""), s = location.href.replace(t, "");
                try {
                    i = decodeURIComponent(i)
                } catch (t) {}
                try {
                    s = decodeURIComponent(s)
                } catch (t) {}
                return e.hash.length > 1 && i === s
            }
        }(),
        _create: function() {
            var e = this,
                i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function(t) {
                return e.tabs.index(t)
            }))).sort()), !1 !== this.options.active && this.anchors.length ? this.active = this._findActive(i.active) : this.active = t(), this._refresh(), this.active.length && this.load(i.active)
        },
        _initialActive: function() {
            var e = this.options.active,
                i = this.options.collapsible,
                s = location.hash.substring(1);
            return null === e && (s && this.tabs.each(function(i, n) {
                if (t(n).attr("aria-controls") === s) return e = i, !1
            }), null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), null !== e && -1 !== e || (e = !!this.tabs.length && 0)), !1 !== e && -1 === (e = this.tabs.index(this.tabs.eq(e))) && (e = !i && 0), !i && !1 === e && this.anchors.length && (e = 0), e
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : t()
            }
        },
        _tabKeydown: function(e) {
            var i = t(this.document[0].activeElement).closest("li"),
                s = this.tabs.index(i),
                n = !0;
            if (!this._handlePageNav(e)) {
                switch (e.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        s++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        n = !1, s--;
                        break;
                    case t.ui.keyCode.END:
                        s = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        s = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(s);
                    case t.ui.keyCode.ENTER:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(s !== this.options.active && s);
                    default:
                        return
                }
                e.preventDefault(), clearTimeout(this.activating), s = this._focusNextTab(s, n), e.ctrlKey || e.metaKey || (i.attr("aria-selected", "false"), this.tabs.eq(s).attr("aria-selected", "true"), this.activating = this._delay(function() {
                    this.option("active", s)
                }, this.delay))
            }
        },
        _panelKeydown: function(e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },
        _handlePageNav: function(e) {
            return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
        },
        _findNextTab: function(e, i) {
            function s() {
                return e > n && (e = 0), e < 0 && (e = n), e
            }
            for (var n = this.tabs.length - 1; - 1 !== t.inArray(s(), this.options.disabled);) e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function(t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).focus(), t
        },
        _setOption: function(t, e) {
            "active" !== t ? "disabled" !== t ? (this._super(t, e), "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", e), e || !1 !== this.options.active || this._activate(0)), "event" === t && this._setupEvents(e), "heightStyle" === t && this._setupHeightStyle(e)) : this._setupDisabled(e) : this._activate(e)
        },
        _sanitizeSelector: function(t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var e = this.options,
                i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function(t) {
                return i.index(t)
            }), this._processTabs(), !1 !== e.active && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }), this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var e = this,
                i = this.tabs,
                s = this.anchors,
                n = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }), this.anchors = this.tabs.map(function() {
                return t("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }), this.panels = t(), this.anchors.each(function(i, s) {
                var n, o, a, r = t(s).uniqueId().attr("id"),
                    h = t(s).closest("li"),
                    l = h.attr("aria-controls");
                e._isLocal(s) ? (a = (n = s.hash).substring(1), o = e.element.find(e._sanitizeSelector(n))) : (n = "#" + (a = h.attr("aria-controls") || t({}).uniqueId()[0].id), (o = e.element.find(n)).length || (o = e._createPanel(a)).insertAfter(e.panels[i - 1] || e.tablist), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), l && h.data("ui-tabs-aria-controls", l), h.attr({
                    "aria-controls": a,
                    "aria-labelledby": r
                }), o.attr("aria-labelledby", r)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"), i && (this._off(i.not(this.tabs)), this._off(s.not(this.anchors)), this._off(n.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(e) {
            return t("<div>").attr("id", e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, s = 0; i = this.tabs[s]; s++) !0 === e || -1 !== t.inArray(s, e) ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = e
        },
        _setupEvents: function(e) {
            var i = {};
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
                click: function(t) {
                    t.preventDefault()
                }
            }), this._on(this.anchors, i), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(e) {
            var i, s = this.element.parent();
            "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                var e = t(this),
                    s = e.css("position");
                "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
            }), this.element.children().not(this.panels).each(function() {
                i -= t(this).outerHeight(!0)
            }), this.panels.each(function() {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function() {
                i = Math.max(i, t(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget).closest("li"),
                o = n[0] === s[0],
                a = o && i.collapsible,
                r = a ? t() : this._getPanelForTab(n),
                h = s.length ? this._getPanelForTab(s) : t(),
                l = {
                    oldTab: s,
                    oldPanel: h,
                    newTab: a ? t() : n,
                    newPanel: r
                };
            e.preventDefault(), n.hasClass("ui-state-disabled") || n.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || !1 === this._trigger("beforeActivate", e, l) || (i.active = !a && this.tabs.index(n), this.active = o ? t() : n, this.xhr && this.xhr.abort(), h.length || r.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), r.length && this.load(this.tabs.index(n), e), this._toggle(e, l))
        },
        _toggle: function(e, i) {
            function s() {
                o.running = !1, o._trigger("activate", e, i)
            }

            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), a.length && o.options.show ? o._show(a, o.options.show, s) : (a.show(), s())
            }
            var o = this,
                a = i.newPanel,
                r = i.oldPanel;
            this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr("aria-hidden", "true"), i.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), a.length && r.length ? i.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(function() {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), a.attr("aria-hidden", "false"), i.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(e) {
            var i, s = this._findActive(e);
            s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return !1 === e ? t() : this.tabs.eq(e)
        },
        _getIndex: function(t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tablist.unbind(this.eventNamespace), this.tabs.add(this.panels).each(function() {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function() {
                var e = t(this),
                    i = e.data("ui-tabs-aria-controls");
                i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
            }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(e) {
            var i = this.options.disabled;
            !1 !== i && (void 0 === e ? i = !1 : (e = this._getIndex(e), i = t.isArray(i) ? t.map(i, function(t) {
                return t !== e ? t : null
            }) : t.map(this.tabs, function(t, i) {
                return i !== e ? i : null
            })), this._setupDisabled(i))
        },
        disable: function(e) {
            var i = this.options.disabled;
            if (!0 !== i) {
                if (void 0 === e) i = !0;
                else {
                    if (e = this._getIndex(e), -1 !== t.inArray(e, i)) return;
                    i = t.isArray(i) ? t.merge([e], i).sort() : [e]
                }
                this._setupDisabled(i)
            }
        },
        load: function(e, i) {
            e = this._getIndex(e);
            var s = this,
                n = this.tabs.eq(e),
                o = n.find(".ui-tabs-anchor"),
                a = this._getPanelForTab(n),
                r = {
                    tab: n,
                    panel: a
                },
                h = function(t, e) {
                    "abort" === e && s.panels.stop(!1, !0), n.removeClass("ui-tabs-loading"), a.removeAttr("aria-busy"), t === s.xhr && delete s.xhr
                };
            this._isLocal(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, r)), this.xhr && "canceled" !== this.xhr.statusText && (n.addClass("ui-tabs-loading"), a.attr("aria-busy", "true"), this.xhr.done(function(t, e, n) {
                setTimeout(function() {
                    a.html(t), s._trigger("load", i, r), h(n, e)
                }, 1)
            }).fail(function(t, e) {
                setTimeout(function() {
                    h(t, e)
                }, 1)
            })))
        },
        _ajaxSettings: function(e, i, s) {
            var n = this;
            return {
                url: e.attr("href"),
                beforeSend: function(e, o) {
                    return n._trigger("beforeLoad", i, t.extend({
                        jqXHR: e,
                        ajaxSettings: o
                    }, s))
                }
            }
        },
        _getPanelForTab: function(e) {
            var i = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    }), t.widget("ui.tooltip", {
        version: "1.11.4",
        options: {
            content: function() {
                var e = t(this).attr("title") || "";
                return t("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(e, i) {
            var s = (e.attr("aria-describedby") || "").split(/\s+/);
            s.push(i), e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" ")))
        },
        _removeDescribedBy: function(e) {
            var i = e.data("ui-tooltip-id"),
                s = (e.attr("aria-describedby") || "").split(/\s+/),
                n = t.inArray(i, s); - 1 !== n && s.splice(n, 1), e.removeData("ui-tooltip-id"), (s = t.trim(s.join(" "))) ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable(), this.liveRegion = t("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
        },
        _setOption: function(e, i) {
            var s = this;
            if ("disabled" === e) return this[i ? "_disable" : "_enable"](), void(this.options[e] = i);
            this._super(e, i), "content" === e && t.each(this.tooltips, function(t, e) {
                s._updateContent(e.element)
            })
        },
        _disable: function() {
            var e = this;
            t.each(this.tooltips, function(i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s.element[0], e.close(n, !0)
            }), this.element.find(this.options.items).addBack().each(function() {
                var e = t(this);
                e.is("[title]") && e.data("ui-tooltip-title", e.attr("title")).removeAttr("title")
            })
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var e = t(this);
                e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
            })
        },
        open: function(e) {
            var i = this,
                s = t(e ? e.target : this.element).closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")), s.data("ui-tooltip-open", !0), e && "mouseover" === e.type && s.parents().each(function() {
                var e, s = t(this);
                s.data("ui-tooltip-open") && ((e = t.Event("blur")).target = e.currentTarget = this, i.close(e, !0)), s.attr("title") && (s.uniqueId(), i.parents[this.id] = {
                    element: this,
                    title: s.attr("title")
                }, s.attr("title", ""))
            }), this._registerCloseHandlers(e, s), this._updateContent(s, e))
        },
        _updateContent: function(t, e) {
            var i, s = this.options.content,
                n = this,
                o = e ? e.type : null;
            if ("string" == typeof s) return this._open(e, t, s);
            (i = s.call(t[0], function(i) {
                n._delay(function() {
                    t.data("ui-tooltip-open") && (e && (e.type = o), this._open(e, t, i))
                })
            })) && this._open(e, t, i)
        },
        _open: function(e, i, s) {
            function n(t) {
                l.of = t, a.is(":hidden") || a.position(l)
            }
            var o, a, r, h, l = t.extend({}, this.options.position);
            s && ((o = this._find(i)) ? o.tooltip.find(".ui-tooltip-content").html(s) : (i.is("[title]") && (e && "mouseover" === e.type ? i.attr("title", "") : i.removeAttr("title")), o = this._tooltip(i), a = o.tooltip, this._addDescribedBy(i, a.attr("id")), a.find(".ui-tooltip-content").html(s), this.liveRegion.children().hide(), s.clone ? (h = s.clone()).removeAttr("id").find("[id]").removeAttr("id") : h = s, t("<div>").html(h).appendTo(this.liveRegion), this.options.track && e && /^mouse/.test(e.type) ? (this._on(this.document, {
                mousemove: n
            }), n(e)) : a.position(t.extend({
                of: i
            }, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.show && this.options.show.delay && (r = this.delayedShow = setInterval(function() {
                a.is(":visible") && (n(l.of), clearInterval(r))
            }, t.fx.interval)), this._trigger("open", e, {
                tooltip: a
            })))
        },
        _registerCloseHandlers: function(e, i) {
            var s = {
                keyup: function(e) {
                    if (e.keyCode === t.ui.keyCode.ESCAPE) {
                        var s = t.Event(e);
                        s.currentTarget = i[0], this.close(s, !0)
                    }
                }
            };
            i[0] !== this.element[0] && (s.remove = function() {
                this._removeTooltip(this._find(i).tooltip)
            }), e && "mouseover" !== e.type || (s.mouseleave = "close"), e && "focusin" !== e.type || (s.focusout = "close"), this._on(!0, i, s)
        },
        close: function(e) {
            var i, s = this,
                n = t(e ? e.currentTarget : this.element),
                o = this._find(n);
            o ? (i = o.tooltip, o.closing || (clearInterval(this.delayedShow), n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")), this._removeDescribedBy(n), o.hiding = !0, i.stop(!0), this._hide(i, this.options.hide, function() {
                s._removeTooltip(t(this))
            }), n.removeData("ui-tooltip-open"), this._off(n, "mouseleave focusout keyup"), n[0] !== this.element[0] && this._off(n, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function(e, i) {
                t(i.element).attr("title", i.title), delete s.parents[e]
            }), o.closing = !0, this._trigger("close", e, {
                tooltip: i
            }), o.hiding || (o.closing = !1))) : n.removeData("ui-tooltip-open")
        },
        _tooltip: function(e) {
            var i = t("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || "")),
                s = i.uniqueId().attr("id");
            return t("<div>").addClass("ui-tooltip-content").appendTo(i), i.appendTo(this.document[0].body), this.tooltips[s] = {
                element: e,
                tooltip: i
            }
        },
        _find: function(t) {
            var e = t.data("ui-tooltip-id");
            return e ? this.tooltips[e] : null
        },
        _removeTooltip: function(t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        },
        _destroy: function() {
            var e = this;
            t.each(this.tooltips, function(i, s) {
                var n = t.Event("blur"),
                    o = s.element;
                n.target = n.currentTarget = o[0], e.close(n, !0), t("#" + i).remove(), o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")), o.removeData("ui-tooltip-title"))
            }), this.liveRegion.remove()
        }
    });
    var v = t;
    t.effects = {
            effect: {}
        },
        function(t, e) {
            function i(t, e, i) {
                var s = c[e.type] || {};
                return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : s.max < t ? s.max : t)
            }

            function s(e) {
                var i = h(),
                    s = i._rgba = [];
                return e = e.toLowerCase(), p(r, function(t, n) {
                    var o, a = n.re.exec(e),
                        r = a && n.parse(a),
                        h = n.space || "rgba";
                    if (r) return o = i[h](r), i[l[h].cache] = o[l[h].cache], s = i._rgba = o._rgba, !1
                }), s.length ? ("0,0,0,0" === s.join() && t.extend(s, o.transparent), i) : o[e]
            }

            function n(t, e, i) {
                return 6 * (i = (i + 1) % 1) < 1 ? t + (e - t) * i * 6 : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
            }
            var o, a = /^([\-+])=\s*(\d+\.?\d*)/,
                r = [{
                    re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [t[1], t[2], t[3], t[4]]
                    }
                }, {
                    re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                    }
                }, {
                    re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                    parse: function(t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                    parse: function(t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }, {
                    re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    space: "hsla",
                    parse: function(t) {
                        return [t[1], t[2] / 100, t[3] / 100, t[4]]
                    }
                }],
                h = t.Color = function(e, i, s, n) {
                    return new t.Color.fn.parse(e, i, s, n)
                },
                l = {
                    rgba: {
                        props: {
                            red: {
                                idx: 0,
                                type: "byte"
                            },
                            green: {
                                idx: 1,
                                type: "byte"
                            },
                            blue: {
                                idx: 2,
                                type: "byte"
                            }
                        }
                    },
                    hsla: {
                        props: {
                            hue: {
                                idx: 0,
                                type: "degrees"
                            },
                            saturation: {
                                idx: 1,
                                type: "percent"
                            },
                            lightness: {
                                idx: 2,
                                type: "percent"
                            }
                        }
                    }
                },
                c = {
                    byte: {
                        floor: !0,
                        max: 255
                    },
                    percent: {
                        max: 1
                    },
                    degrees: {
                        mod: 360,
                        floor: !0
                    }
                },
                u = h.support = {},
                d = t("<p>")[0],
                p = t.each;
            d.style.cssText = "background-color:rgba(1,1,1,.5)", u.rgba = d.style.backgroundColor.indexOf("rgba") > -1, p(l, function(t, e) {
                e.cache = "_" + t, e.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            }), h.fn = t.extend(h.prototype, {
                parse: function(e, n, a, r) {
                    if (void 0 === e) return this._rgba = [null, null, null, null], this;
                    (e.jquery || e.nodeType) && (e = t(e).css(n), n = void 0);
                    var c = this,
                        u = t.type(e),
                        d = this._rgba = [];
                    return void 0 !== n && (e = [e, n, a, r], u = "array"), "string" === u ? this.parse(s(e) || o._default) : "array" === u ? (p(l.rgba.props, function(t, s) {
                        d[s.idx] = i(e[s.idx], s)
                    }), this) : "object" === u ? (e instanceof h ? p(l, function(t, i) {
                        e[i.cache] && (c[i.cache] = e[i.cache].slice())
                    }) : p(l, function(s, n) {
                        var o = n.cache;
                        p(n.props, function(t, s) {
                            if (!c[o] && n.to) {
                                if ("alpha" === t || null == e[t]) return;
                                c[o] = n.to(c._rgba)
                            }
                            c[o][s.idx] = i(e[t], s, !0)
                        }), c[o] && t.inArray(null, c[o].slice(0, 3)) < 0 && (c[o][3] = 1, n.from && (c._rgba = n.from(c[o])))
                    }), this) : void 0
                },
                is: function(t) {
                    var e = h(t),
                        i = !0,
                        s = this;
                    return p(l, function(t, n) {
                        var o, a = e[n.cache];
                        return a && (o = s[n.cache] || n.to && n.to(s._rgba) || [], p(n.props, function(t, e) {
                            if (null != a[e.idx]) return i = a[e.idx] === o[e.idx]
                        })), i
                    }), i
                },
                _space: function() {
                    var t = [],
                        e = this;
                    return p(l, function(i, s) {
                        e[s.cache] && t.push(i)
                    }), t.pop()
                },
                transition: function(t, e) {
                    var s = h(t),
                        n = s._space(),
                        o = l[n],
                        a = 0 === this.alpha() ? h("transparent") : this,
                        r = a[o.cache] || o.to(a._rgba),
                        u = r.slice();
                    return s = s[o.cache], p(o.props, function(t, n) {
                        var o = n.idx,
                            a = r[o],
                            h = s[o],
                            l = c[n.type] || {};
                        null !== h && (null === a ? u[o] = h : (l.mod && (h - a > l.mod / 2 ? a += l.mod : a - h > l.mod / 2 && (a -= l.mod)), u[o] = i((h - a) * e + a, n)))
                    }), this[n](u)
                },
                blend: function(e) {
                    if (1 === this._rgba[3]) return this;
                    var i = this._rgba.slice(),
                        s = i.pop(),
                        n = h(e)._rgba;
                    return h(t.map(i, function(t, e) {
                        return (1 - s) * n[e] + s * t
                    }))
                },
                toRgbaString: function() {
                    var e = "rgba(",
                        i = t.map(this._rgba, function(t, e) {
                            return null == t ? e > 2 ? 1 : 0 : t
                        });
                    return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
                },
                toHslaString: function() {
                    var e = "hsla(",
                        i = t.map(this.hsla(), function(t, e) {
                            return null == t && (t = e > 2 ? 1 : 0), e && e < 3 && (t = Math.round(100 * t) + "%"), t
                        });
                    return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
                },
                toHexString: function(e) {
                    var i = this._rgba.slice(),
                        s = i.pop();
                    return e && i.push(~~(255 * s)), "#" + t.map(i, function(t) {
                        return 1 === (t = (t || 0).toString(16)).length ? "0" + t : t
                    }).join("")
                },
                toString: function() {
                    return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                }
            }), h.fn.parse.prototype = h.fn, l.hsla.to = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e, i, s = t[0] / 255,
                    n = t[1] / 255,
                    o = t[2] / 255,
                    a = t[3],
                    r = Math.max(s, n, o),
                    h = Math.min(s, n, o),
                    l = r - h,
                    c = r + h,
                    u = .5 * c;
                return e = h === r ? 0 : s === r ? 60 * (n - o) / l + 360 : n === r ? 60 * (o - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : u <= .5 ? l / c : l / (2 - c), [Math.round(e) % 360, i, u, null == a ? 1 : a]
            }, l.hsla.from = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e = t[0] / 360,
                    i = t[1],
                    s = t[2],
                    o = t[3],
                    a = s <= .5 ? s * (1 + i) : s + i - s * i,
                    r = 2 * s - a;
                return [Math.round(255 * n(r, a, e + 1 / 3)), Math.round(255 * n(r, a, e)), Math.round(255 * n(r, a, e - 1 / 3)), o]
            }, p(l, function(e, s) {
                var n = s.props,
                    o = s.cache,
                    r = s.to,
                    l = s.from;
                h.fn[e] = function(e) {
                    if (r && !this[o] && (this[o] = r(this._rgba)), void 0 === e) return this[o].slice();
                    var s, a = t.type(e),
                        c = "array" === a || "object" === a ? e : arguments,
                        u = this[o].slice();
                    return p(n, function(t, e) {
                        var s = c["object" === a ? t : e.idx];
                        null == s && (s = u[e.idx]), u[e.idx] = i(s, e)
                    }), l ? (s = h(l(u)), s[o] = u, s) : h(u)
                }, p(n, function(i, s) {
                    h.fn[i] || (h.fn[i] = function(n) {
                        var o, r = t.type(n),
                            h = "alpha" === i ? this._hsla ? "hsla" : "rgba" : e,
                            l = this[h](),
                            c = l[s.idx];
                        return "undefined" === r ? c : ("function" === r && (n = n.call(this, c), r = t.type(n)), null == n && s.empty ? this : ("string" === r && (o = a.exec(n)) && (n = c + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1)), l[s.idx] = n, this[h](l)))
                    })
                })
            }), h.hook = function(e) {
                var i = e.split(" ");
                p(i, function(e, i) {
                    t.cssHooks[i] = {
                        set: function(e, n) {
                            var o, a, r = "";
                            if ("transparent" !== n && ("string" !== t.type(n) || (o = s(n)))) {
                                if (n = h(o || n), !u.rgba && 1 !== n._rgba[3]) {
                                    for (a = "backgroundColor" === i ? e.parentNode : e;
                                        ("" === r || "transparent" === r) && a && a.style;) try {
                                        r = t.css(a, "backgroundColor"), a = a.parentNode
                                    } catch (t) {}
                                    n = n.blend(r && "transparent" !== r ? r : "_default")
                                }
                                n = n.toRgbaString()
                            }
                            try {
                                e.style[i] = n
                            } catch (t) {}
                        }
                    }, t.fx.step[i] = function(e) {
                        e.colorInit || (e.start = h(e.elem, i), e.end = h(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
                    }
                })
            }, h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"), t.cssHooks.borderColor = {
                expand: function(t) {
                    var e = {};
                    return p(["Top", "Right", "Bottom", "Left"], function(i, s) {
                        e["border" + s + "Color"] = t
                    }), e
                }
            }, o = t.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        }(v),
        function() {
            function e(e) {
                var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                    o = {};
                if (n && n.length && n[0] && n[n[0]])
                    for (s = n.length; s--;) "string" == typeof n[i = n[s]] && (o[t.camelCase(i)] = n[i]);
                else
                    for (i in n) "string" == typeof n[i] && (o[i] = n[i]);
                return o
            }
            var i = ["add", "remove", "toggle"],
                s = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1
                };
            t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(e, i) {
                t.fx.step[i] = function(t) {
                    ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (v.style(t.elem, i, t.end), t.setAttr = !0)
                }
            }), t.fn.addBack || (t.fn.addBack = function(t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }), t.effects.animateClass = function(n, o, a, r) {
                var h = t.speed(o, a, r);
                return this.queue(function() {
                    var o, a = t(this),
                        r = a.attr("class") || "",
                        l = h.children ? a.find("*").addBack() : a;
                    l = l.map(function() {
                        return {
                            el: t(this),
                            start: e(this)
                        }
                    }), (o = function() {
                        t.each(i, function(t, e) {
                            n[e] && a[e + "Class"](n[e])
                        })
                    })(), l = l.map(function() {
                        return this.end = e(this.el[0]), this.diff = function(e, i) {
                            var n, o, a = {};
                            for (n in i) o = i[n], e[n] !== o && (s[n] || !t.fx.step[n] && isNaN(parseFloat(o)) || (a[n] = o));
                            return a
                        }(this.start, this.end), this
                    }), a.attr("class", r), l = l.map(function() {
                        var e = this,
                            i = t.Deferred(),
                            s = t.extend({}, h, {
                                queue: !1,
                                complete: function() {
                                    i.resolve(e)
                                }
                            });
                        return this.el.animate(this.diff, s), i.promise()
                    }), t.when.apply(t, l.get()).done(function() {
                        o(), t.each(arguments, function() {
                            var e = this.el;
                            t.each(this.diff, function(t) {
                                e.css(t, "")
                            })
                        }), h.complete.call(a[0])
                    })
                })
            }, t.fn.extend({
                addClass: function(e) {
                    return function(i, s, n, o) {
                        return s ? t.effects.animateClass.call(this, {
                            add: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.addClass),
                removeClass: function(e) {
                    return function(i, s, n, o) {
                        return arguments.length > 1 ? t.effects.animateClass.call(this, {
                            remove: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.removeClass),
                toggleClass: function(e) {
                    return function(i, s, n, o, a) {
                        return "boolean" == typeof s || void 0 === s ? n ? t.effects.animateClass.call(this, s ? {
                            add: i
                        } : {
                            remove: i
                        }, n, o, a) : e.apply(this, arguments) : t.effects.animateClass.call(this, {
                            toggle: i
                        }, s, n, o)
                    }
                }(t.fn.toggleClass),
                switchClass: function(e, i, s, n, o) {
                    return t.effects.animateClass.call(this, {
                        add: i,
                        remove: e
                    }, s, n, o)
                }
            })
        }(),
        function() {
            function e(e, i, s, n) {
                return t.isPlainObject(e) && (i = e, e = e.effect), e = {
                    effect: e
                }, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}), t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e
            }

            function i(e) {
                return !(e && "number" != typeof e && !t.fx.speeds[e]) || ("string" == typeof e && !t.effects.effect[e] || (!!t.isFunction(e) || "object" == typeof e && !e.effect))
            }
            t.extend(t.effects, {
                version: "1.11.4",
                save: function(t, e) {
                    for (var i = 0; i < e.length; i++) null !== e[i] && t.data("ui-effects-" + e[i], t[0].style[e[i]])
                },
                restore: function(t, e) {
                    var i, s;
                    for (s = 0; s < e.length; s++) null !== e[s] && (void 0 === (i = t.data("ui-effects-" + e[s])) && (i = ""), t.css(e[s], i))
                },
                setMode: function(t, e) {
                    return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
                },
                getBaseline: function(t, e) {
                    var i, s;
                    switch (t[0]) {
                        case "top":
                            i = 0;
                            break;
                        case "middle":
                            i = .5;
                            break;
                        case "bottom":
                            i = 1;
                            break;
                        default:
                            i = t[0] / e.height
                    }
                    switch (t[1]) {
                        case "left":
                            s = 0;
                            break;
                        case "center":
                            s = .5;
                            break;
                        case "right":
                            s = 1;
                            break;
                        default:
                            s = t[1] / e.width
                    }
                    return {
                        x: s,
                        y: i
                    }
                },
                createWrapper: function(e) {
                    if (e.parent().is(".ui-effects-wrapper")) return e.parent();
                    var i = {
                            width: e.outerWidth(!0),
                            height: e.outerHeight(!0),
                            float: e.css("float")
                        },
                        s = t("<div></div>").addClass("ui-effects-wrapper").css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }),
                        n = {
                            width: e.width(),
                            height: e.height()
                        },
                        o = document.activeElement;
                    try {
                        o.id
                    } catch (t) {
                        o = document.body
                    }
                    return e.wrap(s), (e[0] === o || t.contains(e[0], o)) && t(o).focus(), s = e.parent(), "static" === e.css("position") ? (s.css({
                        position: "relative"
                    }), e.css({
                        position: "relative"
                    })) : (t.extend(i, {
                        position: e.css("position"),
                        zIndex: e.css("z-index")
                    }), t.each(["top", "left", "bottom", "right"], function(t, s) {
                        i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                    }), e.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    })), e.css(n), s.css(i).show()
                },
                removeWrapper: function(e) {
                    var i = document.activeElement;
                    return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).focus()), e
                },
                setTransition: function(e, i, s, n) {
                    return n = n || {}, t.each(i, function(t, i) {
                        var o = e.cssUnit(i);
                        o[0] > 0 && (n[i] = o[0] * s + o[1])
                    }), n
                }
            }), t.fn.extend({
                effect: function() {
                    function i(e) {
                        function i() {
                            t.isFunction(o) && o.call(n[0]), t.isFunction(e) && e()
                        }
                        var n = t(this),
                            o = s.complete,
                            r = s.mode;
                        (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](), i()) : a.call(n[0], s, i)
                    }
                    var s = e.apply(this, arguments),
                        n = s.mode,
                        o = s.queue,
                        a = t.effects.effect[s.effect];
                    return t.fx.off || !a ? n ? this[n](s.duration, s.complete) : this.each(function() {
                        s.complete && s.complete.call(this)
                    }) : !1 === o ? this.each(i) : this.queue(o || "fx", i)
                },
                show: function(t) {
                    return function(s) {
                        if (i(s)) return t.apply(this, arguments);
                        var n = e.apply(this, arguments);
                        return n.mode = "show", this.effect.call(this, n)
                    }
                }(t.fn.show),
                hide: function(t) {
                    return function(s) {
                        if (i(s)) return t.apply(this, arguments);
                        var n = e.apply(this, arguments);
                        return n.mode = "hide", this.effect.call(this, n)
                    }
                }(t.fn.hide),
                toggle: function(t) {
                    return function(s) {
                        if (i(s) || "boolean" == typeof s) return t.apply(this, arguments);
                        var n = e.apply(this, arguments);
                        return n.mode = "toggle", this.effect.call(this, n)
                    }
                }(t.fn.toggle),
                cssUnit: function(e) {
                    var i = this.css(e),
                        s = [];
                    return t.each(["em", "px", "%", "pt"], function(t, e) {
                        i.indexOf(e) > 0 && (s = [parseFloat(i), e])
                    }), s
                }
            })
        }(),
        function() {
            var e = {};
            t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(t, i) {
                e[i] = function(e) {
                    return Math.pow(e, t + 2)
                }
            }), t.extend(e, {
                Sine: function(t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                },
                Circ: function(t) {
                    return 1 - Math.sqrt(1 - t * t)
                },
                Elastic: function(t) {
                    return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
                },
                Back: function(t) {
                    return t * t * (3 * t - 2)
                },
                Bounce: function(t) {
                    for (var e, i = 4; t < ((e = Math.pow(2, --i)) - 1) / 11;);
                    return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
                }
            }), t.each(e, function(e, i) {
                t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function(t) {
                    return 1 - i(1 - t)
                }, t.easing["easeInOut" + e] = function(t) {
                    return t < .5 ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
                }
            })
        }();
    t.effects, t.effects.effect.blind = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "hide"),
            l = e.direction || "up",
            c = /up|down|vertical/.test(l),
            u = c ? "height" : "width",
            d = c ? "top" : "left",
            p = /up|left|vertical|horizontal/.test(l),
            f = {},
            m = "show" === h;
        a.parent().is(".ui-effects-wrapper") ? t.effects.save(a.parent(), r) : t.effects.save(a, r), a.show(), n = (s = t.effects.createWrapper(a).css({
            overflow: "hidden"
        }))[u](), o = parseFloat(s.css(d)) || 0, f[u] = m ? n : 0, p || (a.css(c ? "bottom" : "right", 0).css(c ? "top" : "left", "auto").css({
            position: "absolute"
        }), f[d] = m ? o : n + o), m && (s.css(u, 0), p || s.css(d, o + n)), s.animate(f, {
            duration: e.duration,
            easing: e.easing,
            queue: !1,
            complete: function() {
                "hide" === h && a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
            }
        })
    }, t.effects.effect.bounce = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "effect"),
            l = "hide" === h,
            c = "show" === h,
            u = e.direction || "up",
            d = e.distance,
            p = e.times || 5,
            f = 2 * p + (c || l ? 1 : 0),
            m = e.duration / f,
            g = e.easing,
            v = "up" === u || "down" === u ? "top" : "left",
            _ = "up" === u || "left" === u,
            b = a.queue(),
            y = b.length;
        for ((c || l) && r.push("opacity"), t.effects.save(a, r), a.show(), t.effects.createWrapper(a), d || (d = a["top" === v ? "outerHeight" : "outerWidth"]() / 3), c && ((o = {
                opacity: 1
            })[v] = 0, a.css("opacity", 0).css(v, _ ? 2 * -d : 2 * d).animate(o, m, g)), l && (d /= Math.pow(2, p - 1)), (o = {})[v] = 0, s = 0; s < p; s++)(n = {})[v] = (_ ? "-=" : "+=") + d, a.animate(n, m, g).animate(o, m, g), d = l ? 2 * d : d / 2;
        l && ((n = {
            opacity: 0
        })[v] = (_ ? "-=" : "+=") + d, a.animate(n, m, g)), a.queue(function() {
            l && a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
        }), y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))), a.dequeue()
    }, t.effects.effect.clip = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = "show" === t.effects.setMode(a, e.mode || "hide"),
            l = "vertical" === (e.direction || "vertical"),
            c = l ? "height" : "width",
            u = l ? "top" : "left",
            d = {};
        t.effects.save(a, r), a.show(), s = t.effects.createWrapper(a).css({
            overflow: "hidden"
        }), o = (n = "IMG" === a[0].tagName ? s : a)[c](), h && (n.css(c, 0), n.css(u, o / 2)), d[c] = h ? o : 0, d[u] = h ? 0 : o / 2, n.animate(d, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                h || a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
            }
        })
    }, t.effects.effect.drop = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            a = t.effects.setMode(n, e.mode || "hide"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h ? "pos" : "neg",
            u = {
                opacity: r ? 1 : 0
            };
        t.effects.save(n, o), n.show(), t.effects.createWrapper(n), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2, r && n.css("opacity", 0).css(l, "pos" === c ? -s : s), u[l] = (r ? "pos" === c ? "+=" : "-=" : "pos" === c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
            }
        })
    }, t.effects.effect.explode = function(e, i) {
        function s() {
            v.push(this), v.length === c * u && function() {
                d.css({
                    visibility: "visible"
                }), t(v).remove(), p || d.hide();
                i()
            }()
        }
        var n, o, a, r, h, l, c = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
            u = c,
            d = t(this),
            p = "show" === t.effects.setMode(d, e.mode || "hide"),
            f = d.show().css("visibility", "hidden").offset(),
            m = Math.ceil(d.outerWidth() / u),
            g = Math.ceil(d.outerHeight() / c),
            v = [];
        for (n = 0; n < c; n++)
            for (r = f.top + n * g, l = n - (c - 1) / 2, o = 0; o < u; o++) a = f.left + o * m, h = o - (u - 1) / 2, d.clone().appendTo("body").wrap("<div></div>").css({
                position: "absolute",
                visibility: "visible",
                left: -o * m,
                top: -n * g
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: m,
                height: g,
                left: a + (p ? h * m : 0),
                top: r + (p ? l * g : 0),
                opacity: p ? 0 : 1
            }).animate({
                left: a + (p ? 0 : h * m),
                top: r + (p ? 0 : l * g),
                opacity: p ? 1 : 0
            }, e.duration || 500, e.easing, s)
    }, t.effects.effect.fade = function(e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }, t.effects.effect.fold = function(e, i) {
        var s, n, o = t(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            r = t.effects.setMode(o, e.mode || "hide"),
            h = "show" === r,
            l = "hide" === r,
            c = e.size || 15,
            u = /([0-9]+)%/.exec(c),
            d = !!e.horizFirst,
            p = h !== d,
            f = p ? ["width", "height"] : ["height", "width"],
            m = e.duration / 2,
            g = {},
            v = {};
        t.effects.save(o, a), o.show(), s = t.effects.createWrapper(o).css({
            overflow: "hidden"
        }), n = p ? [s.width(), s.height()] : [s.height(), s.width()], u && (c = parseInt(u[1], 10) / 100 * n[l ? 0 : 1]), h && s.css(d ? {
            height: 0,
            width: c
        } : {
            height: c,
            width: 0
        }), g[f[0]] = h ? n[0] : c, v[f[1]] = h ? n[1] : 0, s.animate(g, m, e.easing).animate(v, m, e.easing, function() {
            l && o.hide(), t.effects.restore(o, a), t.effects.removeWrapper(o), i()
        })
    }, t.effects.effect.highlight = function(e, i) {
        var s = t(this),
            n = ["backgroundImage", "backgroundColor", "opacity"],
            o = t.effects.setMode(s, e.mode || "show"),
            a = {
                backgroundColor: s.css("backgroundColor")
            };
        "hide" === o && (a.opacity = 0), t.effects.save(s, n), s.show().css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(a, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === o && s.hide(), t.effects.restore(s, n), i()
            }
        })
    }, t.effects.effect.size = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            h = ["width", "height", "overflow"],
            l = ["fontSize"],
            c = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            u = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            d = t.effects.setMode(a, e.mode || "effect"),
            p = e.restore || "effect" !== d,
            f = e.scale || "both",
            m = e.origin || ["middle", "center"],
            g = a.css("position"),
            v = p ? r : ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            _ = {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            };
        "show" === d && a.show(), s = {
            height: a.height(),
            width: a.width(),
            outerHeight: a.outerHeight(),
            outerWidth: a.outerWidth()
        }, "toggle" === e.mode && "show" === d ? (a.from = e.to || _, a.to = e.from || s) : (a.from = e.from || ("show" === d ? _ : s), a.to = e.to || ("hide" === d ? _ : s)), o = {
            from: {
                y: a.from.height / s.height,
                x: a.from.width / s.width
            },
            to: {
                y: a.to.height / s.height,
                x: a.to.width / s.width
            }
        }, "box" !== f && "both" !== f || (o.from.y !== o.to.y && (v = v.concat(c), a.from = t.effects.setTransition(a, c, o.from.y, a.from), a.to = t.effects.setTransition(a, c, o.to.y, a.to)), o.from.x !== o.to.x && (v = v.concat(u), a.from = t.effects.setTransition(a, u, o.from.x, a.from), a.to = t.effects.setTransition(a, u, o.to.x, a.to))), "content" !== f && "both" !== f || o.from.y !== o.to.y && (v = v.concat(l).concat(h), a.from = t.effects.setTransition(a, l, o.from.y, a.from), a.to = t.effects.setTransition(a, l, o.to.y, a.to)), t.effects.save(a, v), a.show(), t.effects.createWrapper(a), a.css("overflow", "hidden").css(a.from), m && (n = t.effects.getBaseline(m, s), a.from.top = (s.outerHeight - a.outerHeight()) * n.y, a.from.left = (s.outerWidth - a.outerWidth()) * n.x, a.to.top = (s.outerHeight - a.to.outerHeight) * n.y, a.to.left = (s.outerWidth - a.to.outerWidth) * n.x), a.css(a.from), "content" !== f && "both" !== f || (c = c.concat(["marginTop", "marginBottom"]).concat(l), u = u.concat(["marginLeft", "marginRight"]), h = r.concat(c).concat(u), a.find("*[width]").each(function() {
            var i = t(this),
                s = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                };
            p && t.effects.save(i, h), i.from = {
                height: s.height * o.from.y,
                width: s.width * o.from.x,
                outerHeight: s.outerHeight * o.from.y,
                outerWidth: s.outerWidth * o.from.x
            }, i.to = {
                height: s.height * o.to.y,
                width: s.width * o.to.x,
                outerHeight: s.height * o.to.y,
                outerWidth: s.width * o.to.x
            }, o.from.y !== o.to.y && (i.from = t.effects.setTransition(i, c, o.from.y, i.from), i.to = t.effects.setTransition(i, c, o.to.y, i.to)), o.from.x !== o.to.x && (i.from = t.effects.setTransition(i, u, o.from.x, i.from), i.to = t.effects.setTransition(i, u, o.to.x, i.to)), i.css(i.from), i.animate(i.to, e.duration, e.easing, function() {
                p && t.effects.restore(i, h)
            })
        })), a.animate(a.to, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                0 === a.to.opacity && a.css("opacity", a.from.opacity), "hide" === d && a.hide(), t.effects.restore(a, v), p || ("static" === g ? a.css({
                    position: "relative",
                    top: a.to.top,
                    left: a.to.left
                }) : t.each(["top", "left"], function(t, e) {
                    a.css(e, function(e, i) {
                        var s = parseInt(i, 10),
                            n = t ? a.to.left : a.to.top;
                        return "auto" === i ? n + "px" : s + n + "px"
                    })
                })), t.effects.removeWrapper(a), i()
            }
        })
    }, t.effects.effect.scale = function(e, i) {
        var s = t(this),
            n = t.extend(!0, {}, e),
            o = t.effects.setMode(s, e.mode || "effect"),
            a = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "hide" === o ? 0 : 100),
            r = e.direction || "both",
            h = e.origin,
            l = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            },
            c = {
                y: "horizontal" !== r ? a / 100 : 1,
                x: "vertical" !== r ? a / 100 : 1
            };
        n.effect = "size", n.queue = !1, n.complete = i, "effect" !== o && (n.origin = h || ["middle", "center"], n.restore = !0), n.from = e.from || ("show" === o ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : l), n.to = {
            height: l.height * c.y,
            width: l.width * c.x,
            outerHeight: l.outerHeight * c.y,
            outerWidth: l.outerWidth * c.x
        }, n.fade && ("show" === o && (n.from.opacity = 0, n.to.opacity = 1), "hide" === o && (n.from.opacity = 1, n.to.opacity = 0)), s.effect(n)
    }, t.effects.effect.puff = function(e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "hide"),
            o = "hide" === n,
            a = parseInt(e.percent, 10) || 150,
            r = a / 100,
            h = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            };
        t.extend(e, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: o ? a : 100,
            from: o ? h : {
                height: h.height * r,
                width: h.width * r,
                outerHeight: h.outerHeight * r,
                outerWidth: h.outerWidth * r
            }
        }), s.effect(e)
    }, t.effects.effect.pulsate = function(e, i) {
        var s, n = t(this),
            o = t.effects.setMode(n, e.mode || "show"),
            a = "show" === o,
            r = "hide" === o,
            h = a || "hide" === o,
            l = 2 * (e.times || 5) + (h ? 1 : 0),
            c = e.duration / l,
            u = 0,
            d = n.queue(),
            p = d.length;
        for (!a && n.is(":visible") || (n.css("opacity", 0).show(), u = 1), s = 1; s < l; s++) n.animate({
            opacity: u
        }, c, e.easing), u = 1 - u;
        n.animate({
            opacity: u
        }, c, e.easing), n.queue(function() {
            r && n.hide(), i()
        }), p > 1 && d.splice.apply(d, [1, 0].concat(d.splice(p, l + 1))), n.dequeue()
    }, t.effects.effect.shake = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "height", "width"],
            a = t.effects.setMode(n, e.mode || "effect"),
            r = e.direction || "left",
            h = e.distance || 20,
            l = e.times || 3,
            c = 2 * l + 1,
            u = Math.round(e.duration / c),
            d = "up" === r || "down" === r ? "top" : "left",
            p = "up" === r || "left" === r,
            f = {},
            m = {},
            g = {},
            v = n.queue(),
            _ = v.length;
        for (t.effects.save(n, o), n.show(), t.effects.createWrapper(n), f[d] = (p ? "-=" : "+=") + h, m[d] = (p ? "+=" : "-=") + 2 * h, g[d] = (p ? "-=" : "+=") + 2 * h, n.animate(f, u, e.easing), s = 1; s < l; s++) n.animate(m, u, e.easing).animate(g, u, e.easing);
        n.animate(m, u, e.easing).animate(f, u / 2, e.easing).queue(function() {
            "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
        }), _ > 1 && v.splice.apply(v, [1, 0].concat(v.splice(_, c + 1))), n.dequeue()
    }, t.effects.effect.slide = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "width", "height"],
            a = t.effects.setMode(n, e.mode || "show"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h,
            u = {};
        t.effects.save(n, o), n.show(), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0), t.effects.createWrapper(n).css({
            overflow: "hidden"
        }), r && n.css(l, c ? isNaN(s) ? "-" + s : -s : s), u[l] = (r ? c ? "+=" : "-=" : c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
            }
        })
    }, t.effects.effect.transfer = function(e, i) {
        var s = t(this),
            n = t(e.to),
            o = "fixed" === n.css("position"),
            a = t("body"),
            r = o ? a.scrollTop() : 0,
            h = o ? a.scrollLeft() : 0,
            l = n.offset(),
            c = {
                top: l.top - r,
                left: l.left - h,
                height: n.innerHeight(),
                width: n.innerWidth()
            },
            u = s.offset(),
            d = t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({
                top: u.top - r,
                left: u.left - h,
                height: s.innerHeight(),
                width: s.innerWidth(),
                position: o ? "fixed" : "absolute"
            }).animate(c, e.duration, e.easing, function() {
                d.remove(), i()
            })
    }
});
! function(t, i) {
    "object" == typeof exports ? module.exports = i() : "function" == typeof define && define.amd ? define(i) : t.Spinner = i()
}(this, function() {
    "use strict";

    function t(t, i) {
        var e, o = document.createElement(t || "div");
        for (e in i) o[e] = i[e];
        return o
    }

    function i(t) {
        for (var i = 1, e = arguments.length; e > i; i++) t.appendChild(arguments[i]);
        return t
    }

    function e(t, i, e, o) {
        var n = ["opacity", i, ~~(100 * t), e, o].join("-"),
            r = .01 + e / o * 100,
            s = Math.max(1 - (1 - t) / i * (100 - r), t),
            a = l.substring(0, l.indexOf("Animation")).toLowerCase(),
            c = a && "-" + a + "-" || "";
        return d[n] || (p.insertRule("@" + c + "keyframes " + n + "{0%{opacity:" + s + "}" + r + "%{opacity:" + t + "}" + (r + .01) + "%{opacity:1}" + (r + i) % 100 + "%{opacity:" + t + "}100%{opacity:" + s + "}}", p.cssRules.length), d[n] = 1), n
    }

    function o(t, i) {
        var e, o, n = t.style;
        for (i = i.charAt(0).toUpperCase() + i.slice(1), o = 0; o < c.length; o++)
            if (e = c[o] + i, void 0 !== n[e]) return e;
        return void 0 !== n[i] ? i : void 0
    }

    function n(t, i) {
        for (var e in i) t.style[o(t, e) || e] = i[e];
        return t
    }

    function r(t) {
        for (var i = 1; i < arguments.length; i++) {
            var e = arguments[i];
            for (var o in e) void 0 === t[o] && (t[o] = e[o])
        }
        return t
    }

    function s(t, i) {
        return "string" == typeof t ? t : t[i % t.length]
    }

    function a(t) {
        this.opts = r(t || {}, a.defaults, u)
    }
    var l, c = ["webkit", "Moz", "ms", "O"],
        d = {},
        p = function() {
            var e = t("style", {
                type: "text/css"
            });
            return i(document.getElementsByTagName("head")[0], e), e.sheet || e.styleSheet
        }(),
        u = {
            lines: 12,
            length: 7,
            width: 5,
            radius: 10,
            rotate: 0,
            corners: 1,
            color: "#000",
            direction: 1,
            speed: 1,
            trail: 100,
            opacity: .25,
            fps: 20,
            zIndex: 2e9,
            className: "spinner",
            top: "50%",
            left: "50%",
            position: "absolute"
        };
    a.defaults = {}, r(a.prototype, {
        spin: function(i) {
            this.stop();
            var e = this,
                o = e.opts,
                r = e.el = n(t(0, {
                    className: o.className
                }), {
                    position: o.position,
                    width: 0,
                    zIndex: o.zIndex
                });
            if (o.radius, o.length, o.width, n(r, {
                    left: o.left,
                    top: o.top
                }), i && i.insertBefore(r, i.firstChild || null), r.setAttribute("role", "progressbar"), e.lines(r, e.opts), !l) {
                var s, a = 0,
                    c = (o.lines - 1) * (1 - o.direction) / 2,
                    d = o.fps,
                    p = d / o.speed,
                    u = (1 - o.opacity) / (p * o.trail / 100),
                    f = p / o.lines;
                ! function t() {
                    a++;
                    for (var i = 0; i < o.lines; i++) s = Math.max(1 - (a + (o.lines - i) * f) % p * u, o.opacity), e.opacity(r, i * o.direction + c, s, o);
                    e.timeout = e.el && setTimeout(t, ~~(1e3 / d))
                }()
            }
            return e
        },
        stop: function() {
            var t = this.el;
            return t && (clearTimeout(this.timeout), t.parentNode && t.parentNode.removeChild(t), this.el = void 0), this
        },
        lines: function(o, r) {
            function a(i, e) {
                return n(t(), {
                    position: "absolute",
                    width: r.length + r.width + "px",
                    height: r.width + "px",
                    background: i,
                    boxShadow: e,
                    transformOrigin: "left",
                    transform: "rotate(" + ~~(360 / r.lines * d + r.rotate) + "deg) translate(" + r.radius + "px,0)",
                    borderRadius: (r.corners * r.width >> 1) + "px"
                })
            }
            for (var c, d = 0, p = (r.lines - 1) * (1 - r.direction) / 2; d < r.lines; d++) c = n(t(), {
                position: "absolute",
                top: 1 + ~(r.width / 2) + "px",
                transform: r.hwaccel ? "translate3d(0,0,0)" : "",
                opacity: r.opacity,
                animation: l && e(r.opacity, r.trail, p + d * r.direction, r.lines) + " " + 1 / r.speed + "s linear infinite"
            }), r.shadow && i(c, n(a("#000", "0 0 4px #000"), {
                top: "2px"
            })), i(o, i(c, a(s(r.color, d), "0 0 1px rgba(0,0,0,.1)")));
            return o
        },
        opacity: function(t, i, e) {
            i < t.childNodes.length && (t.childNodes[i].style.opacity = e)
        }
    });
    var f = n(t("group"), {
        behavior: "url(#default#VML)"
    });
    return !o(f, "transform") && f.adj ? function() {
        function e(i, e) {
            return t("<" + i + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', e)
        }
        p.addRule(".spin-vml", "behavior:url(#default#VML)"), a.prototype.lines = function(t, o) {
            function r() {
                return n(e("group", {
                    coordsize: d + " " + d,
                    coordorigin: -c + " " + -c
                }), {
                    width: d,
                    height: d
                })
            }

            function a(t, a, l) {
                i(u, i(n(r(), {
                    rotation: 360 / o.lines * t + "deg",
                    left: ~~a
                }), i(n(e("roundrect", {
                    arcsize: o.corners
                }), {
                    width: c,
                    height: o.width,
                    left: o.radius,
                    top: -o.width >> 1,
                    filter: l
                }), e("fill", {
                    color: s(o.color, t),
                    opacity: o.opacity
                }), e("stroke", {
                    opacity: 0
                }))))
            }
            var l, c = o.length + o.width,
                d = 2 * c,
                p = 2 * -(o.width + o.length) + "px",
                u = n(r(), {
                    position: "absolute",
                    top: p,
                    left: p
                });
            if (o.shadow)
                for (l = 1; l <= o.lines; l++) a(l, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");
            for (l = 1; l <= o.lines; l++) a(l);
            return i(t, u)
        }, a.prototype.opacity = function(t, i, e, o) {
            var n = t.firstChild;
            o = o.shadow && o.lines || 0, n && i + o < n.childNodes.length && (n = n.childNodes[i + o], n = n && n.firstChild, (n = n && n.firstChild) && (n.opacity = e))
        }
    }() : l = o(f, "animation"), a
});
! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports ? require("jquery") : jQuery)
}(function(e) {
    function n(e) {
        return t.raw ? e : encodeURIComponent(e)
    }

    function o(e) {
        return t.raw ? e : decodeURIComponent(e)
    }

    function i(n, o) {
        var i = t.raw ? n : function(e) {
            0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                e = decodeURIComponent(e.replace(r, " "));
                try {
                    return t.json ? JSON.parse(e) : e
                } catch (n) {
                    return e
                }
            } catch (e) {}
        }(n);
        return e.isFunction(o) ? o(i) : i
    }
    var r = /\+/g,
        t = e.cookie = function(r, c, u) {
            if (void 0 !== c && !e.isFunction(c)) {
                if ("number" == typeof(u = e.extend({}, t.defaults, u)).expires) {
                    var a = u.expires,
                        f = u.expires = new Date;
                    f.setTime(+f + 864e5 * a)
                }
                return document.cookie = [n(r), "=", function(e) {
                    return n(t.json ? JSON.stringify(e) : String(e))
                }(c), u.expires ? "; expires=" + u.expires.toUTCString() : "", u.path ? "; path=" + u.path : "", u.domain ? "; domain=" + u.domain : "", u.secure ? "; secure" : ""].join("")
            }
            for (var d = r ? void 0 : {}, p = document.cookie ? document.cookie.split("; ") : [], s = 0, m = p.length; s < m; s++) {
                var x = p[s].split("="),
                    v = o(x.shift()),
                    k = x.join("=");
                if (r && r === v) {
                    d = i(k, c);
                    break
                }
                r || void 0 === (k = i(k)) || (d[v] = k)
            }
            return d
        };
    t.defaults = {}, e.removeCookie = function(n, o) {
        return void 0 !== e.cookie(n) && (e.cookie(n, "", e.extend({}, o, {
            expires: -1
        })), !e.cookie(n))
    }
});
(function() {
    var t, e, s, i, r, n = {}.hasOwnProperty;
    (i = function() {
        function t() {
            this.options_index = 0, this.parsed = []
        }
        return t.prototype.add_node = function(t) {
            return "OPTGROUP" === t.nodeName.toUpperCase() ? this.add_group(t) : this.add_option(t)
        }, t.prototype.add_group = function(t) {
            var e, s, i, r, n, o;
            for (e = this.parsed.length, this.parsed.push({
                    array_index: e,
                    group: !0,
                    label: this.escapeExpression(t.label),
                    children: 0,
                    disabled: t.disabled
                }), o = [], i = 0, r = (n = t.childNodes).length; i < r; i++) s = n[i], o.push(this.add_option(s, e, t.disabled));
            return o
        }, t.prototype.add_option = function(t, e, s) {
            if ("OPTION" === t.nodeName.toUpperCase()) return "" !== t.text ? (null != e && (this.parsed[e].children += 1), this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                value: t.value,
                text: t.text,
                html: t.innerHTML,
                selected: t.selected,
                disabled: !0 === s ? s : t.disabled,
                group_array_index: e,
                classes: t.className,
                style: t.style.cssText
            })) : this.parsed.push({
                array_index: this.parsed.length,
                options_index: this.options_index,
                empty: !0
            }), this.options_index += 1
        }, t.prototype.escapeExpression = function(t) {
            var e, s;
            return null == t || !1 === t ? "" : /[\&\<\>\"\'\`]/.test(t) ? (e = {
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            }, s = /&(?!\w+;)|[\<\>\"\'\`]/g, t.replace(s, function(t) {
                return e[t] || "&amp;"
            })) : t
        }, t
    }()).select_to_array = function(t) {
        var e, s, r, n, o;
        for (s = new i, r = 0, n = (o = t.childNodes).length; r < n; r++) e = o[r], s.add_node(e);
        return s.parsed
    }, e = function() {
        function t(e, s) {
            this.form_field = e, this.options = null != s ? s : {}, t.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers())
        }
        return t.prototype.set_default_values = function() {
            var t = this;
            return this.click_test_action = function(e) {
                return t.test_active_click(e)
            }, this.activate_action = function(e) {
                return t.activate_field(e)
            }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, this.result_highlighted = null, this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && "" === this.form_field.options[0].text && this.options.allow_single_deselect, this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, this.enable_split_word_search = null == this.options.enable_split_word_search || this.options.enable_split_word_search, this.group_search = null == this.options.group_search || this.options.group_search, this.search_contains = this.options.search_contains || !1, this.single_backstroke_delete = null == this.options.single_backstroke_delete || this.options.single_backstroke_delete, this.max_selected_options = this.options.max_selected_options || 1 / 0, this.inherit_select_classes = this.options.inherit_select_classes || !1, this.display_selected_options = null == this.options.display_selected_options || this.options.display_selected_options, this.display_disabled_options = null == this.options.display_disabled_options || this.options.display_disabled_options
        }, t.prototype.set_default_text = function() {
            return this.form_field.getAttribute("data-placeholder") ? this.default_text = this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || t.default_multiple_text : this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || t.default_single_text, this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || t.default_no_result_text
        }, t.prototype.mouse_enter = function() {
            return this.mouse_on_container = !0
        }, t.prototype.mouse_leave = function() {
            return this.mouse_on_container = !1
        }, t.prototype.input_focus = function(t) {
            var e = this;
            if (this.is_multiple) {
                if (!this.active_field) return setTimeout(function() {
                    return e.container_mousedown()
                }, 50)
            } else if (!this.active_field) return this.activate_field()
        }, t.prototype.input_blur = function(t) {
            var e = this;
            if (!this.mouse_on_container) return this.active_field = !1, setTimeout(function() {
                return e.blur_test()
            }, 100)
        }, t.prototype.results_option_build = function(t) {
            var e, s, i, r, n;
            for (e = "", i = 0, r = (n = this.results_data).length; i < r; i++)(s = n[i]).group ? e += this.result_add_group(s) : e += this.result_add_option(s), (null != t ? t.first : void 0) && (s.selected && this.is_multiple ? this.choice_build(s) : s.selected && !this.is_multiple && this.single_set_selected_text(s.text));
            return e
        }, t.prototype.result_add_option = function(t) {
            var e, s;
            return t.search_match && this.include_option_in_results(t) ? (e = [], t.disabled || t.selected && this.is_multiple || e.push("active-result"), !t.disabled || t.selected && this.is_multiple || e.push("disabled-result"), t.selected && e.push("result-selected"), null != t.group_array_index && e.push("group-option"), "" !== t.classes && e.push(t.classes), s = document.createElement("li"), s.className = e.join(" "), s.style.cssText = t.style, s.setAttribute("data-option-array-index", t.array_index), s.innerHTML = t.search_text, this.outerHTML(s)) : ""
        }, t.prototype.result_add_group = function(t) {
            var e;
            return (t.search_match || t.group_match) && t.active_options > 0 ? (e = document.createElement("li"), e.className = "group-result", e.innerHTML = t.search_text, this.outerHTML(e)) : ""
        }, t.prototype.results_update_field = function() {
            if (this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), this.result_clear_highlight(), this.results_build(), this.results_showing) return this.winnow_results()
        }, t.prototype.reset_single_select_options = function() {
            var t, e, s, i, r;
            for (r = [], e = 0, s = (i = this.results_data).length; e < s; e++)(t = i[e]).selected ? r.push(t.selected = !1) : r.push(void 0);
            return r
        }, t.prototype.results_toggle = function() {
            return this.results_showing ? this.results_hide() : this.results_show()
        }, t.prototype.results_search = function(t) {
            return this.results_showing ? this.winnow_results() : this.results_show()
        }, t.prototype.winnow_results = function() {
            var t, e, s, i, r, n, o, h, l, c, a, _;
            for (this.no_results_clear(), i = 0, t = (n = this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), l = new RegExp(t, "i"), s = this.get_search_regex(t), c = 0, a = (_ = this.results_data).length; c < a; c++)(e = _[c]).search_match = !1, r = null, this.include_option_in_results(e) && (e.group && (e.group_match = !1, e.active_options = 0), null != e.group_array_index && this.results_data[e.group_array_index] && (0 === (r = this.results_data[e.group_array_index]).active_options && r.search_match && (i += 1), r.active_options += 1), e.group && !this.group_search || (e.search_text = e.group ? e.label : e.text, e.search_match = this.search_string_match(e.search_text, s, e.value), e.search_match && !e.group && (i += 1), e.search_match ? (n.length && (o = e.search_text.search(l)) >= 0 && (h = e.search_text.substr(0, o + n.length) + "</em>" + e.search_text.substr(o + n.length), e.search_text = h.substr(0, o) + "<em>" + h.substr(o)), null != r && (r.group_match = !0)) : null != e.group_array_index && this.results_data[e.group_array_index].search_match && (e.search_match = !0)));
            return this.result_clear_highlight(), i < 1 && n.length ? (this.update_results_content(""), this.no_results(n)) : (this.update_results_content(this.results_option_build()), this.winnow_results_set_highlight())
        }, t.prototype.get_search_regex = function(t) {
            var e;
            return e = this.search_contains ? "" : "^", new RegExp(e + t, "i")
        }, t.prototype.search_string_match = function(t, e) {
            var s, i, r, n;
            if (e.test(t)) return !0;
            if (this.enable_split_word_search && (t.indexOf(" ") >= 0 || 0 === t.indexOf("[")) && (i = t.replace(/\[|\]/g, "").split(" ")).length)
                for (r = 0, n = i.length; r < n; r++)
                    if (s = i[r], e.test(s)) return !0
        }, t.prototype.choices_count = function() {
            var t, e, s;
            if (null != this.selected_option_count) return this.selected_option_count;
            for (this.selected_option_count = 0, t = 0, e = (s = this.form_field.options).length; t < e; t++) s[t].selected && (this.selected_option_count += 1);
            return this.selected_option_count
        }, t.prototype.choices_click = function(t) {
            if (t.preventDefault(), !this.results_showing && !this.is_disabled) return this.results_show()
        }, t.prototype.keyup_checker = function(t) {
            var e, s;
            switch (e = null != (s = t.which) ? s : t.keyCode, this.search_field_scale(), e) {
                case 8:
                    if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) return this.keydown_backstroke();
                    if (!this.pending_backstroke) return this.result_clear_highlight(), this.results_search();
                    break;
                case 13:
                    if (t.preventDefault(), this.results_showing) return this.result_select(t);
                    break;
                case 27:
                    return this.results_showing && this.results_hide(), !0;
                case 9:
                case 38:
                case 40:
                case 16:
                case 91:
                case 17:
                    break;
                default:
                    return this.results_search()
            }
        }, t.prototype.clipboard_event_checker = function(t) {
            var e = this;
            return setTimeout(function() {
                return e.results_search()
            }, 50)
        }, t.prototype.container_width = function() {
            return null != this.options.width ? this.options.width : this.form_field.offsetWidth + "px"
        }, t.prototype.include_option_in_results = function(t) {
            return !(this.is_multiple && !this.display_selected_options && t.selected) && (!(!this.display_disabled_options && t.disabled) && !t.empty)
        }, t.prototype.search_results_touchstart = function(t) {
            return this.touch_started = !0, this.search_results_mouseover(t)
        }, t.prototype.search_results_touchmove = function(t) {
            return this.touch_started = !1, this.search_results_mouseout(t)
        }, t.prototype.search_results_touchend = function(t) {
            if (this.touch_started) return this.search_results_mouseup(t)
        }, t.prototype.outerHTML = function(t) {
            var e;
            return t.outerHTML ? t.outerHTML : ((e = document.createElement("div")).appendChild(t), e.innerHTML)
        }, t.browser_is_supported = function() {
            return "Microsoft Internet Explorer" === window.navigator.appName ? document.documentMode >= 8 : !/iP(od|hone)/i.test(window.navigator.userAgent) && (!/Android/i.test(window.navigator.userAgent) || !/Mobile/i.test(window.navigator.userAgent))
        }, t.default_multiple_text = "Select Some Options", t.default_single_text = "Select an Option", t.default_no_result_text = "No results match", t
    }(), (t = jQuery).fn.extend({
        chosen: function(i) {
            return e.browser_is_supported() ? this.each(function(e) {
                var r, n;
                n = (r = t(this)).data("chosen"), "destroy" === i && n instanceof s ? n.destroy() : n instanceof s || r.data("chosen", new s(this, i))
            }) : this
        }
    }), s = function(s) {
        function o() {
            return r = o.__super__.constructor.apply(this, arguments)
        }
        return function(t, e) {
            function s() {
                this.constructor = t
            }
            for (var i in e) n.call(e, i) && (t[i] = e[i]);
            s.prototype = e.prototype, t.prototype = new s, t.__super__ = e.prototype
        }(o, e), o.prototype.setup = function() {
            return this.form_field_jq = t(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, this.is_rtl = this.form_field_jq.hasClass("chosen-rtl")
        }, o.prototype.set_up_html = function() {
            var e, s;
            for ((e = ["chosen-container"]).push("chosen-container-" + (this.is_multiple ? "multi" : "single")), this.inherit_select_classes && this.form_field.className && e.push(this.form_field.className), this.is_rtl && e.push("chosen-rtl"), s = {
                    class: e.join(" "),
                    style: "width: " + this.container_width() + ";",
                    title: this.form_field.title
                }, this.form_field.id.length && (s.id = this.form_field.id.replace(/[^\w]/g, "_") + "_chosen"), this.container = t("<div />", s), this.is_multiple ? this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>') : this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'), this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find("div.chosen-drop").first(), this.search_field = this.container.find("input").first(), this.search_results = this.container.find("ul.chosen-results").first(), this.search_field_scale(), this.search_no_results = this.container.find("li.no-results").first(), this.is_multiple ? (this.search_choices = this.container.find("ul.chosen-choices").first(), this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chosen-search").first(), this.selected_item = this.container.find(".chosen-single").first()), this.parent_container = this.container.parent();
                "visible" == this.parent_container.css("overflow") && !this.parent_container.hasClass("dollframe");) this.parent_container = this.parent_container.parent();
            return this.results_build(), this.set_tab_index(), this.set_label_behavior(), this.form_field_jq.trigger("chosen:ready", {
                chosen: this
            })
        }, o.prototype.register_observers = function() {
            var e = this;
            return this.container.bind("touchstart.chosen", function(t) {
                e.container_mousedown(t)
            }), this.container.bind("touchend.chosen", function(t) {
                e.container_mouseup(t)
            }), this.container.bind("mousedown.chosen", function(t) {
                e.container_mousedown(t)
            }), this.container.bind("mouseup.chosen", function(t) {
                e.container_mouseup(t)
            }), this.container.bind("mouseenter.chosen", function(t) {
                e.mouse_enter(t)
            }), this.container.bind("mouseleave.chosen", function(t) {
                e.mouse_leave(t)
            }), this.search_results.bind("mouseup.chosen", function(t) {
                e.search_results_mouseup(t)
            }), this.search_results.bind("mouseover.chosen", function(t) {
                e.search_results_mouseover(t)
            }), this.search_results.bind("mouseout.chosen", function(t) {
                e.search_results_mouseout(t)
            }), this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen", function(t) {
                e.search_results_mousewheel(t)
            }), this.search_results.bind("touchstart.chosen", function(t) {
                e.search_results_touchstart(t)
            }), this.search_results.bind("touchmove.chosen", function(t) {
                e.search_results_touchmove(t)
            }), this.search_results.bind("touchend.chosen", function(t) {
                e.search_results_touchend(t)
            }), this.form_field_jq.bind("chosen:updated.chosen", function(t) {
                e.results_update_field(t)
            }), this.form_field_jq.bind("chosen:activate.chosen", function(s) {
                t(e.container[0].ownerDocument).bind("click.chosen", e.click_test_action), e.activate_field(s)
            }), this.form_field_jq.bind("chosen:open.chosen", function(t) {
                e.container_mousedown(t)
            }), this.form_field_jq.bind("chosen:close.chosen", function(t) {
                e.close_field(t)
            }), this.search_field.bind("blur.chosen", function(t) {
                e.input_blur(t)
            }), this.search_field.bind("keyup.chosen", function(t) {
                e.keyup_checker(t)
            }), this.search_field.bind("keydown.chosen", function(t) {
                e.keydown_checker(t)
            }), this.search_field.bind("focus.chosen", function(t) {
                e.input_focus(t)
            }), this.search_field.bind("cut.chosen", function(t) {
                e.clipboard_event_checker(t)
            }), this.search_field.bind("paste.chosen", function(t) {
                e.clipboard_event_checker(t)
            }), this.is_multiple ? this.search_choices.bind("click.chosen", function(t) {
                e.choices_click(t)
            }) : this.container.bind("click.chosen", function(t) {
                t.preventDefault()
            })
        }, o.prototype.destroy = function() {
            return t(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex), this.container.remove(), this.form_field_jq.removeData("chosen"), this.form_field_jq.show()
        }, o.prototype.search_field_disabled = function() {
            return this.is_disabled = this.form_field_jq[0].disabled, this.is_disabled ? (this.container.addClass("chosen-disabled"), this.search_field[0].disabled = !0, this.is_multiple || this.selected_item.unbind("focus.chosen", this.activate_action), this.close_field()) : (this.container.removeClass("chosen-disabled"), this.search_field[0].disabled = !1, this.is_multiple ? void 0 : this.selected_item.bind("focus.chosen", this.activate_action))
        }, o.prototype.container_mousedown = function(e) {
            if (!this.is_disabled && (e && "mousedown" === e.type && !this.results_showing && e.preventDefault(), null == e || !t(e.target).hasClass("search-choice-close"))) return this.active_field ? this.is_multiple || !e || t(e.target)[0] !== this.selected_item[0] && !t(e.target).parents("a.chosen-single").length || (e.preventDefault(), this.results_toggle()) : (this.is_multiple && this.search_field.val(""), t(this.container[0].ownerDocument).bind("click.chosen", this.click_test_action), this.results_show()), this.activate_field()
        }, o.prototype.container_mouseup = function(t) {
            if ("ABBR" === t.target.nodeName && !this.is_disabled) return this.results_reset(t)
        }, o.prototype.search_results_mousewheel = function(t) {
            var e;
            if (t.originalEvent && (e = t.originalEvent.deltaY || -t.originalEvent.wheelDelta || t.originalEvent.detail), null != e) return t.preventDefault(), "DOMMouseScroll" === t.type && (e *= 40), this.search_results.scrollTop(e + this.search_results.scrollTop())
        }, o.prototype.blur_test = function(t) {
            if (!this.active_field && this.container.hasClass("chosen-container-active")) return this.close_field()
        }, o.prototype.close_field = function() {
            return t(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.active_field = !1, this.results_hide(), this.container.removeClass("chosen-container-active"), this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale()
        }, o.prototype.activate_field = function() {
            return this.container.addClass("chosen-container-active"), this.active_field = !0, this.search_field.val(this.search_field.val()), this.search_field.focus()
        }, o.prototype.test_active_click = function(e) {
            var s;
            return (s = t(e.target).closest(".chosen-container")).length && this.container[0] === s[0] ? this.active_field = !0 : this.close_field()
        }, o.prototype.results_build = function() {
            return this.parsing = !0, this.selected_option_count = null, this.results_data = i.select_to_array(this.form_field), this.is_multiple ? this.search_choices.find("li.search-choice").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass("chosen-container-single-nosearch")) : (this.search_field[0].readOnly = !1, this.container.removeClass("chosen-container-single-nosearch"))), this.update_results_content(this.results_option_build({
                first: !0
            })), this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), this.parsing = !1
        }, o.prototype.result_do_highlight = function(t) {
            var e, s, i, r, n;
            if (t.length) {
                if (this.result_clear_highlight(), this.result_highlight = t, this.result_highlight.addClass("highlighted"), i = parseInt(this.search_results.css("maxHeight"), 10), n = this.search_results.scrollTop(), r = i + n, s = this.result_highlight.position().top + this.search_results.scrollTop(), (e = s + this.result_highlight.outerHeight()) >= r) return this.search_results.scrollTop(e - i > 0 ? e - i : 0);
                if (s < n) return this.search_results.scrollTop(s)
            }
        }, o.prototype.result_clear_highlight = function() {
            return this.result_highlight && this.result_highlight.removeClass("highlighted"), this.result_highlight = null
        }, o.prototype.results_show = function() {
            if (this.options.populate_func && (this.options.populate_func(), this.results_update_field()), this.is_multiple && this.max_selected_options <= this.choices_count()) return this.form_field_jq.trigger("chosen:maxselected", {
                chosen: this
            }), !1;
            if (this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), this.winnow_results(), "BODY" === this.parent_container[0].nodeName) var t = window.innerHeight,
                e = 0;
            else var t = this.parent_container.offset().top + this.parent_container.innerHeight(),
                e = this.parent_container.offset().top;
            this.container.addClass("chosen-with-drop");
            var s = this.container.offset().top + this.container.outerHeight() + this.dropdown.outerHeight(),
                i = this.container.offset().top - this.dropdown.outerHeight();
            return t < s && i > e ? (this.is_multiple || this.dropdown.append(this.search_container), this.container.removeClass("chosen-with-drop"), this.container.addClass("chosen-with-drop-up")) : this.is_multiple || this.dropdown.prepend(this.search_container), this.form_field_jq.trigger("chosen:showing_dropdown", {
                chosen: this
            })
        }, o.prototype.update_results_content = function(t) {
            return this.search_results.html(t)
        }, o.prototype.results_hide = function() {
            return this.results_showing && (this.result_clear_highlight(), this.container.removeClass("chosen-with-drop"), this.container.removeClass("chosen-with-drop-up"), this.form_field_jq.trigger("chosen:hiding_dropdown", {
                chosen: this
            })), this.results_showing = !1
        }, o.prototype.set_tab_index = function(t) {
            var e;
            if (this.form_field.tabIndex) return e = this.form_field.tabIndex, this.form_field.tabIndex = -1, this.search_field[0].tabIndex = e
        }, o.prototype.set_label_behavior = function() {
            var e = this;
            if (this.form_field_label = this.form_field_jq.parents("label"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = t("label[for='" + this.form_field.id + "']")), this.form_field_label.length > 0) return this.form_field_label.bind("click.chosen", function(t) {
                return e.is_multiple ? e.container_mousedown(t) : e.activate_field()
            })
        }, o.prototype.show_search_field_default = function() {
            return this.is_multiple && this.choices_count() < 1 && !this.active_field ? (this.search_field.val(this.default_text), this.search_field.addClass("default")) : (this.search_field.val(""), this.search_field.removeClass("default"))
        }, o.prototype.search_results_mouseup = function(e) {
            var s;
            if ((s = t(e.target).hasClass("active-result") ? t(e.target) : t(e.target).parents(".active-result").first()).length) return this.result_highlight = s, this.result_select(e), this.search_field.focus()
        }, o.prototype.search_results_mouseover = function(e) {
            var s;
            if (s = t(e.target).hasClass("active-result") ? t(e.target) : t(e.target).parents(".active-result").first()) return this.result_do_highlight(s)
        }, o.prototype.search_results_mouseout = function(e) {
            if (t(e.target).hasClass("active-result")) return this.result_clear_highlight()
        }, o.prototype.choice_build = function(e) {
            var s, i, r = this;
            return s = t("<li />", {
                class: "search-choice"
            }).html("<span>" + e.html + "</span>"), e.disabled ? s.addClass("search-choice-disabled") : ((i = t("<a />", {
                class: "search-choice-close",
                "data-option-array-index": e.array_index
            })).bind("click.chosen", function(t) {
                return r.choice_destroy_link_click(t)
            }), s.append(i)), this.search_container.before(s)
        }, o.prototype.choice_destroy_link_click = function(e) {
            if (e.preventDefault(), e.stopPropagation(), !this.is_disabled) return this.choice_destroy(t(e.target))
        }, o.prototype.choice_destroy = function(t) {
            if (this.result_deselect(t[0].getAttribute("data-option-array-index"))) return this.show_search_field_default(), this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1 && this.results_hide(), t.parents("li").first().remove(), this.search_field_scale()
        }, o.prototype.results_reset = function() {
            if (this.reset_single_select_options(), this.form_field.options[0].selected = !0, this.single_set_selected_text(), this.show_search_field_default(), this.results_reset_cleanup(), this.form_field_jq.trigger("change"), this.active_field) return this.results_hide()
        }, o.prototype.results_reset_cleanup = function() {
            return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find("abbr").remove()
        }, o.prototype.result_select = function(t) {
            var e, s;
            if (this.result_highlight) return e = this.result_highlight, this.result_clear_highlight(), this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", {
                chosen: this
            }), !1) : (this.is_multiple ? e.removeClass("active-result") : this.reset_single_select_options(), s = this.results_data[e[0].getAttribute("data-option-array-index")], s.selected = !0, this.form_field.options[s.options_index].selected = !0, this.selected_option_count = null, this.is_multiple ? this.choice_build(s) : this.single_set_selected_text(s.text), (t.metaKey || t.ctrlKey) && this.is_multiple || this.results_hide(), this.search_field.val(""), (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger("change", {
                selected: this.form_field.options[s.options_index].value
            }), this.current_selectedIndex = this.form_field.selectedIndex, this.search_field_scale())
        }, o.prototype.single_set_selected_text = function(t) {
            return null == t && (t = this.default_text), t === this.default_text ? this.selected_item.addClass("chosen-default") : (this.single_deselect_control_build(), this.selected_item.removeClass("chosen-default")), this.selected_item.find("span").text(t)
        }, o.prototype.result_deselect = function(t) {
            var e;
            return e = this.results_data[t], !this.form_field.options[e.options_index].disabled && (e.selected = !1, this.form_field.options[e.options_index].selected = !1, this.selected_option_count = null, this.result_clear_highlight(), this.results_showing && this.winnow_results(), this.form_field_jq.trigger("change", {
                deselected: this.form_field.options[e.options_index].value
            }), this.search_field_scale(), !0)
        }, o.prototype.single_deselect_control_build = function() {
            if (this.allow_single_deselect) return this.selected_item.find("abbr").length || this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'), this.selected_item.addClass("chosen-single-with-deselect")
        }, o.prototype.get_search_text = function() {
            return this.search_field.val() === this.default_text ? "" : t("<div/>").text(t.trim(this.search_field.val())).html()
        }, o.prototype.winnow_results_set_highlight = function() {
            var t, e;
            if (e = this.is_multiple ? [] : this.search_results.find(".result-selected.active-result"), null != (t = e.length ? e.first() : this.search_results.find(".active-result").first())) return this.result_do_highlight(t)
        }, o.prototype.no_results = function(e) {
            var s;
            return (s = t('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>')).find("span").first().html(e), this.search_results.append(s), this.form_field_jq.trigger("chosen:no_results", {
                chosen: this
            })
        }, o.prototype.no_results_clear = function() {
            return this.search_results.find(".no-results").remove()
        }, o.prototype.keydown_arrow = function() {
            var t;
            return this.results_showing && this.result_highlight ? (t = this.result_highlight.nextAll("li.active-result").first()) ? this.result_do_highlight(t) : void 0 : this.results_show()
        }, o.prototype.keyup_arrow = function() {
            var t;
            return this.results_showing || this.is_multiple ? this.result_highlight ? (t = this.result_highlight.prevAll("li.active-result")).length ? this.result_do_highlight(t.first()) : (this.choices_count() > 0 && this.results_hide(), this.result_clear_highlight()) : void 0 : this.results_show()
        }, o.prototype.keydown_backstroke = function() {
            var t;
            return this.pending_backstroke ? (this.choice_destroy(this.pending_backstroke.find("a").first()), this.clear_backstroke()) : (t = this.search_container.siblings("li.search-choice").last()).length && !t.hasClass("search-choice-disabled") ? (this.pending_backstroke = t, this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus")) : void 0
        }, o.prototype.clear_backstroke = function() {
            return this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus"), this.pending_backstroke = null
        }, o.prototype.keydown_checker = function(t) {
            var e, s;
            switch (e = null != (s = t.which) ? s : t.keyCode, this.search_field_scale(), 8 !== e && this.pending_backstroke && this.clear_backstroke(), e) {
                case 8:
                    this.backstroke_length = this.search_field.val().length;
                    break;
                case 9:
                    this.results_showing && !this.is_multiple && this.result_select(t), this.mouse_on_container = !1;
                    break;
                case 13:
                    this.results_showing && t.preventDefault();
                    break;
                case 32:
                    this.disable_search && t.preventDefault();
                    break;
                case 38:
                    t.preventDefault(), this.keyup_arrow();
                    break;
                case 40:
                    t.preventDefault(), this.keydown_arrow()
            }
        }, o.prototype.search_field_scale = function() {
            var e, s, i, r, n, o, h, l;
            if (this.is_multiple) {
                for (0, o = 0, r = "position:absolute; left: -1000px; top: -1000px; display:none;", h = 0, l = (n = ["font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing"]).length; h < l; h++) r += (i = n[h]) + ":" + this.search_field.css(i) + ";";
                return (e = t("<div />", {
                    style: r
                })).text(this.search_field.val()), t("body").append(e), o = e.width() + 25, e.remove(), (s = this.container.outerWidth()) > 120 && o > s - 10 && (o = s - 10), this.search_field.css({
                    width: o + "px"
                })
            }
        }, o
    }()
}).call(this);
(function() {
    "use strict";
    var t = this,
        i = t.Chart,
        e = function(t) {
            this.canvas = t.canvas, this.ctx = t;
            var i = function(t, i) {
                    return t["offset" + i] ? t["offset" + i] : document.defaultView.getComputedStyle(t).getPropertyValue(i)
                },
                e = this.width = i(t.canvas, "Width"),
                n = this.height = i(t.canvas, "Height");
            return t.canvas.width = e, t.canvas.height = n, this.aspectRatio = this.width / this.height, s.retinaScale(this), this
        };
    e.defaults = {
        global: {
            animation: !0,
            animationSteps: 60,
            animationEasing: "easeOutQuart",
            showScale: !0,
            scaleOverride: !1,
            scaleSteps: null,
            scaleStepWidth: null,
            scaleStartValue: null,
            scaleLineColor: "rgba(0,0,0,.1)",
            scaleLineWidth: 1,
            scaleShowLabels: !0,
            scaleLabel: "<%=value%>",
            scaleIntegersOnly: !0,
            scaleBeginAtZero: !1,
            scaleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            scaleFontSize: 12,
            scaleFontStyle: "normal",
            scaleFontColor: "#666",
            responsive: !1,
            maintainAspectRatio: !0,
            showTooltips: !0,
            customTooltips: !1,
            tooltipEvents: ["mousemove", "touchstart", "touchmove", "mouseout"],
            tooltipFillColor: "rgba(0,0,0,0.8)",
            tooltipFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            tooltipFontSize: 14,
            tooltipFontStyle: "normal",
            tooltipFontColor: "#fff",
            tooltipTitleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            tooltipTitleFontSize: 14,
            tooltipTitleFontStyle: "bold",
            tooltipTitleFontColor: "#fff",
            tooltipYPadding: 6,
            tooltipXPadding: 6,
            tooltipCaretSize: 8,
            tooltipCornerRadius: 6,
            tooltipXOffset: 10,
            tooltipTemplate: "<%if (label){%><%=label%>: <%}%><%= value %>",
            multiTooltipTemplate: "<%= value %>",
            multiTooltipKeyBackground: "#fff",
            onAnimationProgress: function() {},
            onAnimationComplete: function() {}
        }
    }, e.types = {};
    var s = e.helpers = {},
        n = s.each = function(t, i, e) {
            var s = Array.prototype.slice.call(arguments, 3);
            if (t)
                if (t.length === +t.length) {
                    var n;
                    for (n = 0; n < t.length; n++) i.apply(e, [t[n], n].concat(s))
                } else
                    for (var o in t) i.apply(e, [t[o], o].concat(s))
        },
        o = s.clone = function(t) {
            var i = {};
            return n(t, function(e, s) {
                t.hasOwnProperty(s) && (i[s] = e)
            }), i
        },
        a = s.extend = function(t) {
            return n(Array.prototype.slice.call(arguments, 1), function(i) {
                n(i, function(e, s) {
                    i.hasOwnProperty(s) && (t[s] = e)
                })
            }), t
        },
        h = s.merge = function(t, i) {
            var e = Array.prototype.slice.call(arguments, 0);
            return e.unshift({}), a.apply(null, e)
        },
        l = s.indexOf = function(t, i) {
            if (Array.prototype.indexOf) return t.indexOf(i);
            for (var e = 0; e < t.length; e++)
                if (t[e] === i) return e;
            return -1
        },
        r = (s.where = function(t, i) {
            var e = [];
            return s.each(t, function(t) {
                i(t) && e.push(t)
            }), e
        }, s.findNextWhere = function(t, i, e) {
            e || (e = -1);
            for (var s = e + 1; s < t.length; s++) {
                var n = t[s];
                if (i(n)) return n
            }
        }, s.findPreviousWhere = function(t, i, e) {
            e || (e = t.length);
            for (var s = e - 1; s >= 0; s--) {
                var n = t[s];
                if (i(n)) return n
            }
        }, s.inherits = function(t) {
            var i = this,
                e = t && t.hasOwnProperty("constructor") ? t.constructor : function() {
                    return i.apply(this, arguments)
                },
                s = function() {
                    this.constructor = e
                };
            return s.prototype = i.prototype, e.prototype = new s, e.extend = r, t && a(e.prototype, t), e.__super__ = i.prototype, e
        }),
        c = s.noop = function() {},
        u = s.uid = function() {
            var t = 0;
            return function() {
                return "chart-" + t++
            }
        }(),
        d = s.warn = function(t) {
            window.console && "function" == typeof window.console.warn && console.warn(t)
        },
        p = s.amd = "function" == typeof define && define.amd,
        f = s.isNumber = function(t) {
            return !isNaN(parseFloat(t)) && isFinite(t)
        },
        g = s.max = function(t) {
            return Math.max.apply(Math, t)
        },
        v = s.min = function(t) {
            return Math.min.apply(Math, t)
        },
        m = (s.cap = function(t, i, e) {
            if (f(i)) {
                if (t > i) return i
            } else if (f(e) && t < e) return e;
            return t
        }, s.getDecimalPlaces = function(t) {
            return t % 1 != 0 && f(t) ? t.toString().split(".")[1].length : 0
        }),
        S = s.radians = function(t) {
            return t * (Math.PI / 180)
        },
        x = (s.getAngleFromPoint = function(t, i) {
            var e = i.x - t.x,
                s = i.y - t.y,
                n = Math.sqrt(e * e + s * s),
                o = 2 * Math.PI + Math.atan2(s, e);
            return e < 0 && s < 0 && (o += 2 * Math.PI), {
                angle: o,
                distance: n
            }
        }, s.aliasPixel = function(t) {
            return t % 2 == 0 ? 0 : .5
        }),
        y = (s.splineCurve = function(t, i, e, s) {
            var n = Math.sqrt(Math.pow(i.x - t.x, 2) + Math.pow(i.y - t.y, 2)),
                o = Math.sqrt(Math.pow(e.x - i.x, 2) + Math.pow(e.y - i.y, 2)),
                a = s * n / (n + o),
                h = s * o / (n + o);
            return {
                inner: {
                    x: i.x - a * (e.x - t.x),
                    y: i.y - a * (e.y - t.y)
                },
                outer: {
                    x: i.x + h * (e.x - t.x),
                    y: i.y + h * (e.y - t.y)
                }
            }
        }, s.calculateOrderOfMagnitude = function(t) {
            return Math.floor(Math.log(t) / Math.LN10)
        }),
        C = (s.calculateScaleRange = function(t, i, e, s, n) {
            var o = Math.floor(i / (1.5 * e)),
                a = 2 >= o,
                h = g(t),
                l = v(t);
            h === l && (h += .5, l >= .5 && !s ? l -= .5 : h += .5);
            for (var r = Math.abs(h - l), c = y(r), u = Math.ceil(h / (1 * Math.pow(10, c))) * Math.pow(10, c), d = s ? 0 : Math.floor(l / (1 * Math.pow(10, c))) * Math.pow(10, c), p = u - d, f = Math.pow(10, c), m = Math.round(p / f);
                (m > o || 2 * m < o) && !a;)
                if (m > o) f *= 2, (m = Math.round(p / f)) % 1 != 0 && (a = !0);
                else if (n && c >= 0) {
                if (f / 2 % 1 != 0) break;
                f /= 2, m = Math.round(p / f)
            } else f /= 2, m = Math.round(p / f);
            return a && (f = p / (m = 2)), {
                steps: m,
                stepValue: f,
                min: d,
                max: d + m * f
            }
        }, s.template = function(t, i) {
            if (t instanceof Function) return t(i);
            var e = {};
            return function(t, i) {
                var s = /\W/.test(t) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + t.replace(/[\r\t\n]/g, " ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');") : e[t] = e[t];
                return i ? s(i) : s
            }(t, i)
        }),
        w = (s.generateLabels = function(t, i, e, s) {
            var o = new Array(i);
            return labelTemplateString && n(o, function(i, n) {
                o[n] = C(t, {
                    value: e + s * (n + 1)
                })
            }), o
        }, s.easingEffects = {
            linear: function(t) {
                return t
            },
            easeInQuad: function(t) {
                return t * t
            },
            easeOutQuad: function(t) {
                return -1 * t * (t - 2)
            },
            easeInOutQuad: function(t) {
                return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
            },
            easeInCubic: function(t) {
                return t * t * t
            },
            easeOutCubic: function(t) {
                return 1 * ((t = t / 1 - 1) * t * t + 1)
            },
            easeInOutCubic: function(t) {
                return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
            },
            easeInQuart: function(t) {
                return t * t * t * t
            },
            easeOutQuart: function(t) {
                return -1 * ((t = t / 1 - 1) * t * t * t - 1)
            },
            easeInOutQuart: function(t) {
                return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
            },
            easeInQuint: function(t) {
                return 1 * (t /= 1) * t * t * t * t
            },
            easeOutQuint: function(t) {
                return 1 * ((t = t / 1 - 1) * t * t * t * t + 1)
            },
            easeInOutQuint: function(t) {
                return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
            },
            easeInSine: function(t) {
                return -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1
            },
            easeOutSine: function(t) {
                return 1 * Math.sin(t / 1 * (Math.PI / 2))
            },
            easeInOutSine: function(t) {
                return -.5 * (Math.cos(Math.PI * t / 1) - 1)
            },
            easeInExpo: function(t) {
                return 0 === t ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1))
            },
            easeOutExpo: function(t) {
                return 1 === t ? 1 : 1 * (1 - Math.pow(2, -10 * t / 1))
            },
            easeInOutExpo: function(t) {
                return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t))
            },
            easeInCirc: function(t) {
                return t >= 1 ? t : -1 * (Math.sqrt(1 - (t /= 1) * t) - 1)
            },
            easeOutCirc: function(t) {
                return 1 * Math.sqrt(1 - (t = t / 1 - 1) * t)
            },
            easeInOutCirc: function(t) {
                return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
            },
            easeInElastic: function(t) {
                var i = 1.70158,
                    e = 0,
                    s = 1;
                return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (e || (e = .3), s < Math.abs(1) ? (s = 1, i = e / 4) : i = e / (2 * Math.PI) * Math.asin(1 / s), -s * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - i) * (2 * Math.PI) / e))
            },
            easeOutElastic: function(t) {
                var i = 1.70158,
                    e = 0,
                    s = 1;
                return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (e || (e = .3), s < Math.abs(1) ? (s = 1, i = e / 4) : i = e / (2 * Math.PI) * Math.asin(1 / s), s * Math.pow(2, -10 * t) * Math.sin((1 * t - i) * (2 * Math.PI) / e) + 1)
            },
            easeInOutElastic: function(t) {
                var i = 1.70158,
                    e = 0,
                    s = 1;
                return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (e || (e = .3 * 1.5 * 1), s < Math.abs(1) ? (s = 1, i = e / 4) : i = e / (2 * Math.PI) * Math.asin(1 / s), t < 1 ? s * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - i) * (2 * Math.PI) / e) * -.5 : s * Math.pow(2, -10 * (t -= 1)) * Math.sin((1 * t - i) * (2 * Math.PI) / e) * .5 + 1)
            },
            easeInBack: function(t) {
                var i = 1.70158;
                return 1 * (t /= 1) * t * ((i + 1) * t - i)
            },
            easeOutBack: function(t) {
                var i = 1.70158;
                return 1 * ((t = t / 1 - 1) * t * ((i + 1) * t + i) + 1)
            },
            easeInOutBack: function(t) {
                var i = 1.70158;
                return (t /= .5) < 1 ? t * t * ((1 + (i *= 1.525)) * t - i) * .5 : .5 * ((t -= 2) * t * ((1 + (i *= 1.525)) * t + i) + 2)
            },
            easeInBounce: function(t) {
                return 1 - w.easeOutBounce(1 - t)
            },
            easeOutBounce: function(t) {
                return (t /= 1) < 1 / 2.75 ? 7.5625 * t * t * 1 : t < 2 / 2.75 ? 1 * (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 * (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
            },
            easeInOutBounce: function(t) {
                return t < .5 ? .5 * w.easeInBounce(2 * t) : .5 * w.easeOutBounce(2 * t - 1) + .5
            }
        }),
        b = s.requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t) {
            return window.setTimeout(t, 1e3 / 60)
        },
        P = (s.cancelAnimFrame = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function(t) {
            return window.clearTimeout(t, 1e3 / 60)
        }, s.animationLoop = function(t, i, e, s, n, o) {
            var a = 0,
                h = w[e] || w.linear,
                l = function() {
                    var e = ++a / i,
                        r = h(e);
                    t.call(o, r, e, a), s.call(o, r, e), a < i ? o.animationFrame = b(l) : n.apply(o)
                };
            b(l)
        }, s.getRelativePosition = function(t) {
            var i, e, s = t.originalEvent || t,
                n = (t.currentTarget || t.srcElement).getBoundingClientRect();
            return s.touches ? (i = s.touches[0].clientX - n.left, e = s.touches[0].clientY - n.top) : (i = s.clientX - n.left, e = s.clientY - n.top), {
                x: i,
                y: e
            }
        }, s.addEvent = function(t, i, e) {
            if (t.addEventListener) try {
                t.addEventListener(i, e, {
                    passive: !1
                })
            } catch (s) {
                t.addEventListener(i, e)
            } else t.attachEvent ? t.attachEvent("on" + i, e) : t["on" + i] = e
        }),
        L = s.removeEvent = function(t, i, e) {
            t.removeEventListener ? t.removeEventListener(i, e, !1) : t.detachEvent ? t.detachEvent("on" + i, e) : t["on" + i] = c
        },
        k = (s.bindEvents = function(t, i, e) {
            t.events || (t.events = {}), n(i, function(i) {
                t.events[i] = function() {
                    e.apply(t, arguments)
                }, P(t.chart.canvas, i, t.events[i])
            })
        }, s.unbindEvents = function(t, i) {
            n(i, function(i, e) {
                L(t.chart.canvas, e, i)
            })
        }),
        F = s.getMaximumWidth = function(t) {
            return t.parentNode.clientWidth
        },
        R = s.getMaximumHeight = function(t) {
            return t.parentNode.clientHeight
        },
        A = (s.getMaximumSize = s.getMaximumWidth, s.retinaScale = function(t) {
            var i = t.ctx,
                e = t.canvas.width,
                s = t.canvas.height;
            window.devicePixelRatio && (i.canvas.style.width = e + "px", i.canvas.style.height = s + "px", i.canvas.height = s * window.devicePixelRatio, i.canvas.width = e * window.devicePixelRatio, i.scale(window.devicePixelRatio, window.devicePixelRatio))
        }),
        T = s.clear = function(t) {
            t.ctx.clearRect(0, 0, t.width, t.height)
        },
        M = s.fontString = function(t, i, e) {
            return i + " " + t + "px " + e
        },
        W = s.longestText = function(t, i, e) {
            t.font = i;
            var s = 0;
            return n(e, function(i) {
                var e = t.measureText(i).width;
                s = e > s ? e : s
            }), s
        },
        z = s.drawRoundedRectangle = function(t, i, e, s, n, o) {
            t.beginPath(), t.moveTo(i + o, e), t.lineTo(i + s - o, e), t.quadraticCurveTo(i + s, e, i + s, e + o), t.lineTo(i + s, e + n - o), t.quadraticCurveTo(i + s, e + n, i + s - o, e + n), t.lineTo(i + o, e + n), t.quadraticCurveTo(i, e + n, i, e + n - o), t.lineTo(i, e + o), t.quadraticCurveTo(i, e, i + o, e), t.closePath()
        };
    e.instances = {}, a((e.Type = function(t, i, s) {
        this.options = i, this.chart = s, this.id = u(), e.instances[this.id] = this, i.responsive && this.resize(), this.initialize.call(this, t)
    }).prototype, {
        initialize: function() {
            return this
        },
        clear: function() {
            return T(this.chart), this
        },
        stop: function() {
            return s.cancelAnimFrame.call(t, this.animationFrame), this
        },
        resize: function(t) {
            this.stop();
            var i = this.chart.canvas,
                e = F(this.chart.canvas),
                s = this.options.maintainAspectRatio ? e / this.chart.aspectRatio : R(this.chart.canvas);
            return i.width = this.chart.width = e, i.height = this.chart.height = s, A(this.chart), "function" == typeof t && t.apply(this, Array.prototype.slice.call(arguments, 1)), this
        },
        reflow: c,
        render: function(t) {
            return t && this.reflow(), this.options.animation && !t ? s.animationLoop(this.draw, this.options.animationSteps, this.options.animationEasing, this.options.onAnimationProgress, this.options.onAnimationComplete, this) : (this.draw(), this.options.onAnimationComplete.call(this)), this
        },
        generateLegend: function() {
            return C(this.options.legendTemplate, this)
        },
        destroy: function() {
            this.clear(), k(this, this.events);
            var t = this.chart.canvas;
            t.width = this.chart.width, t.height = this.chart.height, t.style.removeProperty ? (t.style.removeProperty("width"), t.style.removeProperty("height")) : (t.style.removeAttribute("width"), t.style.removeAttribute("height")), delete e.instances[this.id]
        },
        showTooltip: function(t, i) {
            void 0 === this.activeElements && (this.activeElements = []);
            if (function(t) {
                    var i = !1;
                    return t.length !== this.activeElements.length ? i = !0 : (n(t, function(t, e) {
                        t !== this.activeElements[e] && (i = !0)
                    }, this), i)
                }.call(this, t) || i) {
                if (this.activeElements = t, this.draw(), this.options.customTooltips && this.options.customTooltips(!1), t.length > 0)
                    if (this.datasets && this.datasets.length > 1) {
                        for (var o, a, h = this.datasets.length - 1; h >= 0 && (o = this.datasets[h].points || this.datasets[h].bars || this.datasets[h].segments, -1 === (a = l(o, t[0]))); h--);
                        var r = [],
                            c = [],
                            u = function(t) {
                                var i, e, n, o, h, l = [],
                                    u = [],
                                    d = [];
                                return s.each(this.datasets, function(t) {
                                    (i = t.points || t.bars || t.segments)[a] && i[a].hasValue() && l.push(i[a])
                                }), s.each(l, function(t) {
                                    u.push(t.x), d.push(t.y), r.push(s.template(this.options.multiTooltipTemplate, t)), c.push({
                                        fill: t._saved.fillColor || t.fillColor,
                                        stroke: t._saved.strokeColor || t.strokeColor
                                    })
                                }, this), h = v(d), n = g(d), o = v(u), e = g(u), {
                                    x: o > this.chart.width / 2 ? o : e,
                                    y: (h + n) / 2
                                }
                            }.call(this, a);
                        new e.MultiTooltip({
                            x: u.x,
                            y: u.y,
                            xPadding: this.options.tooltipXPadding,
                            yPadding: this.options.tooltipYPadding,
                            xOffset: this.options.tooltipXOffset,
                            fillColor: this.options.tooltipFillColor,
                            textColor: this.options.tooltipFontColor,
                            fontFamily: this.options.tooltipFontFamily,
                            fontStyle: this.options.tooltipFontStyle,
                            fontSize: this.options.tooltipFontSize,
                            titleTextColor: this.options.tooltipTitleFontColor,
                            titleFontFamily: this.options.tooltipTitleFontFamily,
                            titleFontStyle: this.options.tooltipTitleFontStyle,
                            titleFontSize: this.options.tooltipTitleFontSize,
                            cornerRadius: this.options.tooltipCornerRadius,
                            labels: r,
                            legendColors: c,
                            legendColorBackground: this.options.multiTooltipKeyBackground,
                            title: t[0].label,
                            chart: this.chart,
                            ctx: this.chart.ctx,
                            custom: this.options.customTooltips
                        }).draw()
                    } else n(t, function(t) {
                        var i = t.tooltipPosition();
                        new e.Tooltip({
                            x: Math.round(i.x),
                            y: Math.round(i.y),
                            xPadding: this.options.tooltipXPadding,
                            yPadding: this.options.tooltipYPadding,
                            fillColor: this.options.tooltipFillColor,
                            textColor: this.options.tooltipFontColor,
                            fontFamily: this.options.tooltipFontFamily,
                            fontStyle: this.options.tooltipFontStyle,
                            fontSize: this.options.tooltipFontSize,
                            caretHeight: this.options.tooltipCaretSize,
                            cornerRadius: this.options.tooltipCornerRadius,
                            text: C(this.options.tooltipTemplate, t),
                            chart: this.chart,
                            custom: this.options.customTooltips
                        }).draw()
                    }, this);
                return this
            }
        },
        toBase64Image: function() {
            return this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments)
        }
    }), e.Type.extend = function(t) {
        var i = this,
            s = function() {
                return i.apply(this, arguments)
            };
        if (s.prototype = o(i.prototype), a(s.prototype, t), s.extend = e.Type.extend, t.name || i.prototype.name) {
            var n = t.name || i.prototype.name,
                l = e.defaults[i.prototype.name] ? o(e.defaults[i.prototype.name]) : {};
            e.defaults[n] = a(l, t.defaults), e.types[n] = s, e.prototype[n] = function(t, i) {
                var o = h(e.defaults.global, e.defaults[n], i || {});
                return new s(t, o, this)
            }
        } else d("Name not provided for this chart, so it hasn't been registered");
        return i
    }, a((e.Element = function(t) {
        a(this, t), this.initialize.apply(this, arguments), this.save()
    }).prototype, {
        initialize: function() {},
        restore: function(t) {
            return t ? n(t, function(t) {
                this[t] = this._saved[t]
            }, this) : a(this, this._saved), this
        },
        save: function() {
            return this._saved = o(this), delete this._saved._saved, this
        },
        update: function(t) {
            return n(t, function(t, i) {
                this._saved[i] = this[i], this[i] = t
            }, this), this
        },
        transition: function(t, i) {
            return n(t, function(t, e) {
                this[e] = (t - this._saved[e]) * i + this._saved[e]
            }, this), this
        },
        tooltipPosition: function() {
            return {
                x: this.x,
                y: this.y
            }
        },
        hasValue: function() {
            return f(this.value)
        }
    }), e.Element.extend = r, e.Point = e.Element.extend({
        display: !0,
        inRange: function(t, i) {
            var e = this.hitDetectionRadius + this.radius;
            return Math.pow(t - this.x, 2) + Math.pow(i - this.y, 2) < Math.pow(e, 2)
        },
        draw: function() {
            if (this.display) {
                var t = this.ctx;
                t.beginPath(), t.arc(this.x, this.y, this.radius, 0, 2 * Math.PI), t.closePath(), t.strokeStyle = this.strokeColor, t.lineWidth = this.strokeWidth, t.fillStyle = this.fillColor, t.fill(), t.stroke()
            }
        }
    }), e.Arc = e.Element.extend({
        inRange: function(t, i) {
            var e = s.getAngleFromPoint(this, {
                    x: t,
                    y: i
                }),
                n = e.angle >= this.startAngle && e.angle <= this.endAngle,
                o = e.distance >= this.innerRadius && e.distance <= this.outerRadius;
            return n && o
        },
        tooltipPosition: function() {
            var t = this.startAngle + (this.endAngle - this.startAngle) / 2,
                i = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;
            return {
                x: this.x + Math.cos(t) * i,
                y: this.y + Math.sin(t) * i
            }
        },
        draw: function(t) {
            var i = this.ctx;
            i.beginPath(), i.arc(this.x, this.y, this.outerRadius, this.startAngle, this.endAngle), i.arc(this.x, this.y, this.innerRadius, this.endAngle, this.startAngle, !0), i.closePath(), i.strokeStyle = this.strokeColor, i.lineWidth = this.strokeWidth, i.fillStyle = this.fillColor, i.fill(), i.lineJoin = "bevel", this.showStroke && i.stroke()
        }
    }), e.Rectangle = e.Element.extend({
        draw: function() {
            var t = this.ctx,
                i = this.width / 2,
                e = this.x - i,
                s = this.x + i,
                n = this.base - (this.base - this.y),
                o = this.strokeWidth / 2;
            this.showStroke && (e += o, s -= o, n += o), t.beginPath(), t.fillStyle = this.fillColor, t.strokeStyle = this.strokeColor, t.lineWidth = this.strokeWidth, t.moveTo(e, this.base), t.lineTo(e, n), t.lineTo(s, n), t.lineTo(s, this.base), t.fill(), this.showStroke && t.stroke()
        },
        height: function() {
            return this.base - this.y
        },
        inRange: function(t, i) {
            return t >= this.x - this.width / 2 && t <= this.x + this.width / 2 && i >= this.y && i <= this.base
        }
    }), e.Tooltip = e.Element.extend({
        draw: function() {
            var t = this.chart.ctx;
            t.font = M(this.fontSize, this.fontStyle, this.fontFamily), this.xAlign = "center", this.yAlign = "above";
            var i = this.caretPadding = 2,
                e = t.measureText(this.text).width + 2 * this.xPadding,
                s = this.fontSize + 2 * this.yPadding,
                n = s + this.caretHeight + i;
            this.x + e / 2 > this.chart.width ? this.xAlign = "left" : this.x - e / 2 < 0 && (this.xAlign = "right"), this.y - n < 0 && (this.yAlign = "below");
            var o = this.x - e / 2,
                a = this.y - n;
            if (t.fillStyle = this.fillColor, this.custom) this.custom(this);
            else {
                switch (this.yAlign) {
                    case "above":
                        t.beginPath(), t.moveTo(this.x, this.y - i), t.lineTo(this.x + this.caretHeight, this.y - (i + this.caretHeight)), t.lineTo(this.x - this.caretHeight, this.y - (i + this.caretHeight)), t.closePath(), t.fill();
                        break;
                    case "below":
                        a = this.y + i + this.caretHeight, t.beginPath(), t.moveTo(this.x, this.y + i), t.lineTo(this.x + this.caretHeight, this.y + i + this.caretHeight), t.lineTo(this.x - this.caretHeight, this.y + i + this.caretHeight), t.closePath(), t.fill()
                }
                switch (this.xAlign) {
                    case "left":
                        o = this.x - e + (this.cornerRadius + this.caretHeight);
                        break;
                    case "right":
                        o = this.x - (this.cornerRadius + this.caretHeight)
                }
                z(t, o, a, e, s, this.cornerRadius), t.fill(), t.fillStyle = this.textColor, t.textAlign = "center", t.textBaseline = "middle", t.fillText(this.text, o + e / 2, a + s / 2)
            }
        }
    }), e.MultiTooltip = e.Element.extend({
        initialize: function() {
            this.font = M(this.fontSize, this.fontStyle, this.fontFamily), this.titleFont = M(this.titleFontSize, this.titleFontStyle, this.titleFontFamily), this.height = this.labels.length * this.fontSize + (this.labels.length - 1) * (this.fontSize / 2) + 2 * this.yPadding + 1.5 * this.titleFontSize, this.ctx.font = this.titleFont;
            var t = this.ctx.measureText(this.title).width,
                i = W(this.ctx, this.font, this.labels) + this.fontSize + 3,
                e = g([i, t]);
            this.width = e + 2 * this.xPadding;
            var s = this.height / 2;
            this.y - s < 0 ? this.y = s : this.y + s > this.chart.height && (this.y = this.chart.height - s), this.x > this.chart.width / 2 ? this.x -= this.xOffset + this.width : this.x += this.xOffset
        },
        getLineHeight: function(t) {
            var i = this.y - this.height / 2 + this.yPadding,
                e = t - 1;
            return 0 === t ? i + this.titleFontSize / 2 : i + (1.5 * this.fontSize * e + this.fontSize / 2) + 1.5 * this.titleFontSize
        },
        draw: function() {
            if (this.custom) this.custom(this);
            else {
                z(this.ctx, this.x, this.y - this.height / 2, this.width, this.height, this.cornerRadius);
                var t = this.ctx;
                t.fillStyle = this.fillColor, t.fill(), t.closePath(), t.textAlign = "left", t.textBaseline = "middle", t.fillStyle = this.titleTextColor, t.font = this.titleFont, t.fillText(this.title, this.x + this.xPadding, this.getLineHeight(0)), t.font = this.font, s.each(this.labels, function(i, e) {
                    t.fillStyle = this.textColor, t.fillText(i, this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(e + 1)), t.fillStyle = this.legendColorBackground, t.fillRect(this.x + this.xPadding, this.getLineHeight(e + 1) - this.fontSize / 2, this.fontSize, this.fontSize), t.fillStyle = this.legendColors[e].fill, t.fillRect(this.x + this.xPadding, this.getLineHeight(e + 1) - this.fontSize / 2, this.fontSize, this.fontSize)
                }, this)
            }
        }
    }), e.Scale = e.Element.extend({
        initialize: function() {
            this.fit()
        },
        buildYLabels: function() {
            this.yLabels = [];
            for (var t = m(this.stepValue), i = 0; i <= this.steps; i++) this.yLabels.push(C(this.templateString, {
                value: (this.min + i * this.stepValue).toFixed(t)
            }));
            this.yLabelWidth = this.display && this.showLabels ? W(this.ctx, this.font, this.yLabels) : 0
        },
        addXLabel: function(t) {
            this.xLabels.push(t), this.valuesCount++, this.fit()
        },
        removeXLabel: function() {
            this.xLabels.shift(), this.valuesCount--, this.fit()
        },
        fit: function() {
            this.startPoint = this.display ? this.fontSize : 0, this.endPoint = this.display ? this.height - 1.5 * this.fontSize - 5 : this.height, this.startPoint += this.padding, this.endPoint -= this.padding;
            var t, i = this.endPoint - this.startPoint;
            for (this.calculateYRange(i), this.buildYLabels(), this.calculateXLabelRotation(); i > this.endPoint - this.startPoint;) i = this.endPoint - this.startPoint, t = this.yLabelWidth, this.calculateYRange(i), this.buildYLabels(), t < this.yLabelWidth && this.calculateXLabelRotation()
        },
        calculateXLabelRotation: function() {
            this.ctx.font = this.font;
            var t, i = this.ctx.measureText(this.xLabels[0]).width,
                e = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width;
            if (this.xScalePaddingRight = e / 2 + 3, this.xScalePaddingLeft = i / 2 > this.yLabelWidth + 10 ? i / 2 : this.yLabelWidth + 10, this.xLabelRotation = 0, this.display) {
                var s, n = W(this.ctx, this.font, this.xLabels);
                this.xLabelWidth = n;
                for (var o = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6; this.xLabelWidth > o && 0 === this.xLabelRotation || this.xLabelWidth > o && this.xLabelRotation <= 90 && this.xLabelRotation > 0;)(s = Math.cos(S(this.xLabelRotation))) * e, (t = s * i) + this.fontSize / 2 > this.yLabelWidth + 8 && (this.xScalePaddingLeft = t + this.fontSize / 2), this.xScalePaddingRight = this.fontSize / 2, this.xLabelRotation++, this.xLabelWidth = s * n;
                this.xLabelRotation > 0 && (this.endPoint -= Math.sin(S(this.xLabelRotation)) * n + 3)
            } else this.xLabelWidth = 0, this.xScalePaddingRight = this.padding, this.xScalePaddingLeft = this.padding
        },
        calculateYRange: c,
        drawingArea: function() {
            return this.startPoint - this.endPoint
        },
        calculateY: function(t) {
            var i = this.drawingArea() / (this.min - this.max);
            return this.endPoint - i * (t - this.min)
        },
        calculateX: function(t) {
            this.xLabelRotation;
            var i = (this.width - (this.xScalePaddingLeft + this.xScalePaddingRight)) / Math.max(1, this.valuesCount - (this.offsetGridLines ? 0 : 1)),
                e = i * t + this.xScalePaddingLeft;
            return this.offsetGridLines && (e += i / 2), Math.round(e)
        },
        update: function(t) {
            s.extend(this, t), this.fit()
        },
        draw: function() {
            var t = this.ctx,
                i = (this.endPoint - this.startPoint) / this.steps,
                e = Math.round(this.xScalePaddingLeft);
            this.display && (t.fillStyle = this.textColor, t.font = this.font, n(this.yLabels, function(n, o) {
                var a = this.endPoint - i * o,
                    h = Math.round(a),
                    l = this.showHorizontalLines;
                t.textAlign = "right", t.textBaseline = "middle", this.showLabels && t.fillText(n, e - 10, a), 0 !== o || l || (l = !0), l && t.beginPath(), o > 0 ? (t.lineWidth = this.gridLineWidth, t.strokeStyle = this.gridLineColor) : (t.lineWidth = this.lineWidth, t.strokeStyle = this.lineColor), h += s.aliasPixel(t.lineWidth), l && (t.moveTo(e, h), t.lineTo(this.width, h), t.stroke(), t.closePath()), t.lineWidth = this.lineWidth, t.strokeStyle = this.lineColor, t.beginPath(), t.moveTo(e - 5, h), t.lineTo(e, h), t.stroke(), t.closePath()
            }, this), n(this.xLabels, function(i, e) {
                var s = this.calculateX(e) + x(this.lineWidth),
                    n = this.calculateX(e - (this.offsetGridLines ? .5 : 0)) + x(this.lineWidth),
                    o = this.xLabelRotation > 0,
                    a = this.showVerticalLines;
                0 !== e || a || (a = !0), a && t.beginPath(), e > 0 ? (t.lineWidth = this.gridLineWidth, t.strokeStyle = this.gridLineColor) : (t.lineWidth = this.lineWidth, t.strokeStyle = this.lineColor), a && (t.moveTo(n, this.endPoint), t.lineTo(n, this.startPoint - 3), t.stroke(), t.closePath()), t.lineWidth = this.lineWidth, t.strokeStyle = this.lineColor, t.beginPath(), t.moveTo(n, this.endPoint), t.lineTo(n, this.endPoint + 5), t.stroke(), t.closePath(), t.save(), t.translate(s, o ? this.endPoint + 12 : this.endPoint + 8), t.rotate(-1 * S(this.xLabelRotation)), t.font = this.font, t.textAlign = o ? "right" : "center", t.textBaseline = o ? "middle" : "top", t.fillText(i, 0, 0), t.restore()
            }, this))
        }
    }), e.RadialScale = e.Element.extend({
        initialize: function() {
            this.size = v([this.height, this.width]), this.drawingArea = this.display ? this.size / 2 - (this.fontSize / 2 + this.backdropPaddingY) : this.size / 2
        },
        calculateCenterOffset: function(t) {
            var i = this.drawingArea / (this.max - this.min);
            return (t - this.min) * i
        },
        update: function() {
            this.lineArc ? this.drawingArea = this.display ? this.size / 2 - (this.fontSize / 2 + this.backdropPaddingY) : this.size / 2 : this.setScaleSize(), this.buildYLabels()
        },
        buildYLabels: function() {
            this.yLabels = [];
            for (var t = m(this.stepValue), i = 0; i <= this.steps; i++) this.yLabels.push(C(this.templateString, {
                value: (this.min + i * this.stepValue).toFixed(t)
            }))
        },
        getCircumference: function() {
            return 2 * Math.PI / this.valuesCount
        },
        setScaleSize: function() {
            var t, i, e, s, n, o, a, h, l, r, c, u, d = v([this.height / 2 - this.pointLabelFontSize - 5, this.width / 2]),
                p = this.width,
                g = 0;
            for (this.ctx.font = M(this.pointLabelFontSize, this.pointLabelFontStyle, this.pointLabelFontFamily), i = 0; i < this.valuesCount; i++) t = this.getPointPosition(i, d), e = this.ctx.measureText(C(this.templateString, {
                value: this.labels[i]
            })).width + 5, 0 === i || i === this.valuesCount / 2 ? (s = e / 2, t.x + s > p && (p = t.x + s, n = i), t.x - s < g && (g = t.x - s, a = i)) : i < this.valuesCount / 2 ? t.x + e > p && (p = t.x + e, n = i) : i > this.valuesCount / 2 && t.x - e < g && (g = t.x - e, a = i);
            l = g, r = Math.ceil(p - this.width), o = this.getIndexAngle(n), h = this.getIndexAngle(a), c = r / Math.sin(o + Math.PI / 2), u = l / Math.sin(h + Math.PI / 2), c = f(c) ? c : 0, u = f(u) ? u : 0, this.drawingArea = d - (u + c) / 2, this.setCenterPoint(u, c)
        },
        setCenterPoint: function(t, i) {
            var e = this.width - i - this.drawingArea,
                s = t + this.drawingArea;
            this.xCenter = (s + e) / 2, this.yCenter = this.height / 2
        },
        getIndexAngle: function(t) {
            return t * (2 * Math.PI / this.valuesCount) - Math.PI / 2
        },
        getPointPosition: function(t, i) {
            var e = this.getIndexAngle(t);
            return {
                x: Math.cos(e) * i + this.xCenter,
                y: Math.sin(e) * i + this.yCenter
            }
        },
        draw: function() {
            if (this.display) {
                var t = this.ctx;
                if (n(this.yLabels, function(i, e) {
                        if (e > 0) {
                            var s, n = e * (this.drawingArea / this.steps),
                                o = this.yCenter - n;
                            if (this.lineWidth > 0)
                                if (t.strokeStyle = this.lineColor, t.lineWidth = this.lineWidth, this.lineArc) t.beginPath(), t.arc(this.xCenter, this.yCenter, n, 0, 2 * Math.PI), t.closePath(), t.stroke();
                                else {
                                    t.beginPath();
                                    for (var a = 0; a < this.valuesCount; a++) s = this.getPointPosition(a, this.calculateCenterOffset(this.min + e * this.stepValue)), 0 === a ? t.moveTo(s.x, s.y) : t.lineTo(s.x, s.y);
                                    t.closePath(), t.stroke()
                                }
                            if (this.showLabels) {
                                if (t.font = M(this.fontSize, this.fontStyle, this.fontFamily), this.showLabelBackdrop) {
                                    var h = t.measureText(i).width;
                                    t.fillStyle = this.backdropColor, t.fillRect(this.xCenter - h / 2 - this.backdropPaddingX, o - this.fontSize / 2 - this.backdropPaddingY, h + 2 * this.backdropPaddingX, this.fontSize + 2 * this.backdropPaddingY)
                                }
                                t.textAlign = "center", t.textBaseline = "middle", t.fillStyle = this.fontColor, t.fillText(i, this.xCenter, o)
                            }
                        }
                    }, this), !this.lineArc) {
                    t.lineWidth = this.angleLineWidth, t.strokeStyle = this.angleLineColor;
                    for (var i = this.valuesCount - 1; i >= 0; i--) {
                        if (this.angleLineWidth > 0) {
                            var e = this.getPointPosition(i, this.calculateCenterOffset(this.max));
                            t.beginPath(), t.moveTo(this.xCenter, this.yCenter), t.lineTo(e.x, e.y), t.stroke(), t.closePath()
                        }
                        var s = this.getPointPosition(i, this.calculateCenterOffset(this.max) + 5);
                        t.font = M(this.pointLabelFontSize, this.pointLabelFontStyle, this.pointLabelFontFamily), t.fillStyle = this.pointLabelFontColor;
                        var o = this.labels.length,
                            a = this.labels.length / 2,
                            h = a / 2,
                            l = i < h || i > o - h,
                            r = i === h || i === o - h;
                        t.textAlign = 0 === i ? "center" : i === a ? "center" : i < a ? "left" : "right", t.textBaseline = r ? "middle" : l ? "bottom" : "top", t.fillText(this.labels[i], s.x, s.y)
                    }
                }
            }
        }
    }), s.addEvent(window, "resize", function() {
        var t;
        return function() {
            clearTimeout(t), t = setTimeout(function() {
                n(e.instances, function(t) {
                    t.options.responsive && t.resize(t.render, !0)
                })
            }, 50)
        }
    }()), p ? define(function() {
        return e
    }) : "object" == typeof module && module.exports && (module.exports = e), t.Chart = e, e.noConflict = function() {
        return t.Chart = i, e
    }
}).call(this),
    function() {
        "use strict";
        var t = this.Chart,
            i = t.helpers;
        t.Type.extend({
            name: "Bar",
            defaults: {
                scaleBeginAtZero: !0,
                scaleShowGridLines: !0,
                scaleGridLineColor: "rgba(0,0,0,.05)",
                scaleGridLineWidth: 1,
                scaleShowHorizontalLines: !0,
                scaleShowVerticalLines: !0,
                barShowStroke: !0,
                barStrokeWidth: 2,
                barValueSpacing: 5,
                barDatasetSpacing: 1,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'
            },
            initialize: function(e) {
                var s = this.options;
                this.ScaleClass = t.Scale.extend({
                    offsetGridLines: !0,
                    calculateBarX: function(t, i, e) {
                        var n = this.calculateBaseWidth(),
                            o = this.calculateX(e) - n / 2,
                            a = this.calculateBarWidth(t);
                        return o + a * i + i * s.barDatasetSpacing + a / 2
                    },
                    calculateBaseWidth: function() {
                        return this.calculateX(1) - this.calculateX(0) - 2 * s.barValueSpacing
                    },
                    calculateBarWidth: function(t) {
                        return (this.calculateBaseWidth() - (t - 1) * s.barDatasetSpacing) / t
                    }
                }), this.datasets = [], this.options.showTooltips && i.bindEvents(this, this.options.tooltipEvents, function(t) {
                    var e = "mouseout" !== t.type ? this.getBarsAtEvent(t) : [];
                    this.eachBars(function(t) {
                        t.restore(["fillColor", "strokeColor"])
                    }), i.each(e, function(t) {
                        t.fillColor = t.highlightFill, t.strokeColor = t.highlightStroke
                    }), this.showTooltip(e)
                }), this.BarClass = t.Rectangle.extend({
                    strokeWidth: this.options.barStrokeWidth,
                    showStroke: this.options.barShowStroke,
                    ctx: this.chart.ctx
                }), i.each(e.datasets, function(t, s) {
                    var n = {
                        label: t.label || null,
                        fillColor: t.fillColor,
                        strokeColor: t.strokeColor,
                        bars: []
                    };
                    this.datasets.push(n), i.each(t.data, function(i, s) {
                        n.bars.push(new this.BarClass({
                            value: i,
                            label: e.labels[s],
                            datasetLabel: t.label,
                            strokeColor: t.strokeColor,
                            fillColor: t.fillColor,
                            highlightFill: t.highlightFill || t.fillColor,
                            highlightStroke: t.highlightStroke || t.strokeColor
                        }))
                    }, this)
                }, this), this.buildScale(e.labels), this.BarClass.prototype.base = this.scale.endPoint, this.eachBars(function(t, e, s) {
                    i.extend(t, {
                        width: this.scale.calculateBarWidth(this.datasets.length),
                        x: this.scale.calculateBarX(this.datasets.length, s, e),
                        y: this.scale.endPoint
                    }), t.save()
                }, this), this.render()
            },
            update: function() {
                this.scale.update(), i.each(this.activeElements, function(t) {
                    t.restore(["fillColor", "strokeColor"])
                }), this.eachBars(function(t) {
                    t.save()
                }), this.render()
            },
            eachBars: function(t) {
                i.each(this.datasets, function(e, s) {
                    i.each(e.bars, t, this, s)
                }, this)
            },
            getBarsAtEvent: function(t) {
                for (var e, s = [], n = i.getRelativePosition(t), o = function(t) {
                        s.push(t.bars[e])
                    }, a = 0; a < this.datasets.length; a++)
                    for (e = 0; e < this.datasets[a].bars.length; e++)
                        if (this.datasets[a].bars[e].inRange(n.x, n.y)) return i.each(this.datasets, o), s;
                return s
            },
            buildScale: function(t) {
                var e = this,
                    s = {
                        templateString: this.options.scaleLabel,
                        height: this.chart.height,
                        width: this.chart.width,
                        ctx: this.chart.ctx,
                        textColor: this.options.scaleFontColor,
                        fontSize: this.options.scaleFontSize,
                        fontStyle: this.options.scaleFontStyle,
                        fontFamily: this.options.scaleFontFamily,
                        valuesCount: t.length,
                        beginAtZero: this.options.scaleBeginAtZero,
                        integersOnly: this.options.scaleIntegersOnly,
                        calculateYRange: function(t) {
                            var s = i.calculateScaleRange(function() {
                                var t = [];
                                return e.eachBars(function(i) {
                                    t.push(i.value)
                                }), t
                            }(), t, this.fontSize, this.beginAtZero, this.integersOnly);
                            i.extend(this, s)
                        },
                        xLabels: t,
                        font: i.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),
                        lineWidth: this.options.scaleLineWidth,
                        lineColor: this.options.scaleLineColor,
                        showHorizontalLines: this.options.scaleShowHorizontalLines,
                        showVerticalLines: this.options.scaleShowVerticalLines,
                        gridLineWidth: this.options.scaleShowGridLines ? this.options.scaleGridLineWidth : 0,
                        gridLineColor: this.options.scaleShowGridLines ? this.options.scaleGridLineColor : "rgba(0,0,0,0)",
                        padding: this.options.showScale ? 0 : this.options.barShowStroke ? this.options.barStrokeWidth : 0,
                        showLabels: this.options.scaleShowLabels,
                        display: this.options.showScale
                    };
                this.options.scaleOverride && i.extend(s, {
                    calculateYRange: i.noop,
                    steps: this.options.scaleSteps,
                    stepValue: this.options.scaleStepWidth,
                    min: this.options.scaleStartValue,
                    max: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth
                }), this.scale = new this.ScaleClass(s)
            },
            addData: function(t, e) {
                i.each(t, function(t, i) {
                    this.datasets[i].bars.push(new this.BarClass({
                        value: t,
                        label: e,
                        x: this.scale.calculateBarX(this.datasets.length, i, this.scale.valuesCount + 1),
                        y: this.scale.endPoint,
                        width: this.scale.calculateBarWidth(this.datasets.length),
                        base: this.scale.endPoint,
                        strokeColor: this.datasets[i].strokeColor,
                        fillColor: this.datasets[i].fillColor
                    }))
                }, this), this.scale.addXLabel(e), this.update()
            },
            removeData: function() {
                this.scale.removeXLabel(), i.each(this.datasets, function(t) {
                    t.bars.shift()
                }, this), this.update()
            },
            reflow: function() {
                i.extend(this.BarClass.prototype, {
                    y: this.scale.endPoint,
                    base: this.scale.endPoint
                });
                var t = i.extend({
                    height: this.chart.height,
                    width: this.chart.width
                });
                this.scale.update(t)
            },
            draw: function(t) {
                var e = t || 1;
                this.clear();
                this.chart.ctx;
                this.scale.draw(e), i.each(this.datasets, function(t, s) {
                    i.each(t.bars, function(t, i) {
                        t.hasValue() && (t.base = this.scale.endPoint, t.transition({
                            x: this.scale.calculateBarX(this.datasets.length, s, i),
                            y: this.scale.calculateY(t.value),
                            width: this.scale.calculateBarWidth(this.datasets.length)
                        }, e).draw())
                    }, this)
                }, this)
            }
        })
    }.call(this),
    function() {
        "use strict";
        var t = this.Chart,
            i = t.helpers,
            e = {
                segmentShowStroke: !0,
                segmentStrokeColor: "#fff",
                segmentStrokeWidth: 2,
                percentageInnerCutout: 50,
                animationSteps: 100,
                animationEasing: "easeOutBounce",
                animateRotate: !0,
                animateScale: !1,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'
            };
        t.Type.extend({
            name: "Doughnut",
            defaults: e,
            initialize: function(e) {
                this.segments = [], this.outerRadius = (i.min([this.chart.width, this.chart.height]) - this.options.segmentStrokeWidth / 2) / 2, this.SegmentArc = t.Arc.extend({
                    ctx: this.chart.ctx,
                    x: this.chart.width / 2,
                    y: this.chart.height / 2
                }), this.options.showTooltips && i.bindEvents(this, this.options.tooltipEvents, function(t) {
                    var e = "mouseout" !== t.type ? this.getSegmentsAtEvent(t) : [];
                    i.each(this.segments, function(t) {
                        t.restore(["fillColor"])
                    }), i.each(e, function(t) {
                        t.fillColor = t.highlightColor
                    }), this.showTooltip(e)
                }), this.calculateTotal(e), i.each(e, function(t, i) {
                    this.addData(t, i, !0)
                }, this), this.render()
            },
            getSegmentsAtEvent: function(t) {
                var e = [],
                    s = i.getRelativePosition(t);
                return i.each(this.segments, function(t) {
                    t.inRange(s.x, s.y) && e.push(t)
                }, this), e
            },
            addData: function(t, i, e) {
                var s = i || this.segments.length;
                this.segments.splice(s, 0, new this.SegmentArc({
                    value: t.value,
                    outerRadius: this.options.animateScale ? 0 : this.outerRadius,
                    innerRadius: this.options.animateScale ? 0 : this.outerRadius / 100 * this.options.percentageInnerCutout,
                    fillColor: t.color,
                    highlightColor: t.highlight || t.color,
                    showStroke: this.options.segmentShowStroke,
                    strokeWidth: this.options.segmentStrokeWidth,
                    strokeColor: this.options.segmentStrokeColor,
                    startAngle: 1.5 * Math.PI,
                    circumference: this.options.animateRotate ? 0 : this.calculateCircumference(t.value),
                    label: t.label
                })), e || (this.reflow(), this.update())
            },
            calculateCircumference: function(t) {
                return 2 * Math.PI * (t / this.total)
            },
            calculateTotal: function(t) {
                this.total = 0, i.each(t, function(t) {
                    this.total += t.value
                }, this)
            },
            update: function() {
                this.calculateTotal(this.segments), i.each(this.activeElements, function(t) {
                    t.restore(["fillColor"])
                }), i.each(this.segments, function(t) {
                    t.save()
                }), this.render()
            },
            removeData: function(t) {
                var e = i.isNumber(t) ? t : this.segments.length - 1;
                this.segments.splice(e, 1), this.reflow(), this.update()
            },
            reflow: function() {
                i.extend(this.SegmentArc.prototype, {
                    x: this.chart.width / 2,
                    y: this.chart.height / 2
                }), this.outerRadius = (i.min([this.chart.width, this.chart.height]) - this.options.segmentStrokeWidth / 2) / 2, i.each(this.segments, function(t) {
                    t.update({
                        outerRadius: this.outerRadius,
                        innerRadius: this.outerRadius / 100 * this.options.percentageInnerCutout
                    })
                }, this)
            },
            draw: function(t) {
                var e = t || 1;
                this.clear(), i.each(this.segments, function(t, i) {
                    t.transition({
                        circumference: this.calculateCircumference(t.value),
                        outerRadius: this.outerRadius,
                        innerRadius: this.outerRadius / 100 * this.options.percentageInnerCutout
                    }, e), t.endAngle = t.startAngle + t.circumference, t.draw(), 0 === i && (t.startAngle = 1.5 * Math.PI), i < this.segments.length - 1 && (this.segments[i + 1].startAngle = t.endAngle)
                }, this)
            }
        }), t.types.Doughnut.extend({
            name: "Pie",
            defaults: i.merge(e, {
                percentageInnerCutout: 0
            })
        })
    }.call(this),
    function() {
        "use strict";
        var t = this.Chart,
            i = t.helpers;
        t.Type.extend({
            name: "Line",
            defaults: {
                scaleShowGridLines: !0,
                scaleGridLineColor: "rgba(0,0,0,.05)",
                scaleGridLineWidth: 1,
                scaleShowHorizontalLines: !0,
                scaleShowVerticalLines: !0,
                bezierCurve: !0,
                bezierCurveTension: .4,
                pointDot: !0,
                pointDotRadius: 4,
                pointDotStrokeWidth: 1,
                pointHitDetectionRadius: 20,
                datasetStroke: !0,
                datasetStrokeWidth: 2,
                datasetFill: !0,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'
            },
            initialize: function(e) {
                this.PointClass = t.Point.extend({
                    strokeWidth: this.options.pointDotStrokeWidth,
                    radius: this.options.pointDotRadius,
                    display: this.options.pointDot,
                    hitDetectionRadius: this.options.pointHitDetectionRadius,
                    ctx: this.chart.ctx,
                    inRange: function(t) {
                        return Math.pow(t - this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius, 2)
                    }
                }), this.datasets = [], this.options.showTooltips && i.bindEvents(this, this.options.tooltipEvents, function(t) {
                    var e = "mouseout" !== t.type ? this.getPointsAtEvent(t) : [];
                    this.eachPoints(function(t) {
                        t.restore(["fillColor", "strokeColor"])
                    }), i.each(e, function(t) {
                        t.fillColor = t.highlightFill, t.strokeColor = t.highlightStroke
                    }), this.showTooltip(e)
                }), i.each(e.datasets, function(t) {
                    var s = {
                        label: t.label || null,
                        fillColor: t.fillColor,
                        strokeColor: t.strokeColor,
                        pointColor: t.pointColor,
                        pointStrokeColor: t.pointStrokeColor,
                        pointHighlightFill: t.pointHighlightFill,
                        pointHighlightStroke: t.pointHighlightStroke,
                        points: []
                    };
                    this.datasets.push(s), i.each(t.data, function(i, n) {
                        s.points.push(new this.PointClass({
                            value: i,
                            label: e.labels[n],
                            datasetLabel: t.label,
                            strokeColor: t.pointStrokeColor,
                            fillColor: t.pointColor,
                            highlightFill: t.pointHighlightFill || t.pointColor,
                            highlightStroke: t.pointHighlightStroke || t.pointStrokeColor
                        }))
                    }, this), this.buildScale(e.labels), this.eachPoints(function(t, e) {
                        i.extend(t, {
                            x: this.scale.calculateX(e),
                            y: this.scale.endPoint
                        }), t.save()
                    }, this)
                }, this), this.render()
            },
            update: function() {
                this.scale.update(), i.each(this.activeElements, function(t) {
                    t.restore(["fillColor", "strokeColor"])
                }), this.eachPoints(function(t) {
                    t.save()
                }), this.render()
            },
            eachPoints: function(t) {
                i.each(this.datasets, function(e) {
                    i.each(e.points, t, this)
                }, this)
            },
            getPointsAtEvent: function(t) {
                var e = [],
                    s = i.getRelativePosition(t);
                return i.each(this.datasets, function(t) {
                    i.each(t.points, function(t) {
                        t.inRange(s.x, s.y) && e.push(t)
                    })
                }, this), e
            },
            getIndexAtEvent: function(t) {
                var e = [],
                    s = i.getRelativePosition(t);
                return i.each(this.datasets, function(t) {
                    i.each(t.points, function(t, i) {
                        t.inRange(s.x, s.y) && e.push(i)
                    })
                }, this), e
            },
            getIndexAtPoint: function(t, e) {
                var s = [];
                return i.each(this.datasets, function(n) {
                    i.each(n.points, function(i, n) {
                        i.inRange(t, e) && s.push(n)
                    })
                }, this), s
            },
            buildScale: function(e) {
                var s = this,
                    n = {
                        templateString: this.options.scaleLabel,
                        height: this.chart.height,
                        width: this.chart.width,
                        ctx: this.chart.ctx,
                        textColor: this.options.scaleFontColor,
                        fontSize: this.options.scaleFontSize,
                        fontStyle: this.options.scaleFontStyle,
                        fontFamily: this.options.scaleFontFamily,
                        valuesCount: e.length,
                        beginAtZero: this.options.scaleBeginAtZero,
                        integersOnly: this.options.scaleIntegersOnly,
                        calculateYRange: function(t) {
                            var e = i.calculateScaleRange(function() {
                                var t = [];
                                return s.eachPoints(function(i) {
                                    t.push(i.value)
                                }), t
                            }(), t, this.fontSize, this.beginAtZero, this.integersOnly);
                            i.extend(this, e)
                        },
                        xLabels: e,
                        font: i.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),
                        lineWidth: this.options.scaleLineWidth,
                        lineColor: this.options.scaleLineColor,
                        showHorizontalLines: this.options.scaleShowHorizontalLines,
                        showVerticalLines: this.options.scaleShowVerticalLines,
                        gridLineWidth: this.options.scaleShowGridLines ? this.options.scaleGridLineWidth : 0,
                        gridLineColor: this.options.scaleShowGridLines ? this.options.scaleGridLineColor : "rgba(0,0,0,0)",
                        padding: this.options.showScale ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,
                        showLabels: this.options.scaleShowLabels,
                        display: this.options.showScale
                    };
                this.options.scaleOverride && i.extend(n, {
                    calculateYRange: i.noop,
                    steps: this.options.scaleSteps,
                    stepValue: this.options.scaleStepWidth,
                    min: this.options.scaleStartValue,
                    max: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth
                }), this.scale = new t.Scale(n)
            },
            addData: function(t, e) {
                i.each(t, function(t, i) {
                    this.datasets[i].points.push(new this.PointClass({
                        value: t,
                        label: e,
                        x: this.scale.calculateX(this.scale.valuesCount + 1),
                        y: this.scale.endPoint,
                        strokeColor: this.datasets[i].pointStrokeColor,
                        fillColor: this.datasets[i].pointColor,
                        highlightFill: this.datasets[i].pointHighlightFill,
                        highlightStroke: this.datasets[i].pointHighlightStroke
                    }))
                }, this), this.scale.addXLabel(e), this.update()
            },
            removeData: function() {
                this.scale.removeXLabel(), i.each(this.datasets, function(t) {
                    t.points.shift()
                }, this), this.update()
            },
            reflow: function() {
                var t = i.extend({
                    height: this.chart.height,
                    width: this.chart.width
                });
                this.scale.update(t)
            },
            draw: function(t) {
                var e = t || 1;
                this.clear();
                var s = this.chart.ctx,
                    n = function(t) {
                        return null !== t.value
                    },
                    o = function(t, e, s) {
                        return i.findPreviousWhere(e, n, s) || t
                    };
                this.scale.draw(e), i.each(this.datasets, function(t) {
                    var a = i.where(t.points, n);
                    i.each(t.points, function(t, i) {
                        t.hasValue() && t.transition({
                            y: this.scale.calculateY(t.value),
                            x: this.scale.calculateX(i)
                        }, e)
                    }, this), this.options.bezierCurve && i.each(a, function(t, e) {
                        var s = e > 0 && e < a.length - 1 ? this.options.bezierCurveTension : 0;
                        t.controlPoints = i.splineCurve(o(t, a, e), t, function(t, e, s) {
                            return i.findNextWhere(e, n, s) || t
                        }(t, a, e), s), t.controlPoints.outer.y > this.scale.endPoint ? t.controlPoints.outer.y = this.scale.endPoint : t.controlPoints.outer.y < this.scale.startPoint && (t.controlPoints.outer.y = this.scale.startPoint), t.controlPoints.inner.y > this.scale.endPoint ? t.controlPoints.inner.y = this.scale.endPoint : t.controlPoints.inner.y < this.scale.startPoint && (t.controlPoints.inner.y = this.scale.startPoint)
                    }, this), s.lineWidth = this.options.datasetStrokeWidth, s.strokeStyle = t.strokeColor, i.each(a, function(t, i) {
                        if (0 === i);
                        else if (this.options.bezierCurve) {
                            var e = o(t, a, i);
                            s.beginPath(), s.moveTo(e.x, e.y), s.strokeStyle = t._saved.fillColor, s.bezierCurveTo(e.controlPoints.outer.x, e.controlPoints.outer.y, t.controlPoints.inner.x, t.controlPoints.inner.y, t.x, t.y), s.stroke()
                        } else s.lineTo(t.x, t.y)
                    }, this), this.options.datasetFill && a.length > 0 && (s.lineTo(a[a.length - 1].x, this.scale.endPoint), s.lineTo(a[0].x, this.scale.endPoint), s.fillStyle = t.fillColor, s.closePath(), s.fill()), i.each(a, function(t) {
                        t.draw()
                    })
                }, this)
            }
        })
    }.call(this),
    function() {
        "use strict";
        var t = this.Chart,
            i = t.helpers;
        t.Type.extend({
            name: "PolarArea",
            defaults: {
                scaleShowLabelBackdrop: !0,
                scaleBackdropColor: "rgba(255,255,255,0.75)",
                scaleBeginAtZero: !0,
                scaleBackdropPaddingY: 2,
                scaleBackdropPaddingX: 2,
                scaleShowLine: !0,
                segmentShowStroke: !0,
                segmentStrokeColor: "#fff",
                segmentStrokeWidth: 2,
                animationSteps: 100,
                animationEasing: "easeOutBounce",
                animateRotate: !0,
                animateScale: !1,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'
            },
            initialize: function(e) {
                this.segments = [], this.SegmentArc = t.Arc.extend({
                    showStroke: this.options.segmentShowStroke,
                    strokeWidth: this.options.segmentStrokeWidth,
                    strokeColor: this.options.segmentStrokeColor,
                    ctx: this.chart.ctx,
                    innerRadius: 0,
                    x: this.chart.width / 2,
                    y: this.chart.height / 2
                }), this.scale = new t.RadialScale({
                    display: this.options.showScale,
                    fontStyle: this.options.scaleFontStyle,
                    fontSize: this.options.scaleFontSize,
                    fontFamily: this.options.scaleFontFamily,
                    fontColor: this.options.scaleFontColor,
                    showLabels: this.options.scaleShowLabels,
                    showLabelBackdrop: this.options.scaleShowLabelBackdrop,
                    backdropColor: this.options.scaleBackdropColor,
                    backdropPaddingY: this.options.scaleBackdropPaddingY,
                    backdropPaddingX: this.options.scaleBackdropPaddingX,
                    lineWidth: this.options.scaleShowLine ? this.options.scaleLineWidth : 0,
                    lineColor: this.options.scaleLineColor,
                    lineArc: !0,
                    width: this.chart.width,
                    height: this.chart.height,
                    xCenter: this.chart.width / 2,
                    yCenter: this.chart.height / 2,
                    ctx: this.chart.ctx,
                    templateString: this.options.scaleLabel,
                    valuesCount: e.length
                }), this.updateScaleRange(e), this.scale.update(), i.each(e, function(t, i) {
                    this.addData(t, i, !0)
                }, this), this.options.showTooltips && i.bindEvents(this, this.options.tooltipEvents, function(t) {
                    var e = "mouseout" !== t.type ? this.getSegmentsAtEvent(t) : [];
                    i.each(this.segments, function(t) {
                        t.restore(["fillColor"])
                    }), i.each(e, function(t) {
                        t.fillColor = t.highlightColor
                    }), this.showTooltip(e)
                }), this.render()
            },
            getSegmentsAtEvent: function(t) {
                var e = [],
                    s = i.getRelativePosition(t);
                return i.each(this.segments, function(t) {
                    t.inRange(s.x, s.y) && e.push(t)
                }, this), e
            },
            addData: function(t, i, e) {
                var s = i || this.segments.length;
                this.segments.splice(s, 0, new this.SegmentArc({
                    fillColor: t.color,
                    highlightColor: t.highlight || t.color,
                    label: t.label,
                    value: t.value,
                    outerRadius: this.options.animateScale ? 0 : this.scale.calculateCenterOffset(t.value),
                    circumference: this.options.animateRotate ? 0 : this.scale.getCircumference(),
                    startAngle: 1.5 * Math.PI
                })), e || (this.reflow(), this.update())
            },
            removeData: function(t) {
                var e = i.isNumber(t) ? t : this.segments.length - 1;
                this.segments.splice(e, 1), this.reflow(), this.update()
            },
            calculateTotal: function(t) {
                this.total = 0, i.each(t, function(t) {
                    this.total += t.value
                }, this), this.scale.valuesCount = this.segments.length
            },
            updateScaleRange: function(t) {
                var e = [];
                i.each(t, function(t) {
                    e.push(t.value)
                });
                var s = this.options.scaleOverride ? {
                    steps: this.options.scaleSteps,
                    stepValue: this.options.scaleStepWidth,
                    min: this.options.scaleStartValue,
                    max: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth
                } : i.calculateScaleRange(e, i.min([this.chart.width, this.chart.height]) / 2, this.options.scaleFontSize, this.options.scaleBeginAtZero, this.options.scaleIntegersOnly);
                i.extend(this.scale, s, {
                    size: i.min([this.chart.width, this.chart.height]),
                    xCenter: this.chart.width / 2,
                    yCenter: this.chart.height / 2
                })
            },
            update: function() {
                this.calculateTotal(this.segments), i.each(this.segments, function(t) {
                    t.save()
                }), this.render()
            },
            reflow: function() {
                i.extend(this.SegmentArc.prototype, {
                    x: this.chart.width / 2,
                    y: this.chart.height / 2
                }), this.updateScaleRange(this.segments), this.scale.update(), i.extend(this.scale, {
                    xCenter: this.chart.width / 2,
                    yCenter: this.chart.height / 2
                }), i.each(this.segments, function(t) {
                    t.update({
                        outerRadius: this.scale.calculateCenterOffset(t.value)
                    })
                }, this)
            },
            draw: function(t) {
                var e = t || 1;
                this.clear(), i.each(this.segments, function(t, i) {
                    t.transition({
                        circumference: this.scale.getCircumference(),
                        outerRadius: this.scale.calculateCenterOffset(t.value)
                    }, e), t.endAngle = t.startAngle + t.circumference, 0 === i && (t.startAngle = 1.5 * Math.PI), i < this.segments.length - 1 && (this.segments[i + 1].startAngle = t.endAngle), t.draw()
                }, this), this.scale.draw()
            }
        })
    }.call(this),
    function() {
        "use strict";
        var t = this.Chart,
            i = t.helpers;
        t.Type.extend({
            name: "Radar",
            defaults: {
                scaleShowLine: !0,
                angleShowLineOut: !0,
                scaleShowLabels: !1,
                scaleBeginAtZero: !0,
                angleLineColor: "rgba(0,0,0,.1)",
                angleLineWidth: 1,
                pointLabelFontFamily: "'Arial'",
                pointLabelFontStyle: "normal",
                pointLabelFontSize: 10,
                pointLabelFontColor: "#666",
                pointDot: !0,
                pointDotRadius: 3,
                pointDotStrokeWidth: 1,
                pointHitDetectionRadius: 20,
                datasetStroke: !0,
                datasetStrokeWidth: 2,
                datasetFill: !0,
                legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'
            },
            initialize: function(e) {
                this.PointClass = t.Point.extend({
                    strokeWidth: this.options.pointDotStrokeWidth,
                    radius: this.options.pointDotRadius,
                    display: this.options.pointDot,
                    hitDetectionRadius: this.options.pointHitDetectionRadius,
                    ctx: this.chart.ctx
                }), this.datasets = [], this.buildScale(e), this.options.showTooltips && i.bindEvents(this, this.options.tooltipEvents, function(t) {
                    var e = "mouseout" !== t.type ? this.getPointsAtEvent(t) : [];
                    this.eachPoints(function(t) {
                        t.restore(["fillColor", "strokeColor"])
                    }), i.each(e, function(t) {
                        t.fillColor = t.highlightFill, t.strokeColor = t.highlightStroke
                    }), this.showTooltip(e)
                }), i.each(e.datasets, function(t) {
                    var s = {
                        label: t.label || null,
                        fillColor: t.fillColor,
                        strokeColor: t.strokeColor,
                        pointColor: t.pointColor,
                        pointStrokeColor: t.pointStrokeColor,
                        points: []
                    };
                    this.datasets.push(s), i.each(t.data, function(i, n) {
                        var o;
                        this.scale.animation || (o = this.scale.getPointPosition(n, this.scale.calculateCenterOffset(i))), s.points.push(new this.PointClass({
                            value: i,
                            label: e.labels[n],
                            datasetLabel: t.label,
                            x: this.options.animation ? this.scale.xCenter : o.x,
                            y: this.options.animation ? this.scale.yCenter : o.y,
                            strokeColor: t.pointStrokeColor,
                            fillColor: t.pointColor,
                            highlightFill: t.pointHighlightFill || t.pointColor,
                            highlightStroke: t.pointHighlightStroke || t.pointStrokeColor
                        }))
                    }, this)
                }, this), this.render()
            },
            eachPoints: function(t) {
                i.each(this.datasets, function(e) {
                    i.each(e.points, t, this)
                }, this)
            },
            getPointsAtEvent: function(t) {
                var e = i.getRelativePosition(t),
                    s = i.getAngleFromPoint({
                        x: this.scale.xCenter,
                        y: this.scale.yCenter
                    }, e),
                    n = 2 * Math.PI / this.scale.valuesCount,
                    o = Math.round((s.angle - 1.5 * Math.PI) / n),
                    a = [];
                return (o >= this.scale.valuesCount || o < 0) && (o = 0), s.distance <= this.scale.drawingArea && i.each(this.datasets, function(t) {
                    a.push(t.points[o])
                }), a
            },
            buildScale: function(i) {
                this.scale = new t.RadialScale({
                    display: this.options.showScale,
                    fontStyle: this.options.scaleFontStyle,
                    fontSize: this.options.scaleFontSize,
                    fontFamily: this.options.scaleFontFamily,
                    fontColor: this.options.scaleFontColor,
                    showLabels: this.options.scaleShowLabels,
                    showLabelBackdrop: this.options.scaleShowLabelBackdrop,
                    backdropColor: this.options.scaleBackdropColor,
                    backdropPaddingY: this.options.scaleBackdropPaddingY,
                    backdropPaddingX: this.options.scaleBackdropPaddingX,
                    lineWidth: this.options.scaleShowLine ? this.options.scaleLineWidth : 0,
                    lineColor: this.options.scaleLineColor,
                    angleLineColor: this.options.angleLineColor,
                    angleLineWidth: this.options.angleShowLineOut ? this.options.angleLineWidth : 0,
                    pointLabelFontColor: this.options.pointLabelFontColor,
                    pointLabelFontSize: this.options.pointLabelFontSize,
                    pointLabelFontFamily: this.options.pointLabelFontFamily,
                    pointLabelFontStyle: this.options.pointLabelFontStyle,
                    height: this.chart.height,
                    width: this.chart.width,
                    xCenter: this.chart.width / 2,
                    yCenter: this.chart.height / 2,
                    ctx: this.chart.ctx,
                    templateString: this.options.scaleLabel,
                    labels: i.labels,
                    valuesCount: i.datasets[0].data.length
                }), this.scale.setScaleSize(), this.updateScaleRange(i.datasets), this.scale.buildYLabels()
            },
            updateScaleRange: function(t) {
                var e = function() {
                        var e = [];
                        return i.each(t, function(t) {
                            t.data ? e = e.concat(t.data) : i.each(t.points, function(t) {
                                e.push(t.value)
                            })
                        }), e
                    }(),
                    s = this.options.scaleOverride ? {
                        steps: this.options.scaleSteps,
                        stepValue: this.options.scaleStepWidth,
                        min: this.options.scaleStartValue,
                        max: this.options.scaleStartValue + this.options.scaleSteps * this.options.scaleStepWidth
                    } : i.calculateScaleRange(e, i.min([this.chart.width, this.chart.height]) / 2, this.options.scaleFontSize, this.options.scaleBeginAtZero, this.options.scaleIntegersOnly);
                i.extend(this.scale, s)
            },
            addData: function(t, e) {
                this.scale.valuesCount++, i.each(t, function(t, i) {
                    var s = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(t));
                    this.datasets[i].points.push(new this.PointClass({
                        value: t,
                        label: e,
                        x: s.x,
                        y: s.y,
                        strokeColor: this.datasets[i].pointStrokeColor,
                        fillColor: this.datasets[i].pointColor
                    }))
                }, this), this.scale.labels.push(e), this.reflow(), this.update()
            },
            removeData: function() {
                this.scale.valuesCount--, this.scale.labels.shift(), i.each(this.datasets, function(t) {
                    t.points.shift()
                }, this), this.reflow(), this.update()
            },
            update: function() {
                this.eachPoints(function(t) {
                    t.save()
                }), this.reflow(), this.render()
            },
            reflow: function() {
                i.extend(this.scale, {
                    width: this.chart.width,
                    height: this.chart.height,
                    size: i.min([this.chart.width, this.chart.height]),
                    xCenter: this.chart.width / 2,
                    yCenter: this.chart.height / 2
                }), this.updateScaleRange(this.datasets), this.scale.setScaleSize(), this.scale.buildYLabels()
            },
            draw: function(t) {
                var e = t || 1,
                    s = this.chart.ctx;
                this.clear(), this.scale.draw(), i.each(this.datasets, function(t) {
                    i.each(t.points, function(t, i) {
                        t.hasValue() && t.transition(this.scale.getPointPosition(i, this.scale.calculateCenterOffset(t.value)), e)
                    }, this), s.lineWidth = this.options.datasetStrokeWidth, s.strokeStyle = t.strokeColor, s.beginPath(), i.each(t.points, function(t, i) {
                        0 === i ? s.moveTo(t.x, t.y) : s.lineTo(t.x, t.y)
                    }, this), s.closePath(), s.stroke(), s.fillStyle = t.fillColor, s.fill(), i.each(t.points, function(t) {
                        t.hasValue() && t.draw()
                    })
                }, this)
            }
        })
    }.call(this);
! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
}(function(e) {
    function t(t) {
        var s = t || window.event,
            a = h.call(arguments, 1),
            r = 0,
            f = 0,
            d = 0,
            c = 0,
            m = 0,
            g = 0;
        if (t = e.event.fix(s), t.type = "mousewheel", "detail" in s && (d = -1 * s.detail), "wheelDelta" in s && (d = s.wheelDelta), "wheelDeltaY" in s && (d = s.wheelDeltaY), "wheelDeltaX" in s && (f = -1 * s.wheelDeltaX), "axis" in s && s.axis === s.HORIZONTAL_AXIS && (f = -1 * d, d = 0), r = 0 === d ? f : d, "deltaY" in s && (r = d = -1 * s.deltaY), "deltaX" in s && (f = s.deltaX, 0 === d && (r = -1 * f)), 0 !== d || 0 !== f) {
            if (1 === s.deltaMode) {
                var w = e.data(this, "mousewheel-line-height");
                r *= w, d *= w, f *= w
            } else if (2 === s.deltaMode) {
                var v = e.data(this, "mousewheel-page-height");
                r *= v, d *= v, f *= v
            }
            if (c = Math.max(Math.abs(d), Math.abs(f)), (!l || c < l) && (l = c, n(s, c) && (l /= 40)), n(s, c) && (r /= 40, f /= 40, d /= 40), r = Math[r >= 1 ? "floor" : "ceil"](r / l), f = Math[f >= 1 ? "floor" : "ceil"](f / l), d = Math[d >= 1 ? "floor" : "ceil"](d / l), u.settings.normalizeOffset && this.getBoundingClientRect) {
                var p = this.getBoundingClientRect();
                m = t.clientX - p.left, g = t.clientY - p.top
            }
            return t.deltaX = f, t.deltaY = d, t.deltaFactor = l, t.offsetX = m, t.offsetY = g, t.deltaMode = 0, a.unshift(t, r, f, d), o && clearTimeout(o), o = setTimeout(i, 200), (e.event.dispatch || e.event.handle).apply(this, a)
        }
    }

    function i() {
        l = null
    }

    function n(e, t) {
        return u.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
    }
    var o, l, s = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
        a = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
        h = Array.prototype.slice;
    if (e.event.fixHooks)
        for (var r = s.length; r;) e.event.fixHooks[s[--r]] = e.event.mouseHooks;
    var u = e.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var i = a.length; i;) try {
                    this.addEventListener(a[--i], t, {
                        passive: !1
                    })
                } catch (e) {
                    this.addEventListener(a[--i], t, !1)
                } else this.onmousewheel = t;
            e.data(this, "mousewheel-line-height", u.getLineHeight(this)), e.data(this, "mousewheel-page-height", u.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var i = a.length; i;) this.removeEventListener(a[--i], t, !1);
            else this.onmousewheel = null;
            e.removeData(this, "mousewheel-line-height"), e.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(t) {
            var i = e(t),
                n = i["offsetParent" in e.fn ? "offsetParent" : "parent"]();
            return n.length || (n = e("body")), parseInt(n.css("fontSize"), 10) || parseInt(i.css("fontSize"), 10) || 16
        },
        getPageHeight: function(t) {
            return e(t).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
});
! function(e) {
    function n() {
        this === l.elem && (l.pos = [-260, -260], l.elem = !1, u = 3)
    }
    var t, i, l = {
            pos: [-260, -260]
        },
        u = 3,
        h = document,
        o = h.documentElement,
        s = h.body;
    e.event.special.mwheelIntent = {
        setup: function() {
            var t = e(this).bind("mousewheel", e.event.special.mwheelIntent.handler);
            return this !== h && this !== o && this !== s && t.bind("mouseleave", n), t = null, !0
        },
        teardown: function() {
            return e(this).unbind("mousewheel", e.event.special.mwheelIntent.handler).unbind("mouseleave", n), !0
        },
        handler: function(n, h) {
            var o = [n.clientX, n.clientY];
            if (this === l.elem || Math.abs(l.pos[0] - o[0]) > u || Math.abs(l.pos[1] - o[1]) > u) return l.elem = this, l.pos = o, u = 250, clearTimeout(i), i = setTimeout(function() {
                u = 10
            }, 200), clearTimeout(t), t = setTimeout(function() {
                u = 3
            }, 1500), n = e.extend({}, n, {
                type: "mwheelIntent"
            }), (e.event.dispatch || e.event.handle).apply(this, arguments)
        }
    }, e.fn.extend({
        mwheelIntent: function(e) {
            return e ? this.bind("mwheelIntent", e) : this.trigger("mwheelIntent")
        },
        unmwheelIntent: function(e) {
            return this.unbind("mwheelIntent", e)
        }
    }), e(function() {
        s = h.body, e(h).bind("mwheelIntent.mwheelIntentDefault", e.noop)
    })
}(jQuery);
MD5 = function() {
    function n(n, r) {
        var f = n[0],
            c = n[1],
            a = n[2],
            h = n[3];
        c = e(c = e(c = e(c = e(c = o(c = o(c = o(c = o(c = u(c = u(c = u(c = u(c = t(c = t(c = t(c = t(c, a = t(a, h = t(h, f = t(f, c, a, h, r[0], 7, -680876936), c, a, r[1], 12, -389564586), f, c, r[2], 17, 606105819), h, f, r[3], 22, -1044525330), a = t(a, h = t(h, f = t(f, c, a, h, r[4], 7, -176418897), c, a, r[5], 12, 1200080426), f, c, r[6], 17, -1473231341), h, f, r[7], 22, -45705983), a = t(a, h = t(h, f = t(f, c, a, h, r[8], 7, 1770035416), c, a, r[9], 12, -1958414417), f, c, r[10], 17, -42063), h, f, r[11], 22, -1990404162), a = t(a, h = t(h, f = t(f, c, a, h, r[12], 7, 1804603682), c, a, r[13], 12, -40341101), f, c, r[14], 17, -1502002290), h, f, r[15], 22, 1236535329), a = u(a, h = u(h, f = u(f, c, a, h, r[1], 5, -165796510), c, a, r[6], 9, -1069501632), f, c, r[11], 14, 643717713), h, f, r[0], 20, -373897302), a = u(a, h = u(h, f = u(f, c, a, h, r[5], 5, -701558691), c, a, r[10], 9, 38016083), f, c, r[15], 14, -660478335), h, f, r[4], 20, -405537848), a = u(a, h = u(h, f = u(f, c, a, h, r[9], 5, 568446438), c, a, r[14], 9, -1019803690), f, c, r[3], 14, -187363961), h, f, r[8], 20, 1163531501), a = u(a, h = u(h, f = u(f, c, a, h, r[13], 5, -1444681467), c, a, r[2], 9, -51403784), f, c, r[7], 14, 1735328473), h, f, r[12], 20, -1926607734), a = o(a, h = o(h, f = o(f, c, a, h, r[5], 4, -378558), c, a, r[8], 11, -2022574463), f, c, r[11], 16, 1839030562), h, f, r[14], 23, -35309556), a = o(a, h = o(h, f = o(f, c, a, h, r[1], 4, -1530992060), c, a, r[4], 11, 1272893353), f, c, r[7], 16, -155497632), h, f, r[10], 23, -1094730640), a = o(a, h = o(h, f = o(f, c, a, h, r[13], 4, 681279174), c, a, r[0], 11, -358537222), f, c, r[3], 16, -722521979), h, f, r[6], 23, 76029189), a = o(a, h = o(h, f = o(f, c, a, h, r[9], 4, -640364487), c, a, r[12], 11, -421815835), f, c, r[15], 16, 530742520), h, f, r[2], 23, -995338651), a = e(a, h = e(h, f = e(f, c, a, h, r[0], 6, -198630844), c, a, r[7], 10, 1126891415), f, c, r[14], 15, -1416354905), h, f, r[5], 21, -57434055), a = e(a, h = e(h, f = e(f, c, a, h, r[12], 6, 1700485571), c, a, r[3], 10, -1894986606), f, c, r[10], 15, -1051523), h, f, r[1], 21, -2054922799), a = e(a, h = e(h, f = e(f, c, a, h, r[8], 6, 1873313359), c, a, r[15], 10, -30611744), f, c, r[6], 15, -1560198380), h, f, r[13], 21, 1309151649), a = e(a, h = e(h, f = e(f, c, a, h, r[4], 6, -145523070), c, a, r[11], 10, -1120210379), f, c, r[2], 15, 718787259), h, f, r[9], 21, -343485551), n[0] = i(f, n[0]), n[1] = i(c, n[1]), n[2] = i(a, n[2]), n[3] = i(h, n[3])
    }

    function r(n, r, t, u, o, e) {
        return r = i(i(r, n), i(u, e)), i(r << o | r >>> 32 - o, t)
    }

    function t(n, t, u, o, e, f, c) {
        return r(t & u | ~t & o, n, t, e, f, c)
    }

    function u(n, t, u, o, e, f, c) {
        return r(t & o | u & ~o, n, t, e, f, c)
    }

    function o(n, t, u, o, e, f, c) {
        return r(t ^ u ^ o, n, t, e, f, c)
    }

    function e(n, t, u, o, e, f, c) {
        return r(u ^ (t | ~o), n, t, e, f, c)
    }

    function f(n) {
        for (var r = "", t = 0; t < 4; t++) r += a[n >> 8 * t + 4 & 15] + a[n >> 8 * t & 15];
        return r
    }

    function c(r) {
        return function(n) {
            for (var r = 0; r < n.length; r++) n[r] = f(n[r]);
            return n.join("")
        }(function(r) {
            txt = "";
            var t, u = r.length,
                o = [1732584193, -271733879, -1732584194, 271733878];
            for (t = 64; t <= r.length; t += 64) n(o, function(n) {
                var r, t = [];
                for (r = 0; r < 64; r += 4) t[r >> 2] = n.charCodeAt(r) + (n.charCodeAt(r + 1) << 8) + (n.charCodeAt(r + 2) << 16) + (n.charCodeAt(r + 3) << 24);
                return t
            }(r.substring(t - 64, t)));
            r = r.substring(t - 64);
            var e = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
            for (t = 0; t < r.length; t++) e[t >> 2] |= r.charCodeAt(t) << (t % 4 << 3);
            if (e[t >> 2] |= 128 << (t % 4 << 3), t > 55)
                for (n(o, e), t = 0; t < 16; t++) e[t] = 0;
            return e[14] = 8 * u, n(o, e), o
        }(r))
    }

    function i(n, r) {
        return n + r & 4294967295
    }

    function i(n, r) {
        var t = (65535 & n) + (65535 & r);
        return (n >> 16) + (r >> 16) + (t >> 16) << 16 | 65535 & t
    }
    var a = "0123456789abcdef".split("");
    return c("hello"), c
}();
! function(e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).SimpleMDE = e()
}(function() {
    return function e(t, n, r) {
        function i(a, l) {
            if (!n[a]) {
                if (!t[a]) {
                    var s = "function" == typeof require && require;
                    if (!l && s) return s(a, !0);
                    if (o) return o(a, !0);
                    var c = new Error("Cannot find module '" + a + "'");
                    throw c.code = "MODULE_NOT_FOUND", c
                }
                var u = n[a] = {
                    exports: {}
                };
                t[a][0].call(u.exports, function(e) {
                    return i(t[a][1][e] || e)
                }, u, u.exports, e, t, n, r)
            }
            return n[a].exports
        }
        for (var o = "function" == typeof require && require, a = 0; a < r.length; a++) i(r[a]);
        return i
    }({
        1: [function(e, t, n) {}, {}],
        2: [function(e, t, n) {
            "use strict";

            function r(e) {
                "function" == typeof(e = e || {}).codeMirrorInstance && "function" == typeof e.codeMirrorInstance.defineMode ? (String.prototype.includes || (String.prototype.includes = function() {
                    return -1 !== String.prototype.indexOf.apply(this, arguments)
                }), e.codeMirrorInstance.defineMode("spell-checker", function(t) {
                    var n, o;
                    r.aff_loading || (r.aff_loading = !0, (n = new XMLHttpRequest).open("GET", "https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff", !0), n.onload = function() {
                        4 === n.readyState && 200 === n.status && (r.aff_data = n.responseText, 2 == ++r.num_loaded && (r.typo = new i("en_US", r.aff_data, r.dic_data, {
                            platform: "any"
                        })))
                    }, n.send(null)), r.dic_loading || (r.dic_loading = !0, (o = new XMLHttpRequest).open("GET", "https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic", !0), o.onload = function() {
                        4 === o.readyState && 200 === o.status && (r.dic_data = o.responseText, 2 == ++r.num_loaded && (r.typo = new i("en_US", r.aff_data, r.dic_data, {
                            platform: "any"
                        })))
                    }, o.send(null));
                    var a = '!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',
                        l = {
                            token: function(e) {
                                var t = e.peek(),
                                    n = "";
                                if (a.includes(t)) return e.next(), null;
                                for (; null != (t = e.peek()) && !a.includes(t);) n += t, e.next();
                                return r.typo && !r.typo.check(n) ? "spell-error" : null
                            }
                        },
                        s = e.codeMirrorInstance.getMode(t, t.backdrop || "text/plain");
                    return e.codeMirrorInstance.overlayMode(s, l, !0)
                })) : console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")
            }
            var i = e("typo-js");
            r.num_loaded = 0, r.aff_loading = !1, r.dic_loading = !1, r.aff_data = "", r.dic_data = "", t.exports = r
        }, {
            "typo-js": 14
        }],
        3: [function(e, t, n) {
            ! function(e) {
                "use strict";
                e.defineOption("fullScreen", !1, function(t, n, r) {
                    var i, o;
                    r == e.Init && (r = !1), !r != !n && (n ? (o = (i = t).getWrapperElement(), i.state.fullScreenRestore = {
                        scrollTop: window.pageYOffset,
                        scrollLeft: window.pageXOffset,
                        width: o.style.width,
                        height: o.style.height
                    }, o.style.width = "", o.style.height = "auto", o.className += " CodeMirror-fullscreen", document.documentElement.style.overflow = "hidden", i.refresh()) : function(e) {
                        var t = e.getWrapperElement();
                        t.className = t.className.replace(/\s*CodeMirror-fullscreen\b/, ""), document.documentElement.style.overflow = "";
                        var n = e.state.fullScreenRestore;
                        t.style.width = n.width, t.style.height = n.height, window.scrollTo(n.scrollLeft, n.scrollTop), e.refresh()
                    }(t))
                })
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        4: [function(e, t, n) {
            ! function(e) {
                function t(e) {
                    e.state.placeholder && (e.state.placeholder.parentNode.removeChild(e.state.placeholder), e.state.placeholder = null)
                }

                function n(e) {
                    t(e);
                    var n = e.state.placeholder = document.createElement("pre");
                    n.style.cssText = "height: 0; overflow: visible", n.style.direction = e.getOption("direction"), n.className = "CodeMirror-placeholder CodeMirror-line-like";
                    var r = e.getOption("placeholder");
                    "string" == typeof r && (r = document.createTextNode(r)), n.appendChild(r), e.display.lineSpace.insertBefore(n, e.display.lineSpace.firstChild)
                }

                function r(e) {
                    o(e) && n(e)
                }

                function i(e) {
                    var r = e.getWrapperElement(),
                        i = o(e);
                    r.className = r.className.replace(" CodeMirror-empty", "") + (i ? " CodeMirror-empty" : ""), (i ? n : t)(e)
                }

                function o(e) {
                    return 1 === e.lineCount() && "" === e.getLine(0)
                }
                e.defineOption("placeholder", "", function(n, o, a) {
                    var l, s = a && a != e.Init;
                    o && !s ? (n.on("blur", r), n.on("change", i), n.on("swapDoc", i), i(n)) : !o && s && (n.off("blur", r), n.off("change", i), n.off("swapDoc", i), t(n), (l = n.getWrapperElement()).className = l.className.replace(" CodeMirror-empty", "")), o && !n.hasFocus() && r(n)
                })
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        5: [function(e, t, n) {
            ! function(e) {
                "use strict";
                var t = /^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,
                    n = /^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,
                    r = /[*+-]\s/;
                e.commands.newlineAndIndentContinueMarkdownList = function(i) {
                    if (i.getOption("disableInput")) return e.Pass;
                    for (var o = i.listSelections(), a = [], l = 0; l < o.length; l++) {
                        var s = o[l].head,
                            c = i.getStateAfter(s.line),
                            u = e.innerMode(i.getMode(), c);
                        if ("markdown" !== u.mode.name) return void i.execCommand("newlineAndIndent");
                        var d, h, f, p, m, g, v = !1 !== (c = u.state).list,
                            x = 0 !== c.quote,
                            y = i.getLine(s.line),
                            b = t.exec(y),
                            k = /^\s*$/.test(y.slice(0, s.ch));
                        if (!o[l].empty() || !v && !x || !b || k) return void i.execCommand("newlineAndIndent");
                        n.test(y) ? (d = x && />\s*$/.test(y), h = !/>\s*$/.test(y), (d || h) && i.replaceRange("", {
                            line: s.line,
                            ch: 0
                        }, {
                            line: s.line,
                            ch: s.ch + 1
                        }), a[l] = "\n") : (f = b[1], p = b[5], g = (m = !(r.test(b[2]) || 0 <= b[2].indexOf(">"))) ? parseInt(b[3], 10) + 1 + b[4] : b[2].replace("x", " "), a[l] = "\n" + f + g + p, m && function(e, n) {
                            var r = n.line,
                                i = 0,
                                o = 0,
                                a = t.exec(e.getLine(r)),
                                l = a[1];
                            do {
                                var s = r + (i += 1),
                                    c = e.getLine(s),
                                    u = t.exec(c);
                                if (u) {
                                    var d = u[1],
                                        h = parseInt(a[3], 10) + i - o,
                                        f = parseInt(u[3], 10),
                                        p = f;
                                    if (l !== d || isNaN(f)) {
                                        if (l.length > d.length) return;
                                        if (l.length < d.length && 1 === i) return;
                                        o += 1
                                    } else h === f && (p = f + 1), f < h && (p = 1 + h), e.replaceRange(c.replace(t, d + p + u[4] + u[5]), {
                                        line: s,
                                        ch: 0
                                    }, {
                                        line: s,
                                        ch: c.length
                                    })
                                }
                            } while (u)
                        }(i, s))
                    }
                    i.replaceSelections(a)
                }
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        6: [function(e, t, n) {
            ! function(e) {
                "use strict";
                e.overlayMode = function(t, n, r) {
                    return {
                        startState: function() {
                            return {
                                base: e.startState(t),
                                overlay: e.startState(n),
                                basePos: 0,
                                baseCur: null,
                                overlayPos: 0,
                                overlayCur: null,
                                streamSeen: null
                            }
                        },
                        copyState: function(r) {
                            return {
                                base: e.copyState(t, r.base),
                                overlay: e.copyState(n, r.overlay),
                                basePos: r.basePos,
                                baseCur: null,
                                overlayPos: r.overlayPos,
                                overlayCur: null
                            }
                        },
                        token: function(e, i) {
                            return (e != i.streamSeen || Math.min(i.basePos, i.overlayPos) < e.start) && (i.streamSeen = e, i.basePos = i.overlayPos = e.start), e.start == i.basePos && (i.baseCur = t.token(e, i.base), i.basePos = e.pos), e.start == i.overlayPos && (e.pos = e.start, i.overlayCur = n.token(e, i.overlay), i.overlayPos = e.pos), e.pos = Math.min(i.basePos, i.overlayPos), null == i.overlayCur ? i.baseCur : null != i.baseCur && i.overlay.combineTokens || r && null == i.overlay.combineTokens ? i.baseCur + " " + i.overlayCur : i.overlayCur
                        },
                        indent: t.indent && function(e, n, r) {
                            return t.indent(e.base, n, r)
                        },
                        electricChars: t.electricChars,
                        innerMode: function(e) {
                            return {
                                state: e.base,
                                mode: t
                            }
                        },
                        blankLine: function(e) {
                            var i, o;
                            return t.blankLine && (i = t.blankLine(e.base)), n.blankLine && (o = n.blankLine(e.overlay)), null == o ? i : r && null != i ? i + " " + o : o
                        }
                    }
                }
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        7: [function(e, t, n) {
            ! function(e) {
                "use strict";

                function t(e) {
                    e.state.markedSelection && e.operation(function() {
                        ! function(e) {
                            if (!e.somethingSelected()) return i(e);
                            if (1 < e.listSelections().length) return o(e);
                            var t = e.getCursor("start"),
                                n = e.getCursor("end"),
                                l = e.state.markedSelection;
                            if (!l.length) return r(e, t, n);
                            var c = l[0].find(),
                                u = l[l.length - 1].find();
                            if (!c || !u || n.line - t.line <= a || 0 <= s(t, u.to) || s(n, c.from) <= 0) return o(e);
                            for (; 0 < s(t, c.from);) l.shift().clear(), c = l[0].find();
                            for (s(t, c.from) < 0 && (c.to.line - t.line < a ? (l.shift().clear(), r(e, t, c.to, 0)) : r(e, t, c.from, 0)); s(n, u.to) < 0;) l.pop().clear(), u = l[l.length - 1].find();
                            0 < s(n, u.to) && (n.line - u.from.line < a ? (l.pop().clear(), r(e, u.from, n)) : r(e, u.to, n))
                        }(e)
                    })
                }

                function n(e) {
                    e.state.markedSelection && e.state.markedSelection.length && e.operation(function() {
                        i(e)
                    })
                }

                function r(e, t, n, r) {
                    if (0 != s(t, n))
                        for (var i = e.state.markedSelection, o = e.state.markedSelectionStyle, c = t.line;;) {
                            var u = c == t.line ? t : l(c, 0),
                                d = c + a,
                                h = d >= n.line,
                                f = h ? n : l(d, 0),
                                p = e.markText(u, f, {
                                    className: o
                                });
                            if (null == r ? i.push(p) : i.splice(r++, 0, p), h) break;
                            c = d
                        }
                }

                function i(e) {
                    for (var t = e.state.markedSelection, n = 0; n < t.length; ++n) t[n].clear();
                    t.length = 0
                }

                function o(e) {
                    i(e);
                    for (var t = e.listSelections(), n = 0; n < t.length; n++) r(e, t[n].from(), t[n].to())
                }
                e.defineOption("styleSelectedText", !1, function(r, a, l) {
                    var s = l && l != e.Init;
                    a && !s ? (r.state.markedSelection = [], r.state.markedSelectionStyle = "string" == typeof a ? a : "CodeMirror-selectedtext", o(r), r.on("cursorActivity", t), r.on("change", n)) : !a && s && (r.off("cursorActivity", t), r.off("change", n), i(r), r.state.markedSelection = r.state.markedSelectionStyle = null)
                });
                var a = 8,
                    l = e.Pos,
                    s = e.cmpPos
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        8: [function(e, t, n) {
            var r, i;
            r = this, i = function() {
                "use strict";

                function e(e) {
                    return new RegExp("(^|\\s)" + e + "(?:$|\\s)\\s*")
                }

                function t(e) {
                    for (var t = e.childNodes.length; 0 < t; --t) e.removeChild(e.firstChild);
                    return e
                }

                function n(e, n) {
                    return t(e).appendChild(n)
                }

                function r(e, t, n, r) {
                    var i = document.createElement(e);
                    if (n && (i.className = n), r && (i.style.cssText = r), "string" == typeof t) i.appendChild(document.createTextNode(t));
                    else if (t)
                        for (var o = 0; o < t.length; ++o) i.appendChild(t[o]);
                    return i
                }

                function i(e, t, n, i) {
                    var o = r(e, t, n, i);
                    return o.setAttribute("role", "presentation"), o
                }

                function o(e, t) {
                    if (3 == t.nodeType && (t = t.parentNode), e.contains) return e.contains(t);
                    do {
                        if (11 == t.nodeType && (t = t.host), t == e) return !0
                    } while (t = t.parentNode)
                }

                function a() {
                    var e;
                    try {
                        e = document.activeElement
                    } catch (t) {
                        e = document.body || null
                    }
                    for (; e && e.shadowRoot && e.shadowRoot.activeElement;) e = e.shadowRoot.activeElement;
                    return e
                }

                function l(t, n) {
                    var r = t.className;
                    e(n).test(r) || (t.className += (r ? " " : "") + n)
                }

                function s(t, n) {
                    for (var r = t.split(" "), i = 0; i < r.length; i++) r[i] && !e(r[i]).test(n) && (n += " " + r[i]);
                    return n
                }

                function c(e) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return function() {
                        return e.apply(null, t)
                    }
                }

                function u(e, t, n) {
                    for (var r in t = t || {}, e) !e.hasOwnProperty(r) || !1 === n && t.hasOwnProperty(r) || (t[r] = e[r]);
                    return t
                }

                function d(e, t, n, r, i) {
                    null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length);
                    for (var o = r || 0, a = i || 0;;) {
                        var l = e.indexOf("\t", o);
                        if (l < 0 || t <= l) return a + (t - o);
                        a += l - o, a += n - a % n, o = l + 1
                    }
                }

                function h(e, t) {
                    for (var n = 0; n < e.length; ++n)
                        if (e[n] == t) return n;
                    return -1
                }

                function f(e, t, n) {
                    for (var r = 0, i = 0;;) {
                        var o = e.indexOf("\t", r); - 1 == o && (o = e.length);
                        var a = o - r;
                        if (o == e.length || t <= i + a) return r + Math.min(a, t - i);
                        if (i += o - r, r = o + 1, t <= (i += n - i % n)) return r
                    }
                }

                function p(e) {
                    for (; vo.length <= e;) vo.push(m(vo) + " ");
                    return vo[e]
                }

                function m(e) {
                    return e[e.length - 1]
                }

                function g(e, t) {
                    for (var n = [], r = 0; r < e.length; r++) n[r] = t(e[r], r);
                    return n
                }

                function v() {}

                function x(e, t) {
                    var n = Object.create ? Object.create(e) : (v.prototype = e, new v);
                    return t && u(t, n), n
                }

                function y(e) {
                    return /\w/.test(e) || "" < e && (e.toUpperCase() != e.toLowerCase() || xo.test(e))
                }

                function b(e, t) {
                    return t ? !!(-1 < t.source.indexOf("\\w") && y(e)) || t.test(e) : y(e)
                }

                function k(e) {
                    for (var t in e)
                        if (e.hasOwnProperty(t) && e[t]) return;
                    return 1
                }

                function w(e) {
                    return 768 <= e.charCodeAt(0) && yo.test(e)
                }

                function C(e, t, n) {
                    for (;
                        (n < 0 ? 0 < t : t < e.length) && w(e.charAt(t));) t += n;
                    return t
                }

                function S(e, t, n) {
                    for (var r = n < t ? -1 : 1;;) {
                        if (t == n) return t;
                        var i = (t + n) / 2,
                            o = r < 0 ? Math.ceil(i) : Math.floor(i);
                        if (o == t) return e(o) ? t : n;
                        e(o) ? n = o : t = o + r
                    }
                }

                function L(e, t, n) {
                    var r;
                    bo = null;
                    for (var i = 0; i < e.length; ++i) {
                        var o = e[i];
                        if (o.from < t && o.to > t) return i;
                        o.to == t && (o.from != o.to && "before" == n ? r = i : bo = i), o.from == t && (o.from != o.to && "before" != n ? r = i : bo = i)
                    }
                    return null != r ? r : bo
                }

                function T(e, t, n) {
                    this.level = e, this.from = t, this.to = n
                }

                function M(e, t) {
                    var n = e.order;
                    return null == n && (n = e.order = ko(e.text, t)), n
                }

                function A(e, t) {
                    return e._handlers && e._handlers[t] || wo
                }

                function N(e, t, n) {
                    var r, i, o;
                    e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent ? e.detachEvent("on" + t, n) : !(i = (r = e._handlers) && r[t]) || -1 < (o = h(i, n)) && (r[t] = i.slice(0, o).concat(i.slice(o + 1)))
                }

                function D(e, t) {
                    var n = A(e, t);
                    if (n.length)
                        for (var r = Array.prototype.slice.call(arguments, 2), i = 0; i < n.length; ++i) n[i].apply(null, r)
                }

                function F(e, t, n) {
                    return "string" == typeof t && (t = {
                        type: t,
                        preventDefault: function() {
                            this.defaultPrevented = !0
                        }
                    }), D(e, n || t.type, e, t), H(t) || t.codemirrorIgnore
                }

                function E(e) {
                    var t = e._handlers && e._handlers.cursorActivity;
                    if (t)
                        for (var n = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), r = 0; r < t.length; ++r) - 1 == h(n, t[r]) && n.push(t[r])
                }

                function O(e, t) {
                    return 0 < A(e, t).length
                }

                function z(e) {
                    e.prototype.on = function(e, t) {
                        Co(this, e, t)
                    }, e.prototype.off = function(e, t) {
                        N(this, e, t)
                    }
                }

                function I(e) {
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1
                }

                function R(e) {
                    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                }

                function H(e) {
                    return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue
                }

                function W(e) {
                    I(e), R(e)
                }

                function P(e) {
                    return e.target || e.srcElement
                }

                function _(e) {
                    var t = e.which;
                    return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)), Ui && e.ctrlKey && 1 == t && (t = 3), t
                }

                function B(e) {
                    if ("string" == typeof e && Do.hasOwnProperty(e)) e = Do[e];
                    else if (e && "string" == typeof e.name && Do.hasOwnProperty(e.name)) {
                        var t = Do[e.name];
                        "string" == typeof t && (t = {
                            name: t
                        }), (e = x(t, e)).name = t.name
                    } else {
                        if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+xml$/.test(e)) return B("application/xml");
                        if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+json$/.test(e)) return B("application/json")
                    }
                    return "string" == typeof e ? {
                        name: e
                    } : e || {
                        name: "null"
                    }
                }

                function j(e, t) {
                    t = B(t);
                    var n = No[t.name];
                    if (!n) return j(e, "text/plain");
                    var r = n(e, t);
                    if (Fo.hasOwnProperty(t.name)) {
                        var i, o = Fo[t.name];
                        for (i in o) o.hasOwnProperty(i) && (r.hasOwnProperty(i) && (r["_" + i] = r[i]), r[i] = o[i])
                    }
                    if (r.name = t.name, t.helperType && (r.helperType = t.helperType), t.modeProps)
                        for (var a in t.modeProps) r[a] = t.modeProps[a];
                    return r
                }

                function q(e, t) {
                    if (!0 === t) return t;
                    if (e.copyState) return e.copyState(t);
                    var n, r = {};
                    for (n in t) {
                        var i = t[n];
                        i instanceof Array && (i = i.concat([])), r[n] = i
                    }
                    return r
                }

                function $(e, t) {
                    for (var n; e.innerMode && (n = e.innerMode(t)) && n.mode != e;) t = n.state, e = n.mode;
                    return n || {
                        mode: e,
                        state: t
                    }
                }

                function U(e, t, n) {
                    return !e.startState || e.startState(t, n)
                }

                function G(e, t) {
                    if ((t -= e.first) < 0 || t >= e.size) throw new Error("There is no line " + (t + e.first) + " in the document.");
                    for (var n = e; !n.lines;)
                        for (var r = 0;; ++r) {
                            var i = n.children[r],
                                o = i.chunkSize();
                            if (t < o) {
                                n = i;
                                break
                            }
                            t -= o
                        }
                    return n.lines[t]
                }

                function V(e, t, n) {
                    var r = [],
                        i = t.line;
                    return e.iter(t.line, n.line + 1, function(e) {
                        var o = e.text;
                        i == n.line && (o = o.slice(0, n.ch)), i == t.line && (o = o.slice(t.ch)), r.push(o), ++i
                    }), r
                }

                function X(e, t, n) {
                    var r = [];
                    return e.iter(t, n, function(e) {
                        r.push(e.text)
                    }), r
                }

                function K(e, t) {
                    var n = t - e.height;
                    if (n)
                        for (var r = e; r; r = r.parent) r.height += n
                }

                function Z(e) {
                    if (null == e.parent) return null;
                    for (var t = e.parent, n = h(t.lines, e), r = t.parent; r; r = (t = r).parent)
                        for (var i = 0; r.children[i] != t; ++i) n += r.children[i].chunkSize();
                    return n + t.first
                }

                function Y(e, t) {
                    var n = e.first;
                    e: do {
                        for (var r = 0; r < e.children.length; ++r) {
                            var i = e.children[r],
                                o = i.height;
                            if (t < o) {
                                e = i;
                                continue e
                            }
                            t -= o, n += i.chunkSize()
                        }
                        return n
                    } while (!e.lines);
                    for (var a = 0; a < e.lines.length; ++a) {
                        var l = e.lines[a].height;
                        if (t < l) break;
                        t -= l
                    }
                    return n + a
                }

                function Q(e, t) {
                    return t >= e.first && t < e.first + e.size
                }

                function J(e, t) {
                    return String(e.lineNumberFormatter(t + e.firstLineNumber))
                }

                function ee(e, t, n) {
                    if (void 0 === n && (n = null), !(this instanceof ee)) return new ee(e, t, n);
                    this.line = e, this.ch = t, this.sticky = n
                }

                function te(e, t) {
                    return e.line - t.line || e.ch - t.ch
                }

                function ne(e, t) {
                    return e.sticky == t.sticky && 0 == te(e, t)
                }

                function re(e) {
                    return ee(e.line, e.ch)
                }

                function ie(e, t) {
                    return te(e, t) < 0 ? t : e
                }

                function oe(e, t) {
                    return te(e, t) < 0 ? e : t
                }

                function ae(e, t) {
                    return Math.max(e.first, Math.min(t, e.first + e.size - 1))
                }

                function le(e, t) {
                    if (t.line < e.first) return ee(e.first, 0);
                    var n, r, i, o = e.first + e.size - 1;
                    return t.line > o ? ee(o, G(e, o).text.length) : (r = G(e, (n = t).line).text.length, null == (i = n.ch) || r < i ? ee(n.line, r) : i < 0 ? ee(n.line, 0) : n)
                }

                function se(e, t) {
                    for (var n = [], r = 0; r < t.length; r++) n[r] = le(e, t[r]);
                    return n
                }

                function ce(e, t, n, r) {
                    var i = [e.state.modeGen],
                        o = {};
                    ve(e, t.text, e.doc.mode, n, function(e, t) {
                        return i.push(e, t)
                    }, o, r);
                    for (var a = n.state, l = 0; l < e.state.overlays.length; ++l) ! function(r) {
                        n.baseTokens = i;
                        var l = e.state.overlays[r],
                            s = 1,
                            c = 0;
                        n.state = !0, ve(e, t.text, l.mode, n, function(e, t) {
                            for (var n = s; c < e;) {
                                var r = i[s];
                                e < r && i.splice(s, 1, e, i[s + 1], r), s += 2, c = Math.min(e, r)
                            }
                            if (t)
                                if (l.opaque) i.splice(n, s - n, e, "overlay " + t), s = n + 2;
                                else
                                    for (; n < s; n += 2) {
                                        var o = i[n + 1];
                                        i[n + 1] = (o ? o + " " : "") + "overlay " + t
                                    }
                        }, o), n.state = a, n.baseTokens = null, n.baseTokenPos = 1
                    }(l);
                    return {
                        styles: i,
                        classes: o.bgClass || o.textClass ? o : null
                    }
                }

                function ue(e, t, n) {
                    var r, i, o;
                    return t.styles && t.styles[0] == e.state.modeGen || (r = de(e, Z(t)), i = t.text.length > e.options.maxHighlightLength && q(e.doc.mode, r.state), o = ce(e, t, r), i && (r.state = i), t.stateAfter = r.save(!i), t.styles = o.styles, o.classes ? t.styleClasses = o.classes : t.styleClasses && (t.styleClasses = null), n === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier))), t.styles
                }

                function de(e, t, n) {
                    var r = e.doc,
                        i = e.display;
                    if (!r.mode.startState) return new zo(r, !0, t);
                    var o = function(e, t, n) {
                            for (var r, i, o = e.doc, a = n ? -1 : t - (e.doc.mode.innerMode ? 1e3 : 100), l = t; a < l; --l) {
                                if (l <= o.first) return o.first;
                                var s = G(o, l - 1),
                                    c = s.stateAfter;
                                if (c && (!n || l + (c instanceof Oo ? c.lookAhead : 0) <= o.modeFrontier)) return l;
                                var u = d(s.text, null, e.options.tabSize);
                                (null == i || u < r) && (i = l - 1, r = u)
                            }
                            return i
                        }(e, t, n),
                        a = o > r.first && G(r, o - 1).stateAfter,
                        l = a ? zo.fromSaved(r, a, o) : new zo(r, U(r.mode), o);
                    return r.iter(o, t, function(n) {
                        he(e, n.text, l);
                        var r = l.line;
                        n.stateAfter = r == t - 1 || r % 5 == 0 || r >= i.viewFrom && r < i.viewTo ? l.save() : null, l.nextLine()
                    }), n && (r.modeFrontier = l.line), l
                }

                function he(e, t, n, r) {
                    var i = e.doc.mode,
                        o = new Eo(t, e.options.tabSize, n);
                    for (o.start = o.pos = r || 0, "" == t && fe(i, n.state); !o.eol();) pe(i, o, n.state), o.start = o.pos
                }

                function fe(e, t) {
                    if (e.blankLine) return e.blankLine(t);
                    if (e.innerMode) {
                        var n = $(e, t);
                        return n.mode.blankLine ? n.mode.blankLine(n.state) : void 0
                    }
                }

                function pe(e, t, n, r) {
                    for (var i = 0; i < 10; i++) {
                        r && (r[0] = $(e, n).mode);
                        var o = e.token(t, n);
                        if (t.pos > t.start) return o
                    }
                    throw new Error("Mode " + e.name + " failed to advance stream.")
                }

                function me(e, t, n, r) {
                    var i, o, a = e.doc,
                        l = a.mode,
                        s = G(a, (t = le(a, t)).line),
                        c = de(e, t.line, n),
                        u = new Eo(s.text, e.options.tabSize, c);
                    for (r && (o = []);
                        (r || u.pos < t.ch) && !u.eol();) u.start = u.pos, i = pe(l, u, c.state), r && o.push(new Io(u, i, q(a.mode, c.state)));
                    return r ? o : new Io(u, i, c.state)
                }

                function ge(e, t) {
                    if (e)
                        for (;;) {
                            var n = e.match(/(?:^|\s+)line-(background-)?(\S+)/);
                            if (!n) break;
                            e = e.slice(0, n.index) + e.slice(n.index + n[0].length);
                            var r = n[1] ? "bgClass" : "textClass";
                            null == t[r] ? t[r] = n[2] : new RegExp("(?:^|\\s)" + n[2] + "(?:$|\\s)").test(t[r]) || (t[r] += " " + n[2])
                        }
                    return e
                }

                function ve(e, t, n, r, i, o, a) {
                    var l = n.flattenSpans;
                    null == l && (l = e.options.flattenSpans);
                    var s = 0,
                        c = null,
                        u = new Eo(t, e.options.tabSize, r),
                        d = e.options.addModeClass && [null];
                    for ("" == t && ge(fe(n, r.state), o); !u.eol();) {
                        var h, f = u.pos > e.options.maxHighlightLength ? (l = !1, a && he(e, t, r, u.pos), u.pos = t.length, null) : ge(pe(n, u, r.state, d), o);
                        if (!d || (h = d[0].name) && (f = "m-" + (f ? h + " " + f : h)), !l || c != f) {
                            for (; s < u.start;) i(s = Math.min(u.start, s + 5e3), c);
                            c = f
                        }
                        u.start = u.pos
                    }
                    for (; s < u.pos;) {
                        var p = Math.min(u.pos, s + 5e3);
                        i(p, c), s = p
                    }
                }

                function xe(e, t, n) {
                    this.marker = e, this.from = t, this.to = n
                }

                function ye(e, t) {
                    if (e)
                        for (var n = 0; n < e.length; ++n) {
                            var r = e[n];
                            if (r.marker == t) return r
                        }
                }

                function be(e, t) {
                    if (t.full) return null;
                    var n = Q(e, t.from.line) && G(e, t.from.line).markedSpans,
                        r = Q(e, t.to.line) && G(e, t.to.line).markedSpans;
                    if (!n && !r) return null;
                    var i = t.from.ch,
                        o = t.to.ch,
                        a = 0 == te(t.from, t.to),
                        l = function(e, t, n) {
                            var r;
                            if (e)
                                for (var i = 0; i < e.length; ++i) {
                                    var o, a = e[i],
                                        l = a.marker;
                                    !(null == a.from || (l.inclusiveLeft ? a.from <= t : a.from < t)) && (a.from != t || "bookmark" != l.type || n && a.marker.insertLeft) || (o = null == a.to || (l.inclusiveRight ? a.to >= t : a.to > t), (r = r || []).push(new xe(l, a.from, o ? null : a.to)))
                                }
                            return r
                        }(n, i, a),
                        s = function(e, t, n) {
                            var r;
                            if (e)
                                for (var i = 0; i < e.length; ++i) {
                                    var o, a = e[i],
                                        l = a.marker;
                                    !(null == a.to || (l.inclusiveRight ? a.to >= t : a.to > t)) && (a.from != t || "bookmark" != l.type || n && !a.marker.insertLeft) || (o = null == a.from || (l.inclusiveLeft ? a.from <= t : a.from < t), (r = r || []).push(new xe(l, o ? null : a.from - t, null == a.to ? null : a.to - t)))
                                }
                            return r
                        }(r, o, a),
                        c = 1 == t.text.length,
                        u = m(t.text).length + (c ? i : 0);
                    if (l)
                        for (var d = 0; d < l.length; ++d) {
                            var h, f = l[d];
                            null == f.to && ((h = ye(s, f.marker)) ? c && (f.to = null == h.to ? null : h.to + u) : f.to = i)
                        }
                    if (s)
                        for (var p = 0; p < s.length; ++p) {
                            var g = s[p];
                            null != g.to && (g.to += u), null == g.from ? ye(l, g.marker) || (g.from = u, c && (l = l || []).push(g)) : (g.from += u, c && (l = l || []).push(g))
                        }
                    l = l && ke(l), s && s != l && (s = ke(s));
                    var v = [l];
                    if (!c) {
                        var x, y = t.text.length - 2;
                        if (0 < y && l)
                            for (var b = 0; b < l.length; ++b) null == l[b].to && (x = x || []).push(new xe(l[b].marker, null, null));
                        for (var k = 0; k < y; ++k) v.push(x);
                        v.push(s)
                    }
                    return v
                }

                function ke(e) {
                    for (var t = 0; t < e.length; ++t) {
                        var n = e[t];
                        null != n.from && n.from == n.to && !1 !== n.marker.clearWhenEmpty && e.splice(t--, 1)
                    }
                    return e.length ? e : null
                }

                function we(e) {
                    var t = e.markedSpans;
                    if (t) {
                        for (var n = 0; n < t.length; ++n) t[n].marker.detachLine(e);
                        e.markedSpans = null
                    }
                }

                function Ce(e, t) {
                    if (t) {
                        for (var n = 0; n < t.length; ++n) t[n].marker.attachLine(e);
                        e.markedSpans = t
                    }
                }

                function Se(e) {
                    return e.inclusiveLeft ? -1 : 0
                }

                function Le(e) {
                    return e.inclusiveRight ? 1 : 0
                }

                function Te(e, t) {
                    var n = e.lines.length - t.lines.length;
                    if (0 != n) return n;
                    var r = e.find(),
                        i = t.find(),
                        o = te(r.from, i.from) || Se(e) - Se(t);
                    if (o) return -o;
                    return te(r.to, i.to) || Le(e) - Le(t) || t.id - e.id
                }

                function Me(e, t) {
                    var n, r = Ho && e.markedSpans;
                    if (r)
                        for (var i, o = 0; o < r.length; ++o)(i = r[o]).marker.collapsed && null == (t ? i.from : i.to) && (!n || Te(n, i.marker) < 0) && (n = i.marker);
                    return n
                }

                function Ae(e) {
                    return Me(e, !0)
                }

                function Ne(e) {
                    return Me(e, !1)
                }

                function De(e, t, n, r, i) {
                    var o = G(e, t),
                        a = Ho && o.markedSpans;
                    if (a)
                        for (var l = 0; l < a.length; ++l) {
                            var s = a[l];
                            if (s.marker.collapsed) {
                                var c = s.marker.find(0),
                                    u = te(c.from, n) || Se(s.marker) - Se(i),
                                    d = te(c.to, r) || Le(s.marker) - Le(i);
                                if (!(0 <= u && d <= 0 || u <= 0 && 0 <= d) && (u <= 0 && (s.marker.inclusiveRight && i.inclusiveLeft ? 0 <= te(c.to, n) : 0 < te(c.to, n)) || 0 <= u && (s.marker.inclusiveRight && i.inclusiveLeft ? te(c.from, r) <= 0 : te(c.from, r) < 0))) return 1
                            }
                        }
                }

                function Fe(e) {
                    for (var t; t = Ae(e);) e = t.find(-1, !0).line;
                    return e
                }

                function Ee(e, t) {
                    var n = G(e, t),
                        r = Fe(n);
                    return n == r ? t : Z(r)
                }

                function Oe(e, t) {
                    if (t > e.lastLine()) return t;
                    var n, r = G(e, t);
                    if (!ze(e, r)) return t;
                    for (; n = Ne(r);) r = n.find(1, !0).line;
                    return Z(r) + 1
                }

                function ze(e, t) {
                    var n = Ho && t.markedSpans;
                    if (n)
                        for (var r, i = 0; i < n.length; ++i)
                            if ((r = n[i]).marker.collapsed) {
                                if (null == r.from) return !0;
                                if (!r.marker.widgetNode && 0 == r.from && r.marker.inclusiveLeft && function e(t, n, r) {
                                        if (null == r.to) {
                                            var i = r.marker.find(1, !0);
                                            return e(t, i.line, ye(i.line.markedSpans, r.marker))
                                        }
                                        if (r.marker.inclusiveRight && r.to == n.text.length) return !0;
                                        for (var o = void 0, a = 0; a < n.markedSpans.length; ++a)
                                            if ((o = n.markedSpans[a]).marker.collapsed && !o.marker.widgetNode && o.from == r.to && (null == o.to || o.to != r.from) && (o.marker.inclusiveLeft || r.marker.inclusiveRight) && e(t, n, o)) return !0
                                    }(e, t, r)) return !0
                            }
                }

                function Ie(e) {
                    for (var t = 0, n = (e = Fe(e)).parent, r = 0; r < n.lines.length; ++r) {
                        var i = n.lines[r];
                        if (i == e) break;
                        t += i.height
                    }
                    for (var o = n.parent; o; o = (n = o).parent)
                        for (var a = 0; a < o.children.length; ++a) {
                            var l = o.children[a];
                            if (l == n) break;
                            t += l.height
                        }
                    return t
                }

                function Re(e) {
                    if (0 == e.height) return 0;
                    for (var t, n = e.text.length, r = e; t = Ae(r);) {
                        var i = t.find(0, !0),
                            r = i.from.line;
                        n += i.from.ch - i.to.ch
                    }
                    for (r = e; t = Ne(r);) {
                        var o = t.find(0, !0);
                        n -= r.text.length - o.from.ch, n += (r = o.to.line).text.length - o.to.ch
                    }
                    return n
                }

                function He(e) {
                    var t = e.display,
                        n = e.doc;
                    t.maxLine = G(n, n.first), t.maxLineLength = Re(t.maxLine), t.maxLineChanged = !0, n.iter(function(e) {
                        var n = Re(e);
                        n > t.maxLineLength && (t.maxLineLength = n, t.maxLine = e)
                    })
                }

                function We(e, t) {
                    if (!e || /^\s*$/.test(e)) return null;
                    var n = t.addModeClass ? Bo : _o;
                    return n[e] || (n[e] = e.replace(/\S+/g, "cm-$&"))
                }

                function Pe(e, o) {
                    var a = i("span", null, null, Ii ? "padding-right: .1px" : null),
                        l = {
                            pre: i("pre", [a], "CodeMirror-line"),
                            content: a,
                            col: 0,
                            pos: 0,
                            cm: e,
                            trailingSpace: !1,
                            splitSpaces: e.getOption("lineWrapping")
                        };
                    o.measure = {};
                    for (var c, u = 0; u <= (o.rest ? o.rest.length : 0); u++) {
                        var d = u ? o.rest[u - 1] : o.line,
                            h = void 0;
                        l.pos = 0, l.addToken = _e,
                            function(e) {
                                if (null != co) return co;
                                var r = n(e, document.createTextNode("AA")),
                                    i = Ki(r, 0, 1).getBoundingClientRect(),
                                    o = Ki(r, 1, 2).getBoundingClientRect();
                                return t(e), i && i.left != i.right && (co = o.right - i.right < 3)
                            }(e.display.measure) && (h = M(d, e.doc.direction)) && (l.addToken = function(e, t) {
                                return function(n, r, i, o, a, l, s) {
                                    i = i ? i + " cm-force-border" : "cm-force-border";
                                    for (var c = n.pos, u = c + r.length;;) {
                                        for (var d = void 0, h = 0; h < t.length && !((d = t[h]).to > c && d.from <= c); h++);
                                        if (d.to >= u) return e(n, r, i, o, a, l, s);
                                        e(n, r.slice(0, d.to - c), i, o, null, l, s), o = null, r = r.slice(d.to - c), c = d.to
                                    }
                                }
                            }(l.addToken, h)), l.map = [],
                            function(e, t, n) {
                                var r = e.markedSpans,
                                    i = e.text,
                                    o = 0;
                                if (r)
                                    for (var a, l, s, c, u, d, h, f = i.length, p = 0, m = 1, g = "", v = 0;;) {
                                        if (v == p) {
                                            s = c = u = l = "", d = h = null, v = 1 / 0;
                                            for (var x = [], y = void 0, b = 0; b < r.length; ++b) {
                                                var k = r[b],
                                                    w = k.marker;
                                                if ("bookmark" == w.type && k.from == p && w.widgetNode) x.push(w);
                                                else if (k.from <= p && (null == k.to || k.to > p || w.collapsed && k.to == p && k.from == p)) {
                                                    if (null != k.to && k.to != p && v > k.to && (v = k.to, c = ""), w.className && (s += " " + w.className), w.css && (l = (l ? l + ";" : "") + w.css), w.startStyle && k.from == p && (u += " " + w.startStyle), w.endStyle && k.to == v && (y = y || []).push(w.endStyle, k.to), w.title && ((h = h || {}).title = w.title), w.attributes)
                                                        for (var C in w.attributes)(h = h || {})[C] = w.attributes[C];
                                                    w.collapsed && (!d || Te(d.marker, w) < 0) && (d = k)
                                                } else k.from > p && v > k.from && (v = k.from)
                                            }
                                            if (y)
                                                for (var S = 0; S < y.length; S += 2) y[S + 1] == v && (c += " " + y[S]);
                                            if (!d || d.from == p)
                                                for (var L = 0; L < x.length; ++L) Be(t, 0, x[L]);
                                            if (d && (d.from || 0) == p) {
                                                if (Be(t, (null == d.to ? f + 1 : d.to) - p, d.marker, null == d.from), null == d.to) return;
                                                d.to == p && (d = !1)
                                            }
                                        }
                                        if (f <= p) break;
                                        for (var T = Math.min(f, v);;) {
                                            if (g) {
                                                var M, A = p + g.length;
                                                if (d || (M = T < A ? g.slice(0, T - p) : g, t.addToken(t, M, a ? a + s : s, u, p + M.length == v ? c : "", l, h)), T <= A) {
                                                    g = g.slice(T - p), p = T;
                                                    break
                                                }
                                                p = A, u = ""
                                            }
                                            g = i.slice(o, o = n[m++]), a = We(n[m++], t.cm.options)
                                        }
                                    } else
                                        for (var N = 1; N < n.length; N += 2) t.addToken(t, i.slice(o, o = n[N]), We(n[N + 1], t.cm.options))
                            }(d, l, ue(e, d, o != e.display.externalMeasured && Z(d))), d.styleClasses && (d.styleClasses.bgClass && (l.bgClass = s(d.styleClasses.bgClass, l.bgClass || "")), d.styleClasses.textClass && (l.textClass = s(d.styleClasses.textClass, l.textClass || ""))), 0 == l.map.length && l.map.push(0, 0, l.content.appendChild(function(e) {
                                var t;
                                null == so && (t = r("span", ""), n(e, r("span", [t, document.createTextNode("x")])), 0 != e.firstChild.offsetHeight && (so = t.offsetWidth <= 1 && 2 < t.offsetHeight && !(Oi && zi < 8)));
                                var i = so ? r("span", "") : r("span", "", null, "display: inline-block; width: 1px; margin-right: -1px");
                                return i.setAttribute("cm-text", ""), i
                            }(e.display.measure))), 0 == u ? (o.measure.map = l.map, o.measure.cache = {}) : ((o.measure.maps || (o.measure.maps = [])).push(l.map), (o.measure.caches || (o.measure.caches = [])).push({}))
                    }
                    return Ii && (c = l.content.lastChild, (/\bcm-tab\b/.test(c.className) || c.querySelector && c.querySelector(".cm-tab")) && (l.content.className = "cm-tab-wrap-hack")), D(e, "renderLine", e, o.line, l.pre), l.pre.className && (l.textClass = s(l.pre.className, l.textClass || "")), l
                }

                function _e(e, t, n, i, o, a, l) {
                    if (t) {
                        var s, c = e.splitSpaces ? function(e, t) {
                                if (1 < e.length && !/  /.test(e)) return e;
                                for (var n = t, r = "", i = 0; i < e.length; i++) {
                                    var o = e.charAt(i);
                                    " " != o || !n || i != e.length - 1 && 32 != e.charCodeAt(i + 1) || (o = ""), r += o, n = " " == o
                                }
                                return r
                            }(t, e.trailingSpace) : t,
                            u = e.cm.state.specialChars,
                            d = !1;
                        if (u.test(t)) {
                            s = document.createDocumentFragment();
                            for (var h = 0;;) {
                                u.lastIndex = h;
                                var f, m = u.exec(t),
                                    g = m ? m.index - h : t.length - h;
                                if (g && (f = document.createTextNode(c.slice(h, h + g)), Oi && zi < 9 ? s.appendChild(r("span", [f])) : s.appendChild(f), e.map.push(e.pos, e.pos + g, f), e.col += g, e.pos += g), !m) break;
                                h += 1 + g;
                                var v, x, y = void 0;
                                "\t" == m[0] ? (x = (v = e.cm.options.tabSize) - e.col % v, (y = s.appendChild(r("span", p(x), "cm-tab"))).setAttribute("role", "presentation"), y.setAttribute("cm-text", "\t"), e.col += x) : ("\r" == m[0] || "\n" == m[0] ? (y = s.appendChild(r("span", "\r" == m[0] ? "" : "", "cm-invalidchar"))).setAttribute("cm-text", m[0]) : ((y = e.cm.options.specialCharPlaceholder(m[0])).setAttribute("cm-text", m[0]), Oi && zi < 9 ? s.appendChild(r("span", [y])) : s.appendChild(y)), e.col += 1), e.map.push(e.pos, e.pos + 1, y), e.pos++
                            }
                        } else e.col += t.length, s = document.createTextNode(c), e.map.push(e.pos, e.pos + t.length, s), Oi && zi < 9 && (d = !0), e.pos += t.length;
                        if (e.trailingSpace = 32 == c.charCodeAt(t.length - 1), n || i || o || d || a) {
                            var b = n || "";
                            i && (b += i), o && (b += o);
                            var k = r("span", [s], b, a);
                            if (l)
                                for (var w in l) l.hasOwnProperty(w) && "style" != w && "class" != w && k.setAttribute(w, l[w]);
                            return e.content.appendChild(k)
                        }
                        e.content.appendChild(s)
                    }
                }

                function Be(e, t, n, r) {
                    var i = !r && n.widgetNode;
                    i && e.map.push(e.pos, e.pos + t, i), !r && e.cm.display.input.needsContentAttribute && (i = i || e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker", n.id), i && (e.cm.display.input.setUneditable(i), e.content.appendChild(i)), e.pos += t, e.trailingSpace = !1
                }

                function je(e, t, n) {
                    this.line = t, this.rest = function(e) {
                        for (var t, n; t = Ne(e);) e = t.find(1, !0).line, (n = n || []).push(e);
                        return n
                    }(t), this.size = this.rest ? Z(m(this.rest)) - n + 1 : 1, this.node = this.text = null, this.hidden = ze(e, t)
                }

                function qe(e, t, n) {
                    for (var r = [], i = t; i < n; i = a) {
                        var o = new je(e.doc, G(e.doc, i), i),
                            a = i + o.size;
                        r.push(o)
                    }
                    return r
                }

                function $e(e, t) {
                    var n = A(e, t);
                    if (n.length) {
                        var r, i = Array.prototype.slice.call(arguments, 2);
                        jo ? r = jo.delayedCallbacks : qo ? r = qo : (r = qo = [], setTimeout(Ue, 0));
                        for (var o = 0; o < n.length; ++o) ! function(e) {
                            r.push(function() {
                                return n[e].apply(null, i)
                            })
                        }(o)
                    }
                }

                function Ue() {
                    var e = qo;
                    qo = null;
                    for (var t = 0; t < e.length; ++t) e[t]()
                }

                function Ge(t, n, r, i) {
                    for (var o = 0; o < n.changes.length; o++) {
                        var a = n.changes[o];
                        "text" == a ? function(e, t) {
                            var n = t.text.className,
                                r = Xe(e, t);
                            t.text == t.node && (t.node = r.pre), t.text.parentNode.replaceChild(r.pre, t.text), t.text = r.pre, r.bgClass != t.bgClass || r.textClass != t.textClass ? (t.bgClass = r.bgClass, t.textClass = r.textClass, Ke(e, t)) : n && (t.text.className = n)
                        }(t, n) : "gutter" == a ? Ze(t, n, r, i) : "class" == a ? Ke(t, n) : "widget" == a && function(t, n, r) {
                            n.alignable && (n.alignable = null);
                            for (var i = e("CodeMirror-linewidget"), o = n.node.firstChild, a = void 0; o; o = a) a = o.nextSibling, i.test(o.className) && n.node.removeChild(o);
                            Ye(t, n, r)
                        }(t, n, i)
                    }
                    n.changes = null
                }

                function Ve(e) {
                    return e.node == e.text && (e.node = r("div", null, null, "position: relative"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), Oi && zi < 8 && (e.node.style.zIndex = 2)), e.node
                }

                function Xe(e, t) {
                    var n = e.display.externalMeasured;
                    return n && n.line == t.line ? (e.display.externalMeasured = null, t.measure = n.measure, n.built) : Pe(e, t)
                }

                function Ke(e, t) {
                    var n, i, o, a;
                    n = e, (a = (i = t).bgClass ? i.bgClass + " " + (i.line.bgClass || "") : i.line.bgClass) && (a += " CodeMirror-linebackground"), i.background ? a ? i.background.className = a : (i.background.parentNode.removeChild(i.background), i.background = null) : a && (o = Ve(i), i.background = o.insertBefore(r("div", null, a), o.firstChild), n.display.input.setUneditable(i.background)), t.line.wrapClass ? Ve(t).className = t.line.wrapClass : t.node != t.text && (t.node.className = "");
                    var l = t.textClass ? t.textClass + " " + (t.line.textClass || "") : t.line.textClass;
                    t.text.className = l || ""
                }

                function Ze(e, t, n, i) {
                    var o;
                    t.gutter && (t.node.removeChild(t.gutter), t.gutter = null), t.gutterBackground && (t.node.removeChild(t.gutterBackground), t.gutterBackground = null), t.line.gutterClass && (o = Ve(t), t.gutterBackground = r("div", null, "CodeMirror-gutter-background " + t.line.gutterClass, "left: " + (e.options.fixedGutter ? i.fixedPos : -i.gutterTotalWidth) + "px; width: " + i.gutterTotalWidth + "px"), e.display.input.setUneditable(t.gutterBackground), o.insertBefore(t.gutterBackground, t.text));
                    var a = t.line.gutterMarkers;
                    if (e.options.lineNumbers || a) {
                        var l = Ve(t),
                            s = t.gutter = r("div", null, "CodeMirror-gutter-wrapper", "left: " + (e.options.fixedGutter ? i.fixedPos : -i.gutterTotalWidth) + "px");
                        if (e.display.input.setUneditable(s), l.insertBefore(s, t.text), t.line.gutterClass && (s.className += " " + t.line.gutterClass), !e.options.lineNumbers || a && a["CodeMirror-linenumbers"] || (t.lineNumber = s.appendChild(r("div", J(e.options, n), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + i.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + e.display.lineNumInnerWidth + "px"))), a)
                            for (var c = 0; c < e.display.gutterSpecs.length; ++c) {
                                var u = e.display.gutterSpecs[c].className,
                                    d = a.hasOwnProperty(u) && a[u];
                                d && s.appendChild(r("div", [d], "CodeMirror-gutter-elt", "left: " + i.gutterLeft[u] + "px; width: " + i.gutterWidth[u] + "px"))
                            }
                    }
                }

                function Ye(e, t, n) {
                    if (Qe(e, t.line, t, n, !0), t.rest)
                        for (var r = 0; r < t.rest.length; r++) Qe(e, t.rest[r], t, n, !1)
                }

                function Qe(e, t, n, i, o) {
                    if (t.widgets)
                        for (var a = Ve(n), l = 0, s = t.widgets; l < s.length; ++l) {
                            var c = s[l],
                                u = r("div", [c.node], "CodeMirror-linewidget" + (c.className ? " " + c.className : ""));
                            c.handleMouseEvents || u.setAttribute("cm-ignore-events", "true"),
                                function(e, t, n, r) {
                                    var i;
                                    e.noHScroll && ((n.alignable || (n.alignable = [])).push(t), i = r.wrapperWidth, t.style.left = r.fixedPos + "px", e.coverGutter || (i -= r.gutterTotalWidth, t.style.paddingLeft = r.gutterTotalWidth + "px"), t.style.width = i + "px"), e.coverGutter && (t.style.zIndex = 5, t.style.position = "relative", e.noHScroll || (t.style.marginLeft = -r.gutterTotalWidth + "px"))
                                }(c, u, n, i), e.display.input.setUneditable(u), o && c.above ? a.insertBefore(u, n.gutter || n.text) : a.appendChild(u), $e(c, "redraw")
                        }
                }

                function Je(e) {
                    if (null != e.height) return e.height;
                    var t, i = e.doc.cm;
                    return i ? (o(document.body, e.node) || (t = "position: relative;", e.coverGutter && (t += "margin-left: -" + i.display.gutters.offsetWidth + "px;"), e.noHScroll && (t += "width: " + i.display.wrapper.clientWidth + "px;"), n(i.display.measure, r("div", [e.node], null, t))), e.height = e.node.parentNode.offsetHeight) : 0
                }

                function et(e, t) {
                    for (var n = P(t); n != e.wrapper; n = n.parentNode)
                        if (!n || 1 == n.nodeType && "true" == n.getAttribute("cm-ignore-events") || n.parentNode == e.sizer && n != e.mover) return 1
                }

                function tt(e) {
                    return e.lineSpace.offsetTop
                }

                function nt(e) {
                    return e.mover.offsetHeight - e.lineSpace.offsetHeight
                }

                function rt(e) {
                    if (e.cachedPaddingH) return e.cachedPaddingH;
                    var t = n(e.measure, r("pre", "x", "CodeMirror-line-like")),
                        i = window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle,
                        o = {
                            left: parseInt(i.paddingLeft),
                            right: parseInt(i.paddingRight)
                        };
                    return isNaN(o.left) || isNaN(o.right) || (e.cachedPaddingH = o), o
                }

                function it(e) {
                    return ho - e.display.nativeBarWidth
                }

                function ot(e) {
                    return e.display.scroller.clientWidth - it(e) - e.display.barWidth
                }

                function at(e) {
                    return e.display.scroller.clientHeight - it(e) - e.display.barHeight
                }

                function lt(e, t, n) {
                    if (e.line == t) return {
                        map: e.measure.map,
                        cache: e.measure.cache
                    };
                    for (var r = 0; r < e.rest.length; r++)
                        if (e.rest[r] == t) return {
                            map: e.measure.maps[r],
                            cache: e.measure.caches[r]
                        };
                    for (var i = 0; i < e.rest.length; i++)
                        if (Z(e.rest[i]) > n) return {
                            map: e.measure.maps[i],
                            cache: e.measure.caches[i],
                            before: !0
                        }
                }

                function st(e, t, n, r) {
                    return dt(e, ut(e, t), n, r)
                }

                function ct(e, t) {
                    if (t >= e.display.viewFrom && t < e.display.viewTo) return e.display.view[Rt(e, t)];
                    var n = e.display.externalMeasured;
                    return n && t >= n.lineN && t < n.lineN + n.size ? n : void 0
                }

                function ut(e, t) {
                    var r = Z(t),
                        i = ct(e, r);
                    i && !i.text ? i = null : i && i.changes && (Ge(e, i, r, Ft(e)), e.curOp.forceUpdate = !0);
                    var o = lt(i = i || function(e, t) {
                        var r = Z(t = Fe(t)),
                            i = e.display.externalMeasured = new je(e.doc, t, r);
                        i.lineN = r;
                        var o = i.built = Pe(e, i);
                        return i.text = o.pre, n(e.display.lineMeasure, o.pre), i
                    }(e, t), t, r);
                    return {
                        line: t,
                        view: i,
                        rect: null,
                        map: o.map,
                        cache: o.cache,
                        before: o.before,
                        hasHeights: !1
                    }
                }

                function dt(e, t, i, o, a) {
                    t.before && (i = -1);
                    var l, s = i + (o || "");
                    return t.cache.hasOwnProperty(s) ? l = t.cache[s] : (t.rect || (t.rect = t.view.text.getBoundingClientRect()), t.hasHeights || (function(e, t, n) {
                        var r = e.options.lineWrapping,
                            i = r && ot(e);
                        if (!t.measure.heights || r && t.measure.width != i) {
                            var o = t.measure.heights = [];
                            if (r) {
                                t.measure.width = i;
                                for (var a = t.text.firstChild.getClientRects(), l = 0; l < a.length - 1; l++) {
                                    var s = a[l],
                                        c = a[l + 1];
                                    2 < Math.abs(s.bottom - c.bottom) && o.push((s.bottom + c.top) / 2 - n.top)
                                }
                            }
                            o.push(n.bottom - n.top)
                        }
                    }(e, t.view, t.rect), t.hasHeights = !0), (l = function(e, t, i, o) {
                        var a, l, s = ht(t.map, i, o),
                            c = s.node,
                            u = s.start,
                            d = s.end,
                            h = s.collapse;
                        if (3 == c.nodeType) {
                            for (var f = 0; f < 4; f++) {
                                for (; u && w(t.line.text.charAt(s.coverStart + u));) --u;
                                for (; s.coverStart + d < s.coverEnd && w(t.line.text.charAt(s.coverStart + d));) ++d;
                                if ((a = Oi && zi < 9 && 0 == u && d == s.coverEnd - s.coverStart ? c.parentNode.getBoundingClientRect() : function(e, t) {
                                        var n = $o;
                                        if ("left" == t)
                                            for (var r = 0; r < e.length && (n = e[r]).left == n.right; r++);
                                        else
                                            for (var i = e.length - 1; 0 <= i && (n = e[i]).left == n.right; i--);
                                        return n
                                    }(Ki(c, u, d).getClientRects(), o)).left || a.right || 0 == u) break;
                                d = u, --u, h = "right"
                            }
                            Oi && zi < 11 && (a = function(e, t) {
                                if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || ! function(e) {
                                        if (null != Ao) return Ao;
                                        var t = n(e, r("span", "x")),
                                            i = t.getBoundingClientRect(),
                                            o = Ki(t, 0, 1).getBoundingClientRect();
                                        return Ao = 1 < Math.abs(i.left - o.left)
                                    }(e)) return t;
                                var i = screen.logicalXDPI / screen.deviceXDPI,
                                    o = screen.logicalYDPI / screen.deviceYDPI;
                                return {
                                    left: t.left * i,
                                    right: t.right * i,
                                    top: t.top * o,
                                    bottom: t.bottom * o
                                }
                            }(e.display.measure, a))
                        } else 0 < u && (h = o = "right"), a = e.options.lineWrapping && 1 < (l = c.getClientRects()).length ? l["right" == o ? l.length - 1 : 0] : c.getBoundingClientRect();
                        var p;
                        !(Oi && zi < 9) || u || a && (a.left || a.right) || (p = c.parentNode.getClientRects()[0], a = p ? {
                            left: p.left,
                            right: p.left + Dt(e.display),
                            top: p.top,
                            bottom: p.bottom
                        } : $o);
                        for (var m = a.top - t.rect.top, g = a.bottom - t.rect.top, v = (m + g) / 2, x = t.view.measure.heights, y = 0; y < x.length - 1 && !(v < x[y]); y++);
                        var b = y ? x[y - 1] : 0,
                            k = x[y],
                            C = {
                                left: ("right" == h ? a.right : a.left) - t.rect.left,
                                right: ("left" == h ? a.left : a.right) - t.rect.left,
                                top: b,
                                bottom: k
                            };
                        return a.left || a.right || (C.bogus = !0), e.options.singleCursorHeightPerLine || (C.rtop = m, C.rbottom = g), C
                    }(e, t, i, o)).bogus || (t.cache[s] = l)), {
                        left: l.left,
                        right: l.right,
                        top: a ? l.rtop : l.top,
                        bottom: a ? l.rbottom : l.bottom
                    }
                }

                function ht(e, t, n) {
                    for (var r, i, o, a, l, s, c = 0; c < e.length; c += 3)
                        if (l = e[c], s = e[c + 1], t < l ? (i = 0, o = 1, a = "left") : t < s ? o = 1 + (i = t - l) : (c == e.length - 3 || t == s && e[c + 3] > t) && (i = (o = s - l) - 1, s <= t && (a = "right")), null != i) {
                            if (r = e[c + 2], l == s && n == (r.insertLeft ? "left" : "right") && (a = n), "left" == n && 0 == i)
                                for (; c && e[c - 2] == e[c - 3] && e[c - 1].insertLeft;) r = e[2 + (c -= 3)], a = "left";
                            if ("right" == n && i == s - l)
                                for (; c < e.length - 3 && e[c + 3] == e[c + 4] && !e[c + 5].insertLeft;) r = e[(c += 3) + 2], a = "right";
                            break
                        }
                    return {
                        node: r,
                        start: i,
                        end: o,
                        collapse: a,
                        coverStart: l,
                        coverEnd: s
                    }
                }

                function ft(e) {
                    if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest))
                        for (var t = 0; t < e.rest.length; t++) e.measure.caches[t] = {}
                }

                function pt(e) {
                    e.display.externalMeasure = null, t(e.display.lineMeasure);
                    for (var n = 0; n < e.display.view.length; n++) ft(e.display.view[n])
                }

                function mt(e) {
                    pt(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = !0), e.display.lineNumChars = null
                }

                function gt() {
                    return Hi && qi ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft
                }

                function vt() {
                    return Hi && qi ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop
                }

                function xt(e) {
                    var t = 0;
                    if (e.widgets)
                        for (var n = 0; n < e.widgets.length; ++n) e.widgets[n].above && (t += Je(e.widgets[n]));
                    return t
                }

                function yt(e, t, n, r, i) {
                    var o;
                    if (i || (o = xt(t), n.top += o, n.bottom += o), "line" == r) return n;
                    r = r || "local";
                    var a, l, s = Ie(t);
                    return "local" == r ? s += tt(e.display) : s -= e.display.viewOffset, "page" != r && "window" != r || (s += (a = e.display.lineSpace.getBoundingClientRect()).top + ("window" == r ? 0 : vt()), l = a.left + ("window" == r ? 0 : gt()), n.left += l, n.right += l), n.top += s, n.bottom += s, n
                }

                function bt(e, t, n) {
                    if ("div" == n) return t;
                    var r, i = t.left,
                        o = t.top;
                    "page" == n ? (i -= gt(), o -= vt()) : "local" != n && n || (i += (r = e.display.sizer.getBoundingClientRect()).left, o += r.top);
                    var a = e.display.lineSpace.getBoundingClientRect();
                    return {
                        left: i - a.left,
                        top: o - a.top
                    }
                }

                function kt(e, t, n, r, i) {
                    return yt(e, r = r || G(e.doc, t.line), st(e, r, t.ch, i), n)
                }

                function wt(e, t, n, r, i, o) {
                    function a(t, a) {
                        var l = dt(e, i, t, a ? "right" : "left", o);
                        return a ? l.left = l.right : l.right = l.left, yt(e, r, l, n)
                    }

                    function l(e, t, n) {
                        return a(n ? e - 1 : e, 1 == s[t].level != n)
                    }
                    r = r || G(e.doc, t.line), i = i || ut(e, r);
                    var s = M(r, e.doc.direction),
                        c = t.ch,
                        u = t.sticky;
                    if (c >= r.text.length ? (c = r.text.length, u = "before") : c <= 0 && (c = 0, u = "after"), !s) return a("before" == u ? c - 1 : c, "before" == u);
                    var d = L(s, c, u),
                        h = bo,
                        f = l(c, d, "before" == u);
                    return null != h && (f.other = l(c, h, "before" != u)), f
                }

                function Ct(e, t) {
                    var n = 0;
                    t = le(e.doc, t), e.options.lineWrapping || (n = Dt(e.display) * t.ch);
                    var r = G(e.doc, t.line),
                        i = Ie(r) + tt(e.display);
                    return {
                        left: n,
                        right: n,
                        top: i,
                        bottom: i + r.height
                    }
                }

                function St(e, t, n, r, i) {
                    var o = ee(e, t, n);
                    return o.xRel = i, r && (o.outside = r), o
                }

                function Lt(e, t, n) {
                    var r = e.doc;
                    if ((n += e.display.viewOffset) < 0) return St(r.first, 0, null, -1, -1);
                    var i = Y(r, n),
                        o = r.first + r.size - 1;
                    if (o < i) return St(r.first + r.size - 1, G(r, o).text.length, null, 1, 1);
                    t < 0 && (t = 0);
                    for (var a = G(r, i);;) {
                        var l = function(e, t, n, r, i) {
                                i -= Ie(t);
                                var o, a = ut(e, t),
                                    l = xt(t),
                                    s = 0,
                                    c = t.text.length,
                                    u = !0,
                                    d = M(t, e.doc.direction);
                                d && (o = (e.options.lineWrapping ? function(e, t, n, r, i, o, a) {
                                    var l = Tt(e, t, r, a),
                                        s = l.begin,
                                        c = l.end;
                                    /\s/.test(t.text.charAt(c - 1)) && c--;
                                    for (var u = null, d = null, h = 0; h < i.length; h++) {
                                        var f, p, m, g = i[h];
                                        g.from >= c || g.to <= s || (f = 1 != g.level, p = dt(e, r, f ? Math.min(c, g.to) - 1 : Math.max(s, g.from)).right, m = p < o ? o - p + 1e9 : p - o, (!u || m < d) && (u = g, d = m))
                                    }
                                    return (u = u || i[i.length - 1]).from < s && (u = {
                                        from: s,
                                        to: u.to,
                                        level: u.level
                                    }), u.to > c && (u = {
                                        from: u.from,
                                        to: c,
                                        level: u.level
                                    }), u
                                } : function(e, t, n, r, i, o, a) {
                                    var l, s, c = S(function(l) {
                                            var s = i[l],
                                                c = 1 != s.level;
                                            return At(wt(e, ee(n, c ? s.to : s.from, c ? "before" : "after"), "line", t, r), o, a, !0)
                                        }, 0, i.length - 1),
                                        u = i[c];
                                    return 0 < c && (l = 1 != u.level, At(s = wt(e, ee(n, l ? u.from : u.to, l ? "after" : "before"), "line", t, r), o, a, !0) && s.top > a && (u = i[c - 1])), u
                                })(e, t, n, a, d, r, i), u = 1 != o.level, s = u ? o.from : o.to - 1, c = u ? o.to : o.from - 1);
                                var h, f, p, m, g, v = null,
                                    x = null,
                                    y = S(function(t) {
                                        var n = dt(e, a, t);
                                        return n.top += l, n.bottom += l, At(n, r, i, !1) && (n.top <= i && n.left <= r && (v = t, x = n), 1)
                                    }, s, c),
                                    b = !1;
                                return x ? (p = r - x.left < x.right - r, y = v + ((m = p == u) ? 0 : 1), f = m ? "after" : "before", h = p ? x.left : x.right) : (u || y != c && y != s || y++, f = 0 == y || y != t.text.length && dt(e, a, y - (u ? 1 : 0)).bottom + l <= i == u ? "after" : "before", g = wt(e, ee(n, y, f), "line", t, a), h = g.left, b = i < g.top ? -1 : i >= g.bottom ? 1 : 0), y = C(t.text, y, 1), St(n, y, f, b, r - h)
                            }(e, a, i, t, n),
                            s = function(e, t) {
                                var n, r = Ho && e.markedSpans;
                                if (r)
                                    for (var i = 0; i < r.length; ++i) {
                                        var o = r[i];
                                        o.marker.collapsed && (null == o.from || o.from < t) && (null == o.to || o.to > t) && (!n || Te(n, o.marker) < 0) && (n = o.marker)
                                    }
                                return n
                            }(a, l.ch + (0 < l.xRel || 0 < l.outside ? 1 : 0));
                        if (!s) return l;
                        var c = s.find(1);
                        if (c.line == i) return c;
                        a = G(r, i = c.line)
                    }
                }

                function Tt(e, t, n, r) {
                    r -= xt(t);
                    var i = t.text.length,
                        o = S(function(t) {
                            return dt(e, n, t - 1).bottom <= r
                        }, i, 0);
                    return {
                        begin: o,
                        end: i = S(function(t) {
                            return dt(e, n, t).top > r
                        }, o, i)
                    }
                }

                function Mt(e, t, n, r) {
                    return Tt(e, t, n = n || ut(e, t), yt(e, t, dt(e, n, r), "line").top)
                }

                function At(e, t, n, r) {
                    return !(e.bottom <= n) && (e.top > n || (r ? e.left : e.right) > t)
                }

                function Nt(e) {
                    if (null != e.cachedTextHeight) return e.cachedTextHeight;
                    if (null == Po) {
                        Po = r("pre", null, "CodeMirror-line-like");
                        for (var i = 0; i < 49; ++i) Po.appendChild(document.createTextNode("x")), Po.appendChild(r("br"));
                        Po.appendChild(document.createTextNode("x"))
                    }
                    n(e.measure, Po);
                    var o = Po.offsetHeight / 50;
                    return 3 < o && (e.cachedTextHeight = o), t(e.measure), o || 1
                }

                function Dt(e) {
                    if (null != e.cachedCharWidth) return e.cachedCharWidth;
                    var t = r("span", "xxxxxxxxxx"),
                        i = r("pre", [t], "CodeMirror-line-like");
                    n(e.measure, i);
                    var o = t.getBoundingClientRect(),
                        a = (o.right - o.left) / 10;
                    return 2 < a && (e.cachedCharWidth = a), a || 10
                }

                function Ft(e) {
                    for (var t = e.display, n = {}, r = {}, i = t.gutters.clientLeft, o = t.gutters.firstChild, a = 0; o; o = o.nextSibling, ++a) {
                        var l = e.display.gutterSpecs[a].className;
                        n[l] = o.offsetLeft + o.clientLeft + i, r[l] = o.clientWidth
                    }
                    return {
                        fixedPos: Et(t),
                        gutterTotalWidth: t.gutters.offsetWidth,
                        gutterLeft: n,
                        gutterWidth: r,
                        wrapperWidth: t.wrapper.clientWidth
                    }
                }

                function Et(e) {
                    return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left
                }

                function Ot(e) {
                    var t = Nt(e.display),
                        n = e.options.lineWrapping,
                        r = n && Math.max(5, e.display.scroller.clientWidth / Dt(e.display) - 3);
                    return function(i) {
                        if (ze(e.doc, i)) return 0;
                        var o = 0;
                        if (i.widgets)
                            for (var a = 0; a < i.widgets.length; a++) i.widgets[a].height && (o += i.widgets[a].height);
                        return n ? o + (Math.ceil(i.text.length / r) || 1) * t : o + t
                    }
                }

                function zt(e) {
                    var t = e.doc,
                        n = Ot(e);
                    t.iter(function(e) {
                        var t = n(e);
                        t != e.height && K(e, t)
                    })
                }

                function It(e, t, n, r) {
                    var i = e.display;
                    if (!n && "true" == P(t).getAttribute("cm-not-content")) return null;
                    var o, a, l = i.lineSpace.getBoundingClientRect();
                    try {
                        o = t.clientX - l.left, a = t.clientY - l.top
                    } catch (e) {
                        return null
                    }
                    var s, c, u = Lt(e, o, a);
                    return r && 0 < u.xRel && (s = G(e.doc, u.line).text).length == u.ch && (c = d(s, s.length, e.options.tabSize) - s.length, u = ee(u.line, Math.max(0, Math.round((o - rt(e.display).left) / Dt(e.display)) - c))), u
                }

                function Rt(e, t) {
                    if (t >= e.display.viewTo) return null;
                    if ((t -= e.display.viewFrom) < 0) return null;
                    for (var n = e.display.view, r = 0; r < n.length; r++)
                        if ((t -= n[r].size) < 0) return r
                }

                function Ht(e, t, n, r) {
                    null == t && (t = e.doc.first), null == n && (n = e.doc.first + e.doc.size), r = r || 0;
                    var i, o, a, l, s = e.display;
                    r && n < s.viewTo && (null == s.updateLineNumbers || s.updateLineNumbers > t) && (s.updateLineNumbers = t), e.curOp.viewChanged = !0, t >= s.viewTo ? Ho && Ee(e.doc, t) < s.viewTo && Pt(e) : n <= s.viewFrom ? Ho && Oe(e.doc, n + r) > s.viewFrom ? Pt(e) : (s.viewFrom += r, s.viewTo += r) : t <= s.viewFrom && n >= s.viewTo ? Pt(e) : t <= s.viewFrom ? (i = _t(e, n, n + r, 1)) ? (s.view = s.view.slice(i.index), s.viewFrom = i.lineN, s.viewTo += r) : Pt(e) : n >= s.viewTo ? (o = _t(e, t, t, -1)) ? (s.view = s.view.slice(0, o.index), s.viewTo = o.lineN) : Pt(e) : (a = _t(e, t, t, -1), l = _t(e, n, n + r, 1), a && l ? (s.view = s.view.slice(0, a.index).concat(qe(e, a.lineN, l.lineN)).concat(s.view.slice(l.index)), s.viewTo += r) : Pt(e));
                    var c = s.externalMeasured;
                    c && (n < c.lineN ? c.lineN += r : t < c.lineN + c.size && (s.externalMeasured = null))
                }

                function Wt(e, t, n) {
                    e.curOp.viewChanged = !0;
                    var r, i, o = e.display,
                        a = e.display.externalMeasured;
                    a && t >= a.lineN && t < a.lineN + a.size && (o.externalMeasured = null), t < o.viewFrom || t >= o.viewTo || null == (r = o.view[Rt(e, t)]).node || -1 == h(i = r.changes || (r.changes = []), n) && i.push(n)
                }

                function Pt(e) {
                    e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0
                }

                function _t(e, t, n, r) {
                    var i, o = Rt(e, t),
                        a = e.display.view;
                    if (!Ho || n == e.doc.first + e.doc.size) return {
                        index: o,
                        lineN: n
                    };
                    for (var l = e.display.viewFrom, s = 0; s < o; s++) l += a[s].size;
                    if (l != t) {
                        if (0 < r) {
                            if (o == a.length - 1) return null;
                            i = l + a[o].size - t, o++
                        } else i = l - t;
                        t += i, n += i
                    }
                    for (; Ee(e.doc, n) != n;) {
                        if (o == (r < 0 ? 0 : a.length - 1)) return null;
                        n += r * a[o - (r < 0 ? 1 : 0)].size, o += r
                    }
                    return {
                        index: o,
                        lineN: n
                    }
                }

                function Bt(e) {
                    for (var t = e.display.view, n = 0, r = 0; r < t.length; r++) {
                        var i = t[r];
                        i.hidden || i.node && !i.changes || ++n
                    }
                    return n
                }

                function jt(e) {
                    e.display.input.showSelection(e.display.input.prepareSelection())
                }

                function qt(e, t) {
                    void 0 === t && (t = !0);
                    for (var n, i, o = e.doc, a = {}, l = a.cursors = document.createDocumentFragment(), s = a.selection = document.createDocumentFragment(), c = 0; c < o.sel.ranges.length; c++) !t && c == o.sel.primIndex || (n = o.sel.ranges[c]).from().line >= e.display.viewTo || n.to().line < e.display.viewFrom || (((i = n.empty()) || e.options.showCursorWhenSelecting) && $t(e, n.head, l), i || function(e, t, n) {
                        function i(e, t, n, i) {
                            t < 0 && (t = 0), t = Math.round(t), i = Math.round(i), f.appendChild(r("div", null, "CodeMirror-selected", "position: absolute; left: " + e + "px;\n                             top: " + t + "px; width: " + (null == n ? g - e : n) + "px;\n                             height: " + (i - t) + "px"))
                        }

                        function o(t, n, r) {
                            function o(n, r) {
                                return kt(e, ee(t, n), "div", c, r)
                            }

                            function a(t, n, r) {
                                var i = Mt(e, c, null, t),
                                    a = "ltr" == n == ("after" == r) ? "left" : "right";
                                return o("after" == r ? i.begin : i.end - (/\s/.test(c.text.charAt(i.end - 1)) ? 2 : 1), a)[a]
                            }
                            var l, s, c = G(h, t),
                                u = c.text.length,
                                d = M(c, h.direction);
                            return function(e, t, n, r) {
                                if (!e) return r(t, n, "ltr", 0);
                                for (var i = !1, o = 0; o < e.length; ++o) {
                                    var a = e[o];
                                    (a.from < n && a.to > t || t == n && a.to == t) && (r(Math.max(a.from, t), Math.min(a.to, n), 1 == a.level ? "rtl" : "ltr", o), i = !0)
                                }
                                i || r(t, n, "ltr")
                            }(d, n || 0, null == r ? u : r, function(e, t, c, h) {
                                var f, p, x, y, b, k, w, C = "ltr" == c,
                                    S = o(e, C ? "left" : "right"),
                                    L = o(t - 1, C ? "right" : "left"),
                                    T = null == n && 0 == e,
                                    M = null == r && t == u,
                                    A = 0 == h,
                                    N = !d || h == d.length - 1;
                                L.top - S.top <= 3 ? (f = (v ? M : T) && N, p = (v ? T : M) && A ? m : (C ? S : L).left, x = f ? g : (C ? L : S).right, i(p, S.top, x - p, S.bottom)) : (w = C ? (y = v && T && A ? m : S.left, b = v ? g : a(e, c, "before"), k = v ? m : a(t, c, "after"), v && M && N ? g : L.right) : (y = v ? a(e, c, "before") : m, b = !v && T && A ? g : S.right, k = !v && M && N ? m : L.left, v ? a(t, c, "after") : g), i(y, S.top, b - y, S.bottom), S.bottom < L.top && i(m, S.bottom, null, L.top), i(k, L.top, w - k, L.bottom)), (!l || Ut(S, l) < 0) && (l = S), Ut(L, l) < 0 && (l = L), (!s || Ut(S, s) < 0) && (s = S), Ut(L, s) < 0 && (s = L)
                            }), {
                                start: l,
                                end: s
                            }
                        }
                        var a, l, s, c, u, d = e.display,
                            h = e.doc,
                            f = document.createDocumentFragment(),
                            p = rt(e.display),
                            m = p.left,
                            g = Math.max(d.sizerWidth, ot(e) - d.sizer.offsetLeft) - p.right,
                            v = "ltr" == h.direction,
                            x = t.from(),
                            y = t.to();
                        x.line == y.line ? o(x.line, x.ch, y.ch) : (a = G(h, x.line), l = G(h, y.line), s = Fe(a) == Fe(l), c = o(x.line, x.ch, s ? a.text.length + 1 : null).end, u = o(y.line, s ? 0 : null, y.ch).start, s && (c.top < u.top - 2 ? (i(c.right, c.top, null, c.bottom), i(m, u.top, u.left, u.bottom)) : i(c.right, c.top, u.left - c.right, c.bottom)), c.bottom < u.top && i(m, c.bottom, null, u.top)), n.appendChild(f)
                    }(e, n, s));
                    return a
                }

                function $t(e, t, n) {
                    var i, o = wt(e, t, "div", null, null, !e.options.singleCursorHeightPerLine),
                        a = n.appendChild(r("div", "", "CodeMirror-cursor"));
                    a.style.left = o.left + "px", a.style.top = o.top + "px", a.style.height = Math.max(0, o.bottom - o.top) * e.options.cursorHeight + "px", o.other && ((i = n.appendChild(r("div", "", "CodeMirror-cursor CodeMirror-secondarycursor"))).style.display = "", i.style.left = o.other.left + "px", i.style.top = o.other.top + "px", i.style.height = .85 * (o.other.bottom - o.other.top) + "px")
                }

                function Ut(e, t) {
                    return e.top - t.top || e.left - t.left
                }

                function Gt(e) {
                    var t, n;
                    e.state.focused && (t = e.display, clearInterval(t.blinker), n = !0, t.cursorDiv.style.visibility = "", 0 < e.options.cursorBlinkRate ? t.blinker = setInterval(function() {
                        return t.cursorDiv.style.visibility = (n = !n) ? "" : "hidden"
                    }, e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (t.cursorDiv.style.visibility = "hidden"))
                }

                function Vt(e) {
                    e.state.focused || (e.display.input.focus(), Kt(e))
                }

                function Xt(e) {
                    e.state.delayingBlurEvent = !0, setTimeout(function() {
                        e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1, Zt(e))
                    }, 100)
                }

                function Kt(e, t) {
                    e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1), "nocursor" != e.options.readOnly && (e.state.focused || (D(e, "focus", e, t), e.state.focused = !0, l(e.display.wrapper, "CodeMirror-focused"), e.curOp || e.display.selForContextMenu == e.doc.sel || (e.display.input.reset(), Ii && setTimeout(function() {
                        return e.display.input.reset(!0)
                    }, 20)), e.display.input.receivedFocus()), Gt(e))
                }

                function Zt(e, t) {
                    e.state.delayingBlurEvent || (e.state.focused && (D(e, "blur", e, t), e.state.focused = !1, Qi(e.display.wrapper, "CodeMirror-focused")), clearInterval(e.display.blinker), setTimeout(function() {
                        e.state.focused || (e.display.shift = !1)
                    }, 150))
                }

                function Yt(e) {
                    for (var t = e.display, n = t.lineDiv.offsetTop, r = 0; r < t.view.length; r++) {
                        var i, o, a = t.view[r],
                            l = e.options.lineWrapping,
                            s = void 0,
                            c = 0;
                        if (!a.hidden) {
                            Oi && zi < 8 ? (s = (i = a.node.offsetTop + a.node.offsetHeight) - n, n = i) : (s = (o = a.node.getBoundingClientRect()).bottom - o.top, !l && a.text.firstChild && (c = a.text.firstChild.getBoundingClientRect().right - o.left - 1));
                            var u, d = a.line.height - s;
                            if ((.005 < d || d < -.005) && (K(a.line, s), Qt(a.line), a.rest))
                                for (var h = 0; h < a.rest.length; h++) Qt(a.rest[h]);
                            c > e.display.sizerWidth && (u = Math.ceil(c / Dt(e.display))) > e.display.maxLineLength && (e.display.maxLineLength = u, e.display.maxLine = a.line, e.display.maxLineChanged = !0)
                        }
                    }
                }

                function Qt(e) {
                    if (e.widgets)
                        for (var t = 0; t < e.widgets.length; ++t) {
                            var n = e.widgets[t],
                                r = n.node.parentNode;
                            r && (n.height = r.offsetHeight)
                        }
                }

                function Jt(e, t, n) {
                    var r, i, o = n && null != n.top ? Math.max(0, n.top) : e.scroller.scrollTop,
                        o = Math.floor(o - tt(e)),
                        a = n && null != n.bottom ? n.bottom : o + e.wrapper.clientHeight,
                        l = Y(t, o),
                        s = Y(t, a);
                    return n && n.ensure && (r = n.ensure.from.line, i = n.ensure.to.line, r < l ? s = Y(t, Ie(G(t, l = r)) + e.wrapper.clientHeight) : Math.min(i, t.lastLine()) >= s && (l = Y(t, Ie(G(t, i)) - e.wrapper.clientHeight), s = i)), {
                        from: l,
                        to: Math.max(s, l + 1)
                    }
                }

                function en(e, t) {
                    var n = e.display,
                        r = Nt(e.display);
                    t.top < 0 && (t.top = 0);
                    var i = e.curOp && null != e.curOp.scrollTop ? e.curOp.scrollTop : n.scroller.scrollTop,
                        o = at(e),
                        a = {};
                    t.bottom - t.top > o && (t.bottom = t.top + o);
                    var l, s = e.doc.height + nt(n),
                        c = t.top < r,
                        u = t.bottom > s - r;
                    t.top < i ? a.scrollTop = c ? 0 : t.top : t.bottom > i + o && (l = Math.min(t.top, (u ? s : t.bottom) - o)) != i && (a.scrollTop = l);
                    var d = e.curOp && null != e.curOp.scrollLeft ? e.curOp.scrollLeft : n.scroller.scrollLeft,
                        h = ot(e) - (e.options.fixedGutter ? n.gutters.offsetWidth : 0),
                        f = t.right - t.left > h;
                    return f && (t.right = t.left + h), t.left < 10 ? a.scrollLeft = 0 : t.left < d ? a.scrollLeft = Math.max(0, t.left - (f ? 0 : 10)) : t.right > h + d - 3 && (a.scrollLeft = t.right + (f ? 0 : 10) - h), a
                }

                function tn(e, t) {
                    null != t && (on(e), e.curOp.scrollTop = (null == e.curOp.scrollTop ? e.doc.scrollTop : e.curOp.scrollTop) + t)
                }

                function nn(e) {
                    on(e);
                    var t = e.getCursor();
                    e.curOp.scrollToPos = {
                        from: t,
                        to: t,
                        margin: e.options.cursorScrollMargin
                    }
                }

                function rn(e, t, n) {
                    null == t && null == n || on(e), null != t && (e.curOp.scrollLeft = t), null != n && (e.curOp.scrollTop = n)
                }

                function on(e) {
                    var t = e.curOp.scrollToPos;
                    t && (e.curOp.scrollToPos = null, an(e, Ct(e, t.from), Ct(e, t.to), t.margin))
                }

                function an(e, t, n, r) {
                    var i = en(e, {
                        left: Math.min(t.left, n.left),
                        top: Math.min(t.top, n.top) - r,
                        right: Math.max(t.right, n.right),
                        bottom: Math.max(t.bottom, n.bottom) + r
                    });
                    rn(e, i.scrollLeft, i.scrollTop)
                }

                function ln(e, t) {
                    Math.abs(e.doc.scrollTop - t) < 2 || (Ni || Tn(e, {
                        top: t
                    }), sn(e, t, !0), Ni && Tn(e), wn(e, 100))
                }

                function sn(e, t, n) {
                    t = Math.max(0, Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, t)), e.display.scroller.scrollTop == t && !n || (e.doc.scrollTop = t, e.display.scrollbars.setScrollTop(t), e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t))
                }

                function cn(e, t, n, r) {
                    t = Math.max(0, Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth)), (n ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) && !r || (e.doc.scrollLeft = t, Nn(e), e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t), e.display.scrollbars.setScrollLeft(t))
                }

                function un(e) {
                    var t = e.display,
                        n = t.gutters.offsetWidth,
                        r = Math.round(e.doc.height + nt(e.display));
                    return {
                        clientHeight: t.scroller.clientHeight,
                        viewHeight: t.wrapper.clientHeight,
                        scrollWidth: t.scroller.scrollWidth,
                        clientWidth: t.scroller.clientWidth,
                        viewWidth: t.wrapper.clientWidth,
                        barLeft: e.options.fixedGutter ? n : 0,
                        docHeight: r,
                        scrollHeight: r + it(e) + t.barHeight,
                        nativeBarWidth: t.nativeBarWidth,
                        gutterWidth: n
                    }
                }

                function dn(e, t, n) {
                    this.cm = n;
                    var i = this.vert = r("div", [r("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"),
                        o = this.horiz = r("div", [r("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
                    i.tabIndex = o.tabIndex = -1, e(i), e(o), Co(i, "scroll", function() {
                        i.clientHeight && t(i.scrollTop, "vertical")
                    }), Co(o, "scroll", function() {
                        o.clientWidth && t(o.scrollLeft, "horizontal")
                    }), this.checkedZeroWidth = !1, Oi && zi < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px")
                }

                function hn() {}

                function fn(e, t) {
                    t = t || un(e);
                    var n = e.display.barWidth,
                        r = e.display.barHeight;
                    pn(e, t);
                    for (var i = 0; i < 4 && n != e.display.barWidth || r != e.display.barHeight; i++) n != e.display.barWidth && e.options.lineWrapping && Yt(e), pn(e, un(e)), n = e.display.barWidth, r = e.display.barHeight
                }

                function pn(e, t) {
                    var n = e.display,
                        r = n.scrollbars.update(t);
                    n.sizer.style.paddingRight = (n.barWidth = r.right) + "px", n.sizer.style.paddingBottom = (n.barHeight = r.bottom) + "px", n.heightForcer.style.borderBottom = r.bottom + "px solid transparent", r.right && r.bottom ? (n.scrollbarFiller.style.display = "block", n.scrollbarFiller.style.height = r.bottom + "px", n.scrollbarFiller.style.width = r.right + "px") : n.scrollbarFiller.style.display = "", r.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (n.gutterFiller.style.display = "block", n.gutterFiller.style.height = r.bottom + "px", n.gutterFiller.style.width = t.gutterWidth + "px") : n.gutterFiller.style.display = ""
                }

                function mn(e) {
                    e.display.scrollbars && (e.display.scrollbars.clear(), e.display.scrollbars.addClass && Qi(e.display.wrapper, e.display.scrollbars.addClass)), e.display.scrollbars = new Uo[e.options.scrollbarStyle](function(t) {
                        e.display.wrapper.insertBefore(t, e.display.scrollbarFiller), Co(t, "mousedown", function() {
                            e.state.focused && setTimeout(function() {
                                return e.display.input.focus()
                            }, 0)
                        }), t.setAttribute("cm-not-content", "true")
                    }, function(t, n) {
                        ("horizontal" == n ? cn : ln)(e, t)
                    }, e), e.display.scrollbars.addClass && l(e.display.wrapper, e.display.scrollbars.addClass)
                }

                function gn(e) {
                    var t;
                    e.curOp = {
                        cm: e,
                        viewChanged: !1,
                        startHeight: e.doc.height,
                        forceUpdate: !1,
                        updateInput: 0,
                        typing: !1,
                        changeObjs: null,
                        cursorActivityHandlers: null,
                        cursorActivityCalled: 0,
                        selectionChanged: !1,
                        updateMaxLine: !1,
                        scrollLeft: null,
                        scrollTop: null,
                        scrollToPos: null,
                        focus: !1,
                        id: ++Go
                    }, t = e.curOp, jo ? jo.ops.push(t) : t.ownsGroup = jo = {
                        ops: [t],
                        delayedCallbacks: []
                    }
                }

                function vn(e) {
                    var t = e.curOp;
                    t && function(e, t) {
                        var n = e.ownsGroup;
                        if (n) try {
                            ! function(e) {
                                var t = e.delayedCallbacks,
                                    n = 0;
                                do {
                                    for (; n < t.length; n++) t[n].call(null);
                                    for (var r = 0; r < e.ops.length; r++) {
                                        var i = e.ops[r];
                                        if (i.cursorActivityHandlers)
                                            for (; i.cursorActivityCalled < i.cursorActivityHandlers.length;) i.cursorActivityHandlers[i.cursorActivityCalled++].call(null, i.cm)
                                    }
                                } while (n < t.length)
                            }(n)
                        } finally {
                            jo = null, t(n)
                        }
                    }(t, function(e) {
                        for (var t = 0; t < e.ops.length; t++) e.ops[t].cm.curOp = null;
                        ! function(e) {
                            for (var t = e.ops, n = 0; n < t.length; n++) ! function(e) {
                                var t = e.cm,
                                    n = t.display;
                                (function(e) {
                                    var t = e.display;
                                    !t.scrollbarsClipped && t.scroller.offsetWidth && (t.nativeBarWidth = t.scroller.offsetWidth - t.scroller.clientWidth, t.heightForcer.style.height = it(e) + "px", t.sizer.style.marginBottom = -t.nativeBarWidth + "px", t.sizer.style.borderRightWidth = it(e) + "px", t.scrollbarsClipped = !0)
                                })(t), e.updateMaxLine && He(t), e.mustUpdate = e.viewChanged || e.forceUpdate || null != e.scrollTop || e.scrollToPos && (e.scrollToPos.from.line < n.viewFrom || e.scrollToPos.to.line >= n.viewTo) || n.maxLineChanged && t.options.lineWrapping, e.update = e.mustUpdate && new Vo(t, e.mustUpdate && {
                                    top: e.scrollTop,
                                    ensure: e.scrollToPos
                                }, e.forceUpdate)
                            }(t[n]);
                            for (var i = 0; i < t.length; i++) ! function(e) {
                                e.updatedDisplay = e.mustUpdate && Sn(e.cm, e.update)
                            }(t[i]);
                            for (var o = 0; o < t.length; o++) ! function(e) {
                                var t = e.cm,
                                    n = t.display;
                                e.updatedDisplay && Yt(t), e.barMeasure = un(t), n.maxLineChanged && !t.options.lineWrapping && (e.adjustWidthTo = st(t, n.maxLine, n.maxLine.text.length).left + 3, t.display.sizerWidth = e.adjustWidthTo, e.barMeasure.scrollWidth = Math.max(n.scroller.clientWidth, n.sizer.offsetLeft + e.adjustWidthTo + it(t) + t.display.barWidth), e.maxScrollLeft = Math.max(0, n.sizer.offsetLeft + e.adjustWidthTo - ot(t))), (e.updatedDisplay || e.selectionChanged) && (e.preparedSelection = n.input.prepareSelection())
                            }(t[o]);
                            for (var l = 0; l < t.length; l++) ! function(e) {
                                var t = e.cm;
                                null != e.adjustWidthTo && (t.display.sizer.style.minWidth = e.adjustWidthTo + "px", e.maxScrollLeft < t.doc.scrollLeft && cn(t, Math.min(t.display.scroller.scrollLeft, e.maxScrollLeft), !0), t.display.maxLineChanged = !1);
                                var n = e.focus && e.focus == a();
                                e.preparedSelection && t.display.input.showSelection(e.preparedSelection, n), !e.updatedDisplay && e.startHeight == t.doc.height || fn(t, e.barMeasure), e.updatedDisplay && An(t, e.barMeasure), e.selectionChanged && Gt(t), t.state.focused && e.updateInput && t.display.input.reset(e.typing), n && Vt(e.cm)
                            }(t[l]);
                            for (var s = 0; s < t.length; s++) ! function(e) {
                                var t = e.cm,
                                    n = t.display,
                                    i = t.doc;
                                e.updatedDisplay && Ln(t, e.update), null == n.wheelStartX || null == e.scrollTop && null == e.scrollLeft && !e.scrollToPos || (n.wheelStartX = n.wheelStartY = null), null != e.scrollTop && sn(t, e.scrollTop, e.forceScroll), null != e.scrollLeft && cn(t, e.scrollLeft, !0, !0);
                                var o;
                                e.scrollToPos && (o = function(e, t, n, r) {
                                    null == r && (r = 0), e.options.lineWrapping || t != n || (n = "before" == (t = t.ch ? ee(t.line, "before" == t.sticky ? t.ch - 1 : t.ch, "after") : t).sticky ? ee(t.line, t.ch + 1, "before") : t);
                                    for (var i = 0; i < 5; i++) {
                                        var o, a = !1,
                                            l = wt(e, t),
                                            s = n && n != t ? wt(e, n) : l,
                                            c = en(e, o = {
                                                left: Math.min(l.left, s.left),
                                                top: Math.min(l.top, s.top) - r,
                                                right: Math.max(l.left, s.left),
                                                bottom: Math.max(l.bottom, s.bottom) + r
                                            }),
                                            u = e.doc.scrollTop,
                                            d = e.doc.scrollLeft;
                                        if (null != c.scrollTop && (ln(e, c.scrollTop), 1 < Math.abs(e.doc.scrollTop - u) && (a = !0)), null != c.scrollLeft && (cn(e, c.scrollLeft), 1 < Math.abs(e.doc.scrollLeft - d) && (a = !0)), !a) break
                                    }
                                    return o
                                }(t, le(i, e.scrollToPos.from), le(i, e.scrollToPos.to), e.scrollToPos.margin), function(e, t) {
                                    var n, i, o, a;
                                    F(e, "scrollCursorIntoView") || (i = (n = e.display).sizer.getBoundingClientRect(), o = null, t.top + i.top < 0 ? o = !0 : t.bottom + i.top > (window.innerHeight || document.documentElement.clientHeight) && (o = !1), null == o || Bi || (a = r("div", "", null, "position: absolute;\n                         top: " + (t.top - n.viewOffset - tt(e.display)) + "px;\n                         height: " + (t.bottom - t.top + it(e) + n.barHeight) + "px;\n                         left: " + t.left + "px; width: " + Math.max(2, t.right - t.left) + "px;"), e.display.lineSpace.appendChild(a), a.scrollIntoView(o), e.display.lineSpace.removeChild(a)))
                                }(t, o));
                                var a = e.maybeHiddenMarkers,
                                    l = e.maybeUnhiddenMarkers;
                                if (a)
                                    for (var s = 0; s < a.length; ++s) a[s].lines.length || D(a[s], "hide");
                                if (l)
                                    for (var c = 0; c < l.length; ++c) l[c].lines.length && D(l[c], "unhide");
                                n.wrapper.offsetHeight && (i.scrollTop = t.display.scroller.scrollTop), e.changeObjs && D(t, "changes", t, e.changeObjs), e.update && e.update.finish()
                            }(t[s])
                        }(e)
                    })
                }

                function xn(e, t) {
                    if (e.curOp) return t();
                    gn(e);
                    try {
                        return t()
                    } finally {
                        vn(e)
                    }
                }

                function yn(e, t) {
                    return function() {
                        if (e.curOp) return t.apply(e, arguments);
                        gn(e);
                        try {
                            return t.apply(e, arguments)
                        } finally {
                            vn(e)
                        }
                    }
                }

                function bn(e) {
                    return function() {
                        if (this.curOp) return e.apply(this, arguments);
                        gn(this);
                        try {
                            return e.apply(this, arguments)
                        } finally {
                            vn(this)
                        }
                    }
                }

                function kn(e) {
                    return function() {
                        var t = this.cm;
                        if (!t || t.curOp) return e.apply(this, arguments);
                        gn(t);
                        try {
                            return e.apply(this, arguments)
                        } finally {
                            vn(t)
                        }
                    }
                }

                function wn(e, t) {
                    e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(t, c(Cn, e))
                }

                function Cn(e) {
                    var t, n, r, i = e.doc;
                    i.highlightFrontier >= e.display.viewTo || (t = +new Date + e.options.workTime, n = de(e, i.highlightFrontier), r = [], i.iter(n.line, Math.min(i.first + i.size, e.display.viewTo + 500), function(o) {
                        if (n.line >= e.display.viewFrom) {
                            var a = o.styles,
                                l = o.text.length > e.options.maxHighlightLength ? q(i.mode, n.state) : null,
                                s = ce(e, o, n, !0);
                            l && (n.state = l), o.styles = s.styles;
                            var c = o.styleClasses,
                                u = s.classes;
                            u ? o.styleClasses = u : c && (o.styleClasses = null);
                            for (var d = !a || a.length != o.styles.length || c != u && (!c || !u || c.bgClass != u.bgClass || c.textClass != u.textClass), h = 0; !d && h < a.length; ++h) d = a[h] != o.styles[h];
                            d && r.push(n.line), o.stateAfter = n.save(), n.nextLine()
                        } else o.text.length <= e.options.maxHighlightLength && he(e, o.text, n), o.stateAfter = n.line % 5 == 0 ? n.save() : null, n.nextLine();
                        if (+new Date > t) return wn(e, e.options.workDelay), !0
                    }), i.highlightFrontier = n.line, i.modeFrontier = Math.max(i.modeFrontier, n.line), r.length && xn(e, function() {
                        for (var t = 0; t < r.length; t++) Wt(e, r[t], "text")
                    }))
                }

                function Sn(e, n) {
                    var r = e.display,
                        i = e.doc;
                    if (n.editorIsHidden) return Pt(e), !1;
                    if (!n.force && n.visible.from >= r.viewFrom && n.visible.to <= r.viewTo && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo) && r.renderedView == r.view && 0 == Bt(e)) return !1;
                    Dn(e) && (Pt(e), n.dims = Ft(e));
                    var l = i.first + i.size,
                        s = Math.max(n.visible.from - e.options.viewportMargin, i.first),
                        c = Math.min(l, n.visible.to + e.options.viewportMargin);
                    r.viewFrom < s && s - r.viewFrom < 20 && (s = Math.max(i.first, r.viewFrom)), r.viewTo > c && r.viewTo - c < 20 && (c = Math.min(l, r.viewTo)), Ho && (s = Ee(e.doc, s), c = Oe(e.doc, c));
                    var u, d, f, p, m = s != r.viewFrom || c != r.viewTo || r.lastWrapHeight != n.wrapperHeight || r.lastWrapWidth != n.wrapperWidth;
                    d = s, f = c, 0 == (p = (u = e).display).view.length || d >= p.viewTo || f <= p.viewFrom ? (p.view = qe(u, d, f), p.viewFrom = d) : (p.viewFrom > d ? p.view = qe(u, d, p.viewFrom).concat(p.view) : p.viewFrom < d && (p.view = p.view.slice(Rt(u, d))), p.viewFrom = d, p.viewTo < f ? p.view = p.view.concat(qe(u, p.viewTo, f)) : p.viewTo > f && (p.view = p.view.slice(0, Rt(u, f)))), p.viewTo = f, r.viewOffset = Ie(G(e.doc, r.viewFrom)), e.display.mover.style.top = r.viewOffset + "px";
                    var g = Bt(e);
                    if (!m && 0 == g && !n.force && r.renderedView == r.view && (null == r.updateLineNumbers || r.updateLineNumbers >= r.viewTo)) return !1;
                    var v, x, y, b = function(e) {
                        if (e.hasFocus()) return null;
                        var t = a();
                        if (!t || !o(e.display.lineDiv, t)) return null;
                        var n, r = {
                            activeElt: t
                        };
                        return !window.getSelection || (n = window.getSelection()).anchorNode && n.extend && o(e.display.lineDiv, n.anchorNode) && (r.anchorNode = n.anchorNode, r.anchorOffset = n.anchorOffset, r.focusNode = n.focusNode, r.focusOffset = n.focusOffset), r
                    }(e);
                    return 4 < g && (r.lineDiv.style.display = "none"),
                        function(e, n, r) {
                            function i(t) {
                                var n = t.nextSibling;
                                return Ii && Ui && e.display.currentWheelTarget == t ? t.style.display = "none" : t.parentNode.removeChild(t), n
                            }
                            for (var o = e.display, a = e.options.lineNumbers, l = o.lineDiv, s = l.firstChild, c = o.view, u = o.viewFrom, d = 0; d < c.length; d++) {
                                var f = c[d];
                                if (!f.hidden)
                                    if (f.node && f.node.parentNode == l) {
                                        for (; s != f.node;) s = i(s);
                                        var p = a && null != n && n <= u && f.lineNumber;
                                        f.changes && (-1 < h(f.changes, "gutter") && (p = !1), Ge(e, f, u, r)), p && (t(f.lineNumber), f.lineNumber.appendChild(document.createTextNode(J(e.options, u)))), s = f.node.nextSibling
                                    } else {
                                        var m = function(e, t, n, r) {
                                            var i = Xe(e, t);
                                            return t.text = t.node = i.pre, i.bgClass && (t.bgClass = i.bgClass), i.textClass && (t.textClass = i.textClass), Ke(e, t), Ze(e, t, n, r), Ye(e, t, r), t.node
                                        }(e, f, u, r);
                                        l.insertBefore(m, s)
                                    }
                                u += f.size
                            }
                            for (; s;) s = i(s)
                        }(e, r.updateLineNumbers, n.dims), 4 < g && (r.lineDiv.style.display = ""), r.renderedView = r.view, (v = b) && v.activeElt && v.activeElt != a() && (v.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(v.activeElt.nodeName) && v.anchorNode && o(document.body, v.anchorNode) && o(document.body, v.focusNode) && (x = window.getSelection(), (y = document.createRange()).setEnd(v.anchorNode, v.anchorOffset), y.collapse(!1), x.removeAllRanges(), x.addRange(y), x.extend(v.focusNode, v.focusOffset))), t(r.cursorDiv), t(r.selectionDiv), r.gutters.style.height = r.sizer.style.minHeight = 0, m && (r.lastWrapHeight = n.wrapperHeight, r.lastWrapWidth = n.wrapperWidth, wn(e, 400)), !(r.updateLineNumbers = null)
                }

                function Ln(e, t) {
                    for (var n = t.viewport, r = !0;; r = !1) {
                        if (r && e.options.lineWrapping && t.oldDisplayWidth != ot(e)) r && (t.visible = Jt(e.display, e.doc, n));
                        else if (n && null != n.top && (n = {
                                top: Math.min(e.doc.height + nt(e.display) - at(e), n.top)
                            }), t.visible = Jt(e.display, e.doc, n), t.visible.from >= e.display.viewFrom && t.visible.to <= e.display.viewTo) break;
                        if (!Sn(e, t)) break;
                        Yt(e);
                        var i = un(e);
                        jt(e), fn(e, i), An(e, i), t.force = !1
                    }
                    t.signal(e, "update", e), e.display.viewFrom == e.display.reportedViewFrom && e.display.viewTo == e.display.reportedViewTo || (t.signal(e, "viewportChange", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo)
                }

                function Tn(e, t) {
                    var n, r = new Vo(e, t);
                    Sn(e, r) && (Yt(e), Ln(e, r), n = un(e), jt(e), fn(e, n), An(e, n), r.finish())
                }

                function Mn(e) {
                    var t = e.gutters.offsetWidth;
                    e.sizer.style.marginLeft = t + "px"
                }

                function An(e, t) {
                    e.display.sizer.style.minHeight = t.docHeight + "px", e.display.heightForcer.style.top = t.docHeight + "px", e.display.gutters.style.height = t.docHeight + e.display.barHeight + it(e) + "px"
                }

                function Nn(e) {
                    var t = e.display,
                        n = t.view;
                    if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) {
                        for (var r = Et(t) - t.scroller.scrollLeft + e.doc.scrollLeft, i = t.gutters.offsetWidth, o = r + "px", a = 0; a < n.length; a++)
                            if (!n[a].hidden) {
                                e.options.fixedGutter && (n[a].gutter && (n[a].gutter.style.left = o), n[a].gutterBackground && (n[a].gutterBackground.style.left = o));
                                var l = n[a].alignable;
                                if (l)
                                    for (var s = 0; s < l.length; s++) l[s].style.left = o
                            }
                        e.options.fixedGutter && (t.gutters.style.left = r + i + "px")
                    }
                }

                function Dn(e) {
                    if (e.options.lineNumbers) {
                        var t = e.doc,
                            n = J(e.options, t.first + t.size - 1),
                            i = e.display;
                        if (n.length != i.lineNumChars) {
                            var o = i.measure.appendChild(r("div", [r("div", n)], "CodeMirror-linenumber CodeMirror-gutter-elt")),
                                a = o.firstChild.offsetWidth,
                                l = o.offsetWidth - a;
                            return i.lineGutter.style.width = "", i.lineNumInnerWidth = Math.max(a, i.lineGutter.offsetWidth - l) + 1, i.lineNumWidth = i.lineNumInnerWidth + l, i.lineNumChars = i.lineNumInnerWidth ? n.length : -1, i.lineGutter.style.width = i.lineNumWidth + "px", Mn(e.display), 1
                        }
                    }
                }

                function Fn(e, t) {
                    for (var n = [], r = !1, i = 0; i < e.length; i++) {
                        var o = e[i],
                            a = null;
                        if ("string" != typeof o && (a = o.style, o = o.className), "CodeMirror-linenumbers" == o) {
                            if (!t) continue;
                            r = !0
                        }
                        n.push({
                            className: o,
                            style: a
                        })
                    }
                    return t && !r && n.push({
                        className: "CodeMirror-linenumbers",
                        style: null
                    }), n
                }

                function En(e) {
                    var n = e.gutters,
                        i = e.gutterSpecs;
                    t(n), e.lineGutter = null;
                    for (var o = 0; o < i.length; ++o) {
                        var a = i[o],
                            l = a.className,
                            s = a.style,
                            c = n.appendChild(r("div", null, "CodeMirror-gutter " + l));
                        s && (c.style.cssText = s), "CodeMirror-linenumbers" == l && ((e.lineGutter = c).style.width = (e.lineNumWidth || 1) + "px")
                    }
                    n.style.display = i.length ? "" : "none", Mn(e)
                }

                function On(e) {
                    En(e.display), Ht(e), Nn(e)
                }

                function zn(e) {
                    var t = e.wheelDeltaX,
                        n = e.wheelDeltaY;
                    return null == t && e.detail && e.axis == e.HORIZONTAL_AXIS && (t = e.detail), null == n && e.detail && e.axis == e.VERTICAL_AXIS ? n = e.detail : null == n && (n = e.wheelDelta), {
                        x: t,
                        y: n
                    }
                }

                function In(e, t) {
                    var n, r, i, o = zn(t),
                        a = o.x,
                        l = o.y,
                        s = e.display,
                        c = s.scroller,
                        u = c.scrollWidth > c.clientWidth,
                        d = c.scrollHeight > c.clientHeight;
                    if (a && u || l && d) {
                        if (l && Ui && Ii) e: for (var h = t.target, f = s.view; h != c; h = h.parentNode)
                            for (var p = 0; p < f.length; p++)
                                if (f[p].node == h) {
                                    e.display.currentWheelTarget = h;
                                    break e
                                }
                        if (a && !Ni && !Wi && null != Ko) return l && d && ln(e, Math.max(0, c.scrollTop + l * Ko)), cn(e, Math.max(0, c.scrollLeft + a * Ko)), (!l || l && d) && I(t), void(s.wheelStartX = null);
                        l && null != Ko && (n = l * Ko, i = (r = e.doc.scrollTop) + s.wrapper.clientHeight, n < 0 ? r = Math.max(0, r + n - 50) : i = Math.min(e.doc.height, i + n + 50), Tn(e, {
                            top: r,
                            bottom: i
                        })), Xo < 20 && (null == s.wheelStartX ? (s.wheelStartX = c.scrollLeft, s.wheelStartY = c.scrollTop, s.wheelDX = a, s.wheelDY = l, setTimeout(function() {
                            var e, t, n;
                            null != s.wheelStartX && (e = c.scrollLeft - s.wheelStartX, n = (t = c.scrollTop - s.wheelStartY) && s.wheelDY && t / s.wheelDY || e && s.wheelDX && e / s.wheelDX, s.wheelStartX = s.wheelStartY = null, n && (Ko = (Ko * Xo + n) / (Xo + 1), ++Xo))
                        }, 200)) : (s.wheelDX += a, s.wheelDY += l))
                    }
                }

                function Rn(e, t, n) {
                    var r = e && e.options.selectionsMayTouch,
                        i = t[n];
                    t.sort(function(e, t) {
                        return te(e.from(), t.from())
                    }), n = h(t, i);
                    for (var o = 1; o < t.length; o++) {
                        var a, l, s, c = t[o],
                            u = t[o - 1],
                            d = te(u.to(), c.from());
                        (r && !c.empty() ? 0 < d : 0 <= d) && (a = oe(u.from(), c.from()), l = ie(u.to(), c.to()), s = u.empty() ? c.from() == c.head : u.from() == u.head, o <= n && --n, t.splice(--o, 2, new Yo(s ? l : a, s ? a : l)))
                    }
                    return new Zo(t, n)
                }

                function Hn(e, t) {
                    return new Zo([new Yo(e, t || e)], 0)
                }

                function Wn(e) {
                    return e.text ? ee(e.from.line + e.text.length - 1, m(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to
                }

                function Pn(e, t) {
                    if (te(e, t.from) < 0) return e;
                    if (te(e, t.to) <= 0) return Wn(t);
                    var n = e.line + t.text.length - (t.to.line - t.from.line) - 1,
                        r = e.ch;
                    return e.line == t.to.line && (r += Wn(t).ch - t.to.ch), ee(n, r)
                }

                function _n(e, t) {
                    for (var n = [], r = 0; r < e.sel.ranges.length; r++) {
                        var i = e.sel.ranges[r];
                        n.push(new Yo(Pn(i.anchor, t), Pn(i.head, t)))
                    }
                    return Rn(e.cm, n, e.sel.primIndex)
                }

                function Bn(e, t, n) {
                    return e.line == t.line ? ee(n.line, e.ch - t.ch + n.ch) : ee(n.line + (e.line - t.line), e.ch)
                }

                function jn(e) {
                    e.doc.mode = j(e.options, e.doc.modeOption), qn(e)
                }

                function qn(e) {
                    e.doc.iter(function(e) {
                        e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null)
                    }), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, wn(e, 100), e.state.modeGen++, e.curOp && Ht(e)
                }

                function $n(e, t) {
                    return 0 == t.from.ch && 0 == t.to.ch && "" == m(t.text) && (!e.cm || e.cm.options.wholeLineUpdateBefore)
                }

                function Un(e, t, n, r) {
                    function i(e) {
                        return n ? n[e] : null
                    }

                    function o(e, n, i) {
                        ! function(e, t, n, r) {
                            e.text = t, e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null), null != e.order && (e.order = null), we(e), Ce(e, n);
                            var i = r ? r(e) : 1;
                            i != e.height && K(e, i)
                        }(e, n, i, r), $e(e, "change", e, t)
                    }

                    function a(e, t) {
                        for (var n = [], o = e; o < t; ++o) n.push(new Wo(h[o], i(o), r));
                        return n
                    }
                    var l, s, c, u = t.from,
                        d = t.to,
                        h = t.text,
                        f = G(e, u.line),
                        p = G(e, d.line),
                        g = m(h),
                        v = i(h.length - 1),
                        x = d.line - u.line;
                    t.full ? (e.insert(0, a(0, h.length)), e.remove(h.length, e.size - h.length)) : $n(e, t) ? (l = a(0, h.length - 1), o(p, p.text, v), x && e.remove(u.line, x), l.length && e.insert(u.line, l)) : f == p ? 1 == h.length ? o(f, f.text.slice(0, u.ch) + g + f.text.slice(d.ch), v) : ((s = a(1, h.length - 1)).push(new Wo(g + f.text.slice(d.ch), v, r)), o(f, f.text.slice(0, u.ch) + h[0], i(0)), e.insert(u.line + 1, s)) : 1 == h.length ? (o(f, f.text.slice(0, u.ch) + h[0] + p.text.slice(d.ch), i(0)), e.remove(u.line + 1, x)) : (o(f, f.text.slice(0, u.ch) + h[0], i(0)), o(p, g + p.text.slice(d.ch), v), c = a(1, h.length - 1), 1 < x && e.remove(u.line + 1, x - 1), e.insert(u.line + 1, c)), $e(e, "change", e, t)
                }

                function Gn(e, t, n) {
                    ! function e(r, i, o) {
                        if (r.linked)
                            for (var a = 0; a < r.linked.length; ++a) {
                                var l, s = r.linked[a];
                                s.doc != i && (l = o && s.sharedHist, n && !l || (t(s.doc, l), e(s.doc, r, l)))
                            }
                    }(e, null, !0)
                }

                function Vn(e, t) {
                    if (t.cm) throw new Error("This document is already in use.");
                    zt((e.doc = t).cm = e), jn(e), Xn(e), e.options.lineWrapping || He(e), e.options.mode = t.modeOption, Ht(e)
                }

                function Xn(e) {
                    ("rtl" == e.doc.direction ? l : Qi)(e.display.lineDiv, "CodeMirror-rtl")
                }

                function Kn(e) {
                    this.done = [], this.undone = [], this.undoDepth = 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e || 1
                }

                function Zn(e, t) {
                    var n = {
                        from: re(t.from),
                        to: Wn(t),
                        text: V(e, t.from, t.to)
                    };
                    return er(e, n, t.from.line, t.to.line + 1), Gn(e, function(e) {
                        return er(e, n, t.from.line, t.to.line + 1), 0
                    }, !0), n
                }

                function Yn(e) {
                    for (; e.length && m(e).ranges;) e.pop()
                }

                function Qn(e, t, n, r) {
                    var i = e.history;
                    i.undone.length = 0;
                    var o, a, l, s = +new Date;
                    if ((i.lastOp == r || i.lastOrigin == t.origin && t.origin && ("+" == t.origin.charAt(0) && i.lastModTime > s - (e.cm ? e.cm.options.historyEventDelay : 500) || "*" == t.origin.charAt(0))) && (o = (l = i).lastOp == r ? (Yn(l.done), m(l.done)) : l.done.length && !m(l.done).ranges ? m(l.done) : 1 < l.done.length && !l.done[l.done.length - 2].ranges ? (l.done.pop(), m(l.done)) : void 0)) a = m(o.changes), 0 == te(t.from, t.to) && 0 == te(t.from, a.to) ? a.to = Wn(t) : o.changes.push(Zn(e, t));
                    else {
                        var c = m(i.done);
                        for (c && c.ranges || Jn(e.sel, i.done), o = {
                                changes: [Zn(e, t)],
                                generation: i.generation
                            }, i.done.push(o); i.done.length > i.undoDepth;) i.done.shift(), i.done[0].ranges || i.done.shift()
                    }
                    i.done.push(n), i.generation = ++i.maxGeneration, i.lastModTime = i.lastSelTime = s, i.lastOp = i.lastSelOp = r, i.lastOrigin = i.lastSelOrigin = t.origin, a || D(e, "historyAdded")
                }

                function Jn(e, t) {
                    var n = m(t);
                    n && n.ranges && n.equals(e) || t.push(e)
                }

                function er(e, t, n, r) {
                    var i = t["spans_" + e.id],
                        o = 0;
                    e.iter(Math.max(e.first, n), Math.min(e.first + e.size, r), function(n) {
                        n.markedSpans && ((i = i || (t["spans_" + e.id] = {}))[o] = n.markedSpans), ++o
                    })
                }

                function tr(e, t) {
                    var n = function(e, t) {
                            var n = t["spans_" + e.id];
                            if (!n) return null;
                            for (var r = [], i = 0; i < t.text.length; ++i) r.push(function(e) {
                                if (!e) return null;
                                for (var t, n = 0; n < e.length; ++n) e[n].marker.explicitlyCleared ? t = t || e.slice(0, n) : t && t.push(e[n]);
                                return t ? t.length ? t : null : e
                            }(n[i]));
                            return r
                        }(e, t),
                        r = be(e, t);
                    if (!n) return r;
                    if (!r) return n;
                    for (var i = 0; i < n.length; ++i) {
                        var o = n[i],
                            a = r[i];
                        if (o && a) e: for (var l = 0; l < a.length; ++l) {
                            for (var s = a[l], c = 0; c < o.length; ++c)
                                if (o[c].marker == s.marker) continue e;
                            o.push(s)
                        } else a && (n[i] = a)
                    }
                    return n
                }

                function nr(e, t, n) {
                    for (var r = [], i = 0; i < e.length; ++i) {
                        var o = e[i];
                        if (o.ranges) r.push(n ? Zo.prototype.deepCopy.call(o) : o);
                        else {
                            var a = o.changes,
                                l = [];
                            r.push({
                                changes: l
                            });
                            for (var s = 0; s < a.length; ++s) {
                                var c, u = a[s];
                                if (l.push({
                                        from: u.from,
                                        to: u.to,
                                        text: u.text
                                    }), t)
                                    for (var d in u)(c = d.match(/^spans_(\d+)$/)) && -1 < h(t, Number(c[1])) && (m(l)[d] = u[d], delete u[d])
                            }
                        }
                    }
                    return r
                }

                function rr(e, t, n, r) {
                    if (r) {
                        var i, o = e.anchor;
                        return n && ((i = te(t, o) < 0) != te(n, o) < 0 ? (o = t, t = n) : i != te(t, n) < 0 && (t = n)), new Yo(o, t)
                    }
                    return new Yo(n || t, t)
                }

                function ir(e, t, n, r, i) {
                    null == i && (i = e.cm && (e.cm.display.shift || e.extend)), cr(e, new Zo([rr(e.sel.primary(), t, n, i)], 0), r)
                }

                function or(e, t, n) {
                    for (var r = [], i = e.cm && (e.cm.display.shift || e.extend), o = 0; o < e.sel.ranges.length; o++) r[o] = rr(e.sel.ranges[o], t[o], null, i);
                    cr(e, Rn(e.cm, r, e.sel.primIndex), n)
                }

                function ar(e, t, n, r) {
                    var i = e.sel.ranges.slice(0);
                    i[t] = n, cr(e, Rn(e.cm, i, e.sel.primIndex), r)
                }

                function lr(e, t, n, r) {
                    cr(e, Hn(t, n), r)
                }

                function sr(e, t, n) {
                    var r = e.history.done,
                        i = m(r);
                    i && i.ranges ? ur(e, r[r.length - 1] = t, n) : cr(e, t, n)
                }

                function cr(e, t, n) {
                    ur(e, t, n),
                        function(e, t, n, r) {
                            var i, o, a, l, s, c = e.history,
                                u = r && r.origin;
                            n == c.lastSelOp || u && c.lastSelOrigin == u && (c.lastModTime == c.lastSelTime && c.lastOrigin == u || (i = e, o = u, a = m(c.done), l = t, "*" == (s = o.charAt(0)) || "+" == s && a.ranges.length == l.ranges.length && a.somethingSelected() == l.somethingSelected() && new Date - i.history.lastSelTime <= (i.cm ? i.cm.options.historyEventDelay : 500))) ? c.done[c.done.length - 1] = t : Jn(t, c.done), c.lastSelTime = +new Date, c.lastSelOrigin = u, c.lastSelOp = n, r && !1 !== r.clearRedo && Yn(c.undone)
                        }(e, e.sel, e.cm ? e.cm.curOp.id : NaN, n)
                }

                function ur(e, t, n) {
                    var r, i, o, a;
                    (O(e, "beforeSelectionChange") || e.cm && O(e.cm, "beforeSelectionChange")) && (r = e, o = n, a = {
                        ranges: (i = t).ranges,
                        update: function(e) {
                            this.ranges = [];
                            for (var t = 0; t < e.length; t++) this.ranges[t] = new Yo(le(r, e[t].anchor), le(r, e[t].head))
                        },
                        origin: o && o.origin
                    }, D(r, "beforeSelectionChange", r, a), r.cm && D(r.cm, "beforeSelectionChange", r.cm, a), t = a.ranges != i.ranges ? Rn(r.cm, a.ranges, a.ranges.length - 1) : i);
                    dr(e, fr(e, t, n && n.bias || (te(t.primary().head, e.sel.primary().head) < 0 ? -1 : 1), !0)), n && !1 === n.scroll || !e.cm || nn(e.cm)
                }

                function dr(e, t) {
                    t.equals(e.sel) || (e.sel = t, e.cm && (e.cm.curOp.updateInput = 1, e.cm.curOp.selectionChanged = !0, E(e.cm)), $e(e, "cursorActivity", e))
                }

                function hr(e) {
                    dr(e, fr(e, e.sel, null, !1))
                }

                function fr(e, t, n, r) {
                    for (var i, o = 0; o < t.ranges.length; o++) {
                        var a = t.ranges[o],
                            l = t.ranges.length == e.sel.ranges.length && e.sel.ranges[o],
                            s = mr(e, a.anchor, l && l.anchor, n, r),
                            c = mr(e, a.head, l && l.head, n, r);
                        !i && s == a.anchor && c == a.head || ((i = i || t.ranges.slice(0, o))[o] = new Yo(s, c))
                    }
                    return i ? Rn(e.cm, i, t.primIndex) : t
                }

                function pr(e, t, n, r, i) {
                    var o = G(e, t.line);
                    if (o.markedSpans)
                        for (var a = 0; a < o.markedSpans.length; ++a) {
                            var l = o.markedSpans[a],
                                s = l.marker,
                                c = "selectLeft" in s ? !s.selectLeft : s.inclusiveLeft,
                                u = "selectRight" in s ? !s.selectRight : s.inclusiveRight;
                            if ((null == l.from || (c ? l.from <= t.ch : l.from < t.ch)) && (null == l.to || (u ? l.to >= t.ch : l.to > t.ch))) {
                                if (i && (D(s, "beforeCursorEnter"), s.explicitlyCleared)) {
                                    if (o.markedSpans) {
                                        --a;
                                        continue
                                    }
                                    break
                                }
                                if (!s.atomic) continue;
                                if (n) {
                                    var d = s.find(r < 0 ? 1 : -1),
                                        h = void 0;
                                    if ((r < 0 ? u : c) && (d = gr(e, d, -r, d && d.line == t.line ? o : null)), d && d.line == t.line && (h = te(d, n)) && (r < 0 ? h < 0 : 0 < h)) return pr(e, d, t, r, i)
                                }
                                var f = s.find(r < 0 ? -1 : 1);
                                return (r < 0 ? c : u) && (f = gr(e, f, r, f.line == t.line ? o : null)), f ? pr(e, f, t, r, i) : null
                            }
                        }
                    return t
                }

                function mr(e, t, n, r, i) {
                    var o = r || 1;
                    return pr(e, t, n, o, i) || !i && pr(e, t, n, o, !0) || pr(e, t, n, -o, i) || !i && pr(e, t, n, -o, !0) || (e.cantEdit = !0, ee(e.first, 0))
                }

                function gr(e, t, n, r) {
                    return n < 0 && 0 == t.ch ? t.line > e.first ? le(e, ee(t.line - 1)) : null : 0 < n && t.ch == (r || G(e, t.line)).text.length ? t.line < e.first + e.size - 1 ? ee(t.line + 1, 0) : null : new ee(t.line, t.ch + n)
                }

                function vr(e) {
                    e.setSelection(ee(e.firstLine(), 0), ee(e.lastLine()), po)
                }

                function xr(e, t, n) {
                    var r = {
                        canceled: !1,
                        from: t.from,
                        to: t.to,
                        text: t.text,
                        origin: t.origin,
                        cancel: function() {
                            return r.canceled = !0
                        }
                    };
                    return n && (r.update = function(t, n, i, o) {
                        t && (r.from = le(e, t)), n && (r.to = le(e, n)), i && (r.text = i), void 0 !== o && (r.origin = o)
                    }), D(e, "beforeChange", e, r), e.cm && D(e.cm, "beforeChange", e.cm, r), r.canceled ? (e.cm && (e.cm.curOp.updateInput = 2), null) : {
                        from: r.from,
                        to: r.to,
                        text: r.text,
                        origin: r.origin
                    }
                }

                function yr(e, t, n) {
                    if (e.cm) {
                        if (!e.cm.curOp) return yn(e.cm, yr)(e, t, n);
                        if (e.cm.state.suppressEdits) return
                    }
                    if (!(O(e, "beforeChange") || e.cm && O(e.cm, "beforeChange")) || (t = xr(e, t, !0))) {
                        var r = Ro && !n && function(e, t, n) {
                            var r = null;
                            if (e.iter(t.line, n.line + 1, function(e) {
                                    if (e.markedSpans)
                                        for (var t = 0; t < e.markedSpans.length; ++t) {
                                            var n = e.markedSpans[t].marker;
                                            !n.readOnly || r && -1 != h(r, n) || (r = r || []).push(n)
                                        }
                                }), !r) return null;
                            for (var i = [{
                                    from: t,
                                    to: n
                                }], o = 0; o < r.length; ++o)
                                for (var a = r[o], l = a.find(0), s = 0; s < i.length; ++s) {
                                    var c, u, d, f = i[s];
                                    te(f.to, l.from) < 0 || 0 < te(f.from, l.to) || (c = [s, 1], u = te(f.from, l.from), d = te(f.to, l.to), (u < 0 || !a.inclusiveLeft && !u) && c.push({
                                        from: f.from,
                                        to: l.from
                                    }), (0 < d || !a.inclusiveRight && !d) && c.push({
                                        from: l.to,
                                        to: f.to
                                    }), i.splice.apply(i, c), s += c.length - 3)
                                }
                            return i
                        }(e, t.from, t.to);
                        if (r)
                            for (var i = r.length - 1; 0 <= i; --i) br(e, {
                                from: r[i].from,
                                to: r[i].to,
                                text: i ? [""] : t.text,
                                origin: t.origin
                            });
                        else br(e, t)
                    }
                }

                function br(e, t) {
                    var n, r;
                    1 == t.text.length && "" == t.text[0] && 0 == te(t.from, t.to) || (n = _n(e, t), Qn(e, t, n, e.cm ? e.cm.curOp.id : NaN), Cr(e, t, n, be(e, t)), r = [], Gn(e, function(e, n) {
                        n || -1 != h(r, e.history) || (Mr(e.history, t), r.push(e.history)), Cr(e, t, null, be(e, t))
                    }))
                }

                function kr(e, t, n) {
                    var r = e.cm && e.cm.state.suppressEdits;
                    if (!r || n) {
                        for (var i, o = e.history, a = e.sel, l = "undo" == t ? o.done : o.undone, s = "undo" == t ? o.undone : o.done, c = 0; c < l.length && (i = l[c], n ? !i.ranges || i.equals(e.sel) : i.ranges); c++);
                        if (c != l.length) {
                            for (o.lastOrigin = o.lastSelOrigin = null;;) {
                                if (!(i = l.pop()).ranges) {
                                    if (r) return void l.push(i);
                                    break
                                }
                                if (Jn(i, s), n && !i.equals(e.sel)) return void cr(e, i, {
                                    clearRedo: !1
                                });
                                a = i
                            }
                            var u = [];
                            Jn(a, s), s.push({
                                changes: u,
                                generation: o.generation
                            }), o.generation = i.generation || ++o.maxGeneration;
                            for (var d = O(e, "beforeChange") || e.cm && O(e.cm, "beforeChange"), f = i.changes.length - 1; 0 <= f; --f) {
                                var p = function(n) {
                                    var r = i.changes[n];
                                    if (r.origin = t, d && !xr(e, r, !1)) return l.length = 0, {};
                                    u.push(Zn(e, r));
                                    var o = n ? _n(e, r) : m(l);
                                    Cr(e, r, o, tr(e, r)), !n && e.cm && e.cm.scrollIntoView({
                                        from: r.from,
                                        to: Wn(r)
                                    });
                                    var a = [];
                                    Gn(e, function(e, t) {
                                        t || -1 != h(a, e.history) || (Mr(e.history, r), a.push(e.history)), Cr(e, r, null, tr(e, r))
                                    })
                                }(f);
                                if (p) return p.v
                            }
                        }
                    }
                }

                function wr(e, t) {
                    if (0 != t && (e.first += t, e.sel = new Zo(g(e.sel.ranges, function(e) {
                            return new Yo(ee(e.anchor.line + t, e.anchor.ch), ee(e.head.line + t, e.head.ch))
                        }), e.sel.primIndex), e.cm)) {
                        Ht(e.cm, e.first, e.first - t, t);
                        for (var n = e.cm.display, r = n.viewFrom; r < n.viewTo; r++) Wt(e.cm, r, "gutter")
                    }
                }

                function Cr(e, t, n, r) {
                    if (e.cm && !e.cm.curOp) return yn(e.cm, Cr)(e, t, n, r);
                    var i, o;
                    t.to.line < e.first ? wr(e, t.text.length - 1 - (t.to.line - t.from.line)) : t.from.line > e.lastLine() || (t.from.line < e.first && (wr(e, i = t.text.length - 1 - (e.first - t.from.line)), t = {
                        from: ee(e.first, 0),
                        to: ee(t.to.line + i, t.to.ch),
                        text: [m(t.text)],
                        origin: t.origin
                    }), o = e.lastLine(), t.to.line > o && (t = {
                        from: t.from,
                        to: ee(o, G(e, o).text.length),
                        text: [t.text[0]],
                        origin: t.origin
                    }), t.removed = V(e, t.from, t.to), n = n || _n(e, t), e.cm ? function(e, t, n) {
                        var r = e.doc,
                            i = e.display,
                            o = t.from,
                            a = t.to,
                            l = !1,
                            s = o.line;
                        e.options.lineWrapping || (s = Z(Fe(G(r, o.line))), r.iter(s, a.line + 1, function(e) {
                                if (e == i.maxLine) return l = !0
                            })), -1 < r.sel.contains(t.from, t.to) && E(e), Un(r, t, n, Ot(e)), e.options.lineWrapping || (r.iter(s, o.line + t.text.length, function(e) {
                                var t = Re(e);
                                t > i.maxLineLength && (i.maxLine = e, i.maxLineLength = t, i.maxLineChanged = !0, l = !1)
                            }), l && (e.curOp.updateMaxLine = !0)),
                            function(e, t) {
                                if (e.modeFrontier = Math.min(e.modeFrontier, t), !(e.highlightFrontier < t - 10)) {
                                    for (var n = e.first, r = t - 1; n < r; r--) {
                                        var i = G(e, r).stateAfter;
                                        if (i && (!(i instanceof Oo) || r + i.lookAhead < t)) {
                                            n = r + 1;
                                            break
                                        }
                                    }
                                    e.highlightFrontier = Math.min(e.highlightFrontier, n)
                                }
                            }(r, o.line), wn(e, 400);
                        var c = t.text.length - (a.line - o.line) - 1;
                        t.full ? Ht(e) : o.line != a.line || 1 != t.text.length || $n(e.doc, t) ? Ht(e, o.line, a.line + 1, c) : Wt(e, o.line, "text");
                        var u, d = O(e, "changes"),
                            h = O(e, "change");
                        (h || d) && (u = {
                            from: o,
                            to: a,
                            text: t.text,
                            removed: t.removed,
                            origin: t.origin
                        }, h && $e(e, "change", e, u), d && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(u)), e.display.selForContextMenu = null
                    }(e.cm, t, r) : Un(e, t, r), ur(e, n, po), e.cantEdit && mr(e, ee(e.firstLine(), 0)) && (e.cantEdit = !1))
                }

                function Sr(e, t, n, r, i) {
                    var o;
                    te(r = r || n, n) < 0 && (n = (o = [r, n])[0], r = o[1]), "string" == typeof t && (t = e.splitLines(t)), yr(e, {
                        from: n,
                        to: r,
                        text: t,
                        origin: i
                    })
                }

                function Lr(e, t, n, r) {
                    n < e.line ? e.line += r : t < e.line && (e.line = t, e.ch = 0)
                }

                function Tr(e, t, n, r) {
                    for (var i = 0; i < e.length; ++i) {
                        var o = e[i],
                            a = !0;
                        if (o.ranges) {
                            o.copied || ((o = e[i] = o.deepCopy()).copied = !0);
                            for (var l = 0; l < o.ranges.length; l++) Lr(o.ranges[l].anchor, t, n, r), Lr(o.ranges[l].head, t, n, r)
                        } else {
                            for (var s = 0; s < o.changes.length; ++s) {
                                var c = o.changes[s];
                                if (n < c.from.line) c.from = ee(c.from.line + r, c.from.ch), c.to = ee(c.to.line + r, c.to.ch);
                                else if (t <= c.to.line) {
                                    a = !1;
                                    break
                                }
                            }
                            a || (e.splice(0, i + 1), i = 0)
                        }
                    }
                }

                function Mr(e, t) {
                    var n = t.from.line,
                        r = t.to.line,
                        i = t.text.length - (r - n) - 1;
                    Tr(e.done, n, r, i), Tr(e.undone, n, r, i)
                }

                function Ar(e, t, n, r) {
                    var i = t,
                        o = t;
                    return "number" == typeof t ? o = G(e, ae(e, t)) : i = Z(t), null == i ? null : (r(o, i) && e.cm && Wt(e.cm, i, n), o)
                }

                function Nr(e) {
                    this.lines = e, this.parent = null;
                    for (var t = 0, n = 0; n < e.length; ++n) e[n].parent = this, t += e[n].height;
                    this.height = t
                }

                function Dr(e) {
                    this.children = e;
                    for (var t = 0, n = 0, r = 0; r < e.length; ++r) {
                        var i = e[r];
                        t += i.chunkSize(), n += i.height, i.parent = this
                    }
                    this.size = t, this.height = n, this.parent = null
                }

                function Fr(e, t, n) {
                    if (n)
                        for (var r in n) n.hasOwnProperty(r) && (this[r] = n[r]);
                    this.doc = e, this.node = t
                }

                function Er(e, t, n) {
                    Ie(t) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && tn(e, n)
                }

                function Or(e, t, n, r, o) {
                    if (r && r.shared) return function(e, t, n, r, i) {
                        (r = u(r)).shared = !1;
                        var o = [Or(e, t, n, r, i)],
                            a = o[0],
                            l = r.widgetNode;
                        return Gn(e, function(e) {
                            l && (r.widgetNode = l.cloneNode(!0)), o.push(Or(e, le(e, t), le(e, n), r, i));
                            for (var s = 0; s < e.linked.length; ++s)
                                if (e.linked[s].isParent) return;
                            a = m(o)
                        }), new ea(o, a)
                    }(e, t, n, r, o);
                    if (e.cm && !e.cm.curOp) return yn(e.cm, Or)(e, t, n, r, o);
                    var a = new Jo(e, o),
                        l = te(t, n);
                    if (r && u(r, a, !1), 0 < l || 0 == l && !1 !== a.clearWhenEmpty) return a;
                    if (a.replacedWith && (a.collapsed = !0, a.widgetNode = i("span", [a.replacedWith], "CodeMirror-widget"), r.handleMouseEvents || a.widgetNode.setAttribute("cm-ignore-events", "true"), r.insertLeft && (a.widgetNode.insertLeft = !0)), a.collapsed) {
                        if (De(e, t.line, t, n, a) || t.line != n.line && De(e, n.line, t, n, a)) throw new Error("Inserting collapsed marker partially overlapping an existing one");
                        Ho = !0
                    }
                    a.addToHistory && Qn(e, {
                        from: t,
                        to: n,
                        origin: "markText"
                    }, e.sel, NaN);
                    var s, c = t.line,
                        d = e.cm;
                    if (e.iter(c, n.line + 1, function(e) {
                            var r, i;
                            d && a.collapsed && !d.options.lineWrapping && Fe(e) == d.display.maxLine && (s = !0), a.collapsed && c != t.line && K(e, 0), r = e, i = new xe(a, c == t.line ? t.ch : null, c == n.line ? n.ch : null), r.markedSpans = r.markedSpans ? r.markedSpans.concat([i]) : [i], i.marker.attachLine(r), ++c
                        }), a.collapsed && e.iter(t.line, n.line + 1, function(t) {
                            ze(e, t) && K(t, 0)
                        }), a.clearOnEnter && Co(a, "beforeCursorEnter", function() {
                            return a.clear()
                        }), a.readOnly && (Ro = !0, (e.history.done.length || e.history.undone.length) && e.clearHistory()), a.collapsed && (a.id = ++Qo, a.atomic = !0), d) {
                        if (s && (d.curOp.updateMaxLine = !0), a.collapsed) Ht(d, t.line, n.line + 1);
                        else if (a.className || a.startStyle || a.endStyle || a.css || a.attributes || a.title)
                            for (var h = t.line; h <= n.line; h++) Wt(d, h, "text");
                        a.atomic && hr(d.doc), $e(d, "markerAdded", d, a)
                    }
                    return a
                }

                function zr(e) {
                    return e.findMarks(ee(e.first, 0), e.clipPos(ee(e.lastLine())), function(e) {
                        return e.parent
                    })
                }

                function Ir(e) {
                    var t = this;
                    if (Rr(t), !F(t, e) && !et(t.display, e)) {
                        I(e), Oi && (ra = +new Date);
                        var n = It(t, e, !0),
                            r = e.dataTransfer.files;
                        if (n && !t.isReadOnly())
                            if (r && r.length && window.FileReader && window.File)
                                for (var i = r.length, o = Array(i), a = 0, l = function() {
                                        ++a == i && yn(t, function() {
                                            var e = {
                                                from: n = le(t.doc, n),
                                                to: n,
                                                text: t.doc.splitLines(o.filter(function(e) {
                                                    return null != e
                                                }).join(t.doc.lineSeparator())),
                                                origin: "paste"
                                            };
                                            yr(t.doc, e), sr(t.doc, Hn(le(t.doc, n), le(t.doc, Wn(e))))
                                        })()
                                    }, s = 0; s < r.length; s++) ! function(e, n) {
                                    var r;
                                    t.options.allowDropFileTypes && -1 == h(t.options.allowDropFileTypes, e.type) ? l() : ((r = new FileReader).onerror = l, r.onload = function() {
                                        var e = r.result;
                                        /[\x00-\x08\x0e-\x1f]{2}/.test(e) || (o[n] = e), l()
                                    }, r.readAsText(e))
                                }(r[s], s);
                            else {
                                if (t.state.draggingText && -1 < t.doc.sel.contains(n)) return t.state.draggingText(e), void setTimeout(function() {
                                    return t.display.input.focus()
                                }, 20);
                                try {
                                    var c, u = e.dataTransfer.getData("Text");
                                    if (u) {
                                        if (t.state.draggingText && !t.state.draggingText.copy && (c = t.listSelections()), ur(t.doc, Hn(n, n)), c)
                                            for (var d = 0; d < c.length; ++d) Sr(t.doc, "", c[d].anchor, c[d].head, "drag");
                                        t.replaceSelection(u, "around", "paste"), t.display.input.focus()
                                    }
                                } catch (e) {}
                            }
                    }
                }

                function Rr(e) {
                    e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null)
                }

                function Hr(e) {
                    if (document.getElementsByClassName) {
                        for (var t = document.getElementsByClassName("CodeMirror"), n = [], r = 0; r < t.length; r++) {
                            var i = t[r].CodeMirror;
                            i && n.push(i)
                        }
                        n.length && n[0].operation(function() {
                            for (var t = 0; t < n.length; t++) e(n[t])
                        })
                    }
                }

                function Wr(e) {
                    var t = e.display;
                    t.cachedCharWidth = t.cachedTextHeight = t.cachedPaddingH = null, t.scrollbarsClipped = !1, e.setSize()
                }

                function Pr(e) {
                    var t, n, r, i, o = e.split(/-(?!$)/);
                    e = o[o.length - 1];
                    for (var a = 0; a < o.length - 1; a++) {
                        var l = o[a];
                        if (/^(cmd|meta|m)$/i.test(l)) i = !0;
                        else if (/^a(lt)?$/i.test(l)) t = !0;
                        else if (/^(c|ctrl|control)$/i.test(l)) n = !0;
                        else {
                            if (!/^s(hift)?$/i.test(l)) throw new Error("Unrecognized modifier name: " + l);
                            r = !0
                        }
                    }
                    return t && (e = "Alt-" + e), n && (e = "Ctrl-" + e), i && (e = "Cmd-" + e), r && (e = "Shift-" + e), e
                }

                function _r(e, t, n, r) {
                    var i = (t = $r(t)).call ? t.call(e, r) : t[e];
                    if (!1 === i) return "nothing";
                    if ("..." === i) return "multi";
                    if (null != i && n(i)) return "handled";
                    if (t.fallthrough) {
                        if ("[object Array]" != Object.prototype.toString.call(t.fallthrough)) return _r(e, t.fallthrough, n, r);
                        for (var o = 0; o < t.fallthrough.length; o++) {
                            var a = _r(e, t.fallthrough[o], n, r);
                            if (a) return a
                        }
                    }
                }

                function Br(e) {
                    var t = "string" == typeof e ? e : oa[e.keyCode];
                    return "Ctrl" == t || "Alt" == t || "Shift" == t || "Mod" == t
                }

                function jr(e, t, n) {
                    var r = e;
                    return t.altKey && "Alt" != r && (e = "Alt-" + e), (Zi ? t.metaKey : t.ctrlKey) && "Ctrl" != r && (e = "Ctrl-" + e), (Zi ? t.ctrlKey : t.metaKey) && "Mod" != r && (e = "Cmd-" + e), !n && t.shiftKey && "Shift" != r && (e = "Shift-" + e), e
                }

                function qr(e, t) {
                    if (Wi && 34 == e.keyCode && e.char) return !1;
                    var n = oa[e.keyCode];
                    return null != n && !e.altGraphKey && (3 == e.keyCode && e.code && (n = e.code), jr(n, e, t))
                }

                function $r(e) {
                    return "string" == typeof e ? ca[e] : e
                }

                function Ur(e, t) {
                    for (var n = e.doc.sel.ranges, r = [], i = 0; i < n.length; i++) {
                        for (var o = t(n[i]); r.length && te(o.from, m(r).to) <= 0;) {
                            var a = r.pop();
                            if (te(a.from, o.from) < 0) {
                                o.from = a.from;
                                break
                            }
                        }
                        r.push(o)
                    }
                    xn(e, function() {
                        for (var t = r.length - 1; 0 <= t; t--) Sr(e.doc, "", r[t].from, r[t].to, "+delete");
                        nn(e)
                    })
                }

                function Gr(e, t, n) {
                    var r = C(e.text, t + n, n);
                    return r < 0 || r > e.text.length ? null : r
                }

                function Vr(e, t, n) {
                    var r = Gr(e, t.ch, n);
                    return null == r ? null : new ee(t.line, r, n < 0 ? "after" : "before")
                }

                function Xr(e, t, n, r, i) {
                    if (e) {
                        "rtl" == t.doc.direction && (i = -i);
                        var o = M(n, t.doc.direction);
                        if (o) {
                            var a, l, s, c = i < 0 ? m(o) : o[0],
                                u = i < 0 == (1 == c.level) ? "after" : "before";
                            return 0 < c.level || "rtl" == t.doc.direction ? (a = ut(t, n), l = i < 0 ? n.text.length - 1 : 0, s = dt(t, a, l).top, l = S(function(e) {
                                return dt(t, a, e).top == s
                            }, i < 0 == (1 == c.level) ? c.from : c.to - 1, l), "before" == u && (l = Gr(n, l, 1))) : l = i < 0 ? c.to : c.from, new ee(r, l, u)
                        }
                    }
                    return new ee(r, i < 0 ? n.text.length : 0, i < 0 ? "before" : "after")
                }

                function Kr(e, t) {
                    var n = G(e.doc, t),
                        r = Fe(n);
                    return r != n && (t = Z(r)), Xr(!0, e, r, t, 1)
                }

                function Zr(e, t) {
                    var n = Kr(e, t.line),
                        r = G(e.doc, n.line),
                        i = M(r, e.doc.direction);
                    if (i && 0 != i[0].level) return n;
                    var o = Math.max(n.ch, r.text.search(/\S/)),
                        a = t.line == n.line && t.ch <= o && t.ch;
                    return ee(n.line, a ? 0 : o, n.sticky)
                }

                function Yr(e, t, n) {
                    if ("string" == typeof t && !(t = ha[t])) return !1;
                    e.display.input.ensurePolled();
                    var r = e.display.shift,
                        i = !1;
                    try {
                        e.isReadOnly() && (e.state.suppressEdits = !0), n && (e.display.shift = !1), i = t(e) != fo
                    } finally {
                        e.display.shift = r, e.state.suppressEdits = !1
                    }
                    return i
                }

                function Qr(e, t, n, r) {
                    var i = e.state.keySeq;
                    if (i) {
                        if (Br(t)) return "handled";
                        if (/\'$/.test(t) ? e.state.keySeq = null : fa.set(50, function() {
                                e.state.keySeq == i && (e.state.keySeq = null, e.display.input.reset())
                            }), Jr(e, i + " " + t, n, r)) return !0
                    }
                    return Jr(e, t, n, r)
                }

                function Jr(e, t, n, r) {
                    var i = function(e, t, n) {
                        for (var r = 0; r < e.state.keyMaps.length; r++) {
                            var i = _r(t, e.state.keyMaps[r], n, e);
                            if (i) return i
                        }
                        return e.options.extraKeys && _r(t, e.options.extraKeys, n, e) || _r(t, e.options.keyMap, n, e)
                    }(e, t, r);
                    return "multi" == i && (e.state.keySeq = t), "handled" == i && $e(e, "keyHandled", e, t, n), "handled" != i && "multi" != i || (I(n), Gt(e)), !!i
                }

                function ei(e, t) {
                    var n = qr(t, !0);
                    return !!n && (t.shiftKey && !e.state.keySeq ? Qr(e, "Shift-" + n, t, function(t) {
                        return Yr(e, t, !0)
                    }) || Qr(e, n, t, function(t) {
                        if ("string" == typeof t ? /^go[A-Z]/.test(t) : t.motion) return Yr(e, t)
                    }) : Qr(e, n, t, function(t) {
                        return Yr(e, t)
                    }))
                }

                function ti(e) {
                    function t(e) {
                        18 != e.keyCode && e.altKey || (Qi(i, "CodeMirror-crosshair"), N(document, "keyup", t), N(document, "mouseover", t))
                    }
                    var n, r, i, o = this;
                    e.target && e.target != o.display.input.getField() || (o.curOp.focus = a(), F(o, e) || (Oi && zi < 11 && 27 == e.keyCode && (e.returnValue = !1), n = e.keyCode, o.display.shift = 16 == n || e.shiftKey, r = ei(o, e), Wi && (pa = r ? n : null, !r && 88 == n && !Mo && (Ui ? e.metaKey : e.ctrlKey) && o.replaceSelection("", null, "cut")), Ni && !Ui && !r && 46 == n && e.shiftKey && !e.ctrlKey && document.execCommand && document.execCommand("cut"), 18 != n || /\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className) || (l(i = o.display.lineDiv, "CodeMirror-crosshair"), Co(document, "keyup", t), Co(document, "mouseover", t))))
                }

                function ni(e) {
                    16 == e.keyCode && (this.doc.sel.shift = !1), F(this, e)
                }

                function ri(e) {
                    var t = this;
                    if (!(e.target && e.target != t.display.input.getField() || et(t.display, e) || F(t, e) || e.ctrlKey && !e.altKey || Ui && e.metaKey)) {
                        var n, r, i = e.keyCode,
                            o = e.charCode;
                        if (Wi && i == pa) return pa = null, void I(e);
                        Wi && (!e.which || e.which < 10) && ei(t, e) || "\b" != (n = String.fromCharCode(null == o ? i : o)) && (Qr(r = t, "'" + n + "'", e, function(e) {
                            return Yr(r, e, !0)
                        }) || t.display.input.onKeyPress(e))
                    }
                }

                function ii(e) {
                    var t, n, r, i, o, l, s = this,
                        u = s.display;
                    F(s, e) || u.activeTouch && u.input.supportsTouch() || (u.input.ensurePolled(), u.shift = e.shiftKey, et(u, e) ? Ii || (u.scroller.draggable = !1, setTimeout(function() {
                        return u.scroller.draggable = !0
                    }, 100)) : li(s, e) || (t = It(s, e), n = _(e), r = t ? (i = t, o = n, l = +new Date, da && da.compare(l, i, o) ? (ua = da = null, "triple") : ua && ua.compare(l, i, o) ? (da = new ma(l, i, o), ua = null, "double") : (ua = new ma(l, i, o), da = null, "single")) : "single", window.focus(), 1 == n && s.state.selectingText && s.state.selectingText(e), t && function(e, t, n, r, i) {
                        var o = "Click";
                        return "double" == r ? o = "Double" + o : "triple" == r && (o = "Triple" + o), Qr(e, jr(o = (1 == t ? "Left" : 2 == t ? "Middle" : "Right") + o, i), i, function(t) {
                            if ("string" == typeof t && (t = ha[t]), !t) return !1;
                            var r = !1;
                            try {
                                e.isReadOnly() && (e.state.suppressEdits = !0), r = t(e, n) != fo
                            } finally {
                                e.state.suppressEdits = !1
                            }
                            return r
                        })
                    }(s, n, t, r, e) || (1 == n ? t ? function(e, t, n, r) {
                        Oi ? setTimeout(c(Vt, e), 0) : e.curOp.focus = a();
                        var i, o = function(e, t, n) {
                                var r, i = e.getOption("configureMouse"),
                                    o = i ? i(e, t, n) : {};
                                return null == o.unit && (r = Gi ? n.shiftKey && n.metaKey : n.altKey, o.unit = r ? "rectangle" : "single" == t ? "char" : "double" == t ? "word" : "line"), null != o.extend && !e.doc.extend || (o.extend = e.doc.extend || n.shiftKey), null == o.addNew && (o.addNew = Ui ? n.metaKey : n.ctrlKey), null == o.moveOnDrag && (o.moveOnDrag = !(Ui ? n.altKey : n.ctrlKey)), o
                            }(e, n, r),
                            l = e.doc.sel;
                        (e.options.dragDrop && So && !e.isReadOnly() && "single" == n && -1 < (i = l.contains(t)) && (te((i = l.ranges[i]).from(), t) < 0 || 0 < t.xRel) && (0 < te(i.to(), t) || t.xRel < 0) ? function(e, t, n, r) {
                            var i = e.display,
                                o = !1,
                                a = yn(e, function(t) {
                                    Ii && (i.scroller.draggable = !1), e.state.draggingText = !1, N(i.wrapper.ownerDocument, "mouseup", a), N(i.wrapper.ownerDocument, "mousemove", l), N(i.scroller, "dragstart", s), N(i.scroller, "drop", a), o || (I(t), r.addNew || ir(e.doc, n, null, null, r.extend), Ii && !Pi || Oi && 9 == zi ? setTimeout(function() {
                                        i.wrapper.ownerDocument.body.focus({
                                            preventScroll: !0
                                        }), i.input.focus()
                                    }, 20) : i.input.focus())
                                }),
                                l = function(e) {
                                    o = o || 10 <= Math.abs(t.clientX - e.clientX) + Math.abs(t.clientY - e.clientY)
                                },
                                s = function() {
                                    return o = !0
                                };
                            Ii && (i.scroller.draggable = !0), (e.state.draggingText = a).copy = !r.moveOnDrag, i.scroller.dragDrop && i.scroller.dragDrop(), Co(i.wrapper.ownerDocument, "mouseup", a), Co(i.wrapper.ownerDocument, "mousemove", l), Co(i.scroller, "dragstart", s), Co(i.scroller, "drop", a), Xt(e), setTimeout(function() {
                                return i.input.focus()
                            }, 20)
                        } : function(e, t, n, r) {
                            function i(t) {
                                e.state.selectingText = !1, v = 1 / 0, t && (I(t), o.input.focus()), N(o.wrapper.ownerDocument, "mousemove", x), N(o.wrapper.ownerDocument, "mouseup", y), l.history.lastSelOrigin = null
                            }
                            var o = e.display,
                                l = e.doc;
                            I(t);
                            var s, c, u = l.sel,
                                h = u.ranges;
                            r.addNew && !r.extend ? (c = l.sel.contains(n), s = -1 < c ? h[c] : new Yo(n, n)) : (s = l.sel.primary(), c = l.sel.primIndex);
                            var p;
                            "rectangle" == r.unit ? (r.addNew || (s = new Yo(n, n)), n = It(e, t, !0, !0), c = -1) : (p = oi(e, n, r.unit), s = r.extend ? rr(s, p.anchor, p.head, r.extend) : p), r.addNew ? -1 == c ? (c = h.length, cr(l, Rn(e, h.concat([s]), c), {
                                scroll: !1,
                                origin: "*mouse"
                            })) : 1 < h.length && h[c].empty() && "char" == r.unit && !r.extend ? (cr(l, Rn(e, h.slice(0, c).concat(h.slice(c + 1)), 0), {
                                scroll: !1,
                                origin: "*mouse"
                            }), u = l.sel) : ar(l, c, s, mo) : (cr(l, new Zo([s], c = 0), mo), u = l.sel);
                            var m = n,
                                g = o.wrapper.getBoundingClientRect(),
                                v = 0,
                                x = yn(e, function(t) {
                                    (0 !== t.buttons && _(t) ? function t(i) {
                                        var h, p, x = ++v,
                                            y = It(e, i, !0, "rectangle" == r.unit);
                                        y && (0 != te(y, m) ? (e.curOp.focus = a(), function(t) {
                                            if (0 != te(m, t))
                                                if (m = t, "rectangle" == r.unit) {
                                                    for (var i = [], o = e.options.tabSize, a = d(G(l, n.line).text, n.ch, o), h = d(G(l, t.line).text, t.ch, o), p = Math.min(a, h), g = Math.max(a, h), v = Math.min(n.line, t.line), x = Math.min(e.lastLine(), Math.max(n.line, t.line)); v <= x; v++) {
                                                        var y = G(l, v).text,
                                                            b = f(y, p, o);
                                                        p == g ? i.push(new Yo(ee(v, b), ee(v, b))) : y.length > b && i.push(new Yo(ee(v, b), ee(v, f(y, g, o))))
                                                    }
                                                    i.length || i.push(new Yo(n, n)), cr(l, Rn(e, u.ranges.slice(0, c).concat(i), c), {
                                                        origin: "*mouse",
                                                        scroll: !1
                                                    }), e.scrollIntoView(t)
                                                } else {
                                                    var k, w = s,
                                                        C = oi(e, t, r.unit),
                                                        S = w.anchor,
                                                        S = 0 < te(C.anchor, S) ? (k = C.head, oe(w.from(), C.anchor)) : (k = C.anchor, ie(w.to(), C.head)),
                                                        T = u.ranges.slice(0);
                                                    T[c] = function(e, t) {
                                                        var n = t.anchor,
                                                            r = t.head,
                                                            i = G(e.doc, n.line);
                                                        if (0 == te(n, r) && n.sticky == r.sticky) return t;
                                                        var o = M(i);
                                                        if (!o) return t;
                                                        var a = L(o, n.ch, n.sticky),
                                                            l = o[a];
                                                        if (l.from != n.ch && l.to != n.ch) return t;
                                                        var s, c = a + (l.from == n.ch == (1 != l.level) ? 0 : 1);
                                                        if (0 == c || c == o.length) return t;
                                                        var u, d, h = o[c + ((s = r.line != n.line ? 0 < (r.line - n.line) * ("ltr" == e.doc.direction ? 1 : -1) : (u = L(o, r.ch, r.sticky), d = u - a || (r.ch - n.ch) * (1 == l.level ? -1 : 1), u == c - 1 || u == c ? d < 0 : 0 < d)) ? -1 : 0)],
                                                            f = s == (1 == h.level),
                                                            p = f ? h.from : h.to,
                                                            m = f ? "after" : "before";
                                                        return n.ch == p && n.sticky == m ? t : new Yo(new ee(n.line, p, m), r)
                                                    }(e, new Yo(le(l, S), k)), cr(l, Rn(e, T, c), mo)
                                                }
                                        }(y), h = Jt(o, l), (y.line >= h.to || y.line < h.from) && setTimeout(yn(e, function() {
                                            v == x && t(i)
                                        }), 150)) : (p = i.clientY < g.top ? -20 : i.clientY > g.bottom ? 20 : 0) && setTimeout(yn(e, function() {
                                            v == x && (o.scroller.scrollTop += p, t(i))
                                        }), 50))
                                    } : i)(t)
                                }),
                                y = yn(e, i);
                            e.state.selectingText = y, Co(o.wrapper.ownerDocument, "mousemove", x), Co(o.wrapper.ownerDocument, "mouseup", y)
                        })(e, r, t, o)
                    }(s, t, r, e) : P(e) == u.scroller && I(e) : 2 == n ? (t && ir(s.doc, t), setTimeout(function() {
                        return u.input.focus()
                    }, 20)) : 3 == n && (Yi ? s.display.input.onContextMenu(e) : Xt(s)))))
                }

                function oi(e, t, n) {
                    if ("char" == n) return new Yo(t, t);
                    if ("word" == n) return e.findWordAt(t);
                    if ("line" == n) return new Yo(ee(t.line, 0), le(e.doc, ee(t.line + 1, 0)));
                    var r = n(e, t);
                    return new Yo(r.from, r.to)
                }

                function ai(e, t, n, r) {
                    var i, o;
                    if (t.touches) i = t.touches[0].clientX, o = t.touches[0].clientY;
                    else try {
                        i = t.clientX, o = t.clientY
                    } catch (e) {
                        return !1
                    }
                    if (i >= Math.floor(e.display.gutters.getBoundingClientRect().right)) return !1;
                    r && I(t);
                    var a = e.display,
                        l = a.lineDiv.getBoundingClientRect();
                    if (o > l.bottom || !O(e, n)) return H(t);
                    o -= l.top - a.viewOffset;
                    for (var s = 0; s < e.display.gutterSpecs.length; ++s) {
                        var c = a.gutters.childNodes[s];
                        if (c && c.getBoundingClientRect().right >= i) return D(e, n, e, Y(e.doc, o), e.display.gutterSpecs[s].className, t), H(t)
                    }
                }

                function li(e, t) {
                    return ai(e, t, "gutterClick", !0)
                }

                function si(e, t) {
                    var n, r;
                    et(e.display, t) || (r = t, O(n = e, "gutterContextMenu") && ai(n, r, "gutterContextMenu", !1)) || F(e, t, "contextmenu") || Yi || e.display.input.onContextMenu(t)
                }

                function ci(e) {
                    e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), mt(e)
                }

                function ui(e, t) {
                    var o = this;
                    if (!(this instanceof ui)) return new ui(e, t);
                    this.options = t = t ? u(t) : {}, u(va, t, !1);
                    var a = t.value;
                    "string" == typeof a ? a = new na(a, t.mode, null, t.lineSeparator, t.direction) : t.mode && (a.modeOption = t.mode), this.doc = a;
                    var l, s = new ui.inputStyles[t.inputStyle](this),
                        d = this.display = new function(e, t, n, o) {
                            var a = this;
                            this.input = n, a.scrollbarFiller = r("div", null, "CodeMirror-scrollbar-filler"), a.scrollbarFiller.setAttribute("cm-not-content", "true"), a.gutterFiller = r("div", null, "CodeMirror-gutter-filler"), a.gutterFiller.setAttribute("cm-not-content", "true"), a.lineDiv = i("div", null, "CodeMirror-code"), a.selectionDiv = r("div", null, null, "position: relative; z-index: 1"), a.cursorDiv = r("div", null, "CodeMirror-cursors"), a.measure = r("div", null, "CodeMirror-measure"), a.lineMeasure = r("div", null, "CodeMirror-measure"), a.lineSpace = i("div", [a.measure, a.lineMeasure, a.selectionDiv, a.cursorDiv, a.lineDiv], null, "position: relative; outline: none");
                            var l = i("div", [a.lineSpace], "CodeMirror-lines");
                            a.mover = r("div", [l], null, "position: relative"), a.sizer = r("div", [a.mover], "CodeMirror-sizer"), a.sizerWidth = null, a.heightForcer = r("div", null, null, "position: absolute; height: " + ho + "px; width: 1px;"), a.gutters = r("div", null, "CodeMirror-gutters"), a.lineGutter = null, a.scroller = r("div", [a.sizer, a.heightForcer, a.gutters], "CodeMirror-scroll"), a.scroller.setAttribute("tabIndex", "-1"), a.wrapper = r("div", [a.scrollbarFiller, a.gutterFiller, a.scroller], "CodeMirror"), Oi && zi < 8 && (a.gutters.style.zIndex = -1, a.scroller.style.paddingRight = 0), Ii || Ni && $i || (a.scroller.draggable = !0), e && (e.appendChild ? e.appendChild(a.wrapper) : e(a.wrapper)), a.viewFrom = a.viewTo = t.first, a.reportedViewFrom = a.reportedViewTo = t.first, a.view = [], a.renderedView = null, a.externalMeasured = null, a.viewOffset = 0, a.lastWrapHeight = a.lastWrapWidth = 0, a.updateLineNumbers = null, a.nativeBarWidth = a.barHeight = a.barWidth = 0, a.scrollbarsClipped = !1, a.lineNumWidth = a.lineNumInnerWidth = a.lineNumChars = null, a.alignWidgets = !1, a.cachedCharWidth = a.cachedTextHeight = a.cachedPaddingH = null, a.maxLine = null, a.maxLineLength = 0, a.maxLineChanged = !1, a.wheelDX = a.wheelDY = a.wheelStartX = a.wheelStartY = null, a.shift = !1, a.selForContextMenu = null, a.activeTouch = null, a.gutterSpecs = Fn(o.gutters, o.lineNumbers), En(a), n.init(a)
                        }(e, a, s, t);
                    for (l in ci(d.wrapper.CodeMirror = this), t.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), mn(this), this.state = {
                            keyMaps: [],
                            overlays: [],
                            modeGen: 0,
                            overwrite: !1,
                            delayingBlurEvent: !1,
                            focused: !1,
                            suppressEdits: !1,
                            pasteIncoming: -1,
                            cutIncoming: -1,
                            selectingText: !1,
                            draggingText: !1,
                            highlight: new eo,
                            keySeq: null,
                            specialChars: null
                        }, t.autofocus && !$i && d.input.focus(), Oi && zi < 11 && setTimeout(function() {
                            return o.display.input.reset(!0)
                        }, 20), function(e) {
                            function t() {
                                o.activeTouch && (a = setTimeout(function() {
                                    return o.activeTouch = null
                                }, 1e3), (l = o.activeTouch).end = +new Date)
                            }

                            function i(e, t) {
                                if (null == t.left) return 1;
                                var n = t.left - e.left,
                                    r = t.top - e.top;
                                return 400 < n * n + r * r
                            }
                            var o = e.display;
                            Co(o.scroller, "mousedown", yn(e, ii)), Co(o.scroller, "dblclick", Oi && zi < 11 ? yn(e, function(t) {
                                var n, r;
                                F(e, t) || !(n = It(e, t)) || li(e, t) || et(e.display, t) || (I(t), r = e.findWordAt(n), ir(e.doc, r.anchor, r.head))
                            }) : function(t) {
                                return F(e, t) || I(t)
                            }), Co(o.scroller, "contextmenu", function(t) {
                                return si(e, t)
                            }), Co(o.input.getField(), "contextmenu", function(t) {
                                o.scroller.contains(t.target) || si(e, t)
                            });
                            var a, l = {
                                end: 0
                            };
                            Co(o.scroller, "touchstart", function(t) {
                                var n;
                                F(e, t) || function(e) {
                                    if (1 == e.touches.length) {
                                        var t = e.touches[0];
                                        return t.radiusX <= 1 && t.radiusY <= 1
                                    }
                                }(t) || li(e, t) || (o.input.ensurePolled(), clearTimeout(a), n = +new Date, o.activeTouch = {
                                    start: n,
                                    moved: !1,
                                    prev: n - l.end <= 300 ? l : null
                                }, 1 == t.touches.length && (o.activeTouch.left = t.touches[0].pageX, o.activeTouch.top = t.touches[0].pageY))
                            }), Co(o.scroller, "touchmove", function() {
                                o.activeTouch && (o.activeTouch.moved = !0)
                            }), Co(o.scroller, "touchend", function(n) {
                                var r, a, l = o.activeTouch;
                                l && !et(o, n) && null != l.left && !l.moved && new Date - l.start < 300 && (r = e.coordsChar(o.activeTouch, "page"), a = !l.prev || i(l, l.prev) ? new Yo(r, r) : !l.prev.prev || i(l, l.prev.prev) ? e.findWordAt(r) : new Yo(ee(r.line, 0), le(e.doc, ee(r.line + 1, 0))), e.setSelection(a.anchor, a.head), e.focus(), I(n)), t()
                            }), Co(o.scroller, "touchcancel", t), Co(o.scroller, "scroll", function() {
                                o.scroller.clientHeight && (ln(e, o.scroller.scrollTop), cn(e, o.scroller.scrollLeft, !0), D(e, "scroll", e))
                            }), Co(o.scroller, "mousewheel", function(t) {
                                return In(e, t)
                            }), Co(o.scroller, "DOMMouseScroll", function(t) {
                                return In(e, t)
                            }), Co(o.wrapper, "scroll", function() {
                                return o.wrapper.scrollTop = o.wrapper.scrollLeft = 0
                            }), o.dragFunctions = {
                                enter: function(t) {
                                    F(e, t) || W(t)
                                },
                                over: function(t) {
                                    var i, o, a;
                                    F(e, t) || ((a = It(i = e, t)) && ($t(i, a, o = document.createDocumentFragment()), i.display.dragCursor || (i.display.dragCursor = r("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), i.display.lineSpace.insertBefore(i.display.dragCursor, i.display.cursorDiv)), n(i.display.dragCursor, o)), W(t))
                                },
                                start: function(t) {
                                    return n = e, i = t, void(Oi && (!n.state.draggingText || new Date - ra < 100) ? W(i) : F(n, i) || et(n.display, i) || (i.dataTransfer.setData("Text", n.getSelection()), i.dataTransfer.effectAllowed = "copyMove", i.dataTransfer.setDragImage && !Pi && ((o = r("img", null, null, "position: fixed; left: 0; top: 0;")).src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", Wi && (o.width = o.height = 1, n.display.wrapper.appendChild(o), o._top = o.offsetTop), i.dataTransfer.setDragImage(o, 0, 0), Wi && o.parentNode.removeChild(o))));
                                    var n, i, o
                                },
                                drop: yn(e, Ir),
                                leave: function(t) {
                                    F(e, t) || Rr(e)
                                }
                            };
                            var s = o.input.getField();
                            Co(s, "keyup", function(t) {
                                return ni.call(e, t)
                            }), Co(s, "keydown", yn(e, ti)), Co(s, "keypress", yn(e, ri)), Co(s, "focus", function(t) {
                                return Kt(e, t)
                            }), Co(s, "blur", function(t) {
                                return Zt(e, t)
                            })
                        }(this), function() {
                            var e;
                            ia || (Co(window, "resize", function() {
                                null == e && (e = setTimeout(function() {
                                    e = null, Hr(Wr)
                                }, 100))
                            }), Co(window, "blur", function() {
                                return Hr(Zt)
                            }), ia = !0)
                        }(), gn(this), this.curOp.forceUpdate = !0, Vn(this, a), t.autofocus && !$i || this.hasFocus() ? setTimeout(c(Kt, this), 20) : Zt(this), xa) xa.hasOwnProperty(l) && xa[l](this, t[l], ga);
                    Dn(this), t.finishInit && t.finishInit(this);
                    for (var h = 0; h < ya.length; ++h) ya[h](this);
                    vn(this), Ii && t.lineWrapping && "optimizelegibility" == getComputedStyle(d.lineDiv).textRendering && (d.lineDiv.style.textRendering = "auto")
                }

                function di(e, t, n, r) {
                    var i, o = e.doc;
                    null == n && (n = "add"), "smart" == n && (o.mode.indent ? i = de(e, t).state : n = "prev");
                    var a = e.options.tabSize,
                        l = G(o, t),
                        s = d(l.text, null, a);
                    l.stateAfter && (l.stateAfter = null);
                    var c, u = l.text.match(/^\s*/)[0];
                    if (r || /\S/.test(l.text)) {
                        if ("smart" == n && ((c = o.mode.indent(i, l.text.slice(u.length), l.text)) == fo || 150 < c)) {
                            if (!r) return;
                            n = "prev"
                        }
                    } else c = 0, n = "not";
                    "prev" == n ? c = t > o.first ? d(G(o, t - 1).text, null, a) : 0 : "add" == n ? c = s + e.options.indentUnit : "subtract" == n ? c = s - e.options.indentUnit : "number" == typeof n && (c = s + n), c = Math.max(0, c);
                    var h = "",
                        f = 0;
                    if (e.options.indentWithTabs)
                        for (var m = Math.floor(c / a); m; --m) f += a, h += "\t";
                    if (f < c && (h += p(c - f)), h != u) return Sr(o, h, ee(t, 0), ee(t, u.length), "+input"), !(l.stateAfter = null);
                    for (var g = 0; g < o.sel.ranges.length; g++) {
                        var v = o.sel.ranges[g];
                        if (v.head.line == t && v.head.ch < u.length) {
                            var x = ee(t, u.length);
                            ar(o, g, new Yo(x, x));
                            break
                        }
                    }
                }

                function hi(e) {
                    ba = e
                }

                function fi(e, t, n, r, i) {
                    var o = e.doc;
                    e.display.shift = !1, r = r || o.sel;
                    var a = new Date - 200,
                        l = "paste" == i || e.state.pasteIncoming > a,
                        s = Lo(t),
                        c = null;
                    if (l && 1 < r.ranges.length)
                        if (ba && ba.text.join("\n") == t) {
                            if (r.ranges.length % ba.text.length == 0) {
                                c = [];
                                for (var u = 0; u < ba.text.length; u++) c.push(o.splitLines(ba.text[u]))
                            }
                        } else s.length == r.ranges.length && e.options.pasteLinesPerSelection && (c = g(s, function(e) {
                            return [e]
                        }));
                    for (var d = e.curOp.updateInput, h = r.ranges.length - 1; 0 <= h; h--) {
                        var f = r.ranges[h],
                            p = f.from(),
                            v = f.to();
                        f.empty() && (n && 0 < n ? p = ee(p.line, p.ch - n) : e.state.overwrite && !l ? v = ee(v.line, Math.min(G(o, v.line).text.length, v.ch + m(s).length)) : l && ba && ba.lineWise && ba.text.join("\n") == s.join("\n") && (p = v = ee(p.line, 0)));
                        var x = {
                            from: p,
                            to: v,
                            text: c ? c[h % c.length] : s,
                            origin: i || (l ? "paste" : e.state.cutIncoming > a ? "cut" : "+input")
                        };
                        yr(e.doc, x), $e(e, "inputRead", e, x)
                    }
                    t && !l && mi(e, t), nn(e), e.curOp.updateInput < 2 && (e.curOp.updateInput = d), e.curOp.typing = !0, e.state.pasteIncoming = e.state.cutIncoming = -1
                }

                function pi(e, t) {
                    var n = e.clipboardData && e.clipboardData.getData("Text");
                    return n && (e.preventDefault(), t.isReadOnly() || t.options.disableInput || xn(t, function() {
                        return fi(t, n, 0, null, "paste")
                    }), 1)
                }

                function mi(e, t) {
                    if (e.options.electricChars && e.options.smartIndent)
                        for (var n = e.doc.sel, r = n.ranges.length - 1; 0 <= r; r--) {
                            var i = n.ranges[r];
                            if (!(100 < i.head.ch || r && n.ranges[r - 1].head.line == i.head.line)) {
                                var o = e.getModeAt(i.head),
                                    a = !1;
                                if (o.electricChars) {
                                    for (var l = 0; l < o.electricChars.length; l++)
                                        if (-1 < t.indexOf(o.electricChars.charAt(l))) {
                                            a = di(e, i.head.line, "smart");
                                            break
                                        }
                                } else o.electricInput && o.electricInput.test(G(e.doc, i.head.line).text.slice(0, i.head.ch)) && (a = di(e, i.head.line, "smart"));
                                a && $e(e, "electricInput", e, i.head.line)
                            }
                        }
                }

                function gi(e) {
                    for (var t = [], n = [], r = 0; r < e.doc.sel.ranges.length; r++) {
                        var i = e.doc.sel.ranges[r].head.line,
                            o = {
                                anchor: ee(i, 0),
                                head: ee(i + 1, 0)
                            };
                        n.push(o), t.push(e.getRange(o.anchor, o.head))
                    }
                    return {
                        text: t,
                        ranges: n
                    }
                }

                function vi(e, t, n, r) {
                    e.setAttribute("autocorrect", n ? "" : "off"), e.setAttribute("autocapitalize", r ? "" : "off"), e.setAttribute("spellcheck", !!t)
                }

                function xi() {
                    var e = r("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
                        t = r("div", [e], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
                    return Ii ? e.style.width = "1000px" : e.setAttribute("wrap", "off"), ji && (e.style.border = "1px solid black"), vi(e), t
                }

                function yi(e, t, n, r, i) {
                    function o(r) {
                        var o, a = i ? function(e, t, n, r) {
                            function i(e, n) {
                                return Gr(t, e instanceof ee ? e.ch : e, n)
                            }

                            function o(n) {
                                return e.options.lineWrapping ? (u = u || ut(e, t), Mt(e, t, u, n)) : {
                                    begin: 0,
                                    end: t.text.length
                                }
                            }

                            function a(e, t, r) {
                                for (var o = function(e, t) {
                                        return t ? new ee(n.line, i(e, 1), "before") : new ee(n.line, e, "after")
                                    }; 0 <= e && e < l.length; e += t) {
                                    var a = l[e],
                                        s = 0 < t == (1 != a.level),
                                        c = s ? r.begin : i(r.end, -1);
                                    if (a.from <= c && c < a.to) return o(c, s);
                                    if (c = s ? a.from : i(a.to, -1), r.begin <= c && c < r.end) return o(c, s)
                                }
                            }
                            var l = M(t, e.doc.direction);
                            if (!l) return Vr(t, n, r);
                            n.ch >= t.text.length ? (n.ch = t.text.length, n.sticky = "before") : n.ch <= 0 && (n.ch = 0, n.sticky = "after");
                            var s = L(l, n.ch, n.sticky),
                                c = l[s];
                            if ("ltr" == e.doc.direction && c.level % 2 == 0 && (0 < r ? c.to > n.ch : c.from < n.ch)) return Vr(t, n, r);
                            var u, d = o("before" == n.sticky ? i(n, -1) : n.ch);
                            if ("rtl" == e.doc.direction || 1 == c.level) {
                                var h = 1 == c.level == r < 0,
                                    f = i(n, h ? 1 : -1);
                                if (null != f && (h ? f <= c.to && f <= d.end : f >= c.from && f >= d.begin)) {
                                    var p = h ? "before" : "after";
                                    return new ee(n.line, f, p)
                                }
                            }
                            var m = a(s + r, r, d);
                            if (m) return m;
                            var g = 0 < r ? d.end : i(d.begin, -1);
                            return null == g || 0 < r && g == t.text.length || !(m = a(0 < r ? 0 : l.length - 1, r, o(g))) ? null : m
                        }(e.cm, s, t, n) : Vr(s, t, n);
                        if (null == a) {
                            if (r || (o = t.line + c) < e.first || o >= e.first + e.size || (t = new ee(o, t.ch, t.sticky), !(s = G(e, o)))) return;
                            t = Xr(i, e.cm, s, t.line, c)
                        } else t = a;
                        return 1
                    }
                    var a = t,
                        l = n,
                        s = G(e, t.line),
                        c = i && "rtl" == e.direction ? -n : n;
                    if ("char" == r) o();
                    else if ("column" == r) o(!0);
                    else if ("word" == r || "group" == r)
                        for (var u = null, d = "group" == r, h = e.cm && e.cm.getHelper(t, "wordChars"), f = !0; !(n < 0) || o(!f); f = !1) {
                            var p = s.text.charAt(t.ch) || "\n",
                                m = b(p, h) ? "w" : d && "\n" == p ? "n" : !d || /\s/.test(p) ? null : "p";
                            if (!d || f || m || (m = "s"), u && u != m) {
                                n < 0 && (n = 1, o(), t.sticky = "after");
                                break
                            }
                            if (m && (u = m), 0 < n && !o(!f)) break
                        }
                    var g = mr(e, t, a, l, !0);
                    return ne(a, g) && (g.hitSide = !0), g
                }

                function bi(e, t, n, r) {
                    var i, o, a, l, s = e.doc,
                        c = t.left;
                    for ("page" == r ? (i = Math.min(e.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight), o = Math.max(i - .5 * Nt(e.display), 3), a = (0 < n ? t.bottom : t.top) + n * o) : "line" == r && (a = 0 < n ? t.bottom + 3 : t.top - 3);
                        (l = Lt(e, c, a)).outside;) {
                        if (n < 0 ? a <= 0 : a >= s.height) {
                            l.hitSide = !0;
                            break
                        }
                        a += 5 * n
                    }
                    return l
                }

                function ki(e) {
                    this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new eo, this.composing = null, this.gracePeriod = !1, this.readDOMTimeout = null
                }

                function wi(e, t) {
                    var n = ct(e, t.line);
                    if (!n || n.hidden) return null;
                    var r = G(e.doc, t.line),
                        i = lt(n, r, t.line),
                        o = M(r, e.doc.direction),
                        a = "left";
                    o && (a = L(o, t.ch) % 2 ? "right" : "left");
                    var l = ht(i.map, t.ch, a);
                    return l.offset = "right" == l.collapse ? l.end : l.start, l
                }

                function Ci(e, t) {
                    return t && (e.bad = !0), e
                }

                function Si(e, t, n) {
                    var r;
                    if (t == e.display.lineDiv) {
                        if (!(r = e.display.lineDiv.childNodes[n])) return Ci(e.clipPos(ee(e.display.viewTo - 1)), !0);
                        t = null, n = 0
                    } else
                        for (r = t;; r = r.parentNode) {
                            if (!r || r == e.display.lineDiv) return null;
                            if (r.parentNode && r.parentNode == e.display.lineDiv) break
                        }
                    for (var i = 0; i < e.display.view.length; i++) {
                        var a = e.display.view[i];
                        if (a.node == r) return function(e, t, n) {
                            function r(t, n, r) {
                                for (var i = -1; i < (d ? d.length : 0); i++)
                                    for (var o = i < 0 ? u.map : d[i], a = 0; a < o.length; a += 3) {
                                        var l = o[a + 2];
                                        if (l == t || l == n) {
                                            var s = Z(i < 0 ? e.line : e.rest[i]),
                                                c = o[a] + r;
                                            return (r < 0 || l != t) && (c = o[a + (r ? 1 : 0)]), ee(s, c)
                                        }
                                    }
                            }
                            var i = e.text.firstChild,
                                a = !1;
                            if (!t || !o(i, t)) return Ci(ee(Z(e.line), 0), !0);
                            if (t == i && (a = !0, t = i.childNodes[n], n = 0, !t)) {
                                var l = e.rest ? m(e.rest) : e.line;
                                return Ci(ee(Z(l), l.text.length), a)
                            }
                            var s = 3 == t.nodeType ? t : null,
                                c = t;
                            for (s || 1 != t.childNodes.length || 3 != t.firstChild.nodeType || (s = t.firstChild, n = n && s.nodeValue.length); c.parentNode != i;) c = c.parentNode;
                            var u = e.measure,
                                d = u.maps,
                                h = r(s, c, n);
                            if (h) return Ci(h, a);
                            for (var f = c.nextSibling, p = s ? s.nodeValue.length - n : 0; f; f = f.nextSibling) {
                                if (h = r(f, f.firstChild, 0)) return Ci(ee(h.line, h.ch - p), a);
                                p += f.textContent.length
                            }
                            for (var g = c.previousSibling, v = n; g; g = g.previousSibling) {
                                if (h = r(g, g.firstChild, -1)) return Ci(ee(h.line, h.ch + v), a);
                                v += g.textContent.length
                            }
                        }(a, t, n)
                    }
                }

                function Li(e) {
                    this.cm = e, this.prevInput = "", this.pollingFast = !1, this.polling = new eo, this.hasSelection = !1, this.composing = null
                }

                function Ti(e, t, n, r) {
                    ka.defaults[e] = t, n && (wa[e] = r ? function(e, t, r) {
                        r != ga && n(e, t, r)
                    } : n)
                }
                var Mi = navigator.userAgent,
                    Ai = navigator.platform,
                    Ni = /gecko\/\d/i.test(Mi),
                    Di = /MSIE \d/.test(Mi),
                    Fi = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mi),
                    Ei = /Edge\/(\d+)/.exec(Mi),
                    Oi = Di || Fi || Ei,
                    zi = Oi && (Di ? document.documentMode || 6 : +(Ei || Fi)[1]),
                    Ii = !Ei && /WebKit\//.test(Mi),
                    Ri = Ii && /Qt\/\d+\.\d+/.test(Mi),
                    Hi = !Ei && /Chrome\//.test(Mi),
                    Wi = /Opera\//.test(Mi),
                    Pi = /Apple Computer/.test(navigator.vendor),
                    _i = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Mi),
                    Bi = /PhantomJS/.test(Mi),
                    ji = !Ei && /AppleWebKit/.test(Mi) && /Mobile\/\w+/.test(Mi),
                    qi = /Android/.test(Mi),
                    $i = ji || qi || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Mi),
                    Ui = ji || /Mac/.test(Ai),
                    Gi = /\bCrOS\b/.test(Mi),
                    Vi = /win/i.test(Ai),
                    Xi = Wi && Mi.match(/Version\/(\d*\.\d*)/);
                (Xi = Xi && Number(Xi[1])) && 15 <= Xi && (Ii = !(Wi = !1));
                var Ki, Zi = Ui && (Ri || Wi && (null == Xi || Xi < 12.11)),
                    Yi = Ni || Oi && 9 <= zi,
                    Qi = function(t, n) {
                        var r, i = t.className,
                            o = e(n).exec(i);
                        o && (r = i.slice(o.index + o[0].length), t.className = i.slice(0, o.index) + (r ? o[1] + r : ""))
                    };
                Ki = document.createRange ? function(e, t, n, r) {
                    var i = document.createRange();
                    return i.setEnd(r || e, n), i.setStart(e, t), i
                } : function(e, t, n) {
                    var r = document.body.createTextRange();
                    try {
                        r.moveToElementText(e.parentNode)
                    } catch (e) {
                        return r
                    }
                    return r.collapse(!0), r.moveEnd("character", n), r.moveStart("character", t), r
                };
                var Ji = function(e) {
                    e.select()
                };
                ji ? Ji = function(e) {
                    e.selectionStart = 0, e.selectionEnd = e.value.length
                } : Oi && (Ji = function(e) {
                    try {
                        e.select()
                    } catch (e) {}
                });
                var eo = function() {
                    this.id = null, this.f = null, this.time = 0, this.handler = c(this.onTimeout, this)
                };
                eo.prototype.onTimeout = function(e) {
                    e.id = 0, e.time <= +new Date ? e.f() : setTimeout(e.handler, e.time - new Date)
                }, eo.prototype.set = function(e, t) {
                    this.f = t;
                    var n = +new Date + e;
                    (!this.id || n < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, e), this.time = n)
                };
                var to, no, ro, io, oo, ao, lo, so, co, uo, ho = 50,
                    fo = {
                        toString: function() {
                            return "CodeMirror.Pass"
                        }
                    },
                    po = {
                        scroll: !1
                    },
                    mo = {
                        origin: "*mouse"
                    },
                    go = {
                        origin: "+move"
                    },
                    vo = [""],
                    xo = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
                    yo = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
                    bo = null,
                    ko = (to = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", no = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111", ro = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, io = /[stwN]/, oo = /[LRr]/, ao = /[Lb1n]/, lo = /[1n]/, function(e, t) {
                        var n = "ltr" == t ? "L" : "R";
                        if (0 == e.length || "ltr" == t && !ro.test(e)) return !1;
                        for (var r, i = e.length, o = [], a = 0; a < i; ++a) o.push((r = e.charCodeAt(a)) <= 247 ? to.charAt(r) : 1424 <= r && r <= 1524 ? "R" : 1536 <= r && r <= 1785 ? no.charAt(r - 1536) : 1774 <= r && r <= 2220 ? "r" : 8192 <= r && r <= 8203 ? "w" : 8204 == r ? "b" : "L");
                        for (var l = 0, s = n; l < i; ++l) {
                            var c = o[l];
                            "m" == c ? o[l] = s : s = c
                        }
                        for (var u = 0, d = n; u < i; ++u) {
                            var h = o[u];
                            "1" == h && "r" == d ? o[u] = "n" : oo.test(h) && "r" == (d = h) && (o[u] = "R")
                        }
                        for (var f = 1, p = o[0]; f < i - 1; ++f) {
                            var g = o[f];
                            "+" == g && "1" == p && "1" == o[f + 1] ? o[f] = "1" : "," != g || p != o[f + 1] || "1" != p && "n" != p || (o[f] = p), p = g
                        }
                        for (var v = 0; v < i; ++v) {
                            var x = o[v];
                            if ("," == x) o[v] = "N";
                            else if ("%" == x) {
                                for (var y = void 0, y = v + 1; y < i && "%" == o[y]; ++y);
                                for (var b = v && "!" == o[v - 1] || y < i && "1" == o[y] ? "1" : "N", k = v; k < y; ++k) o[k] = b;
                                v = y - 1
                            }
                        }
                        for (var w = 0, C = n; w < i; ++w) {
                            var S = o[w];
                            "L" == C && "1" == S ? o[w] = "L" : oo.test(S) && (C = S)
                        }
                        for (var L = 0; L < i; ++L)
                            if (io.test(o[L])) {
                                for (var M = void 0, M = L + 1; M < i && io.test(o[M]); ++M);
                                for (var A = "L" == (L ? o[L - 1] : n), N = A == ("L" == (M < i ? o[M] : n)) ? A ? "L" : "R" : n, D = L; D < M; ++D) o[D] = N;
                                L = M - 1
                            }
                        for (var F, E = [], O = 0; O < i;)
                            if (ao.test(o[O])) {
                                var z = O;
                                for (++O; O < i && ao.test(o[O]); ++O);
                                E.push(new T(0, z, O))
                            } else {
                                var I = O,
                                    R = E.length,
                                    H = "rtl" == t ? 1 : 0;
                                for (++O; O < i && "L" != o[O]; ++O);
                                for (var W = I; W < O;)
                                    if (lo.test(o[W])) {
                                        I < W && (E.splice(R, 0, new T(1, I, W)), R += H);
                                        var P = W;
                                        for (++W; W < O && lo.test(o[W]); ++W);
                                        E.splice(R, 0, new T(2, P, W)), R += H, I = W
                                    } else ++W;
                                I < O && E.splice(R, 0, new T(1, I, O))
                            }
                        return "ltr" == t && (1 == E[0].level && (F = e.match(/^\s+/)) && (E[0].from = F[0].length, E.unshift(new T(0, 0, F[0].length))), 1 == m(E).level && (F = e.match(/\s+$/)) && (m(E).to -= F[0].length, E.push(new T(0, i - F[0].length, i)))), "rtl" == t ? E.reverse() : E
                    }),
                    wo = [],
                    Co = function(e, t, n) {
                        var r;
                        if (e.addEventListener) try {
                            e.addEventListener(t, n, {
                                passive: !1
                            })
                        } catch (r) {
                            e.addEventListener(t, n, !1)
                        } else e.attachEvent ? e.attachEvent("on" + t, n) : (r = e._handlers || (e._handlers = {}))[t] = (r[t] || wo).concat(n)
                    },
                    So = function() {
                        if (Oi && zi < 9) return !1;
                        var e = r("div");
                        return "draggable" in e || "dragDrop" in e
                    }(),
                    Lo = 3 != "\n\nb".split(/\n/).length ? function(e) {
                        for (var t = 0, n = [], r = e.length; t <= r;) {
                            var i = e.indexOf("\n", t); - 1 == i && (i = e.length);
                            var o = e.slice(t, "\r" == e.charAt(i - 1) ? i - 1 : i),
                                a = o.indexOf("\r"); - 1 != a ? (n.push(o.slice(0, a)), t += a + 1) : (n.push(o), t = i + 1)
                        }
                        return n
                    } : function(e) {
                        return e.split(/\r\n?|\n/)
                    },
                    To = window.getSelection ? function(e) {
                        try {
                            return e.selectionStart != e.selectionEnd
                        } catch (e) {
                            return !1
                        }
                    } : function(e) {
                        var t;
                        try {
                            t = e.ownerDocument.selection.createRange()
                        } catch (e) {}
                        return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints("StartToEnd", t)
                    },
                    Mo = "oncopy" in (uo = r("div")) || (uo.setAttribute("oncopy", "return;"), "function" == typeof uo.oncopy),
                    Ao = null,
                    No = {},
                    Do = {},
                    Fo = {},
                    Eo = function(e, t, n) {
                        this.pos = this.start = 0, this.string = e, this.tabSize = t || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = n
                    };
                Eo.prototype.eol = function() {
                    return this.pos >= this.string.length
                }, Eo.prototype.sol = function() {
                    return this.pos == this.lineStart
                }, Eo.prototype.peek = function() {
                    return this.string.charAt(this.pos) || void 0
                }, Eo.prototype.next = function() {
                    if (this.pos < this.string.length) return this.string.charAt(this.pos++)
                }, Eo.prototype.eat = function(e) {
                    var t = this.string.charAt(this.pos);
                    if ("string" == typeof e ? t == e : t && (e.test ? e.test(t) : e(t))) return ++this.pos, t
                }, Eo.prototype.eatWhile = function(e) {
                    for (var t = this.pos; this.eat(e););
                    return this.pos > t
                }, Eo.prototype.eatSpace = function() {
                    for (var e = this.pos;
                        /[\s\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
                    return this.pos > e
                }, Eo.prototype.skipToEnd = function() {
                    this.pos = this.string.length
                }, Eo.prototype.skipTo = function(e) {
                    var t = this.string.indexOf(e, this.pos);
                    if (-1 < t) return this.pos = t, !0
                }, Eo.prototype.backUp = function(e) {
                    this.pos -= e
                }, Eo.prototype.column = function() {
                    return this.lastColumnPos < this.start && (this.lastColumnValue = d(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? d(this.string, this.lineStart, this.tabSize) : 0)
                }, Eo.prototype.indentation = function() {
                    return d(this.string, null, this.tabSize) - (this.lineStart ? d(this.string, this.lineStart, this.tabSize) : 0)
                }, Eo.prototype.match = function(e, t, n) {
                    function r(e) {
                        return n ? e.toLowerCase() : e
                    }
                    if ("string" != typeof e) {
                        var i = this.string.slice(this.pos).match(e);
                        return i && 0 < i.index ? null : (i && !1 !== t && (this.pos += i[0].length), i)
                    }
                    if (r(this.string.substr(this.pos, e.length)) == r(e)) return !1 !== t && (this.pos += e.length), !0
                }, Eo.prototype.current = function() {
                    return this.string.slice(this.start, this.pos)
                }, Eo.prototype.hideFirstChars = function(e, t) {
                    this.lineStart += e;
                    try {
                        return t()
                    } finally {
                        this.lineStart -= e
                    }
                }, Eo.prototype.lookAhead = function(e) {
                    var t = this.lineOracle;
                    return t && t.lookAhead(e)
                }, Eo.prototype.baseToken = function() {
                    var e = this.lineOracle;
                    return e && e.baseToken(this.pos)
                };
                var Oo = function(e, t) {
                        this.state = e, this.lookAhead = t
                    },
                    zo = function(e, t, n, r) {
                        this.state = t, this.doc = e, this.line = n, this.maxLookAhead = r || 0, this.baseTokens = null, this.baseTokenPos = 1
                    };
                zo.prototype.lookAhead = function(e) {
                    var t = this.doc.getLine(this.line + e);
                    return null != t && e > this.maxLookAhead && (this.maxLookAhead = e), t
                }, zo.prototype.baseToken = function(e) {
                    if (!this.baseTokens) return null;
                    for (; this.baseTokens[this.baseTokenPos] <= e;) this.baseTokenPos += 2;
                    var t = this.baseTokens[this.baseTokenPos + 1];
                    return {
                        type: t && t.replace(/( |^)overlay .*/, ""),
                        size: this.baseTokens[this.baseTokenPos] - e
                    }
                }, zo.prototype.nextLine = function() {
                    this.line++, 0 < this.maxLookAhead && this.maxLookAhead--
                }, zo.fromSaved = function(e, t, n) {
                    return t instanceof Oo ? new zo(e, q(e.mode, t.state), n, t.lookAhead) : new zo(e, q(e.mode, t), n)
                }, zo.prototype.save = function(e) {
                    var t = !1 !== e ? q(this.doc.mode, this.state) : this.state;
                    return 0 < this.maxLookAhead ? new Oo(t, this.maxLookAhead) : t
                };
                var Io = function(e, t, n) {
                        this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = t || null, this.state = n
                    },
                    Ro = !1,
                    Ho = !1,
                    Wo = function(e, t, n) {
                        this.text = e, Ce(this, t), this.height = n ? n(this) : 1
                    };
                Wo.prototype.lineNo = function() {
                    return Z(this)
                }, z(Wo);
                var Po, _o = {},
                    Bo = {},
                    jo = null,
                    qo = null,
                    $o = {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0
                    };
                dn.prototype.update = function(e) {
                    var t, n, r = e.scrollWidth > e.clientWidth + 1,
                        i = e.scrollHeight > e.clientHeight + 1,
                        o = e.nativeBarWidth;
                    return i ? (this.vert.style.display = "block", this.vert.style.bottom = r ? o + "px" : "0", t = e.viewHeight - (r ? o : 0), this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + t) + "px") : (this.vert.style.display = "", this.vert.firstChild.style.height = "0"), r ? (this.horiz.style.display = "block", this.horiz.style.right = i ? o + "px" : "0", this.horiz.style.left = e.barLeft + "px", n = e.viewWidth - e.barLeft - (i ? o : 0), this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + n) + "px") : (this.horiz.style.display = "", this.horiz.firstChild.style.width = "0"), !this.checkedZeroWidth && 0 < e.clientHeight && (0 == o && this.zeroWidthHack(), this.checkedZeroWidth = !0), {
                        right: i ? o : 0,
                        bottom: r ? o : 0
                    }
                }, dn.prototype.setScrollLeft = function(e) {
                    this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz")
                }, dn.prototype.setScrollTop = function(e) {
                    this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert")
                }, dn.prototype.zeroWidthHack = function() {
                    var e = Ui && !_i ? "12px" : "18px";
                    this.horiz.style.height = this.vert.style.width = e, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none", this.disableHoriz = new eo, this.disableVert = new eo
                }, dn.prototype.enableZeroWidthBar = function(e, t, n) {
                    e.style.pointerEvents = "auto", t.set(1e3, function r() {
                        var i = e.getBoundingClientRect();
                        ("vert" == n ? document.elementFromPoint(i.right - 1, (i.top + i.bottom) / 2) : document.elementFromPoint((i.right + i.left) / 2, i.bottom - 1)) != e ? e.style.pointerEvents = "none" : t.set(1e3, r)
                    })
                }, dn.prototype.clear = function() {
                    var e = this.horiz.parentNode;
                    e.removeChild(this.horiz), e.removeChild(this.vert)
                }, hn.prototype.update = function() {
                    return {
                        bottom: 0,
                        right: 0
                    }
                }, hn.prototype.setScrollLeft = function() {}, hn.prototype.setScrollTop = function() {}, hn.prototype.clear = function() {};
                var Uo = {
                        native: dn,
                        null: hn
                    },
                    Go = 0,
                    Vo = function(e, t, n) {
                        var r = e.display;
                        this.viewport = t, this.visible = Jt(r, e.doc, t), this.editorIsHidden = !r.wrapper.offsetWidth, this.wrapperHeight = r.wrapper.clientHeight, this.wrapperWidth = r.wrapper.clientWidth, this.oldDisplayWidth = ot(e), this.force = n, this.dims = Ft(e), this.events = []
                    };
                Vo.prototype.signal = function(e, t) {
                    O(e, t) && this.events.push(arguments)
                }, Vo.prototype.finish = function() {
                    for (var e = 0; e < this.events.length; e++) D.apply(null, this.events[e])
                };
                var Xo = 0,
                    Ko = null;
                Oi ? Ko = -.53 : Ni ? Ko = 15 : Hi ? Ko = -.7 : Pi && (Ko = -1 / 3);
                var Zo = function(e, t) {
                    this.ranges = e, this.primIndex = t
                };
                Zo.prototype.primary = function() {
                    return this.ranges[this.primIndex]
                }, Zo.prototype.equals = function(e) {
                    if (e == this) return !0;
                    if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length) return !1;
                    for (var t = 0; t < this.ranges.length; t++) {
                        var n = this.ranges[t],
                            r = e.ranges[t];
                        if (!ne(n.anchor, r.anchor) || !ne(n.head, r.head)) return !1
                    }
                    return !0
                }, Zo.prototype.deepCopy = function() {
                    for (var e = [], t = 0; t < this.ranges.length; t++) e[t] = new Yo(re(this.ranges[t].anchor), re(this.ranges[t].head));
                    return new Zo(e, this.primIndex)
                }, Zo.prototype.somethingSelected = function() {
                    for (var e = 0; e < this.ranges.length; e++)
                        if (!this.ranges[e].empty()) return !0;
                    return !1
                }, Zo.prototype.contains = function(e, t) {
                    t = t || e;
                    for (var n = 0; n < this.ranges.length; n++) {
                        var r = this.ranges[n];
                        if (0 <= te(t, r.from()) && te(e, r.to()) <= 0) return n
                    }
                    return -1
                };
                var Yo = function(e, t) {
                    this.anchor = e, this.head = t
                };
                Yo.prototype.from = function() {
                    return oe(this.anchor, this.head)
                }, Yo.prototype.to = function() {
                    return ie(this.anchor, this.head)
                }, Yo.prototype.empty = function() {
                    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
                }, Nr.prototype = {
                    chunkSize: function() {
                        return this.lines.length
                    },
                    removeInner: function(e, t) {
                        for (var n, r = e, i = e + t; r < i; ++r) {
                            var o = this.lines[r];
                            this.height -= o.height, (n = o).parent = null, we(n), $e(o, "delete")
                        }
                        this.lines.splice(e, t)
                    },
                    collapse: function(e) {
                        e.push.apply(e, this.lines)
                    },
                    insertInner: function(e, t, n) {
                        this.height += n, this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e));
                        for (var r = 0; r < t.length; ++r) t[r].parent = this
                    },
                    iterN: function(e, t, n) {
                        for (var r = e + t; e < r; ++e)
                            if (n(this.lines[e])) return !0
                    }
                }, Dr.prototype = {
                    chunkSize: function() {
                        return this.size
                    },
                    removeInner: function(e, t) {
                        this.size -= t;
                        for (var n, r = 0; r < this.children.length; ++r) {
                            var i = this.children[r],
                                o = i.chunkSize();
                            if (e < o) {
                                var a = Math.min(t, o - e),
                                    l = i.height;
                                if (i.removeInner(e, a), this.height -= l - i.height, o == a && (this.children.splice(r--, 1), i.parent = null), 0 == (t -= a)) break;
                                e = 0
                            } else e -= o
                        }
                        this.size - t < 25 && (1 < this.children.length || !(this.children[0] instanceof Nr)) && (n = [], this.collapse(n), this.children = [new Nr(n)], this.children[0].parent = this)
                    },
                    collapse: function(e) {
                        for (var t = 0; t < this.children.length; ++t) this.children[t].collapse(e)
                    },
                    insertInner: function(e, t, n) {
                        this.size += t.length, this.height += n;
                        for (var r = 0; r < this.children.length; ++r) {
                            var i = this.children[r],
                                o = i.chunkSize();
                            if (e <= o) {
                                if (i.insertInner(e, t, n), i.lines && 50 < i.lines.length) {
                                    for (var a = i.lines.length % 25 + 25, l = a; l < i.lines.length;) {
                                        var s = new Nr(i.lines.slice(l, l += 25));
                                        i.height -= s.height, this.children.splice(++r, 0, s), s.parent = this
                                    }
                                    i.lines = i.lines.slice(0, a), this.maybeSpill()
                                }
                                break
                            }
                            e -= o
                        }
                    },
                    maybeSpill: function() {
                        if (!(this.children.length <= 10)) {
                            var e = this;
                            do {
                                var t, n, r = new Dr(e.children.splice(e.children.length - 5, 5));
                                e.parent ? (e.size -= r.size, e.height -= r.height, t = h(e.parent.children, e), e.parent.children.splice(t + 1, 0, r)) : (((n = new Dr(e.children)).parent = e).children = [n, r], e = n), r.parent = e.parent
                            } while (10 < e.children.length);
                            e.parent.maybeSpill()
                        }
                    },
                    iterN: function(e, t, n) {
                        for (var r = 0; r < this.children.length; ++r) {
                            var i = this.children[r],
                                o = i.chunkSize();
                            if (e < o) {
                                var a = Math.min(t, o - e);
                                if (i.iterN(e, a, n)) return !0;
                                if (0 == (t -= a)) break;
                                e = 0
                            } else e -= o
                        }
                    }
                }, Fr.prototype.clear = function() {
                    var e = this.doc.cm,
                        t = this.line.widgets,
                        n = this.line,
                        r = Z(n);
                    if (null != r && t) {
                        for (var i = 0; i < t.length; ++i) t[i] == this && t.splice(i--, 1);
                        t.length || (n.widgets = null);
                        var o = Je(this);
                        K(n, Math.max(0, n.height - o)), e && (xn(e, function() {
                            Er(e, n, -o), Wt(e, r, "widget")
                        }), $e(e, "lineWidgetCleared", e, this, r))
                    }
                }, Fr.prototype.changed = function() {
                    var e = this,
                        t = this.height,
                        n = this.doc.cm,
                        r = this.line;
                    this.height = null;
                    var i = Je(this) - t;
                    i && (ze(this.doc, r) || K(r, r.height + i), n && xn(n, function() {
                        n.curOp.forceUpdate = !0, Er(n, r, i), $e(n, "lineWidgetChanged", n, e, Z(r))
                    }))
                }, z(Fr);
                var Qo = 0,
                    Jo = function(e, t) {
                        this.lines = [], this.type = t, this.doc = e, this.id = ++Qo
                    };
                Jo.prototype.clear = function() {
                    if (!this.explicitlyCleared) {
                        var e, t = this.doc.cm,
                            n = t && !t.curOp;
                        n && gn(t), !O(this, "clear") || (e = this.find()) && $e(this, "clear", e.from, e.to);
                        for (var r = null, i = null, o = 0; o < this.lines.length; ++o) {
                            var a = this.lines[o],
                                l = ye(a.markedSpans, this);
                            t && !this.collapsed ? Wt(t, Z(a), "text") : t && (null != l.to && (i = Z(a)), null != l.from && (r = Z(a))), a.markedSpans = function(e, t) {
                                for (var n, r = 0; r < e.length; ++r) e[r] != t && (n = n || []).push(e[r]);
                                return n
                            }(a.markedSpans, l), null == l.from && this.collapsed && !ze(this.doc, a) && t && K(a, Nt(t.display))
                        }
                        if (t && this.collapsed && !t.options.lineWrapping)
                            for (var s = 0; s < this.lines.length; ++s) {
                                var c = Fe(this.lines[s]),
                                    u = Re(c);
                                u > t.display.maxLineLength && (t.display.maxLine = c, t.display.maxLineLength = u, t.display.maxLineChanged = !0)
                            }
                        null != r && t && this.collapsed && Ht(t, r, i + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, t && hr(t.doc)), t && $e(t, "markerCleared", t, this, r, i), n && vn(t), this.parent && this.parent.clear()
                    }
                }, Jo.prototype.find = function(e, t) {
                    var n, r;
                    null == e && "bookmark" == this.type && (e = 1);
                    for (var i = 0; i < this.lines.length; ++i) {
                        var o = this.lines[i],
                            a = ye(o.markedSpans, this);
                        if (null != a.from && (n = ee(t ? o : Z(o), a.from), -1 == e)) return n;
                        if (null != a.to && (r = ee(t ? o : Z(o), a.to), 1 == e)) return r
                    }
                    return n && {
                        from: n,
                        to: r
                    }
                }, Jo.prototype.changed = function() {
                    var e = this,
                        t = this.find(-1, !0),
                        n = this,
                        r = this.doc.cm;
                    t && r && xn(r, function() {
                        var i, o, a = t.line,
                            l = Z(t.line),
                            s = ct(r, l);
                        s && (ft(s), r.curOp.selectionChanged = r.curOp.forceUpdate = !0), r.curOp.updateMaxLine = !0, ze(n.doc, a) || null == n.height || (i = n.height, n.height = null, (o = Je(n) - i) && K(a, a.height + o)), $e(r, "markerChanged", r, e)
                    })
                }, Jo.prototype.attachLine = function(e) {
                    var t;
                    !this.lines.length && this.doc.cm && ((t = this.doc.cm.curOp).maybeHiddenMarkers && -1 != h(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this)), this.lines.push(e)
                }, Jo.prototype.detachLine = function(e) {
                    var t;
                    this.lines.splice(h(this.lines, e), 1), !this.lines.length && this.doc.cm && ((t = this.doc.cm.curOp).maybeHiddenMarkers || (t.maybeHiddenMarkers = [])).push(this)
                }, z(Jo);
                var ea = function(e, t) {
                    this.markers = e, this.primary = t;
                    for (var n = 0; n < e.length; ++n) e[n].parent = this
                };
                ea.prototype.clear = function() {
                    if (!this.explicitlyCleared) {
                        this.explicitlyCleared = !0;
                        for (var e = 0; e < this.markers.length; ++e) this.markers[e].clear();
                        $e(this, "clear")
                    }
                }, ea.prototype.find = function(e, t) {
                    return this.primary.find(e, t)
                }, z(ea);
                var ta = 0,
                    na = function(e, t, n, r, i) {
                        if (!(this instanceof na)) return new na(e, t, n, r, i);
                        null == n && (n = 0), Dr.call(this, [new Nr([new Wo("", null)])]), this.first = n, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1;
                        var o = ee(this.modeFrontier = this.highlightFrontier = n, 0);
                        this.sel = Hn(o), this.history = new Kn(null), this.id = ++ta, this.modeOption = t, this.lineSep = r, this.direction = "rtl" == i ? "rtl" : "ltr", this.extend = !1, "string" == typeof e && (e = this.splitLines(e)), Un(this, {
                            from: o,
                            to: o,
                            text: e
                        }), cr(this, Hn(o), po)
                    };
                na.prototype = x(Dr.prototype, {
                    constructor: na,
                    iter: function(e, t, n) {
                        n ? this.iterN(e - this.first, t - e, n) : this.iterN(this.first, this.first + this.size, e)
                    },
                    insert: function(e, t) {
                        for (var n = 0, r = 0; r < t.length; ++r) n += t[r].height;
                        this.insertInner(e - this.first, t, n)
                    },
                    remove: function(e, t) {
                        this.removeInner(e - this.first, t)
                    },
                    getValue: function(e) {
                        var t = X(this, this.first, this.first + this.size);
                        return !1 === e ? t : t.join(e || this.lineSeparator())
                    },
                    setValue: kn(function(e) {
                        var t = ee(this.first, 0),
                            n = this.first + this.size - 1;
                        yr(this, {
                            from: t,
                            to: ee(n, G(this, n).text.length),
                            text: this.splitLines(e),
                            origin: "setValue",
                            full: !0
                        }, !0), this.cm && rn(this.cm, 0, 0), cr(this, Hn(t), po)
                    }),
                    replaceRange: function(e, t, n, r) {
                        Sr(this, e, t = le(this, t), n = n ? le(this, n) : t, r)
                    },
                    getRange: function(e, t, n) {
                        var r = V(this, le(this, e), le(this, t));
                        return !1 === n ? r : r.join(n || this.lineSeparator())
                    },
                    getLine: function(e) {
                        var t = this.getLineHandle(e);
                        return t && t.text
                    },
                    getLineHandle: function(e) {
                        if (Q(this, e)) return G(this, e)
                    },
                    getLineNumber: Z,
                    getLineHandleVisualStart: function(e) {
                        return "number" == typeof e && (e = G(this, e)), Fe(e)
                    },
                    lineCount: function() {
                        return this.size
                    },
                    firstLine: function() {
                        return this.first
                    },
                    lastLine: function() {
                        return this.first + this.size - 1
                    },
                    clipPos: function(e) {
                        return le(this, e)
                    },
                    getCursor: function(e) {
                        var t = this.sel.primary();
                        return null == e || "head" == e ? t.head : "anchor" == e ? t.anchor : "end" == e || "to" == e || !1 === e ? t.to() : t.from()
                    },
                    listSelections: function() {
                        return this.sel.ranges
                    },
                    somethingSelected: function() {
                        return this.sel.somethingSelected()
                    },
                    setCursor: kn(function(e, t, n) {
                        lr(this, le(this, "number" == typeof e ? ee(e, t || 0) : e), null, n)
                    }),
                    setSelection: kn(function(e, t, n) {
                        lr(this, le(this, e), le(this, t || e), n)
                    }),
                    extendSelection: kn(function(e, t, n) {
                        ir(this, le(this, e), t && le(this, t), n)
                    }),
                    extendSelections: kn(function(e, t) {
                        or(this, se(this, e), t)
                    }),
                    extendSelectionsBy: kn(function(e, t) {
                        or(this, se(this, g(this.sel.ranges, e)), t)
                    }),
                    setSelections: kn(function(e, t, n) {
                        if (e.length) {
                            for (var r = [], i = 0; i < e.length; i++) r[i] = new Yo(le(this, e[i].anchor), le(this, e[i].head));
                            null == t && (t = Math.min(e.length - 1, this.sel.primIndex)), cr(this, Rn(this.cm, r, t), n)
                        }
                    }),
                    addSelection: kn(function(e, t, n) {
                        var r = this.sel.ranges.slice(0);
                        r.push(new Yo(le(this, e), le(this, t || e))), cr(this, Rn(this.cm, r, r.length - 1), n)
                    }),
                    getSelection: function(e) {
                        for (var t = this.sel.ranges, n = 0; n < t.length; n++) var r = V(this, t[n].from(), t[n].to()),
                            i = i ? i.concat(r) : r;
                        return !1 === e ? i : i.join(e || this.lineSeparator())
                    },
                    getSelections: function(e) {
                        for (var t = [], n = this.sel.ranges, r = 0; r < n.length; r++) {
                            var i = V(this, n[r].from(), n[r].to());
                            !1 !== e && (i = i.join(e || this.lineSeparator())), t[r] = i
                        }
                        return t
                    },
                    replaceSelection: function(e, t, n) {
                        for (var r = [], i = 0; i < this.sel.ranges.length; i++) r[i] = e;
                        this.replaceSelections(r, t, n || "+input")
                    },
                    replaceSelections: kn(function(e, t, n) {
                        for (var r = [], i = this.sel, o = 0; o < i.ranges.length; o++) {
                            var a = i.ranges[o];
                            r[o] = {
                                from: a.from(),
                                to: a.to(),
                                text: this.splitLines(e[o]),
                                origin: n
                            }
                        }
                        for (var l = t && "end" != t && function(e, t, n) {
                                for (var r = [], i = d = ee(e.first, 0), o = 0; o < t.length; o++) {
                                    var a, l, s = t[o],
                                        c = Bn(s.from, d, i),
                                        u = Bn(Wn(s), d, i),
                                        d = s.to,
                                        i = u;
                                    "around" == n ? (l = te((a = e.sel.ranges[o]).head, a.anchor) < 0, r[o] = new Yo(l ? u : c, l ? c : u)) : r[o] = new Yo(c, c)
                                }
                                return new Zo(r, e.sel.primIndex)
                            }(this, r, t), s = r.length - 1; 0 <= s; s--) yr(this, r[s]);
                        l ? sr(this, l) : this.cm && nn(this.cm)
                    }),
                    undo: kn(function() {
                        kr(this, "undo")
                    }),
                    redo: kn(function() {
                        kr(this, "redo")
                    }),
                    undoSelection: kn(function() {
                        kr(this, "undo", !0)
                    }),
                    redoSelection: kn(function() {
                        kr(this, "redo", !0)
                    }),
                    setExtending: function(e) {
                        this.extend = e
                    },
                    getExtending: function() {
                        return this.extend
                    },
                    historySize: function() {
                        for (var e = this.history, t = 0, n = 0, r = 0; r < e.done.length; r++) e.done[r].ranges || ++t;
                        for (var i = 0; i < e.undone.length; i++) e.undone[i].ranges || ++n;
                        return {
                            undo: t,
                            redo: n
                        }
                    },
                    clearHistory: function() {
                        var e = this;
                        this.history = new Kn(this.history.maxGeneration), Gn(this, function(t) {
                            return t.history = e.history
                        }, !0)
                    },
                    markClean: function() {
                        this.cleanGeneration = this.changeGeneration(!0)
                    },
                    changeGeneration: function(e) {
                        return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation
                    },
                    isClean: function(e) {
                        return this.history.generation == (e || this.cleanGeneration)
                    },
                    getHistory: function() {
                        return {
                            done: nr(this.history.done),
                            undone: nr(this.history.undone)
                        }
                    },
                    setHistory: function(e) {
                        var t = this.history = new Kn(this.history.maxGeneration);
                        t.done = nr(e.done.slice(0), null, !0), t.undone = nr(e.undone.slice(0), null, !0)
                    },
                    setGutterMarker: kn(function(e, t, n) {
                        return Ar(this, e, "gutter", function(e) {
                            var r = e.gutterMarkers || (e.gutterMarkers = {});
                            return !(r[t] = n) && k(r) && (e.gutterMarkers = null), 1
                        })
                    }),
                    clearGutter: kn(function(e) {
                        var t = this;
                        this.iter(function(n) {
                            n.gutterMarkers && n.gutterMarkers[e] && Ar(t, n, "gutter", function() {
                                return n.gutterMarkers[e] = null, k(n.gutterMarkers) && (n.gutterMarkers = null), 1
                            })
                        })
                    }),
                    lineInfo: function(e) {
                        var t;
                        if ("number" == typeof e) {
                            if (!Q(this, e)) return null;
                            if (!(e = G(this, t = e))) return null
                        } else if (null == (t = Z(e))) return null;
                        return {
                            line: t,
                            handle: e,
                            text: e.text,
                            gutterMarkers: e.gutterMarkers,
                            textClass: e.textClass,
                            bgClass: e.bgClass,
                            wrapClass: e.wrapClass,
                            widgets: e.widgets
                        }
                    },
                    addLineClass: kn(function(t, n, r) {
                        return Ar(this, t, "gutter" == n ? "gutter" : "class", function(t) {
                            var i = "text" == n ? "textClass" : "background" == n ? "bgClass" : "gutter" == n ? "gutterClass" : "wrapClass";
                            if (t[i]) {
                                if (e(r).test(t[i])) return;
                                t[i] += " " + r
                            } else t[i] = r;
                            return 1
                        })
                    }),
                    removeLineClass: kn(function(t, n, r) {
                        return Ar(this, t, "gutter" == n ? "gutter" : "class", function(t) {
                            var i = "text" == n ? "textClass" : "background" == n ? "bgClass" : "gutter" == n ? "gutterClass" : "wrapClass",
                                o = t[i];
                            if (o) {
                                if (null == r) t[i] = null;
                                else {
                                    var a = o.match(e(r));
                                    if (!a) return;
                                    var l = a.index + a[0].length;
                                    t[i] = o.slice(0, a.index) + (a.index && l != o.length ? " " : "") + o.slice(l) || null
                                }
                                return 1
                            }
                        })
                    }),
                    addLineWidget: kn(function(e, t, n) {
                        return i = e, o = new Fr(r = this, t, n), (a = r.cm) && o.noHScroll && (a.display.alignWidgets = !0), Ar(r, i, "widget", function(e) {
                            var t, n = e.widgets || (e.widgets = []);
                            return null == o.insertAt ? n.push(o) : n.splice(Math.min(n.length - 1, Math.max(0, o.insertAt)), 0, o), o.line = e, a && !ze(r, e) && (t = Ie(e) < r.scrollTop, K(e, e.height + Je(o)), t && tn(a, o.height), a.curOp.forceUpdate = !0), 1
                        }), a && $e(a, "lineWidgetAdded", a, o, "number" == typeof i ? i : Z(i)), o;
                        var r, i, o, a
                    }),
                    removeLineWidget: function(e) {
                        e.clear()
                    },
                    markText: function(e, t, n) {
                        return Or(this, le(this, e), le(this, t), n, n && n.type || "range")
                    },
                    setBookmark: function(e, t) {
                        var n = {
                            replacedWith: t && (null == t.nodeType ? t.widget : t),
                            insertLeft: t && t.insertLeft,
                            clearWhenEmpty: !1,
                            shared: t && t.shared,
                            handleMouseEvents: t && t.handleMouseEvents
                        };
                        return Or(this, e = le(this, e), e, n, "bookmark")
                    },
                    findMarksAt: function(e) {
                        var t = [],
                            n = G(this, (e = le(this, e)).line).markedSpans;
                        if (n)
                            for (var r = 0; r < n.length; ++r) {
                                var i = n[r];
                                (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker)
                            }
                        return t
                    },
                    findMarks: function(e, t, n) {
                        e = le(this, e), t = le(this, t);
                        var r = [],
                            i = e.line;
                        return this.iter(e.line, t.line + 1, function(o) {
                            var a = o.markedSpans;
                            if (a)
                                for (var l = 0; l < a.length; l++) {
                                    var s = a[l];
                                    null != s.to && i == e.line && e.ch >= s.to || null == s.from && i != e.line || null != s.from && i == t.line && s.from >= t.ch || n && !n(s.marker) || r.push(s.marker.parent || s.marker)
                                }++i
                        }), r
                    },
                    getAllMarks: function() {
                        var e = [];
                        return this.iter(function(t) {
                            var n = t.markedSpans;
                            if (n)
                                for (var r = 0; r < n.length; ++r) null != n[r].from && e.push(n[r].marker)
                        }), e
                    },
                    posFromIndex: function(e) {
                        var t, n = this.first,
                            r = this.lineSeparator().length;
                        return this.iter(function(i) {
                            var o = i.text.length + r;
                            if (e < o) return t = e, !0;
                            e -= o, ++n
                        }), le(this, ee(n, t))
                    },
                    indexFromPos: function(e) {
                        var t = (e = le(this, e)).ch;
                        if (e.line < this.first || e.ch < 0) return 0;
                        var n = this.lineSeparator().length;
                        return this.iter(this.first, e.line, function(e) {
                            t += e.text.length + n
                        }), t
                    },
                    copy: function(e) {
                        var t = new na(X(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);
                        return t.scrollTop = this.scrollTop, t.scrollLeft = this.scrollLeft, t.sel = this.sel, t.extend = !1, e && (t.history.undoDepth = this.history.undoDepth, t.setHistory(this.getHistory())), t
                    },
                    linkedDoc: function(e) {
                        e = e || {};
                        var t = this.first,
                            n = this.first + this.size;
                        null != e.from && e.from > t && (t = e.from), null != e.to && e.to < n && (n = e.to);
                        var r = new na(X(this, t, n), e.mode || this.modeOption, t, this.lineSep, this.direction);
                        return e.sharedHist && (r.history = this.history), (this.linked || (this.linked = [])).push({
                                doc: r,
                                sharedHist: e.sharedHist
                            }), r.linked = [{
                                doc: this,
                                isParent: !0,
                                sharedHist: e.sharedHist
                            }],
                            function(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r, i = t[n],
                                        o = i.find(),
                                        a = e.clipPos(o.from),
                                        l = e.clipPos(o.to);
                                    te(a, l) && (r = Or(e, a, l, i.primary, i.primary.type), i.markers.push(r), r.parent = i)
                                }
                            }(r, zr(this)), r
                    },
                    unlinkDoc: function(e) {
                        if (e instanceof ui && (e = e.doc), this.linked)
                            for (var t = 0; t < this.linked.length; ++t)
                                if (this.linked[t].doc == e) {
                                    this.linked.splice(t, 1), e.unlinkDoc(this),
                                        function(e) {
                                            for (var t = 0; t < e.length; t++) ! function(t) {
                                                var n = e[t],
                                                    r = [n.primary.doc];
                                                Gn(n.primary.doc, function(e) {
                                                    return r.push(e)
                                                });
                                                for (var i = 0; i < n.markers.length; i++) {
                                                    var o = n.markers[i]; - 1 == h(r, o.doc) && (o.parent = null, n.markers.splice(i--, 1))
                                                }
                                            }(t)
                                        }(zr(this));
                                    break
                                }
                        var n;
                        e.history == this.history && (n = [e.id], Gn(e, function(e) {
                            return n.push(e.id)
                        }, !0), e.history = new Kn(null), e.history.done = nr(this.history.done, n), e.history.undone = nr(this.history.undone, n))
                    },
                    iterLinkedDocs: function(e) {
                        Gn(this, e)
                    },
                    getMode: function() {
                        return this.mode
                    },
                    getEditor: function() {
                        return this.cm
                    },
                    splitLines: function(e) {
                        return this.lineSep ? e.split(this.lineSep) : Lo(e)
                    },
                    lineSeparator: function() {
                        return this.lineSep || "\n"
                    },
                    setDirection: kn(function(e) {
                        var t;
                        "rtl" != e && (e = "ltr"), e != this.direction && (this.direction = e, this.iter(function(e) {
                            return e.order = null
                        }), this.cm && xn(t = this.cm, function() {
                            Xn(t), Ht(t)
                        }))
                    })
                }), na.prototype.eachLine = na.prototype.iter;
                for (var ra = 0, ia = !1, oa = {
                        3: "Pause",
                        8: "Backspace",
                        9: "Tab",
                        13: "Enter",
                        16: "Shift",
                        17: "Ctrl",
                        18: "Alt",
                        19: "Pause",
                        20: "CapsLock",
                        27: "Esc",
                        32: "Space",
                        33: "PageUp",
                        34: "PageDown",
                        35: "End",
                        36: "Home",
                        37: "Left",
                        38: "Up",
                        39: "Right",
                        40: "Down",
                        44: "PrintScrn",
                        45: "Insert",
                        46: "Delete",
                        59: ";",
                        61: "=",
                        91: "Mod",
                        92: "Mod",
                        93: "Mod",
                        106: "*",
                        107: "=",
                        109: "-",
                        110: ".",
                        111: "/",
                        145: "ScrollLock",
                        173: "-",
                        186: ";",
                        187: "=",
                        188: ",",
                        189: "-",
                        190: ".",
                        191: "/",
                        192: "`",
                        219: "[",
                        220: "\\",
                        221: "]",
                        222: "'",
                        224: "Mod",
                        63232: "Up",
                        63233: "Down",
                        63234: "Left",
                        63235: "Right",
                        63272: "Delete",
                        63273: "Home",
                        63275: "End",
                        63276: "PageUp",
                        63277: "PageDown",
                        63302: "Insert"
                    }, aa = 0; aa < 10; aa++) oa[aa + 48] = oa[aa + 96] = String(aa);
                for (var la = 65; la <= 90; la++) oa[la] = String.fromCharCode(la);
                for (var sa = 1; sa <= 12; sa++) oa[sa + 111] = oa[sa + 63235] = "F" + sa;
                var ca = {};
                ca.basic = {
                    Left: "goCharLeft",
                    Right: "goCharRight",
                    Up: "goLineUp",
                    Down: "goLineDown",
                    End: "goLineEnd",
                    Home: "goLineStartSmart",
                    PageUp: "goPageUp",
                    PageDown: "goPageDown",
                    Delete: "delCharAfter",
                    Backspace: "delCharBefore",
                    "Shift-Backspace": "delCharBefore",
                    Tab: "defaultTab",
                    "Shift-Tab": "indentAuto",
                    Enter: "newlineAndIndent",
                    Insert: "toggleOverwrite",
                    Esc: "singleSelection"
                }, ca.pcDefault = {
                    "Ctrl-A": "selectAll",
                    "Ctrl-D": "deleteLine",
                    "Ctrl-Z": "undo",
                    "Shift-Ctrl-Z": "redo",
                    "Ctrl-Y": "redo",
                    "Ctrl-Home": "goDocStart",
                    "Ctrl-End": "goDocEnd",
                    "Ctrl-Up": "goLineUp",
                    "Ctrl-Down": "goLineDown",
                    "Ctrl-Left": "goGroupLeft",
                    "Ctrl-Right": "goGroupRight",
                    "Alt-Left": "goLineStart",
                    "Alt-Right": "goLineEnd",
                    "Ctrl-Backspace": "delGroupBefore",
                    "Ctrl-Delete": "delGroupAfter",
                    "Ctrl-S": "save",
                    "Ctrl-F": "find",
                    "Ctrl-G": "findNext",
                    "Shift-Ctrl-G": "findPrev",
                    "Shift-Ctrl-F": "replace",
                    "Shift-Ctrl-R": "replaceAll",
                    "Ctrl-[": "indentLess",
                    "Ctrl-]": "indentMore",
                    "Ctrl-U": "undoSelection",
                    "Shift-Ctrl-U": "redoSelection",
                    "Alt-U": "redoSelection",
                    fallthrough: "basic"
                }, ca.emacsy = {
                    "Ctrl-F": "goCharRight",
                    "Ctrl-B": "goCharLeft",
                    "Ctrl-P": "goLineUp",
                    "Ctrl-N": "goLineDown",
                    "Alt-F": "goWordRight",
                    "Alt-B": "goWordLeft",
                    "Ctrl-A": "goLineStart",
                    "Ctrl-E": "goLineEnd",
                    "Ctrl-V": "goPageDown",
                    "Shift-Ctrl-V": "goPageUp",
                    "Ctrl-D": "delCharAfter",
                    "Ctrl-H": "delCharBefore",
                    "Alt-D": "delWordAfter",
                    "Alt-Backspace": "delWordBefore",
                    "Ctrl-K": "killLine",
                    "Ctrl-T": "transposeChars",
                    "Ctrl-O": "openLine"
                }, ca.macDefault = {
                    "Cmd-A": "selectAll",
                    "Cmd-D": "deleteLine",
                    "Cmd-Z": "undo",
                    "Shift-Cmd-Z": "redo",
                    "Cmd-Y": "redo",
                    "Cmd-Home": "goDocStart",
                    "Cmd-Up": "goDocStart",
                    "Cmd-End": "goDocEnd",
                    "Cmd-Down": "goDocEnd",
                    "Alt-Left": "goGroupLeft",
                    "Alt-Right": "goGroupRight",
                    "Cmd-Left": "goLineLeft",
                    "Cmd-Right": "goLineRight",
                    "Alt-Backspace": "delGroupBefore",
                    "Ctrl-Alt-Backspace": "delGroupAfter",
                    "Alt-Delete": "delGroupAfter",
                    "Cmd-S": "save",
                    "Cmd-F": "find",
                    "Cmd-G": "findNext",
                    "Shift-Cmd-G": "findPrev",
                    "Cmd-Alt-F": "replace",
                    "Shift-Cmd-Alt-F": "replaceAll",
                    "Cmd-[": "indentLess",
                    "Cmd-]": "indentMore",
                    "Cmd-Backspace": "delWrappedLineLeft",
                    "Cmd-Delete": "delWrappedLineRight",
                    "Cmd-U": "undoSelection",
                    "Shift-Cmd-U": "redoSelection",
                    "Ctrl-Up": "goDocStart",
                    "Ctrl-Down": "goDocEnd",
                    fallthrough: ["basic", "emacsy"]
                }, ca.default = Ui ? ca.macDefault : ca.pcDefault;
                var ua, da, ha = {
                        selectAll: vr,
                        singleSelection: function(e) {
                            return e.setSelection(e.getCursor("anchor"), e.getCursor("head"), po)
                        },
                        killLine: function(e) {
                            return Ur(e, function(t) {
                                if (t.empty()) {
                                    var n = G(e.doc, t.head.line).text.length;
                                    return t.head.ch == n && t.head.line < e.lastLine() ? {
                                        from: t.head,
                                        to: ee(t.head.line + 1, 0)
                                    } : {
                                        from: t.head,
                                        to: ee(t.head.line, n)
                                    }
                                }
                                return {
                                    from: t.from(),
                                    to: t.to()
                                }
                            })
                        },
                        deleteLine: function(e) {
                            return Ur(e, function(t) {
                                return {
                                    from: ee(t.from().line, 0),
                                    to: le(e.doc, ee(t.to().line + 1, 0))
                                }
                            })
                        },
                        delLineLeft: function(e) {
                            return Ur(e, function(e) {
                                return {
                                    from: ee(e.from().line, 0),
                                    to: e.from()
                                }
                            })
                        },
                        delWrappedLineLeft: function(e) {
                            return Ur(e, function(t) {
                                var n = e.charCoords(t.head, "div").top + 5;
                                return {
                                    from: e.coordsChar({
                                        left: 0,
                                        top: n
                                    }, "div"),
                                    to: t.from()
                                }
                            })
                        },
                        delWrappedLineRight: function(e) {
                            return Ur(e, function(t) {
                                var n = e.charCoords(t.head, "div").top + 5,
                                    r = e.coordsChar({
                                        left: e.display.lineDiv.offsetWidth + 100,
                                        top: n
                                    }, "div");
                                return {
                                    from: t.from(),
                                    to: r
                                }
                            })
                        },
                        undo: function(e) {
                            return e.undo()
                        },
                        redo: function(e) {
                            return e.redo()
                        },
                        undoSelection: function(e) {
                            return e.undoSelection()
                        },
                        redoSelection: function(e) {
                            return e.redoSelection()
                        },
                        goDocStart: function(e) {
                            return e.extendSelection(ee(e.firstLine(), 0))
                        },
                        goDocEnd: function(e) {
                            return e.extendSelection(ee(e.lastLine()))
                        },
                        goLineStart: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                return Kr(e, t.head.line)
                            }, {
                                origin: "+move",
                                bias: 1
                            })
                        },
                        goLineStartSmart: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                return Zr(e, t.head)
                            }, {
                                origin: "+move",
                                bias: 1
                            })
                        },
                        goLineEnd: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                return function(e, t) {
                                    var n = G(e.doc, t),
                                        r = function(e) {
                                            for (var t; t = Ne(e);) e = t.find(1, !0).line;
                                            return e
                                        }(n);
                                    return r != n && (t = Z(r)), Xr(!0, e, n, t, -1)
                                }(e, t.head.line)
                            }, {
                                origin: "+move",
                                bias: -1
                            })
                        },
                        goLineRight: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                var n = e.cursorCoords(t.head, "div").top + 5;
                                return e.coordsChar({
                                    left: e.display.lineDiv.offsetWidth + 100,
                                    top: n
                                }, "div")
                            }, go)
                        },
                        goLineLeft: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                var n = e.cursorCoords(t.head, "div").top + 5;
                                return e.coordsChar({
                                    left: 0,
                                    top: n
                                }, "div")
                            }, go)
                        },
                        goLineLeftSmart: function(e) {
                            return e.extendSelectionsBy(function(t) {
                                var n = e.cursorCoords(t.head, "div").top + 5,
                                    r = e.coordsChar({
                                        left: 0,
                                        top: n
                                    }, "div");
                                return r.ch < e.getLine(r.line).search(/\S/) ? Zr(e, t.head) : r
                            }, go)
                        },
                        goLineUp: function(e) {
                            return e.moveV(-1, "line")
                        },
                        goLineDown: function(e) {
                            return e.moveV(1, "line")
                        },
                        goPageUp: function(e) {
                            return e.moveV(-1, "page")
                        },
                        goPageDown: function(e) {
                            return e.moveV(1, "page")
                        },
                        goCharLeft: function(e) {
                            return e.moveH(-1, "char")
                        },
                        goCharRight: function(e) {
                            return e.moveH(1, "char")
                        },
                        goColumnLeft: function(e) {
                            return e.moveH(-1, "column")
                        },
                        goColumnRight: function(e) {
                            return e.moveH(1, "column")
                        },
                        goWordLeft: function(e) {
                            return e.moveH(-1, "word")
                        },
                        goGroupRight: function(e) {
                            return e.moveH(1, "group")
                        },
                        goGroupLeft: function(e) {
                            return e.moveH(-1, "group")
                        },
                        goWordRight: function(e) {
                            return e.moveH(1, "word")
                        },
                        delCharBefore: function(e) {
                            return e.deleteH(-1, "char")
                        },
                        delCharAfter: function(e) {
                            return e.deleteH(1, "char")
                        },
                        delWordBefore: function(e) {
                            return e.deleteH(-1, "word")
                        },
                        delWordAfter: function(e) {
                            return e.deleteH(1, "word")
                        },
                        delGroupBefore: function(e) {
                            return e.deleteH(-1, "group")
                        },
                        delGroupAfter: function(e) {
                            return e.deleteH(1, "group")
                        },
                        indentAuto: function(e) {
                            return e.indentSelection("smart")
                        },
                        indentMore: function(e) {
                            return e.indentSelection("add")
                        },
                        indentLess: function(e) {
                            return e.indentSelection("subtract")
                        },
                        insertTab: function(e) {
                            return e.replaceSelection("\t")
                        },
                        insertSoftTab: function(e) {
                            for (var t = [], n = e.listSelections(), r = e.options.tabSize, i = 0; i < n.length; i++) {
                                var o = n[i].from(),
                                    a = d(e.getLine(o.line), o.ch, r);
                                t.push(p(r - a % r))
                            }
                            e.replaceSelections(t)
                        },
                        defaultTab: function(e) {
                            e.somethingSelected() ? e.indentSelection("add") : e.execCommand("insertTab")
                        },
                        transposeChars: function(e) {
                            return xn(e, function() {
                                for (var t, n, r, i = e.listSelections(), o = [], a = 0; a < i.length; a++) i[a].empty() && (t = i[a].head, (n = G(e.doc, t.line).text) && (t.ch == n.length && (t = new ee(t.line, t.ch - 1)), 0 < t.ch ? (t = new ee(t.line, t.ch + 1), e.replaceRange(n.charAt(t.ch - 1) + n.charAt(t.ch - 2), ee(t.line, t.ch - 2), t, "+transpose")) : t.line > e.doc.first && (r = G(e.doc, t.line - 1).text) && (t = new ee(t.line, 1), e.replaceRange(n.charAt(0) + e.doc.lineSeparator() + r.charAt(r.length - 1), ee(t.line - 1, r.length - 1), t, "+transpose"))), o.push(new Yo(t, t)));
                                e.setSelections(o)
                            })
                        },
                        newlineAndIndent: function(e) {
                            return xn(e, function() {
                                for (var t = e.listSelections(), n = t.length - 1; 0 <= n; n--) e.replaceRange(e.doc.lineSeparator(), t[n].anchor, t[n].head, "+input");
                                t = e.listSelections();
                                for (var r = 0; r < t.length; r++) e.indentLine(t[r].from().line, null, !0);
                                nn(e)
                            })
                        },
                        openLine: function(e) {
                            return e.replaceSelection("\n", "start")
                        },
                        toggleOverwrite: function(e) {
                            return e.toggleOverwrite()
                        }
                    },
                    fa = new eo,
                    pa = null,
                    ma = function(e, t, n) {
                        this.time = e, this.pos = t, this.button = n
                    };
                ma.prototype.compare = function(e, t, n) {
                    return this.time + 400 > e && 0 == te(t, this.pos) && n == this.button
                };
                var ga = {
                        toString: function() {
                            return "CodeMirror.Init"
                        }
                    },
                    va = {},
                    xa = {};
                ui.defaults = va, ui.optionHandlers = xa;
                var ya = [];
                ui.defineInitHook = function(e) {
                    return ya.push(e)
                };
                var ba = null;
                ki.prototype.init = function(e) {
                    function t(e) {
                        for (var t = e.target; t; t = t.parentNode) {
                            if (t == a) return 1;
                            if (/\bCodeMirror-(?:line)?widget\b/.test(t.className)) break
                        }
                    }

                    function n(e) {
                        if (t(e) && !F(o, e)) {
                            if (o.somethingSelected()) hi({
                                lineWise: !1,
                                text: o.getSelections()
                            }), "cut" == e.type && o.replaceSelection("", null, "cut");
                            else {
                                if (!o.options.lineWiseCopyCut) return;
                                var n = gi(o);
                                hi({
                                    lineWise: !0,
                                    text: n.text
                                }), "cut" == e.type && o.operation(function() {
                                    o.setSelections(n.ranges, 0, po), o.replaceSelection("", null, "cut")
                                })
                            }
                            if (e.clipboardData) {
                                e.clipboardData.clearData();
                                var r = ba.text.join("\n");
                                if (e.clipboardData.setData("Text", r), e.clipboardData.getData("Text") == r) return void e.preventDefault()
                            }
                            var l = xi(),
                                s = l.firstChild;
                            o.display.lineSpace.insertBefore(l, o.display.lineSpace.firstChild), s.value = ba.text.join("\n");
                            var c = document.activeElement;
                            Ji(s), setTimeout(function() {
                                o.display.lineSpace.removeChild(l), c.focus(), c == a && i.showPrimarySelection()
                            }, 50)
                        }
                    }
                    var r = this,
                        i = this,
                        o = i.cm,
                        a = i.div = e.lineDiv;
                    vi(a, o.options.spellcheck, o.options.autocorrect, o.options.autocapitalize), Co(a, "paste", function(e) {
                        !t(e) || F(o, e) || pi(e, o) || zi <= 11 && setTimeout(yn(o, function() {
                            return r.updateFromDOM()
                        }), 20)
                    }), Co(a, "compositionstart", function(e) {
                        r.composing = {
                            data: e.data,
                            done: !1
                        }
                    }), Co(a, "compositionupdate", function(e) {
                        r.composing || (r.composing = {
                            data: e.data,
                            done: !1
                        })
                    }), Co(a, "compositionend", function(e) {
                        r.composing && (e.data != r.composing.data && r.readFromDOMSoon(), r.composing.done = !0)
                    }), Co(a, "touchstart", function() {
                        return i.forceCompositionEnd()
                    }), Co(a, "input", function() {
                        r.composing || r.readFromDOMSoon()
                    }), Co(a, "copy", n), Co(a, "cut", n)
                }, ki.prototype.screenReaderLabelChanged = function(e) {
                    e ? this.div.setAttribute("aria-label", e) : this.div.removeAttribute("aria-label")
                }, ki.prototype.prepareSelection = function() {
                    var e = qt(this.cm, !1);
                    return e.focus = document.activeElement == this.div, e
                }, ki.prototype.showSelection = function(e, t) {
                    e && this.cm.display.view.length && ((e.focus || t) && this.showPrimarySelection(), this.showMultipleSelections(e))
                }, ki.prototype.getSelection = function() {
                    return this.cm.display.wrapper.ownerDocument.getSelection()
                }, ki.prototype.showPrimarySelection = function() {
                    var e = this.getSelection(),
                        t = this.cm,
                        n = t.doc.sel.primary(),
                        r = n.from(),
                        i = n.to();
                    if (t.display.viewTo == t.display.viewFrom || r.line >= t.display.viewTo || i.line < t.display.viewFrom) e.removeAllRanges();
                    else {
                        var o = Si(t, e.anchorNode, e.anchorOffset),
                            a = Si(t, e.focusNode, e.focusOffset);
                        if (!o || o.bad || !a || a.bad || 0 != te(oe(o, a), r) || 0 != te(ie(o, a), i)) {
                            var l, s, c = t.display.view,
                                u = r.line >= t.display.viewFrom && wi(t, r) || {
                                    node: c[0].measure.map[2],
                                    offset: 0
                                },
                                d = i.line < t.display.viewTo && wi(t, i);
                            if (d || (d = {
                                    node: (s = (l = c[c.length - 1].measure).maps ? l.maps[l.maps.length - 1] : l.map)[s.length - 1],
                                    offset: s[s.length - 2] - s[s.length - 3]
                                }), u && d) {
                                var h, f = e.rangeCount && e.getRangeAt(0);
                                try {
                                    h = Ki(u.node, u.offset, d.offset, d.node)
                                } catch (e) {}
                                h && (!Ni && t.state.focused ? (e.collapse(u.node, u.offset), h.collapsed || (e.removeAllRanges(), e.addRange(h))) : (e.removeAllRanges(), e.addRange(h)), f && null == e.anchorNode ? e.addRange(f) : Ni && this.startGracePeriod()), this.rememberSelection()
                            } else e.removeAllRanges()
                        }
                    }
                }, ki.prototype.startGracePeriod = function() {
                    var e = this;
                    clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {
                        e.gracePeriod = !1, e.selectionChanged() && e.cm.operation(function() {
                            return e.cm.curOp.selectionChanged = !0
                        })
                    }, 20)
                }, ki.prototype.showMultipleSelections = function(e) {
                    n(this.cm.display.cursorDiv, e.cursors), n(this.cm.display.selectionDiv, e.selection)
                }, ki.prototype.rememberSelection = function() {
                    var e = this.getSelection();
                    this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset
                }, ki.prototype.selectionInEditor = function() {
                    var e = this.getSelection();
                    if (!e.rangeCount) return !1;
                    var t = e.getRangeAt(0).commonAncestorContainer;
                    return o(this.div, t)
                }, ki.prototype.focus = function() {
                    "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() && document.activeElement == this.div || this.showSelection(this.prepareSelection(), !0), this.div.focus())
                }, ki.prototype.blur = function() {
                    this.div.blur()
                }, ki.prototype.getField = function() {
                    return this.div
                }, ki.prototype.supportsTouch = function() {
                    return !0
                }, ki.prototype.receivedFocus = function() {
                    var e = this;
                    this.selectionInEditor() ? this.pollSelection() : xn(this.cm, function() {
                        return e.cm.curOp.selectionChanged = !0
                    }), this.polling.set(this.cm.options.pollInterval, function t() {
                        e.cm.state.focused && (e.pollSelection(), e.polling.set(e.cm.options.pollInterval, t))
                    })
                }, ki.prototype.selectionChanged = function() {
                    var e = this.getSelection();
                    return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset
                }, ki.prototype.pollSelection = function() {
                    if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {
                        var e, t, n = this.getSelection(),
                            r = this.cm;
                        if (qi && Hi && this.cm.display.gutterSpecs.length && function(e) {
                                for (var t = n.anchorNode; t; t = t.parentNode)
                                    if (/CodeMirror-gutter-wrapper/.test(t.className)) return !0;
                                return !1
                            }()) return this.cm.triggerOnKeyDown({
                            type: "keydown",
                            keyCode: 8,
                            preventDefault: Math.abs
                        }), this.blur(), void this.focus();
                        this.composing || (this.rememberSelection(), e = Si(r, n.anchorNode, n.anchorOffset), t = Si(r, n.focusNode, n.focusOffset), e && t && xn(r, function() {
                            cr(r.doc, Hn(e, t), po), (e.bad || t.bad) && (r.curOp.selectionChanged = !0)
                        }))
                    }
                }, ki.prototype.pollContent = function() {
                    null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
                    var e, t, n, r = this.cm,
                        i = r.display,
                        o = r.doc.sel.primary(),
                        a = o.from(),
                        l = o.to();
                    if (0 == a.ch && a.line > r.firstLine() && (a = ee(a.line - 1, G(r.doc, a.line - 1).length)), l.ch == G(r.doc, l.line).text.length && l.line < r.lastLine() && (l = ee(l.line + 1, 0)), a.line < i.viewFrom || l.line > i.viewTo - 1) return !1;
                    n = a.line == i.viewFrom || 0 == (e = Rt(r, a.line)) ? (t = Z(i.view[0].line), i.view[0].node) : (t = Z(i.view[e].line), i.view[e - 1].node.nextSibling);
                    var s, c = Rt(r, l.line),
                        u = c == i.view.length - 1 ? (s = i.viewTo - 1, i.lineDiv.lastChild) : (s = Z(i.view[c + 1].line) - 1, i.view[c + 1].node.previousSibling);
                    if (!n) return !1;
                    for (var d = r.doc.splitLines(function(e, t, n, r, i) {
                            function o() {
                                s && (l += c, u && (l += c), s = u = !1)
                            }

                            function a(e) {
                                e && (o(), l += e)
                            }
                            for (var l = "", s = !1, c = e.doc.lineSeparator(), u = !1;

                                function t(n) {
                                    if (1 == n.nodeType) {
                                        var l = n.getAttribute("cm-text");
                                        if (l) return void a(l);
                                        var d, h = n.getAttribute("cm-marker");
                                        if (h) {
                                            var f = e.findMarks(ee(r, 0), ee(i + 1, 0), (g = +h, function(e) {
                                                return e.id == g
                                            }));
                                            return void(f.length && (d = f[0].find(0)) && a(V(e.doc, d.from, d.to).join(c)))
                                        }
                                        if ("false" == n.getAttribute("contenteditable")) return;
                                        var p = /^(pre|div|p|li|table|br)$/i.test(n.nodeName);
                                        if (!/^br$/i.test(n.nodeName) && 0 == n.textContent.length) return;
                                        p && o();
                                        for (var m = 0; m < n.childNodes.length; m++) t(n.childNodes[m]);
                                        /^(pre|p)$/i.test(n.nodeName) && (u = !0), p && (s = !0)
                                    } else 3 == n.nodeType && a(n.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
                                    var g
                                }(t), t != n;) t = t.nextSibling, u = !1;
                            return l
                        }(r, n, u, t, s)), h = V(r.doc, ee(t, 0), ee(s, G(r.doc, s).text.length)); 1 < d.length && 1 < h.length;)
                        if (m(d) == m(h)) d.pop(), h.pop(), s--;
                        else {
                            if (d[0] != h[0]) break;
                            d.shift(), h.shift(), t++
                        }
                    for (var f = 0, p = 0, g = d[0], v = h[0], x = Math.min(g.length, v.length); f < x && g.charCodeAt(f) == v.charCodeAt(f);) ++f;
                    for (var y = m(d), b = m(h), k = Math.min(y.length - (1 == d.length ? f : 0), b.length - (1 == h.length ? f : 0)); p < k && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) ++p;
                    if (1 == d.length && 1 == h.length && t == a.line)
                        for (; f && f > a.ch && y.charCodeAt(y.length - p - 1) == b.charCodeAt(b.length - p - 1);) f--, p++;
                    d[d.length - 1] = y.slice(0, y.length - p).replace(/^\u200b+/, ""), d[0] = d[0].slice(f).replace(/\u200b+$/, "");
                    var w = ee(t, f),
                        C = ee(s, h.length ? m(h).length - p : 0);
                    return 1 < d.length || d[0] || te(w, C) ? (Sr(r.doc, d, w, C, "+input"), !0) : void 0
                }, ki.prototype.ensurePolled = function() {
                    this.forceCompositionEnd()
                }, ki.prototype.reset = function() {
                    this.forceCompositionEnd()
                }, ki.prototype.forceCompositionEnd = function() {
                    this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus())
                }, ki.prototype.readFromDOMSoon = function() {
                    var e = this;
                    null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout(function() {
                        if (e.readDOMTimeout = null, e.composing) {
                            if (!e.composing.done) return;
                            e.composing = null
                        }
                        e.updateFromDOM()
                    }, 80))
                }, ki.prototype.updateFromDOM = function() {
                    var e = this;
                    !this.cm.isReadOnly() && this.pollContent() || xn(this.cm, function() {
                        return Ht(e.cm)
                    })
                }, ki.prototype.setUneditable = function(e) {
                    e.contentEditable = "false"
                }, ki.prototype.onKeyPress = function(e) {
                    0 == e.charCode || this.composing || (e.preventDefault(), this.cm.isReadOnly() || yn(this.cm, fi)(this.cm, String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), 0))
                }, ki.prototype.readOnlyChanged = function(e) {
                    this.div.contentEditable = String("nocursor" != e)
                }, ki.prototype.onContextMenu = function() {}, ki.prototype.resetPosition = function() {}, ki.prototype.needsContentAttribute = !0;
                var ka, wa, Ca, Sa, La;
                Li.prototype.init = function(e) {
                    function t(e) {
                        if (!F(i, e)) {
                            if (i.somethingSelected()) hi({
                                lineWise: !1,
                                text: i.getSelections()
                            });
                            else {
                                if (!i.options.lineWiseCopyCut) return;
                                var t = gi(i);
                                hi({
                                    lineWise: !0,
                                    text: t.text
                                }), "cut" == e.type ? i.setSelections(t.ranges, null, po) : (r.prevInput = "", o.value = t.text.join("\n"), Ji(o))
                            }
                            "cut" == e.type && (i.state.cutIncoming = +new Date)
                        }
                    }
                    var n = this,
                        r = this,
                        i = this.cm;
                    this.createField(e);
                    var o = this.textarea;
                    e.wrapper.insertBefore(this.wrapper, e.wrapper.firstChild), ji && (o.style.width = "0px"), Co(o, "input", function() {
                        Oi && 9 <= zi && n.hasSelection && (n.hasSelection = null), r.poll()
                    }), Co(o, "paste", function(e) {
                        F(i, e) || pi(e, i) || (i.state.pasteIncoming = +new Date, r.fastPoll())
                    }), Co(o, "cut", t), Co(o, "copy", t), Co(e.scroller, "paste", function(t) {
                        if (!et(e, t) && !F(i, t)) {
                            if (!o.dispatchEvent) return i.state.pasteIncoming = +new Date, void r.focus();
                            var n = new Event("paste");
                            n.clipboardData = t.clipboardData, o.dispatchEvent(n)
                        }
                    }), Co(e.lineSpace, "selectstart", function(t) {
                        et(e, t) || I(t)
                    }), Co(o, "compositionstart", function() {
                        var e = i.getCursor("from");
                        r.composing && r.composing.range.clear(), r.composing = {
                            start: e,
                            range: i.markText(e, i.getCursor("to"), {
                                className: "CodeMirror-composing"
                            })
                        }
                    }), Co(o, "compositionend", function() {
                        r.composing && (r.poll(), r.composing.range.clear(), r.composing = null)
                    })
                }, Li.prototype.createField = function(e) {
                    this.wrapper = xi(), this.textarea = this.wrapper.firstChild
                }, Li.prototype.screenReaderLabelChanged = function(e) {
                    e ? this.textarea.setAttribute("aria-label", e) : this.textarea.removeAttribute("aria-label")
                }, Li.prototype.prepareSelection = function() {
                    var e, t, n, r = this.cm,
                        i = r.display,
                        o = r.doc,
                        a = qt(r);
                    return r.options.moveInputWithCursor && (e = wt(r, o.sel.primary().head, "div"), t = i.wrapper.getBoundingClientRect(), n = i.lineDiv.getBoundingClientRect(), a.teTop = Math.max(0, Math.min(i.wrapper.clientHeight - 10, e.top + n.top - t.top)), a.teLeft = Math.max(0, Math.min(i.wrapper.clientWidth - 10, e.left + n.left - t.left))), a
                }, Li.prototype.showSelection = function(e) {
                    var t = this.cm.display;
                    n(t.cursorDiv, e.cursors), n(t.selectionDiv, e.selection), null != e.teTop && (this.wrapper.style.top = e.teTop + "px", this.wrapper.style.left = e.teLeft + "px")
                }, Li.prototype.reset = function(e) {
                    var t, n;
                    this.contextMenuPending || this.composing || ((t = this.cm).somethingSelected() ? (this.prevInput = "", n = t.getSelection(), this.textarea.value = n, t.state.focused && Ji(this.textarea), Oi && 9 <= zi && (this.hasSelection = n)) : e || (this.prevInput = this.textarea.value = "", Oi && 9 <= zi && (this.hasSelection = null)))
                }, Li.prototype.getField = function() {
                    return this.textarea
                }, Li.prototype.supportsTouch = function() {
                    return !1
                }, Li.prototype.focus = function() {
                    if ("nocursor" != this.cm.options.readOnly && (!$i || a() != this.textarea)) try {
                        this.textarea.focus()
                    } catch (e) {}
                }, Li.prototype.blur = function() {
                    this.textarea.blur()
                }, Li.prototype.resetPosition = function() {
                    this.wrapper.style.top = this.wrapper.style.left = 0
                }, Li.prototype.receivedFocus = function() {
                    this.slowPoll()
                }, Li.prototype.slowPoll = function() {
                    var e = this;
                    this.pollingFast || this.polling.set(this.cm.options.pollInterval, function() {
                        e.poll(), e.cm.state.focused && e.slowPoll()
                    })
                }, Li.prototype.fastPoll = function() {
                    var e = !1,
                        t = this;
                    t.pollingFast = !0, t.polling.set(20, function n() {
                        t.poll() || e ? (t.pollingFast = !1, t.slowPoll()) : (e = !0, t.polling.set(60, n))
                    })
                }, Li.prototype.poll = function() {
                    var e = this,
                        t = this.cm,
                        n = this.textarea,
                        r = this.prevInput;
                    if (this.contextMenuPending || !t.state.focused || To(n) && !r && !this.composing || t.isReadOnly() || t.options.disableInput || t.state.keySeq) return !1;
                    var i = n.value;
                    if (i == r && !t.somethingSelected()) return !1;
                    if (Oi && 9 <= zi && this.hasSelection === i || Ui && /[\uf700-\uf7ff]/.test(i)) return t.display.input.reset(), !1;
                    if (t.doc.sel == t.display.selForContextMenu) {
                        var o = i.charCodeAt(0);
                        if (8203 != o || r || (r = ""), 8666 == o) return this.reset(), this.cm.execCommand("undo")
                    }
                    for (var a = 0, l = Math.min(r.length, i.length); a < l && r.charCodeAt(a) == i.charCodeAt(a);) ++a;
                    return xn(t, function() {
                        fi(t, i.slice(a), r.length - a, null, e.composing ? "*compose" : null), 1e3 < i.length || -1 < i.indexOf("\n") ? n.value = e.prevInput = "" : e.prevInput = i, e.composing && (e.composing.range.clear(), e.composing.range = t.markText(e.composing.start, t.getCursor("to"), {
                            className: "CodeMirror-composing"
                        }))
                    }), !0
                }, Li.prototype.ensurePolled = function() {
                    this.pollingFast && this.poll() && (this.pollingFast = !1)
                }, Li.prototype.onKeyPress = function() {
                    Oi && 9 <= zi && (this.hasSelection = null), this.fastPoll()
                }, Li.prototype.onContextMenu = function(e) {
                    function t() {
                        var e, t;
                        null != a.selectionStart && (t = "" + ((e = i.somethingSelected()) ? a.value : ""), a.value = "", a.value = t, r.prevInput = e ? "" : "", a.selectionStart = 1, a.selectionEnd = t.length, o.selForContextMenu = i.doc.sel)
                    }

                    function n() {
                        var e, c;
                        r.contextMenuPending == n && (r.contextMenuPending = !1, r.wrapper.style.cssText = s, a.style.cssText = l, Oi && zi < 9 && o.scrollbars.setScrollTop(o.scroller.scrollTop = f), null != a.selectionStart && ((!Oi || Oi && zi < 9) && t(), e = 0, c = function() {
                            o.selForContextMenu == i.doc.sel && 0 == a.selectionStart && 0 < a.selectionEnd && "" == r.prevInput ? yn(i, vr)(i) : e++ < 10 ? o.detectingSelectAll = setTimeout(c, 500) : (o.selForContextMenu = null, o.input.reset())
                        }, o.detectingSelectAll = setTimeout(c, 200)))
                    }
                    var r = this,
                        i = r.cm,
                        o = i.display,
                        a = r.textarea;
                    r.contextMenuPending && r.contextMenuPending();
                    var l, s, c, u, d, h = It(i, e),
                        f = o.scroller.scrollTop;
                    h && !Wi && (i.options.resetSelectionOnContextMenu && -1 == i.doc.sel.contains(h) && yn(i, cr)(i.doc, Hn(h), po), l = a.style.cssText, s = r.wrapper.style.cssText, c = r.wrapper.offsetParent.getBoundingClientRect(), r.wrapper.style.cssText = "position: static", a.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - c.top - 5) + "px; left: " + (e.clientX - c.left - 5) + "px;\n      z-index: 1000; background: " + (Oi ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", Ii && (u = window.scrollY), o.input.focus(), Ii && window.scrollTo(null, u), o.input.reset(), i.somethingSelected() || (a.value = r.prevInput = " "), r.contextMenuPending = n, o.selForContextMenu = i.doc.sel, clearTimeout(o.detectingSelectAll), Oi && 9 <= zi && t(), Yi ? (W(e), d = function() {
                        N(window, "mouseup", d), setTimeout(n, 20)
                    }, Co(window, "mouseup", d)) : setTimeout(n, 50))
                }, Li.prototype.readOnlyChanged = function(e) {
                    e || this.reset(), this.textarea.disabled = "nocursor" == e
                }, Li.prototype.setUneditable = function() {}, Li.prototype.needsContentAttribute = !1, wa = (ka = ui).optionHandlers, ka.defineOption = Ti, ka.Init = ga, Ti("value", "", function(e, t) {
                    return e.setValue(t)
                }, !0), Ti("mode", null, function(e, t) {
                    e.doc.modeOption = t, jn(e)
                }, !0), Ti("indentUnit", 2, jn, !0), Ti("indentWithTabs", !1), Ti("smartIndent", !0), Ti("tabSize", 4, function(e) {
                    qn(e), mt(e), Ht(e)
                }, !0), Ti("lineSeparator", null, function(e, t) {
                    if (e.doc.lineSep = t) {
                        var n = [],
                            r = e.doc.first;
                        e.doc.iter(function(e) {
                            for (var i = 0;;) {
                                var o = e.text.indexOf(t, i);
                                if (-1 == o) break;
                                i = o + t.length, n.push(ee(r, o))
                            }
                            r++
                        });
                        for (var i = n.length - 1; 0 <= i; i--) Sr(e.doc, t, n[i], ee(n[i].line, n[i].ch + t.length))
                    }
                }), Ti("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, function(e, t, n) {
                    e.state.specialChars = new RegExp(t.source + (t.test("\t") ? "" : "|\t"), "g"), n != ga && e.refresh()
                }), Ti("specialCharPlaceholder", function(e) {
                    var t = r("span", "", "cm-invalidchar");
                    return t.title = "\\u" + e.charCodeAt(0).toString(16), t.setAttribute("aria-label", t.title), t
                }, function(e) {
                    return e.refresh()
                }, !0), Ti("electricChars", !0), Ti("inputStyle", $i ? "contenteditable" : "textarea", function() {
                    throw new Error("inputStyle can not (yet) be changed in a running editor")
                }, !0), Ti("spellcheck", !1, function(e, t) {
                    return e.getInputField().spellcheck = t
                }, !0), Ti("autocorrect", !1, function(e, t) {
                    return e.getInputField().autocorrect = t
                }, !0), Ti("autocapitalize", !1, function(e, t) {
                    return e.getInputField().autocapitalize = t
                }, !0), Ti("rtlMoveVisually", !Vi), Ti("wholeLineUpdateBefore", !0), Ti("theme", "default", function(e) {
                    ci(e), On(e)
                }, !0), Ti("keyMap", "default", function(e, t, n) {
                    var r = $r(t),
                        i = n != ga && $r(n);
                    i && i.detach && i.detach(e, r), r.attach && r.attach(e, i || null)
                }), Ti("extraKeys", null), Ti("configureMouse", null), Ti("lineWrapping", !1, function(e) {
                    e.options.lineWrapping ? (l(e.display.wrapper, "CodeMirror-wrap"), e.display.sizer.style.minWidth = "", e.display.sizerWidth = null) : (Qi(e.display.wrapper, "CodeMirror-wrap"), He(e)), zt(e), Ht(e), mt(e), setTimeout(function() {
                        return fn(e)
                    }, 100)
                }, !0), Ti("gutters", [], function(e, t) {
                    e.display.gutterSpecs = Fn(t, e.options.lineNumbers), On(e)
                }, !0), Ti("fixedGutter", !0, function(e, t) {
                    e.display.gutters.style.left = t ? Et(e.display) + "px" : "0", e.refresh()
                }, !0), Ti("coverGutterNextToScrollbar", !1, function(e) {
                    return fn(e)
                }, !0), Ti("scrollbarStyle", "native", function(e) {
                    mn(e), fn(e), e.display.scrollbars.setScrollTop(e.doc.scrollTop), e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)
                }, !0), Ti("lineNumbers", !1, function(e, t) {
                    e.display.gutterSpecs = Fn(e.options.gutters, t), On(e)
                }, !0), Ti("firstLineNumber", 1, On, !0), Ti("lineNumberFormatter", function(e) {
                    return e
                }, On, !0), Ti("showCursorWhenSelecting", !1, jt, !0), Ti("resetSelectionOnContextMenu", !0), Ti("lineWiseCopyCut", !0), Ti("pasteLinesPerSelection", !0), Ti("selectionsMayTouch", !1), Ti("readOnly", !1, function(e, t) {
                    "nocursor" == t && (Zt(e), e.display.input.blur()), e.display.input.readOnlyChanged(t)
                }), Ti("screenReaderLabel", null, function(e, t) {
                    t = "" === t ? null : t, e.display.input.screenReaderLabelChanged(t)
                }), Ti("disableInput", !1, function(e, t) {
                    t || e.display.input.reset()
                }, !0), Ti("dragDrop", !0, function(e, t, n) {
                    var r, i;
                    !t != !(n && n != ga) && (r = e.display.dragFunctions, (i = t ? Co : N)(e.display.scroller, "dragstart", r.start), i(e.display.scroller, "dragenter", r.enter), i(e.display.scroller, "dragover", r.over), i(e.display.scroller, "dragleave", r.leave), i(e.display.scroller, "drop", r.drop))
                }), Ti("allowDropFileTypes", null), Ti("cursorBlinkRate", 530), Ti("cursorScrollMargin", 0), Ti("cursorHeight", 1, jt, !0), Ti("singleCursorHeightPerLine", !0, jt, !0), Ti("workTime", 100), Ti("workDelay", 100), Ti("flattenSpans", !0, qn, !0), Ti("addModeClass", !1, qn, !0), Ti("pollInterval", 100), Ti("undoDepth", 200, function(e, t) {
                    return e.doc.history.undoDepth = t
                }), Ti("historyEventDelay", 1250), Ti("viewportMargin", 10, function(e) {
                    return e.refresh()
                }, !0), Ti("maxHighlightLength", 1e4, qn, !0), Ti("moveInputWithCursor", !0, function(e, t) {
                    t || e.display.input.resetPosition()
                }), Ti("tabindex", null, function(e, t) {
                    return e.display.input.getField().tabIndex = t || ""
                }), Ti("autofocus", null), Ti("direction", "ltr", function(e, t) {
                    return e.doc.setDirection(t)
                }, !0), Ti("phrases", null), Sa = (Ca = ui).optionHandlers, La = Ca.helpers = {}, Ca.prototype = {
                    constructor: Ca,
                    focus: function() {
                        window.focus(), this.display.input.focus()
                    },
                    setOption: function(e, t) {
                        var n = this.options,
                            r = n[e];
                        n[e] == t && "mode" != e || (n[e] = t, Sa.hasOwnProperty(e) && yn(this, Sa[e])(this, t, r), D(this, "optionChange", this, e))
                    },
                    getOption: function(e) {
                        return this.options[e]
                    },
                    getDoc: function() {
                        return this.doc
                    },
                    addKeyMap: function(e, t) {
                        this.state.keyMaps[t ? "push" : "unshift"]($r(e))
                    },
                    removeKeyMap: function(e) {
                        for (var t = this.state.keyMaps, n = 0; n < t.length; ++n)
                            if (t[n] == e || t[n].name == e) return t.splice(n, 1), !0
                    },
                    addOverlay: bn(function(e, t) {
                        var n = e.token ? e : Ca.getMode(this.options, e);
                        if (n.startState) throw new Error("Overlays may not be stateful.");
                        ! function(e, t, n) {
                            for (var r = 0, i = n(t); r < e.length && n(e[r]) <= i;) r++;
                            e.splice(r, 0, t)
                        }(this.state.overlays, {
                            mode: n,
                            modeSpec: e,
                            opaque: t && t.opaque,
                            priority: t && t.priority || 0
                        }, function(e) {
                            return e.priority
                        }), this.state.modeGen++, Ht(this)
                    }),
                    removeOverlay: bn(function(e) {
                        for (var t = this.state.overlays, n = 0; n < t.length; ++n) {
                            var r = t[n].modeSpec;
                            if (r == e || "string" == typeof e && r.name == e) return t.splice(n, 1), this.state.modeGen++, void Ht(this)
                        }
                    }),
                    indentLine: bn(function(e, t, n) {
                        "string" != typeof t && "number" != typeof t && (t = null == t ? this.options.smartIndent ? "smart" : "prev" : t ? "add" : "subtract"), Q(this.doc, e) && di(this, e, t, n)
                    }),
                    indentSelection: bn(function(e) {
                        for (var t = this.doc.sel.ranges, n = -1, r = 0; r < t.length; r++) {
                            var i = t[r];
                            if (i.empty()) i.head.line > n && (di(this, i.head.line, e, !0), n = i.head.line, r == this.doc.sel.primIndex && nn(this));
                            else {
                                for (var o = i.from(), a = i.to(), l = Math.max(n, o.line), n = Math.min(this.lastLine(), a.line - (a.ch ? 0 : 1)) + 1, s = l; s < n; ++s) di(this, s, e);
                                var c = this.doc.sel.ranges;
                                0 == o.ch && t.length == c.length && 0 < c[r].from().ch && ar(this.doc, r, new Yo(o, c[r].to()), po)
                            }
                        }
                    }),
                    getTokenAt: function(e, t) {
                        return me(this, e, t)
                    },
                    getLineTokens: function(e, t) {
                        return me(this, ee(e), t, !0)
                    },
                    getTokenTypeAt: function(e) {
                        e = le(this.doc, e);
                        var t, n = ue(this, G(this.doc, e.line)),
                            r = 0,
                            i = (n.length - 1) / 2,
                            o = e.ch;
                        if (0 == o) t = n[2];
                        else
                            for (;;) {
                                var a = r + i >> 1;
                                if ((a ? n[2 * a - 1] : 0) >= o) i = a;
                                else {
                                    if (!(n[2 * a + 1] < o)) {
                                        t = n[2 * a + 2];
                                        break
                                    }
                                    r = 1 + a
                                }
                            }
                        var l = t ? t.indexOf("overlay ") : -1;
                        return l < 0 ? t : 0 == l ? null : t.slice(0, l - 1)
                    },
                    getModeAt: function(e) {
                        var t = this.doc.mode;
                        return t.innerMode ? Ca.innerMode(t, this.getTokenAt(e).state).mode : t
                    },
                    getHelper: function(e, t) {
                        return this.getHelpers(e, t)[0]
                    },
                    getHelpers: function(e, t) {
                        var n = [];
                        if (!La.hasOwnProperty(t)) return n;
                        var r = La[t],
                            i = this.getModeAt(e);
                        if ("string" == typeof i[t]) r[i[t]] && n.push(r[i[t]]);
                        else if (i[t])
                            for (var o = 0; o < i[t].length; o++) {
                                var a = r[i[t][o]];
                                a && n.push(a)
                            } else i.helperType && r[i.helperType] ? n.push(r[i.helperType]) : r[i.name] && n.push(r[i.name]);
                        for (var l = 0; l < r._global.length; l++) {
                            var s = r._global[l];
                            s.pred(i, this) && -1 == h(n, s.val) && n.push(s.val)
                        }
                        return n
                    },
                    getStateAfter: function(e, t) {
                        var n = this.doc;
                        return de(this, (e = ae(n, null == e ? n.first + n.size - 1 : e)) + 1, t).state
                    },
                    cursorCoords: function(e, t) {
                        var n = this.doc.sel.primary();
                        return wt(this, null == e ? n.head : "object" == typeof e ? le(this.doc, e) : e ? n.from() : n.to(), t || "page")
                    },
                    charCoords: function(e, t) {
                        return kt(this, le(this.doc, e), t || "page")
                    },
                    coordsChar: function(e, t) {
                        return Lt(this, (e = bt(this, e, t || "page")).left, e.top)
                    },
                    lineAtHeight: function(e, t) {
                        return e = bt(this, {
                            top: e,
                            left: 0
                        }, t || "page").top, Y(this.doc, e + this.display.viewOffset)
                    },
                    heightAtLine: function(e, t, n) {
                        var r, i = !1,
                            o = "number" == typeof e ? (r = this.doc.first + this.doc.size - 1, e < this.doc.first ? e = this.doc.first : r < e && (e = r, i = !0), G(this.doc, e)) : e;
                        return yt(this, o, {
                            top: 0,
                            left: 0
                        }, t || "page", n || i).top + (i ? this.doc.height - Ie(o) : 0)
                    },
                    defaultTextHeight: function() {
                        return Nt(this.display)
                    },
                    defaultCharWidth: function() {
                        return Dt(this.display)
                    },
                    getViewport: function() {
                        return {
                            from: this.display.viewFrom,
                            to: this.display.viewTo
                        }
                    },
                    addWidget: function(e, t, n, r, i) {
                        var o, a, l, s, c, u = this.display,
                            d = (e = wt(this, le(this.doc, e))).bottom,
                            h = e.left;
                        t.style.position = "absolute", t.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(t), u.sizer.appendChild(t), "over" == r ? d = e.top : "above" != r && "near" != r || (o = Math.max(u.wrapper.clientHeight, this.doc.height), a = Math.max(u.sizer.clientWidth, u.lineSpace.clientWidth), ("above" == r || e.bottom + t.offsetHeight > o) && e.top > t.offsetHeight ? d = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= o && (d = e.bottom), h + t.offsetWidth > a && (h = a - t.offsetWidth)), t.style.top = d + "px", t.style.left = t.style.right = "", "right" == i ? (h = u.sizer.clientWidth - t.offsetWidth, t.style.right = "0px") : ("left" == i ? h = 0 : "middle" == i && (h = (u.sizer.clientWidth - t.offsetWidth) / 2), t.style.left = h + "px"), n && (l = this, s = {
                            left: h,
                            top: d,
                            right: h + t.offsetWidth,
                            bottom: d + t.offsetHeight
                        }, null != (c = en(l, s)).scrollTop && ln(l, c.scrollTop), null != c.scrollLeft && cn(l, c.scrollLeft))
                    },
                    triggerOnKeyDown: bn(ti),
                    triggerOnKeyPress: bn(ri),
                    triggerOnKeyUp: ni,
                    triggerOnMouseDown: bn(ii),
                    execCommand: function(e) {
                        if (ha.hasOwnProperty(e)) return ha[e].call(null, this)
                    },
                    triggerElectric: bn(function(e) {
                        mi(this, e)
                    }),
                    findPosH: function(e, t, n, r) {
                        var i = 1;
                        t < 0 && (i = -1, t = -t);
                        for (var o = le(this.doc, e), a = 0; a < t && !(o = yi(this.doc, o, i, n, r)).hitSide; ++a);
                        return o
                    },
                    moveH: bn(function(e, t) {
                        var n = this;
                        this.extendSelectionsBy(function(r) {
                            return n.display.shift || n.doc.extend || r.empty() ? yi(n.doc, r.head, e, t, n.options.rtlMoveVisually) : e < 0 ? r.from() : r.to()
                        }, go)
                    }),
                    deleteH: bn(function(e, t) {
                        var n = this.doc.sel,
                            r = this.doc;
                        n.somethingSelected() ? r.replaceSelection("", null, "+delete") : Ur(this, function(n) {
                            var i = yi(r, n.head, e, t, !1);
                            return e < 0 ? {
                                from: i,
                                to: n.head
                            } : {
                                from: n.head,
                                to: i
                            }
                        })
                    }),
                    findPosV: function(e, t, n, r) {
                        var i = 1,
                            o = r;
                        t < 0 && (i = -1, t = -t);
                        for (var a = le(this.doc, e), l = 0; l < t; ++l) {
                            var s = wt(this, a, "div");
                            if (null == o ? o = s.left : s.left = o, (a = bi(this, s, i, n)).hitSide) break
                        }
                        return a
                    },
                    moveV: bn(function(e, t) {
                        var n = this,
                            r = this.doc,
                            i = [],
                            o = !this.display.shift && !r.extend && r.sel.somethingSelected();
                        if (r.extendSelectionsBy(function(a) {
                                if (o) return e < 0 ? a.from() : a.to();
                                var l = wt(n, a.head, "div");
                                null != a.goalColumn && (l.left = a.goalColumn), i.push(l.left);
                                var s = bi(n, l, e, t);
                                return "page" == t && a == r.sel.primary() && tn(n, kt(n, s, "div").top - l.top), s
                            }, go), i.length)
                            for (var a = 0; a < r.sel.ranges.length; a++) r.sel.ranges[a].goalColumn = i[a]
                    }),
                    findWordAt: function(e) {
                        var t = G(this.doc, e.line).text,
                            n = e.ch,
                            r = e.ch;
                        if (t) {
                            var i = this.getHelper(e, "wordChars");
                            "before" != e.sticky && r != t.length || !n ? ++r : --n;
                            for (var o = t.charAt(n), a = b(o, i) ? function(e) {
                                    return b(e, i)
                                } : /\s/.test(o) ? function(e) {
                                    return /\s/.test(e)
                                } : function(e) {
                                    return !/\s/.test(e) && !b(e)
                                }; 0 < n && a(t.charAt(n - 1));) --n;
                            for (; r < t.length && a(t.charAt(r));) ++r
                        }
                        return new Yo(ee(e.line, n), ee(e.line, r))
                    },
                    toggleOverwrite: function(e) {
                        null != e && e == this.state.overwrite || (((this.state.overwrite = !this.state.overwrite) ? l : Qi)(this.display.cursorDiv, "CodeMirror-overwrite"), D(this, "overwriteToggle", this, this.state.overwrite))
                    },
                    hasFocus: function() {
                        return this.display.input.getField() == a()
                    },
                    isReadOnly: function() {
                        return !(!this.options.readOnly && !this.doc.cantEdit)
                    },
                    scrollTo: bn(function(e, t) {
                        rn(this, e, t)
                    }),
                    getScrollInfo: function() {
                        var e = this.display.scroller;
                        return {
                            left: e.scrollLeft,
                            top: e.scrollTop,
                            height: e.scrollHeight - it(this) - this.display.barHeight,
                            width: e.scrollWidth - it(this) - this.display.barWidth,
                            clientHeight: at(this),
                            clientWidth: ot(this)
                        }
                    },
                    scrollIntoView: bn(function(e, t) {
                        var n, r;
                        null == e ? (e = {
                            from: this.doc.sel.primary().head,
                            to: null
                        }, null == t && (t = this.options.cursorScrollMargin)) : "number" == typeof e ? e = {
                            from: ee(e, 0),
                            to: null
                        } : null == e.from && (e = {
                            from: e,
                            to: null
                        }), e.to || (e.to = e.from), e.margin = t || 0, null != e.from.line ? (r = e, on(n = this), n.curOp.scrollToPos = r) : an(this, e.from, e.to, e.margin)
                    }),
                    setSize: bn(function(e, t) {
                        function n(e) {
                            return "number" == typeof e || /^\d+$/.test(String(e)) ? e + "px" : e
                        }
                        var r = this;
                        null != e && (this.display.wrapper.style.width = n(e)), null != t && (this.display.wrapper.style.height = n(t)), this.options.lineWrapping && pt(this);
                        var i = this.display.viewFrom;
                        this.doc.iter(i, this.display.viewTo, function(e) {
                            if (e.widgets)
                                for (var t = 0; t < e.widgets.length; t++)
                                    if (e.widgets[t].noHScroll) {
                                        Wt(r, i, "widget");
                                        break
                                    }++i
                        }), this.curOp.forceUpdate = !0, D(this, "refresh", this)
                    }),
                    operation: function(e) {
                        return xn(this, e)
                    },
                    startOperation: function() {
                        return gn(this)
                    },
                    endOperation: function() {
                        return vn(this)
                    },
                    refresh: bn(function() {
                        var e = this.display.cachedTextHeight;
                        Ht(this), this.curOp.forceUpdate = !0, mt(this), rn(this, this.doc.scrollLeft, this.doc.scrollTop), Mn(this.display), (null == e || .5 < Math.abs(e - Nt(this.display)) || this.options.lineWrapping) && zt(this), D(this, "refresh", this)
                    }),
                    swapDoc: bn(function(e) {
                        var t = this.doc;
                        return t.cm = null, this.state.selectingText && this.state.selectingText(), Vn(this, e), mt(this), this.display.input.reset(), rn(this, e.scrollLeft, e.scrollTop), this.curOp.forceScroll = !0, $e(this, "swapDoc", this, t), t
                    }),
                    phrase: function(e) {
                        var t = this.options.phrases;
                        return t && Object.prototype.hasOwnProperty.call(t, e) ? t[e] : e
                    },
                    getInputField: function() {
                        return this.display.input.getField()
                    },
                    getWrapperElement: function() {
                        return this.display.wrapper
                    },
                    getScrollerElement: function() {
                        return this.display.scroller
                    },
                    getGutterElement: function() {
                        return this.display.gutters
                    }
                }, z(Ca), Ca.registerHelper = function(e, t, n) {
                    La.hasOwnProperty(e) || (La[e] = Ca[e] = {
                        _global: []
                    }), La[e][t] = n
                }, Ca.registerGlobalHelper = function(e, t, n, r) {
                    Ca.registerHelper(e, t, r), La[e]._global.push({
                        pred: n,
                        val: r
                    })
                };
                var Ta, Ma, Aa = "iter insert remove copy getEditor constructor".split(" ");
                for (Ta in na.prototype) na.prototype.hasOwnProperty(Ta) && h(Aa, Ta) < 0 && (ui.prototype[Ta] = function(e) {
                    return function() {
                        return e.apply(this.doc, arguments)
                    }
                }(na.prototype[Ta]));
                return z(na), ui.inputStyles = {
                    textarea: Li,
                    contenteditable: ki
                }, ui.defineMode = function(e) {
                    ui.defaults.mode || "null" == e || (ui.defaults.mode = e),
                        function(e, t) {
                            2 < arguments.length && (t.dependencies = Array.prototype.slice.call(arguments, 2)), No[e] = t
                        }.apply(this, arguments)
                }, ui.defineMIME = function(e, t) {
                    Do[e] = t
                }, ui.defineMode("null", function() {
                    return {
                        token: function(e) {
                            return e.skipToEnd()
                        }
                    }
                }), ui.defineMIME("text/plain", "null"), ui.defineExtension = function(e, t) {
                    ui.prototype[e] = t
                }, ui.defineDocExtension = function(e, t) {
                    na.prototype[e] = t
                }, ui.fromTextArea = function(e, t) {
                    function n() {
                        e.value = s.getValue()
                    }
                    var r;
                    if ((t = t ? u(t) : {}).value = e.value, !t.tabindex && e.tabIndex && (t.tabindex = e.tabIndex), !t.placeholder && e.placeholder && (t.placeholder = e.placeholder), null == t.autofocus && (r = a(), t.autofocus = r == e || null != e.getAttribute("autofocus") && r == document.body), e.form && (Co(e.form, "submit", n), !t.leaveSubmitMethodAlone)) {
                        var i = e.form,
                            o = i.submit;
                        try {
                            var l = i.submit = function() {
                                n(), i.submit = o, i.submit(), i.submit = l
                            }
                        } catch (r) {}
                    }
                    t.finishInit = function(r) {
                        r.save = n, r.getTextArea = function() {
                            return e
                        }, r.toTextArea = function() {
                            r.toTextArea = isNaN, n(), e.parentNode.removeChild(r.getWrapperElement()), e.style.display = "", e.form && (N(e.form, "submit", n), t.leaveSubmitMethodAlone || "function" != typeof e.form.submit || (e.form.submit = o))
                        }
                    }, e.style.display = "none";
                    var s = ui(function(t) {
                        return e.parentNode.insertBefore(t, e.nextSibling)
                    }, t);
                    return s
                }, (Ma = ui).off = N, Ma.on = Co, Ma.wheelEventPixels = function(e) {
                    var t = zn(e);
                    return t.x *= Ko, t.y *= Ko, t
                }, Ma.Doc = na, Ma.splitLines = Lo, Ma.countColumn = d, Ma.findColumn = f, Ma.isWordChar = y, Ma.Pass = fo, Ma.signal = D, Ma.Line = Wo, Ma.changeEnd = Wn, Ma.scrollbarModel = Uo, Ma.Pos = ee, Ma.cmpPos = te, Ma.modes = No, Ma.mimeModes = Do, Ma.resolveMode = B, Ma.getMode = j, Ma.modeExtensions = Fo, Ma.extendMode = function(e, t) {
                    u(t, Fo.hasOwnProperty(e) ? Fo[e] : Fo[e] = {})
                }, Ma.copyState = q, Ma.startState = U, Ma.innerMode = $, Ma.commands = ha, Ma.keyMap = ca, Ma.keyName = qr, Ma.isModifierKey = Br, Ma.lookupKey = _r, Ma.normalizeKeyMap = function(e) {
                    var t, n, r = {};
                    for (t in e)
                        if (e.hasOwnProperty(t)) {
                            var i = e[t];
                            if (/^(name|fallthrough|(de|at)tach)$/.test(t)) continue;
                            if ("..." == i) {
                                delete e[t];
                                continue
                            }
                            for (var o = g(t.split(" "), Pr), a = 0; a < o.length; a++) {
                                var l = void 0,
                                    s = void 0,
                                    l = a == o.length - 1 ? (s = o.join(" "), i) : (s = o.slice(0, a + 1).join(" "), "..."),
                                    c = r[s];
                                if (c) {
                                    if (c != l) throw new Error("Inconsistent bindings for " + s)
                                } else r[s] = l
                            }
                            delete e[t]
                        }
                    for (n in r) e[n] = r[n];
                    return e
                }, Ma.StringStream = Eo, Ma.SharedTextMarker = ea, Ma.TextMarker = Jo, Ma.LineWidget = Fr, Ma.e_preventDefault = I, Ma.e_stopPropagation = R, Ma.e_stop = W, Ma.addClass = l, Ma.contains = o, Ma.rmClass = Qi, Ma.keyNames = oa, ui.version = "5.57.0", ui
            }, "object" == typeof n && void 0 !== t ? t.exports = i() : (r = r || self).CodeMirror = i()
        }, {}],
        9: [function(e, t, n) {
            var r;
            r = function(e) {
                "use strict";
                var t = /^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
                e.defineMode("gfm", function(n, r) {
                    var i, o = 0,
                        a = {
                            startState: function() {
                                return {
                                    code: !1,
                                    codeBlock: !1,
                                    ateSpace: !1
                                }
                            },
                            copyState: function(e) {
                                return {
                                    code: e.code,
                                    codeBlock: e.codeBlock,
                                    ateSpace: e.ateSpace
                                }
                            },
                            token: function(e, n) {
                                if (n.combineTokens = null, n.codeBlock) return e.match(/^```+/) ? n.codeBlock = !1 : e.skipToEnd(), null;
                                if (e.sol() && (n.code = !1), e.sol() && e.match(/^```+/)) return e.skipToEnd(), n.codeBlock = !0, null;
                                if ("`" === e.peek()) {
                                    e.next();
                                    var i = e.pos;
                                    e.eatWhile("`");
                                    var a = 1 + e.pos - i;
                                    return n.code ? a === o && (n.code = !1) : (o = a, n.code = !0), null
                                }
                                if (n.code) return e.next(), null;
                                if (e.eatSpace()) return n.ateSpace = !0, null;
                                if ((e.sol() || n.ateSpace) && (n.ateSpace = !1) !== r.gitHubSpice) {
                                    if (e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)) return n.combineTokens = !0, "link";
                                    if (e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)) return n.combineTokens = !0, "link"
                                }
                                return e.match(t) && "](" != e.string.slice(e.start - 2, e.start) && (0 == e.start || /\W/.test(e.string.charAt(e.start - 1))) ? (n.combineTokens = !0, "link") : (e.next(), null)
                            },
                            blankLine: function(e) {
                                return e.code = !1, null
                            }
                        },
                        l = {
                            taskLists: !0,
                            strikethrough: !0,
                            emoji: !0
                        };
                    for (i in r) l[i] = r[i];
                    return l.name = "markdown", e.overlayMode(e.getMode(n, l), a)
                }, "markdown"), e.defineMIME("text/x-gfm", "gfm")
            }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror"), e("../markdown/markdown"), e("../../addon/mode/overlay")) : r(CodeMirror)
        }, {
            "../../addon/mode/overlay": 6,
            "../../lib/codemirror": 8,
            "../markdown/markdown": 10
        }],
        10: [function(e, t, n) {
            var r;
            r = function(e) {
                "use strict";
                e.defineMode("markdown", function(t, n) {
                    function r(e, t, n) {
                        return (t.f = t.inline = n)(e, t)
                    }

                    function i(e, t, n) {
                        return (t.f = t.block = n)(e, t)
                    }

                    function o(t) {
                        var n, r;
                        return t.linkTitle = !1, t.linkHref = !1, t.linkText = !1, t.em = !1, t.strong = !1, t.strikethrough = !1, t.quote = 0, t.indentedCode = !1, t.f == l && ((r = x) || (r = "xml" == (n = e.innerMode(v, t.htmlState)).mode.name && null === n.state.tagStart && !n.state.context && n.state.tokenize.isInText), r && (t.f = d, t.block = a, t.htmlState = null)), t.trailingSpace = 0, t.trailingSpaceNewLine = !1, t.prevLine = t.thisLine, t.thisLine = {
                            stream: null
                        }, null
                    }

                    function a(i, o) {
                        var a, l = i.column() === o.indentation,
                            u = !(a = o.prevLine.stream) || !/\S/.test(a.string),
                            d = o.indentedCode,
                            h = o.prevLine.hr,
                            f = !1 !== o.list,
                            m = (o.listStack[o.listStack.length - 1] || 0) + 3;
                        o.indentedCode = !1;
                        var g = o.indentation;
                        if (null === o.indentationDiff && (o.indentationDiff = o.indentation, f)) {
                            for (o.list = null; g < o.listStack[o.listStack.length - 1];) o.listStack.pop(), o.listStack.length ? o.indentation = o.listStack[o.listStack.length - 1] : o.list = !1;
                            !1 !== o.list && (o.indentationDiff = g - o.listStack[o.listStack.length - 1])
                        }
                        var v = !(u || h || o.prevLine.header || f && d || o.prevLine.fencedCodeEnd),
                            x = (!1 === o.list || h || u) && o.indentation <= m && i.match(k),
                            y = null;
                        if (4 <= o.indentationDiff && (d || o.prevLine.fencedCodeEnd || o.prevLine.header || u)) return i.skipToEnd(), o.indentedCode = !0, b.code;
                        if (i.eatSpace()) return null;
                        if (l && o.indentation <= m && (y = i.match(S)) && y[1].length <= 6) return o.quote = 0, o.header = y[1].length, o.thisLine.header = !0, n.highlightFormatting && (o.formatting = "header"), o.f = o.inline, c(o);
                        if (o.indentation <= m && i.eat(">")) return o.quote = l ? 1 : o.quote + 1, n.highlightFormatting && (o.formatting = "quote"), i.eatSpace(), c(o);
                        if (!x && !o.setext && l && o.indentation <= m && (y = i.match(w))) {
                            var T = y[1] ? "ol" : "ul";
                            return o.indentation = g + i.current().length, o.list = !0, o.quote = 0, o.listStack.push(o.indentation), o.em = !1, o.strong = !1, o.code = !1, o.strikethrough = !1, n.taskLists && i.match(C, !1) && (o.taskList = !0), o.f = o.inline, n.highlightFormatting && (o.formatting = ["list", "list-" + T]), c(o)
                        }
                        return l && o.indentation <= m && (y = i.match(M, !0)) ? (o.quote = 0, o.fencedEndRE = new RegExp(y[1] + "+ *$"), o.localMode = n.fencedCodeBlockHighlighting && function(n) {
                            var r;
                            !e.findModeByName || (r = e.findModeByName(n)) && (n = r.mime || r.mimes[0]);
                            var i = e.getMode(t, n);
                            return "null" == i.name ? null : i
                        }(y[2] || n.fencedCodeBlockDefaultMode), o.localMode && (o.localState = e.startState(o.localMode)), o.f = o.block = s, n.highlightFormatting && (o.formatting = "code-block"), o.code = -1, c(o)) : o.setext || !(v && f || o.quote || !1 !== o.list || o.code || x || A.test(i.string)) && (y = i.lookAhead(1)) && (y = y.match(L)) ? (o.setext ? (o.header = o.setext, o.setext = 0, i.skipToEnd(), n.highlightFormatting && (o.formatting = "header")) : (o.header = "=" == y[0].charAt(0) ? 1 : 2, o.setext = o.header), o.thisLine.header = !0, o.f = o.inline, c(o)) : x ? (i.skipToEnd(), o.hr = !0, o.thisLine.hr = !0, b.hr) : "[" === i.peek() ? r(i, o, p) : r(i, o, o.inline)
                    }

                    function l(t, n) {
                        var r, i = v.token(t, n.htmlState);
                        return x || ("xml" == (r = e.innerMode(v, n.htmlState)).mode.name && null === r.state.tagStart && !r.state.context && r.state.tokenize.isInText || n.md_inside && -1 < t.current().indexOf(">")) && (n.f = d, n.block = a, n.htmlState = null), i
                    }

                    function s(e, t) {
                        var r, o = t.listStack[t.listStack.length - 1] || 0,
                            l = t.indentation < o,
                            s = o + 3;
                        return t.fencedEndRE && t.indentation <= s && (l || e.match(t.fencedEndRE)) ? (n.highlightFormatting && (t.formatting = "code-block"), l || (r = c(t)), t.localMode = t.localState = null, t.block = a, t.f = d, t.fencedEndRE = null, t.code = 0, t.thisLine.fencedCodeEnd = !0, l ? i(e, t, t.block) : r) : t.localMode ? t.localMode.token(e, t.localState) : (e.skipToEnd(), b.code)
                    }

                    function c(e) {
                        var t, r = [];
                        if (e.formatting) {
                            r.push(b.formatting), "string" == typeof e.formatting && (e.formatting = [e.formatting]);
                            for (var i = 0; i < e.formatting.length; i++) r.push(b.formatting + "-" + e.formatting[i]), "header" === e.formatting[i] && r.push(b.formatting + "-" + e.formatting[i] + "-" + e.header), "quote" === e.formatting[i] && (!n.maxBlockquoteDepth || n.maxBlockquoteDepth >= e.quote ? r.push(b.formatting + "-" + e.formatting[i] + "-" + e.quote) : r.push("error"))
                        }
                        return e.taskOpen ? r.push("meta") : e.taskClosed ? r.push("property") : (e.linkHref ? r.push(b.linkHref, "url") : (e.strong && r.push(b.strong), e.em && r.push(b.em), e.strikethrough && r.push(b.strikethrough), e.emoji && r.push(b.emoji), e.linkText && r.push(b.linkText), e.code && r.push(b.code), e.image && r.push(b.image), e.imageAltText && r.push(b.imageAltText, "link"), e.imageMarker && r.push(b.imageMarker)), e.header && r.push(b.header, b.header + "-" + e.header), e.quote && (r.push(b.quote), !n.maxBlockquoteDepth || n.maxBlockquoteDepth >= e.quote ? r.push(b.quote + "-" + e.quote) : r.push(b.quote + "-" + n.maxBlockquoteDepth)), !1 !== e.list && ((t = (e.listStack.length - 1) % 3) ? 1 == t ? r.push(b.list2) : r.push(b.list3) : r.push(b.list1)), e.trailingSpaceNewLine ? r.push("trailing-space-new-line") : e.trailingSpace && r.push("trailing-space-" + (e.trailingSpace % 2 ? "a" : "b"))), r.length ? r.join(" ") : null
                    }

                    function u(e, t) {
                        if (e.match(T, !0)) return c(t)
                    }

                    function d(t, r) {
                        var o = r.text(t, r);
                        if (void 0 !== o) return o;
                        if (r.list) return r.list = null, c(r);
                        if (r.taskList) return " " === t.match(C, !0)[1] ? r.taskOpen = !0 : r.taskClosed = !0, n.highlightFormatting && (r.formatting = "task"), r.taskList = !1, c(r);
                        if (r.taskOpen = !1, r.taskClosed = !1, r.header && t.match(/^#+$/, !0)) return n.highlightFormatting && (r.formatting = "header"), c(r);
                        var a = t.next();
                        if (r.linkTitle) {
                            r.linkTitle = !1;
                            var s = "(" === a ? ")" : a,
                                u = "^\\s*(?:[^" + (s = (s + "").replace(/([.?*+^\[\]\\(){}|-])/g, "\\$1")) + "\\\\]+|\\\\\\\\|\\\\.)" + s;
                            if (t.match(new RegExp(u), !0)) return b.linkHref
                        }
                        if ("`" === a) {
                            var p = r.formatting;
                            n.highlightFormatting && (r.formatting = "code"), t.eatWhile("`");
                            var m = t.current().length;
                            if (0 != r.code || r.quote && 1 != m) {
                                if (m != r.code) return r.formatting = p, c(r);
                                var g = c(r);
                                return r.code = 0, g
                            }
                            return r.code = m, c(r)
                        }
                        if (r.code) return c(r);
                        if ("\\" === a && (t.next(), n.highlightFormatting)) {
                            var x = c(r),
                                y = b.formatting + "-escape";
                            return x ? x + " " + y : y
                        }
                        if ("!" === a && t.match(/\[[^\]]*\] ?(?:\(|\[)/, !1)) return r.imageMarker = !0, r.image = !0, n.highlightFormatting && (r.formatting = "image"), c(r);
                        if ("[" === a && r.imageMarker && t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/, !1)) return r.imageMarker = !1, r.imageAltText = !0, n.highlightFormatting && (r.formatting = "image"), c(r);
                        if ("]" === a && r.imageAltText) {
                            n.highlightFormatting && (r.formatting = "image");
                            x = c(r);
                            return r.imageAltText = !1, r.image = !1, r.inline = r.f = f, x
                        }
                        if ("[" === a && !r.image) return r.linkText && t.match(/^.*?\]/) || (r.linkText = !0, n.highlightFormatting && (r.formatting = "link")), c(r);
                        if ("]" === a && r.linkText) {
                            n.highlightFormatting && (r.formatting = "link");
                            x = c(r);
                            return r.linkText = !1, r.inline = r.f = t.match(/\(.*?\)| ?\[.*?\]/, !1) ? f : d, x
                        }
                        if ("<" === a && t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, !1)) return r.f = r.inline = h, n.highlightFormatting && (r.formatting = "link"), (x = c(r)) ? x += " " : x = "", x + b.linkInline;
                        if ("<" === a && t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, !1)) return r.f = r.inline = h, n.highlightFormatting && (r.formatting = "link"), (x = c(r)) ? x += " " : x = "", x + b.linkEmail;
                        if (n.xml && "<" === a && t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i, !1)) {
                            var k, w = t.string.indexOf(">", t.pos);
                            return -1 != w && (k = t.string.substring(t.start, w), /markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(k) && (r.md_inside = !0)), t.backUp(1), r.htmlState = e.startState(v), i(t, r, l)
                        }
                        if (n.xml && "<" === a && t.match(/^\/\w*?>/)) return r.md_inside = !1, "tag";
                        if ("*" === a || "_" === a) {
                            for (var S = 1, L = 1 == t.pos ? " " : t.string.charAt(t.pos - 2); S < 3 && t.eat(a);) S++;
                            var T = t.peek() || " ",
                                M = !/\s/.test(T) && (!N.test(T) || /\s/.test(L) || N.test(L)),
                                A = !/\s/.test(L) && (!N.test(L) || /\s/.test(T) || N.test(T)),
                                D = null,
                                F = null;
                            if (S % 2 && (r.em || !M || "*" !== a && A && !N.test(L) ? r.em != a || !A || "*" !== a && M && !N.test(T) || (D = !1) : D = !0), 1 < S && (r.strong || !M || "*" !== a && A && !N.test(L) ? r.strong != a || !A || "*" !== a && M && !N.test(T) || (F = !1) : F = !0), null != F || null != D) return n.highlightFormatting && (r.formatting = null == D ? "strong" : null == F ? "em" : "strong em"), !0 === D && (r.em = a), !0 === F && (r.strong = a), g = c(r), !1 === D && (r.em = !1), !1 === F && (r.strong = !1), g
                        } else if (" " === a && (t.eat("*") || t.eat("_"))) {
                            if (" " === t.peek()) return c(r);
                            t.backUp(1)
                        }
                        if (n.strikethrough)
                            if ("~" === a && t.eatWhile(a)) {
                                if (r.strikethrough) return n.highlightFormatting && (r.formatting = "strikethrough"), g = c(r), r.strikethrough = !1, g;
                                if (t.match(/^[^\s]/, !1)) return r.strikethrough = !0, n.highlightFormatting && (r.formatting = "strikethrough"), c(r)
                            } else if (" " === a && t.match(/^~~/, !0)) {
                            if (" " === t.peek()) return c(r);
                            t.backUp(2)
                        }
                        if (n.emoji && ":" === a && t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)) {
                            r.emoji = !0, n.highlightFormatting && (r.formatting = "emoji");
                            var E = c(r);
                            return r.emoji = !1, E
                        }
                        return " " === a && (t.match(/^ +$/, !1) ? r.trailingSpace++ : r.trailingSpace && (r.trailingSpaceNewLine = !0)), c(r)
                    }

                    function h(e, t) {
                        if (">" !== e.next()) return e.match(/^[^>]+/, !0), b.linkInline;
                        t.f = t.inline = d, n.highlightFormatting && (t.formatting = "link");
                        var r = c(t);
                        return r ? r += " " : r = "", r + b.linkInline
                    }

                    function f(e, t) {
                        if (e.eatSpace()) return null;
                        var r, i = e.next();
                        return "(" === i || "[" === i ? (t.f = t.inline = (r = "(" === i ? ")" : "]", function(e, t) {
                            if (e.next() !== r) return e.match(D[r]), t.linkHref = !0, c(t);
                            t.f = t.inline = d, n.highlightFormatting && (t.formatting = "link-string");
                            var i = c(t);
                            return t.linkHref = !1, i
                        }), n.highlightFormatting && (t.formatting = "link-string"), t.linkHref = !0, c(t)) : "error"
                    }

                    function p(e, t) {
                        return e.match(/^([^\]\\]|\\.)*\]:/, !1) ? (t.f = m, e.next(), n.highlightFormatting && (t.formatting = "link"), t.linkText = !0, c(t)) : r(e, t, d)
                    }

                    function m(e, t) {
                        if (e.match(/^\]:/, !0)) {
                            t.f = t.inline = g, n.highlightFormatting && (t.formatting = "link");
                            var r = c(t);
                            return t.linkText = !1, r
                        }
                        return e.match(/^([^\]\\]|\\.)+/, !0), b.linkText
                    }

                    function g(e, t) {
                        return e.eatSpace() ? null : (e.match(/^[^\s]+/, !0), void 0 === e.peek() ? t.linkTitle = !0 : e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/, !0), t.f = t.inline = d, b.linkHref + " url")
                    }
                    var v = e.getMode(t, "text/html"),
                        x = "null" == v.name;
                    void 0 === n.highlightFormatting && (n.highlightFormatting = !1), void 0 === n.maxBlockquoteDepth && (n.maxBlockquoteDepth = 0), void 0 === n.taskLists && (n.taskLists = !1), void 0 === n.strikethrough && (n.strikethrough = !1), void 0 === n.emoji && (n.emoji = !1), void 0 === n.fencedCodeBlockHighlighting && (n.fencedCodeBlockHighlighting = !0), void 0 === n.fencedCodeBlockDefaultMode && (n.fencedCodeBlockDefaultMode = "text/plain"), void 0 === n.xml && (n.xml = !0), void 0 === n.tokenTypeOverrides && (n.tokenTypeOverrides = {});
                    var y, b = {
                        header: "header",
                        code: "comment",
                        quote: "quote",
                        list1: "variable-2",
                        list2: "variable-3",
                        list3: "keyword",
                        hr: "hr",
                        image: "image",
                        imageAltText: "image-alt-text",
                        imageMarker: "image-marker",
                        formatting: "formatting",
                        linkInline: "link",
                        linkEmail: "link",
                        linkText: "link",
                        linkHref: "string",
                        em: "em",
                        strong: "strong",
                        strikethrough: "strikethrough",
                        emoji: "builtin"
                    };
                    for (y in b) b.hasOwnProperty(y) && n.tokenTypeOverrides[y] && (b[y] = n.tokenTypeOverrides[y]);
                    var k = /^([*\-_])(?:\s*\1){2,}\s*$/,
                        w = /^(?:[*\-+]|^[0-9]+([.)]))\s+/,
                        C = /^\[(x| )\](?=\s)/i,
                        S = n.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/,
                        L = /^ {0,3}(?:\={1,}|-{2,})\s*$/,
                        T = /^[^#!\[\]*_\\<>` "'(~:]+/,
                        M = /^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,
                        A = /^\s*\[[^\]]+?\]:.*$/,
                        N = /[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
                        D = {
                            ")": /^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,
                            "]": /^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/
                        },
                        F = {
                            startState: function() {
                                return {
                                    f: a,
                                    prevLine: {
                                        stream: null
                                    },
                                    thisLine: {
                                        stream: null
                                    },
                                    block: a,
                                    htmlState: null,
                                    indentation: 0,
                                    inline: d,
                                    text: u,
                                    formatting: !1,
                                    linkText: !1,
                                    linkHref: !1,
                                    linkTitle: !1,
                                    code: 0,
                                    em: !1,
                                    strong: !1,
                                    header: 0,
                                    setext: 0,
                                    hr: !1,
                                    taskList: !1,
                                    list: !1,
                                    listStack: [],
                                    quote: 0,
                                    trailingSpace: 0,
                                    trailingSpaceNewLine: !1,
                                    strikethrough: !1,
                                    emoji: !1,
                                    fencedEndRE: null
                                }
                            },
                            copyState: function(t) {
                                return {
                                    f: t.f,
                                    prevLine: t.prevLine,
                                    thisLine: t.thisLine,
                                    block: t.block,
                                    htmlState: t.htmlState && e.copyState(v, t.htmlState),
                                    indentation: t.indentation,
                                    localMode: t.localMode,
                                    localState: t.localMode ? e.copyState(t.localMode, t.localState) : null,
                                    inline: t.inline,
                                    text: t.text,
                                    formatting: !1,
                                    linkText: t.linkText,
                                    linkTitle: t.linkTitle,
                                    linkHref: t.linkHref,
                                    code: t.code,
                                    em: t.em,
                                    strong: t.strong,
                                    strikethrough: t.strikethrough,
                                    emoji: t.emoji,
                                    header: t.header,
                                    setext: t.setext,
                                    hr: t.hr,
                                    taskList: t.taskList,
                                    list: t.list,
                                    listStack: t.listStack.slice(0),
                                    quote: t.quote,
                                    indentedCode: t.indentedCode,
                                    trailingSpace: t.trailingSpace,
                                    trailingSpaceNewLine: t.trailingSpaceNewLine,
                                    md_inside: t.md_inside,
                                    fencedEndRE: t.fencedEndRE
                                }
                            },
                            token: function(e, t) {
                                if (t.formatting = !1, e != t.thisLine.stream) {
                                    if (t.header = 0, t.hr = !1, e.match(/^\s*$/, !0)) return o(t), null;
                                    if (t.prevLine = t.thisLine, t.thisLine = {
                                            stream: e
                                        }, t.taskList = !1, t.trailingSpace = 0, t.trailingSpaceNewLine = !1, !t.localState && (t.f = t.block, t.f != l)) {
                                        var n = e.match(/^\s*/, !0)[0].replace(/\t/g, "    ").length;
                                        if (t.indentation = n, t.indentationDiff = null, 0 < n) return null
                                    }
                                }
                                return t.f(e, t)
                            },
                            innerMode: function(e) {
                                return e.block == l ? {
                                    state: e.htmlState,
                                    mode: v
                                } : e.localState ? {
                                    state: e.localState,
                                    mode: e.localMode
                                } : {
                                    state: e,
                                    mode: F
                                }
                            },
                            indent: function(t, n, r) {
                                return t.block == l && v.indent ? v.indent(t.htmlState, n, r) : t.localState && t.localMode.indent ? t.localMode.indent(t.localState, n, r) : e.Pass
                            },
                            blankLine: o,
                            getType: c,
                            blockCommentStart: "\x3c!--",
                            blockCommentEnd: "--\x3e",
                            closeBrackets: "()[]{}''\"\"``",
                            fold: "markdown"
                        };
                    return F
                }, "xml"), e.defineMIME("text/markdown", "markdown"), e.defineMIME("text/x-markdown", "markdown")
            }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror"), e("../xml/xml"), e("../meta")) : r(CodeMirror)
        }, {
            "../../lib/codemirror": 8,
            "../meta": 11,
            "../xml/xml": 12
        }],
        11: [function(e, t, n) {
            ! function(e) {
                "use strict";
                e.modeInfo = [{
                    name: "APL",
                    mime: "text/apl",
                    mode: "apl",
                    ext: ["dyalog", "apl"]
                }, {
                    name: "PGP",
                    mimes: ["application/pgp", "application/pgp-encrypted", "application/pgp-keys", "application/pgp-signature"],
                    mode: "asciiarmor",
                    ext: ["asc", "pgp", "sig"]
                }, {
                    name: "ASN.1",
                    mime: "text/x-ttcn-asn",
                    mode: "asn.1",
                    ext: ["asn", "asn1"]
                }, {
                    name: "Asterisk",
                    mime: "text/x-asterisk",
                    mode: "asterisk",
                    file: /^extensions\.conf$/i
                }, {
                    name: "Brainfuck",
                    mime: "text/x-brainfuck",
                    mode: "brainfuck",
                    ext: ["b", "bf"]
                }, {
                    name: "C",
                    mime: "text/x-csrc",
                    mode: "clike",
                    ext: ["c", "h", "ino"]
                }, {
                    name: "C++",
                    mime: "text/x-c++src",
                    mode: "clike",
                    ext: ["cpp", "c++", "cc", "cxx", "hpp", "h++", "hh", "hxx"],
                    alias: ["cpp"]
                }, {
                    name: "Cobol",
                    mime: "text/x-cobol",
                    mode: "cobol",
                    ext: ["cob", "cpy"]
                }, {
                    name: "C#",
                    mime: "text/x-csharp",
                    mode: "clike",
                    ext: ["cs"],
                    alias: ["csharp", "cs"]
                }, {
                    name: "Clojure",
                    mime: "text/x-clojure",
                    mode: "clojure",
                    ext: ["clj", "cljc", "cljx"]
                }, {
                    name: "ClojureScript",
                    mime: "text/x-clojurescript",
                    mode: "clojure",
                    ext: ["cljs"]
                }, {
                    name: "Closure Stylesheets (GSS)",
                    mime: "text/x-gss",
                    mode: "css",
                    ext: ["gss"]
                }, {
                    name: "CMake",
                    mime: "text/x-cmake",
                    mode: "cmake",
                    ext: ["cmake", "cmake.in"],
                    file: /^CMakeLists\.txt$/
                }, {
                    name: "CoffeeScript",
                    mimes: ["application/vnd.coffeescript", "text/coffeescript", "text/x-coffeescript"],
                    mode: "coffeescript",
                    ext: ["coffee"],
                    alias: ["coffee", "coffee-script"]
                }, {
                    name: "Common Lisp",
                    mime: "text/x-common-lisp",
                    mode: "commonlisp",
                    ext: ["cl", "lisp", "el"],
                    alias: ["lisp"]
                }, {
                    name: "Cypher",
                    mime: "application/x-cypher-query",
                    mode: "cypher",
                    ext: ["cyp", "cypher"]
                }, {
                    name: "Cython",
                    mime: "text/x-cython",
                    mode: "python",
                    ext: ["pyx", "pxd", "pxi"]
                }, {
                    name: "Crystal",
                    mime: "text/x-crystal",
                    mode: "crystal",
                    ext: ["cr"]
                }, {
                    name: "CSS",
                    mime: "text/css",
                    mode: "css",
                    ext: ["css"]
                }, {
                    name: "CQL",
                    mime: "text/x-cassandra",
                    mode: "sql",
                    ext: ["cql"]
                }, {
                    name: "D",
                    mime: "text/x-d",
                    mode: "d",
                    ext: ["d"]
                }, {
                    name: "Dart",
                    mimes: ["application/dart", "text/x-dart"],
                    mode: "dart",
                    ext: ["dart"]
                }, {
                    name: "diff",
                    mime: "text/x-diff",
                    mode: "diff",
                    ext: ["diff", "patch"]
                }, {
                    name: "Django",
                    mime: "text/x-django",
                    mode: "django"
                }, {
                    name: "Dockerfile",
                    mime: "text/x-dockerfile",
                    mode: "dockerfile",
                    file: /^Dockerfile$/
                }, {
                    name: "DTD",
                    mime: "application/xml-dtd",
                    mode: "dtd",
                    ext: ["dtd"]
                }, {
                    name: "Dylan",
                    mime: "text/x-dylan",
                    mode: "dylan",
                    ext: ["dylan", "dyl", "intr"]
                }, {
                    name: "EBNF",
                    mime: "text/x-ebnf",
                    mode: "ebnf"
                }, {
                    name: "ECL",
                    mime: "text/x-ecl",
                    mode: "ecl",
                    ext: ["ecl"]
                }, {
                    name: "edn",
                    mime: "application/edn",
                    mode: "clojure",
                    ext: ["edn"]
                }, {
                    name: "Eiffel",
                    mime: "text/x-eiffel",
                    mode: "eiffel",
                    ext: ["e"]
                }, {
                    name: "Elm",
                    mime: "text/x-elm",
                    mode: "elm",
                    ext: ["elm"]
                }, {
                    name: "Embedded Javascript",
                    mime: "application/x-ejs",
                    mode: "htmlembedded",
                    ext: ["ejs"]
                }, {
                    name: "Embedded Ruby",
                    mime: "application/x-erb",
                    mode: "htmlembedded",
                    ext: ["erb"]
                }, {
                    name: "Erlang",
                    mime: "text/x-erlang",
                    mode: "erlang",
                    ext: ["erl"]
                }, {
                    name: "Esper",
                    mime: "text/x-esper",
                    mode: "sql"
                }, {
                    name: "Factor",
                    mime: "text/x-factor",
                    mode: "factor",
                    ext: ["factor"]
                }, {
                    name: "FCL",
                    mime: "text/x-fcl",
                    mode: "fcl"
                }, {
                    name: "Forth",
                    mime: "text/x-forth",
                    mode: "forth",
                    ext: ["forth", "fth", "4th"]
                }, {
                    name: "Fortran",
                    mime: "text/x-fortran",
                    mode: "fortran",
                    ext: ["f", "for", "f77", "f90", "f95"]
                }, {
                    name: "F#",
                    mime: "text/x-fsharp",
                    mode: "mllike",
                    ext: ["fs"],
                    alias: ["fsharp"]
                }, {
                    name: "Gas",
                    mime: "text/x-gas",
                    mode: "gas",
                    ext: ["s"]
                }, {
                    name: "Gherkin",
                    mime: "text/x-feature",
                    mode: "gherkin",
                    ext: ["feature"]
                }, {
                    name: "GitHub Flavored Markdown",
                    mime: "text/x-gfm",
                    mode: "gfm",
                    file: /^(readme|contributing|history)\.md$/i
                }, {
                    name: "Go",
                    mime: "text/x-go",
                    mode: "go",
                    ext: ["go"]
                }, {
                    name: "Groovy",
                    mime: "text/x-groovy",
                    mode: "groovy",
                    ext: ["groovy", "gradle"],
                    file: /^Jenkinsfile$/
                }, {
                    name: "HAML",
                    mime: "text/x-haml",
                    mode: "haml",
                    ext: ["haml"]
                }, {
                    name: "Haskell",
                    mime: "text/x-haskell",
                    mode: "haskell",
                    ext: ["hs"]
                }, {
                    name: "Haskell (Literate)",
                    mime: "text/x-literate-haskell",
                    mode: "haskell-literate",
                    ext: ["lhs"]
                }, {
                    name: "Haxe",
                    mime: "text/x-haxe",
                    mode: "haxe",
                    ext: ["hx"]
                }, {
                    name: "HXML",
                    mime: "text/x-hxml",
                    mode: "haxe",
                    ext: ["hxml"]
                }, {
                    name: "ASP.NET",
                    mime: "application/x-aspx",
                    mode: "htmlembedded",
                    ext: ["aspx"],
                    alias: ["asp", "aspx"]
                }, {
                    name: "HTML",
                    mime: "text/html",
                    mode: "htmlmixed",
                    ext: ["html", "htm", "handlebars", "hbs"],
                    alias: ["xhtml"]
                }, {
                    name: "HTTP",
                    mime: "message/http",
                    mode: "http"
                }, {
                    name: "IDL",
                    mime: "text/x-idl",
                    mode: "idl",
                    ext: ["pro"]
                }, {
                    name: "Pug",
                    mime: "text/x-pug",
                    mode: "pug",
                    ext: ["jade", "pug"],
                    alias: ["jade"]
                }, {
                    name: "Java",
                    mime: "text/x-java",
                    mode: "clike",
                    ext: ["java"]
                }, {
                    name: "Java Server Pages",
                    mime: "application/x-jsp",
                    mode: "htmlembedded",
                    ext: ["jsp"],
                    alias: ["jsp"]
                }, {
                    name: "JavaScript",
                    mimes: ["text/javascript", "text/ecmascript", "application/javascript", "application/x-javascript", "application/ecmascript"],
                    mode: "javascript",
                    ext: ["js"],
                    alias: ["ecmascript", "js", "node"]
                }, {
                    name: "JSON",
                    mimes: ["application/json", "application/x-json"],
                    mode: "javascript",
                    ext: ["json", "map"],
                    alias: ["json5"]
                }, {
                    name: "JSON-LD",
                    mime: "application/ld+json",
                    mode: "javascript",
                    ext: ["jsonld"],
                    alias: ["jsonld"]
                }, {
                    name: "JSX",
                    mime: "text/jsx",
                    mode: "jsx",
                    ext: ["jsx"]
                }, {
                    name: "Jinja2",
                    mime: "text/jinja2",
                    mode: "jinja2",
                    ext: ["j2", "jinja", "jinja2"]
                }, {
                    name: "Julia",
                    mime: "text/x-julia",
                    mode: "julia",
                    ext: ["jl"]
                }, {
                    name: "Kotlin",
                    mime: "text/x-kotlin",
                    mode: "clike",
                    ext: ["kt"]
                }, {
                    name: "LESS",
                    mime: "text/x-less",
                    mode: "css",
                    ext: ["less"]
                }, {
                    name: "LiveScript",
                    mime: "text/x-livescript",
                    mode: "livescript",
                    ext: ["ls"],
                    alias: ["ls"]
                }, {
                    name: "Lua",
                    mime: "text/x-lua",
                    mode: "lua",
                    ext: ["lua"]
                }, {
                    name: "Markdown",
                    mime: "text/x-markdown",
                    mode: "markdown",
                    ext: ["markdown", "md", "mkd"]
                }, {
                    name: "mIRC",
                    mime: "text/mirc",
                    mode: "mirc"
                }, {
                    name: "MariaDB SQL",
                    mime: "text/x-mariadb",
                    mode: "sql"
                }, {
                    name: "Mathematica",
                    mime: "text/x-mathematica",
                    mode: "mathematica",
                    ext: ["m", "nb", "wl", "wls"]
                }, {
                    name: "Modelica",
                    mime: "text/x-modelica",
                    mode: "modelica",
                    ext: ["mo"]
                }, {
                    name: "MUMPS",
                    mime: "text/x-mumps",
                    mode: "mumps",
                    ext: ["mps"]
                }, {
                    name: "MS SQL",
                    mime: "text/x-mssql",
                    mode: "sql"
                }, {
                    name: "mbox",
                    mime: "application/mbox",
                    mode: "mbox",
                    ext: ["mbox"]
                }, {
                    name: "MySQL",
                    mime: "text/x-mysql",
                    mode: "sql"
                }, {
                    name: "Nginx",
                    mime: "text/x-nginx-conf",
                    mode: "nginx",
                    file: /nginx.*\.conf$/i
                }, {
                    name: "NSIS",
                    mime: "text/x-nsis",
                    mode: "nsis",
                    ext: ["nsh", "nsi"]
                }, {
                    name: "NTriples",
                    mimes: ["application/n-triples", "application/n-quads", "text/n-triples"],
                    mode: "ntriples",
                    ext: ["nt", "nq"]
                }, {
                    name: "Objective-C",
                    mime: "text/x-objectivec",
                    mode: "clike",
                    ext: ["m"],
                    alias: ["objective-c", "objc"]
                }, {
                    name: "Objective-C++",
                    mime: "text/x-objectivec++",
                    mode: "clike",
                    ext: ["mm"],
                    alias: ["objective-c++", "objc++"]
                }, {
                    name: "OCaml",
                    mime: "text/x-ocaml",
                    mode: "mllike",
                    ext: ["ml", "mli", "mll", "mly"]
                }, {
                    name: "Octave",
                    mime: "text/x-octave",
                    mode: "octave",
                    ext: ["m"]
                }, {
                    name: "Oz",
                    mime: "text/x-oz",
                    mode: "oz",
                    ext: ["oz"]
                }, {
                    name: "Pascal",
                    mime: "text/x-pascal",
                    mode: "pascal",
                    ext: ["p", "pas"]
                }, {
                    name: "PEG.js",
                    mime: "null",
                    mode: "pegjs",
                    ext: ["jsonld"]
                }, {
                    name: "Perl",
                    mime: "text/x-perl",
                    mode: "perl",
                    ext: ["pl", "pm"]
                }, {
                    name: "PHP",
                    mimes: ["text/x-php", "application/x-httpd-php", "application/x-httpd-php-open"],
                    mode: "php",
                    ext: ["php", "php3", "php4", "php5", "php7", "phtml"]
                }, {
                    name: "Pig",
                    mime: "text/x-pig",
                    mode: "pig",
                    ext: ["pig"]
                }, {
                    name: "Plain Text",
                    mime: "text/plain",
                    mode: "null",
                    ext: ["txt", "text", "conf", "def", "list", "log"]
                }, {
                    name: "PLSQL",
                    mime: "text/x-plsql",
                    mode: "sql",
                    ext: ["pls"]
                }, {
                    name: "PostgreSQL",
                    mime: "text/x-pgsql",
                    mode: "sql"
                }, {
                    name: "PowerShell",
                    mime: "application/x-powershell",
                    mode: "powershell",
                    ext: ["ps1", "psd1", "psm1"]
                }, {
                    name: "Properties files",
                    mime: "text/x-properties",
                    mode: "properties",
                    ext: ["properties", "ini", "in"],
                    alias: ["ini", "properties"]
                }, {
                    name: "ProtoBuf",
                    mime: "text/x-protobuf",
                    mode: "protobuf",
                    ext: ["proto"]
                }, {
                    name: "Python",
                    mime: "text/x-python",
                    mode: "python",
                    ext: ["BUILD", "bzl", "py", "pyw"],
                    file: /^(BUCK|BUILD)$/
                }, {
                    name: "Puppet",
                    mime: "text/x-puppet",
                    mode: "puppet",
                    ext: ["pp"]
                }, {
                    name: "Q",
                    mime: "text/x-q",
                    mode: "q",
                    ext: ["q"]
                }, {
                    name: "R",
                    mime: "text/x-rsrc",
                    mode: "r",
                    ext: ["r", "R"],
                    alias: ["rscript"]
                }, {
                    name: "reStructuredText",
                    mime: "text/x-rst",
                    mode: "rst",
                    ext: ["rst"],
                    alias: ["rst"]
                }, {
                    name: "RPM Changes",
                    mime: "text/x-rpm-changes",
                    mode: "rpm"
                }, {
                    name: "RPM Spec",
                    mime: "text/x-rpm-spec",
                    mode: "rpm",
                    ext: ["spec"]
                }, {
                    name: "Ruby",
                    mime: "text/x-ruby",
                    mode: "ruby",
                    ext: ["rb"],
                    alias: ["jruby", "macruby", "rake", "rb", "rbx"]
                }, {
                    name: "Rust",
                    mime: "text/x-rustsrc",
                    mode: "rust",
                    ext: ["rs"]
                }, {
                    name: "SAS",
                    mime: "text/x-sas",
                    mode: "sas",
                    ext: ["sas"]
                }, {
                    name: "Sass",
                    mime: "text/x-sass",
                    mode: "sass",
                    ext: ["sass"]
                }, {
                    name: "Scala",
                    mime: "text/x-scala",
                    mode: "clike",
                    ext: ["scala"]
                }, {
                    name: "Scheme",
                    mime: "text/x-scheme",
                    mode: "scheme",
                    ext: ["scm", "ss"]
                }, {
                    name: "SCSS",
                    mime: "text/x-scss",
                    mode: "css",
                    ext: ["scss"]
                }, {
                    name: "Shell",
                    mimes: ["text/x-sh", "application/x-sh"],
                    mode: "shell",
                    ext: ["sh", "ksh", "bash"],
                    alias: ["bash", "sh", "zsh"],
                    file: /^PKGBUILD$/
                }, {
                    name: "Sieve",
                    mime: "application/sieve",
                    mode: "sieve",
                    ext: ["siv", "sieve"]
                }, {
                    name: "Slim",
                    mimes: ["text/x-slim", "application/x-slim"],
                    mode: "slim",
                    ext: ["slim"]
                }, {
                    name: "Smalltalk",
                    mime: "text/x-stsrc",
                    mode: "smalltalk",
                    ext: ["st"]
                }, {
                    name: "Smarty",
                    mime: "text/x-smarty",
                    mode: "smarty",
                    ext: ["tpl"]
                }, {
                    name: "Solr",
                    mime: "text/x-solr",
                    mode: "solr"
                }, {
                    name: "SML",
                    mime: "text/x-sml",
                    mode: "mllike",
                    ext: ["sml", "sig", "fun", "smackspec"]
                }, {
                    name: "Soy",
                    mime: "text/x-soy",
                    mode: "soy",
                    ext: ["soy"],
                    alias: ["closure template"]
                }, {
                    name: "SPARQL",
                    mime: "application/sparql-query",
                    mode: "sparql",
                    ext: ["rq", "sparql"],
                    alias: ["sparul"]
                }, {
                    name: "Spreadsheet",
                    mime: "text/x-spreadsheet",
                    mode: "spreadsheet",
                    alias: ["excel", "formula"]
                }, {
                    name: "SQL",
                    mime: "text/x-sql",
                    mode: "sql",
                    ext: ["sql"]
                }, {
                    name: "SQLite",
                    mime: "text/x-sqlite",
                    mode: "sql"
                }, {
                    name: "Squirrel",
                    mime: "text/x-squirrel",
                    mode: "clike",
                    ext: ["nut"]
                }, {
                    name: "Stylus",
                    mime: "text/x-styl",
                    mode: "stylus",
                    ext: ["styl"]
                }, {
                    name: "Swift",
                    mime: "text/x-swift",
                    mode: "swift",
                    ext: ["swift"]
                }, {
                    name: "sTeX",
                    mime: "text/x-stex",
                    mode: "stex"
                }, {
                    name: "LaTeX",
                    mime: "text/x-latex",
                    mode: "stex",
                    ext: ["text", "ltx", "tex"],
                    alias: ["tex"]
                }, {
                    name: "SystemVerilog",
                    mime: "text/x-systemverilog",
                    mode: "verilog",
                    ext: ["v", "sv", "svh"]
                }, {
                    name: "Tcl",
                    mime: "text/x-tcl",
                    mode: "tcl",
                    ext: ["tcl"]
                }, {
                    name: "Textile",
                    mime: "text/x-textile",
                    mode: "textile",
                    ext: ["textile"]
                }, {
                    name: "TiddlyWiki",
                    mime: "text/x-tiddlywiki",
                    mode: "tiddlywiki"
                }, {
                    name: "Tiki wiki",
                    mime: "text/tiki",
                    mode: "tiki"
                }, {
                    name: "TOML",
                    mime: "text/x-toml",
                    mode: "toml",
                    ext: ["toml"]
                }, {
                    name: "Tornado",
                    mime: "text/x-tornado",
                    mode: "tornado"
                }, {
                    name: "troff",
                    mime: "text/troff",
                    mode: "troff",
                    ext: ["1", "2", "3", "4", "5", "6", "7", "8", "9"]
                }, {
                    name: "TTCN",
                    mime: "text/x-ttcn",
                    mode: "ttcn",
                    ext: ["ttcn", "ttcn3", "ttcnpp"]
                }, {
                    name: "TTCN_CFG",
                    mime: "text/x-ttcn-cfg",
                    mode: "ttcn-cfg",
                    ext: ["cfg"]
                }, {
                    name: "Turtle",
                    mime: "text/turtle",
                    mode: "turtle",
                    ext: ["ttl"]
                }, {
                    name: "TypeScript",
                    mime: "application/typescript",
                    mode: "javascript",
                    ext: ["ts"],
                    alias: ["ts"]
                }, {
                    name: "TypeScript-JSX",
                    mime: "text/typescript-jsx",
                    mode: "jsx",
                    ext: ["tsx"],
                    alias: ["tsx"]
                }, {
                    name: "Twig",
                    mime: "text/x-twig",
                    mode: "twig"
                }, {
                    name: "Web IDL",
                    mime: "text/x-webidl",
                    mode: "webidl",
                    ext: ["webidl"]
                }, {
                    name: "VB.NET",
                    mime: "text/x-vb",
                    mode: "vb",
                    ext: ["vb"]
                }, {
                    name: "VBScript",
                    mime: "text/vbscript",
                    mode: "vbscript",
                    ext: ["vbs"]
                }, {
                    name: "Velocity",
                    mime: "text/velocity",
                    mode: "velocity",
                    ext: ["vtl"]
                }, {
                    name: "Verilog",
                    mime: "text/x-verilog",
                    mode: "verilog",
                    ext: ["v"]
                }, {
                    name: "VHDL",
                    mime: "text/x-vhdl",
                    mode: "vhdl",
                    ext: ["vhd", "vhdl"]
                }, {
                    name: "Vue.js Component",
                    mimes: ["script/x-vue", "text/x-vue"],
                    mode: "vue",
                    ext: ["vue"]
                }, {
                    name: "XML",
                    mimes: ["application/xml", "text/xml"],
                    mode: "xml",
                    ext: ["xml", "xsl", "xsd", "svg"],
                    alias: ["rss", "wsdl", "xsd"]
                }, {
                    name: "XQuery",
                    mime: "application/xquery",
                    mode: "xquery",
                    ext: ["xy", "xquery"]
                }, {
                    name: "Yacas",
                    mime: "text/x-yacas",
                    mode: "yacas",
                    ext: ["ys"]
                }, {
                    name: "YAML",
                    mimes: ["text/x-yaml", "text/yaml"],
                    mode: "yaml",
                    ext: ["yaml", "yml"],
                    alias: ["yml"]
                }, {
                    name: "Z80",
                    mime: "text/x-z80",
                    mode: "z80",
                    ext: ["z80"]
                }, {
                    name: "mscgen",
                    mime: "text/x-mscgen",
                    mode: "mscgen",
                    ext: ["mscgen", "mscin", "msc"]
                }, {
                    name: "xu",
                    mime: "text/x-xu",
                    mode: "mscgen",
                    ext: ["xu"]
                }, {
                    name: "msgenny",
                    mime: "text/x-msgenny",
                    mode: "mscgen",
                    ext: ["msgenny"]
                }];
                for (var t = 0; t < e.modeInfo.length; t++) {
                    var n = e.modeInfo[t];
                    n.mimes && (n.mime = n.mimes[0])
                }
                e.findModeByMIME = function(t) {
                    t = t.toLowerCase();
                    for (var n = 0; n < e.modeInfo.length; n++) {
                        var r = e.modeInfo[n];
                        if (r.mime == t) return r;
                        if (r.mimes)
                            for (var i = 0; i < r.mimes.length; i++)
                                if (r.mimes[i] == t) return r
                    }
                    return /\+xml$/.test(t) ? e.findModeByMIME("application/xml") : /\+json$/.test(t) ? e.findModeByMIME("application/json") : void 0
                }, e.findModeByExtension = function(t) {
                    t = t.toLowerCase();
                    for (var n = 0; n < e.modeInfo.length; n++) {
                        var r = e.modeInfo[n];
                        if (r.ext)
                            for (var i = 0; i < r.ext.length; i++)
                                if (r.ext[i] == t) return r
                    }
                }, e.findModeByFileName = function(t) {
                    for (var n = 0; n < e.modeInfo.length; n++) {
                        var r = e.modeInfo[n];
                        if (r.file && r.file.test(t)) return r
                    }
                    var i = t.lastIndexOf("."),
                        o = -1 < i && t.substring(i + 1, t.length);
                    if (o) return e.findModeByExtension(o)
                }, e.findModeByName = function(t) {
                    t = t.toLowerCase();
                    for (var n = 0; n < e.modeInfo.length; n++) {
                        var r = e.modeInfo[n];
                        if (r.name.toLowerCase() == t) return r;
                        if (r.alias)
                            for (var i = 0; i < r.alias.length; i++)
                                if (r.alias[i].toLowerCase() == t) return r
                    }
                }
            }("object" == typeof n && "object" == typeof t ? e("../lib/codemirror") : CodeMirror)
        }, {
            "../lib/codemirror": 8
        }],
        12: [function(e, t, n) {
            ! function(e) {
                "use strict";
                var t = {
                        autoSelfClosers: {
                            area: !0,
                            base: !0,
                            br: !0,
                            col: !0,
                            command: !0,
                            embed: !0,
                            frame: !0,
                            hr: !0,
                            img: !0,
                            input: !0,
                            keygen: !0,
                            link: !0,
                            meta: !0,
                            param: !0,
                            source: !0,
                            track: !0,
                            wbr: !0,
                            menuitem: !0
                        },
                        implicitlyClosed: {
                            dd: !0,
                            li: !0,
                            optgroup: !0,
                            option: !0,
                            p: !0,
                            rp: !0,
                            rt: !0,
                            tbody: !0,
                            td: !0,
                            tfoot: !0,
                            th: !0,
                            tr: !0
                        },
                        contextGrabbers: {
                            dd: {
                                dd: !0,
                                dt: !0
                            },
                            dt: {
                                dd: !0,
                                dt: !0
                            },
                            li: {
                                li: !0
                            },
                            option: {
                                option: !0,
                                optgroup: !0
                            },
                            optgroup: {
                                optgroup: !0
                            },
                            p: {
                                address: !0,
                                article: !0,
                                aside: !0,
                                blockquote: !0,
                                dir: !0,
                                div: !0,
                                dl: !0,
                                fieldset: !0,
                                footer: !0,
                                form: !0,
                                h1: !0,
                                h2: !0,
                                h3: !0,
                                h4: !0,
                                h5: !0,
                                h6: !0,
                                header: !0,
                                hgroup: !0,
                                hr: !0,
                                menu: !0,
                                nav: !0,
                                ol: !0,
                                p: !0,
                                pre: !0,
                                section: !0,
                                table: !0,
                                ul: !0
                            },
                            rp: {
                                rp: !0,
                                rt: !0
                            },
                            rt: {
                                rp: !0,
                                rt: !0
                            },
                            tbody: {
                                tbody: !0,
                                tfoot: !0
                            },
                            td: {
                                td: !0,
                                th: !0
                            },
                            tfoot: {
                                tbody: !0
                            },
                            th: {
                                td: !0,
                                th: !0
                            },
                            thead: {
                                tbody: !0,
                                tfoot: !0
                            },
                            tr: {
                                tr: !0
                            }
                        },
                        doNotIndent: {
                            pre: !0
                        },
                        allowUnquoted: !0,
                        allowMissing: !0,
                        caseFold: !0
                    },
                    n = {
                        autoSelfClosers: {},
                        implicitlyClosed: {},
                        contextGrabbers: {},
                        doNotIndent: {},
                        allowUnquoted: !1,
                        allowMissing: !1,
                        allowMissingTagName: !1,
                        caseFold: !1
                    };
                e.defineMode("xml", function(r, i) {
                    function o(e, t) {
                        function n(n) {
                            return (t.tokenize = n)(e, t)
                        }
                        var r = e.next();
                        if ("<" == r) return e.eat("!") ? e.eat("[") ? e.match("CDATA[") ? n(l("atom", "]]>")) : null : e.match("--") ? n(l("comment", "--\x3e")) : e.match("DOCTYPE", !0, !0) ? (e.eatWhile(/[\w\._\-]/), n(function e(t) {
                            return function(n, r) {
                                for (var i; null != (i = n.next());) {
                                    if ("<" == i) return r.tokenize = e(t + 1), r.tokenize(n, r);
                                    if (">" == i) {
                                        if (1 != t) return r.tokenize = e(t - 1), r.tokenize(n, r);
                                        r.tokenize = o;
                                        break
                                    }
                                }
                                return "meta"
                            }
                        }(1))) : null : e.eat("?") ? (e.eatWhile(/[\w\._\-]/), t.tokenize = l("meta", "?>"), "meta") : (x = e.eat("/") ? "closeTag" : "openTag", t.tokenize = a, "tag bracket");
                        if ("&" != r) return e.eatWhile(/[^&<]/), null;
                        return (e.eat("#") ? e.eat("x") ? e.eatWhile(/[a-fA-F\d]/) && e.eat(";") : e.eatWhile(/[\d]/) && e.eat(";") : e.eatWhile(/[\w\.\-:]/) && e.eat(";")) ? "atom" : "error"
                    }

                    function a(e, t) {
                        function n(e, t) {
                            for (; !e.eol();)
                                if (e.next() == i) {
                                    t.tokenize = a;
                                    break
                                }
                            return "string"
                        }
                        var r = e.next();
                        if (">" == r || "/" == r && e.eat(">")) return t.tokenize = o, x = ">" == r ? "endTag" : "selfcloseTag", "tag bracket";
                        if ("=" == r) return x = "equals", null;
                        if ("<" != r) return /[\'\"]/.test(r) ? (t.tokenize = (i = r, n.isInAttribute = !0, n), t.stringStartCol = e.column(), t.tokenize(e, t)) : (e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/), "word");
                        t.tokenize = o, t.state = u, t.tagName = t.tagStart = null;
                        var i, l = t.tokenize(e, t);
                        return l ? l + " tag error" : "tag error"
                    }

                    function l(e, t) {
                        return function(n, r) {
                            for (; !n.eol();) {
                                if (n.match(t)) {
                                    r.tokenize = o;
                                    break
                                }
                                n.next()
                            }
                            return e
                        }
                    }

                    function s(e) {
                        e.context && (e.context = e.context.prev)
                    }

                    function c(e, t) {
                        for (var n;;) {
                            if (!e.context) return;
                            if (n = e.context.tagName, !k.contextGrabbers.hasOwnProperty(n) || !k.contextGrabbers[n].hasOwnProperty(t)) return;
                            s(e)
                        }
                    }

                    function u(e, t, n) {
                        return "openTag" == e ? (n.tagStart = t.column(), d) : "closeTag" == e ? function(e, t, n) {
                            if ("word" != e) return k.allowMissingTagName && "endTag" == e ? (y = "tag bracket", h(e, 0, n)) : (y = "error", f);
                            var r = t.current();
                            return n.context && n.context.tagName != r && k.implicitlyClosed.hasOwnProperty(n.context.tagName) && s(n), n.context && n.context.tagName == r || !1 === k.matchClosing ? (y = "tag", h) : (y = "tag error", f)
                        } : u
                    }

                    function d(e, t, n) {
                        return "word" == e ? (n.tagName = t.current(), y = "tag", p) : k.allowMissingTagName && "endTag" == e ? (y = "tag bracket", p(e, 0, n)) : (y = "error", d)
                    }

                    function h(e, t, n) {
                        return "endTag" != e ? (y = "error", h) : (s(n), u)
                    }

                    function f(e, t, n) {
                        return y = "error", h(e, 0, n)
                    }

                    function p(e, t, n) {
                        if ("word" == e) return y = "attribute",
                            function(e, t, n) {
                                return "equals" == e ? m : (k.allowMissing || (y = "error"), p(e, 0, n))
                            };
                        if ("endTag" != e && "selfcloseTag" != e) return y = "error", p;
                        var r = n.tagName,
                            i = n.tagStart;
                        return n.tagName = n.tagStart = null, "selfcloseTag" == e || k.autoSelfClosers.hasOwnProperty(r) ? c(n, r) : (c(n, r), n.context = new function(e, t, n) {
                            this.prev = e.context, this.tagName = t, this.indent = e.indented, this.startOfLine = n, (k.doNotIndent.hasOwnProperty(t) || e.context && e.context.noIndent) && (this.noIndent = !0)
                        }(n, r, i == n.indented)), u
                    }

                    function m(e, t, n) {
                        return "string" == e ? g : "word" == e && k.allowUnquoted ? (y = "string", p) : (y = "error", p(e, 0, n))
                    }

                    function g(e, t, n) {
                        return "string" == e ? g : p(e, 0, n)
                    }
                    var v, x, y, b = r.indentUnit,
                        k = {},
                        w = i.htmlMode ? t : n;
                    for (v in w) k[v] = w[v];
                    for (v in i) k[v] = i[v];
                    return o.isInText = !0, {
                        startState: function(e) {
                            var t = {
                                tokenize: o,
                                state: u,
                                indented: e || 0,
                                tagName: null,
                                tagStart: null,
                                context: null
                            };
                            return null != e && (t.baseIndent = e), t
                        },
                        token: function(e, t) {
                            if (!t.tagName && e.sol() && (t.indented = e.indentation()), e.eatSpace()) return null;
                            x = null;
                            var n = t.tokenize(e, t);
                            return (n || x) && "comment" != n && (y = null, t.state = t.state(x || n, e, t), y && (n = "error" == y ? n + " error" : y)), n
                        },
                        indent: function(t, n, r) {
                            var i = t.context;
                            if (t.tokenize.isInAttribute) return t.tagStart == t.indented ? t.stringStartCol + 1 : t.indented + b;
                            if (i && i.noIndent) return e.Pass;
                            if (t.tokenize != a && t.tokenize != o) return r ? r.match(/^(\s*)/)[0].length : 0;
                            if (t.tagName) return !1 !== k.multilineTagIndentPastTag ? t.tagStart + t.tagName.length + 2 : t.tagStart + b * (k.multilineTagIndentFactor || 1);
                            if (k.alignCDATA && /<!\[CDATA\[/.test(n)) return 0;
                            var l = n && /^<(\/)?([\w_:\.-]*)/.exec(n);
                            if (l && l[1])
                                for (; i;) {
                                    if (i.tagName == l[2]) {
                                        i = i.prev;
                                        break
                                    }
                                    if (!k.implicitlyClosed.hasOwnProperty(i.tagName)) break;
                                    i = i.prev
                                } else if (l)
                                    for (; i;) {
                                        var s = k.contextGrabbers[i.tagName];
                                        if (!s || !s.hasOwnProperty(l[2])) break;
                                        i = i.prev
                                    }
                                for (; i && i.prev && !i.startOfLine;) i = i.prev;
                            return i ? i.indent + b : t.baseIndent || 0
                        },
                        electricInput: /<\/[\s\w:]+>$/,
                        blockCommentStart: "\x3c!--",
                        blockCommentEnd: "--\x3e",
                        configuration: k.htmlMode ? "html" : "xml",
                        helperType: k.htmlMode ? "html" : "xml",
                        skipAttribute: function(e) {
                            e.state == m && (e.state = p)
                        },
                        xmlCurrentTag: function(e) {
                            return e.tagName ? {
                                name: e.tagName,
                                close: "closeTag" == e.type
                            } : null
                        },
                        xmlCurrentContext: function(e) {
                            for (var t = [], n = e.context; n; n = n.prev) n.tagName && t.push(n.tagName);
                            return t.reverse()
                        }
                    }
                }), e.defineMIME("text/xml", "xml"), e.defineMIME("application/xml", "xml"), e.mimeModes.hasOwnProperty("text/html") || e.defineMIME("text/html", {
                    name: "xml",
                    htmlMode: !0
                })
            }("object" == typeof n && "object" == typeof t ? e("../../lib/codemirror") : CodeMirror)
        }, {
            "../../lib/codemirror": 8
        }],
        13: [function(e, t, n) {
            var r, i;
            r = this, i = function() {
                "use strict";

                function e(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
                    }
                }

                function t(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
                    return r
                }

                function n(e, n) {
                    var r;
                    if ("undefined" != typeof Symbol && null != e[Symbol.iterator]) return (r = e[Symbol.iterator]()).next.bind(r);
                    if (Array.isArray(e) || (r = function(e, n) {
                            if (e) {
                                if ("string" == typeof e) return t(e, n);
                                var r = Object.prototype.toString.call(e).slice(8, -1);
                                return "Object" === r && e.constructor && (r = e.constructor.name), "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? t(e, n) : void 0
                            }
                        }(e)) || n && e && "number" == typeof e.length) {
                        r && (e = r);
                        var i = 0;
                        return function() {
                            return i >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[i++]
                            }
                        }
                    }
                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }

                function r(e) {
                    return g[e]
                }

                function i(e) {
                    return e.replace(v, function(e, t) {
                        return "colon" === (t = t.toLowerCase()) ? ":" : "#" === t.charAt(0) ? "x" === t.charAt(1) ? String.fromCharCode(parseInt(t.substring(2), 16)) : String.fromCharCode(+t.substring(1)) : ""
                    })
                }

                function o(e, t, n) {
                    var r = e.length;
                    if (0 === r) return "";
                    for (var i = 0; i < r;) {
                        var o = e.charAt(r - i - 1);
                        if (o !== t || n) {
                            if (o === t || !n) break;
                            i++
                        } else i++
                    }
                    return e.substr(0, r - i)
                }

                function a(e, t, n) {
                    var r = t.href,
                        i = t.title ? F(t.title) : null,
                        o = e[1].replace(/\\([\[\]])/g, "$1");
                    return "!" !== e[0].charAt(0) ? {
                        type: "link",
                        raw: n,
                        href: r,
                        title: i,
                        text: o
                    } : {
                        type: "image",
                        raw: n,
                        href: r,
                        title: i,
                        text: F(o)
                    }
                }

                function l(e) {
                    return e.replace(/---/g, "").replace(/--/g, "").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1").replace(/'/g, "").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1").replace(/"/g, "").replace(/\.{3}/g, "")
                }

                function s(e) {
                    for (var t, n = "", r = e.length, i = 0; i < r; i++) t = e.charCodeAt(i), .5 < Math.random() && (t = "x" + t.toString(16)), n += "&#" + t + ";";
                    return n
                }

                function c(e, t, n) {
                    if (null == e) throw new Error("marked(): input parameter is undefined or null");
                    if ("string" != typeof e) throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(e) + ", string expected");
                    if ("function" == typeof t && (n = t, t = null), t = J({}, c.defaults, t || {}), ee(t), n) {
                        var r, i = t.highlight;
                        try {
                            r = q.lex(e, t)
                        } catch (e) {
                            return n(e)
                        }
                        var o = function(e) {
                            var o;
                            if (!e) try {
                                o = Q.parse(r, t)
                            } catch (o) {
                                e = o
                            }
                            return t.highlight = i, e ? n(e) : n(null, o)
                        };
                        if (!i || i.length < 3) return o();
                        if (delete t.highlight, !r.length) return o();
                        var a = 0;
                        return c.walkTokens(r, function(e) {
                            "code" === e.type && (a++, setTimeout(function() {
                                i(e.text, e.lang, function(t, n) {
                                    return t ? o(t) : (null != n && n !== e.text && (e.text = n, e.escaped = !0), void(0 == --a && o()))
                                })
                            }, 0))
                        }), void(0 === a && o())
                    }
                    try {
                        var l = q.lex(e, t);
                        return t.walkTokens && c.walkTokens(l, t.walkTokens), Q.parse(l, t)
                    } catch (e) {
                        if (e.message += "\nPlease report this to https://github.com/markedjs/marked.", t.silent) return "<p>An error occurred:</p><pre>" + te(e.message + "", !0) + "</pre>";
                        throw e
                    }
                }
                var u, d = (function(e) {
                        function t() {
                            return {
                                baseUrl: null,
                                breaks: !1,
                                gfm: !0,
                                headerIds: !0,
                                headerPrefix: "",
                                highlight: null,
                                langPrefix: "language-",
                                mangle: !0,
                                pedantic: !1,
                                renderer: null,
                                sanitize: !1,
                                sanitizer: null,
                                silent: !1,
                                smartLists: !1,
                                smartypants: !1,
                                tokenizer: null,
                                walkTokens: null,
                                xhtml: !1
                            }
                        }
                        e.exports = {
                            defaults: {
                                baseUrl: null,
                                breaks: !1,
                                gfm: !0,
                                headerIds: !0,
                                headerPrefix: "",
                                highlight: null,
                                langPrefix: "language-",
                                mangle: !0,
                                pedantic: !1,
                                renderer: null,
                                sanitize: !1,
                                sanitizer: null,
                                silent: !1,
                                smartLists: !1,
                                smartypants: !1,
                                tokenizer: null,
                                walkTokens: null,
                                xhtml: !1
                            },
                            getDefaults: t,
                            changeDefaults: function(t) {
                                e.exports.defaults = t
                            }
                        }
                    }(u = {
                        exports: {}
                    }), u.exports),
                    h = (d.defaults, d.getDefaults, d.changeDefaults, /[&<>"']/),
                    f = /[&<>"']/g,
                    p = /[<>"']|&(?!#?\w+;)/,
                    m = /[<>"']|&(?!#?\w+;)/g,
                    g = {
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#39;"
                    },
                    v = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,
                    x = /(^|[^\[])\^/g,
                    y = /[^\w:]/g,
                    b = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,
                    k = {},
                    w = /^[^:]+:\/*[^/]*$/,
                    C = /^([^:]+:)[\s\S]*$/,
                    S = /^([^:]+:\/*[^/]*)[\s\S]*$/,
                    L = function(e, t) {
                        if (t) {
                            if (h.test(e)) return e.replace(f, r)
                        } else if (p.test(e)) return e.replace(m, r);
                        return e
                    },
                    T = i,
                    M = function(e) {
                        for (var t, n, r = 1; r < arguments.length; r++)
                            for (n in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
                        return e
                    },
                    A = d.defaults,
                    N = o,
                    D = function(e, t) {
                        var n = e.replace(/\|/g, function(e, t, n) {
                                for (var r = !1, i = t; 0 <= --i && "\\" === n[i];) r = !r;
                                return r ? "|" : " |"
                            }).split(/ \|/),
                            r = 0;
                        if (n.length > t) n.splice(t);
                        else
                            for (; n.length < t;) n.push("");
                        for (; r < n.length; r++) n[r] = n[r].trim().replace(/\\\|/g, "|");
                        return n
                    },
                    F = L,
                    E = function(e, t) {
                        if (-1 === e.indexOf(t[1])) return -1;
                        for (var n = e.length, r = 0, i = 0; i < n; i++)
                            if ("\\" === e[i]) i++;
                            else if (e[i] === t[0]) r++;
                        else if (e[i] === t[1] && --r < 0) return i;
                        return -1
                    },
                    O = function() {
                        function e(e) {
                            this.options = e || A
                        }
                        var t = e.prototype;
                        return t.space = function(e) {
                            var t = this.rules.block.newline.exec(e);
                            if (t) return 1 < t[0].length ? {
                                type: "space",
                                raw: t[0]
                            } : {
                                raw: "\n"
                            }
                        }, t.code = function(e, t) {
                            var n = this.rules.block.code.exec(e);
                            if (n) {
                                var r = t[t.length - 1];
                                if (r && "paragraph" === r.type) return {
                                    raw: n[0],
                                    text: n[0].trimRight()
                                };
                                var i = n[0].replace(/^ {4}/gm, "");
                                return {
                                    type: "code",
                                    raw: n[0],
                                    codeBlockStyle: "indented",
                                    text: this.options.pedantic ? i : N(i, "\n")
                                }
                            }
                        }, t.fences = function(e) {
                            var t = this.rules.block.fences.exec(e);
                            if (t) {
                                var n = t[0],
                                    r = function(e, t) {
                                        var n = e.match(/^(\s+)(?:```)/);
                                        if (null === n) return t;
                                        var r = n[1];
                                        return t.split("\n").map(function(e) {
                                            var t = e.match(/^\s+/);
                                            return null !== t && t[0].length >= r.length ? e.slice(r.length) : e
                                        }).join("\n")
                                    }(n, t[3] || "");
                                return {
                                    type: "code",
                                    raw: n,
                                    lang: t[2] ? t[2].trim() : t[2],
                                    text: r
                                }
                            }
                        }, t.heading = function(e) {
                            var t = this.rules.block.heading.exec(e);
                            if (t) return {
                                type: "heading",
                                raw: t[0],
                                depth: t[1].length,
                                text: t[2]
                            }
                        }, t.nptable = function(e) {
                            var t = this.rules.block.nptable.exec(e);
                            if (t) {
                                var n = {
                                    type: "table",
                                    header: D(t[1].replace(/^ *| *\| *$/g, "")),
                                    align: t[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                                    cells: t[3] ? t[3].replace(/\n$/, "").split("\n") : [],
                                    raw: t[0]
                                };
                                if (n.header.length === n.align.length) {
                                    for (var r = n.align.length, i = 0; i < r; i++) /^ *-+: *$/.test(n.align[i]) ? n.align[i] = "right" : /^ *:-+: *$/.test(n.align[i]) ? n.align[i] = "center" : /^ *:-+ *$/.test(n.align[i]) ? n.align[i] = "left" : n.align[i] = null;
                                    for (r = n.cells.length, i = 0; i < r; i++) n.cells[i] = D(n.cells[i], n.header.length);
                                    return n
                                }
                            }
                        }, t.hr = function(e) {
                            var t = this.rules.block.hr.exec(e);
                            if (t) return {
                                type: "hr",
                                raw: t[0]
                            }
                        }, t.blockquote = function(e) {
                            var t = this.rules.block.blockquote.exec(e);
                            if (t) {
                                var n = t[0].replace(/^ *> ?/gm, "");
                                return {
                                    type: "blockquote",
                                    raw: t[0],
                                    text: n
                                }
                            }
                        }, t.list = function(e) {
                            var t = this.rules.block.list.exec(e);
                            if (t) {
                                for (var n, r, i, o, a, l, s, c = t[0], u = t[2], d = 1 < u.length, h = ")" === u[u.length - 1], f = {
                                        type: "list",
                                        raw: c,
                                        ordered: d,
                                        start: d ? +u.slice(0, -1) : "",
                                        loose: !1,
                                        items: []
                                    }, p = t[0].match(this.rules.block.item), m = !1, g = p.length, v = 0; v < g; v++) r = (c = n = p[v]).length, ~(n = n.replace(/^ *([*+-]|\d+[.)]) */, "")).indexOf("\n ") && (r -= n.length, n = this.options.pedantic ? n.replace(/^ {1,4}/gm, "") : n.replace(new RegExp("^ {1," + r + "}", "gm"), "")), v !== g - 1 && (i = this.rules.block.bullet.exec(p[v + 1])[0], (d ? 1 === i.length || !h && ")" === i[i.length - 1] : 1 < i.length || this.options.smartLists && i !== u) && (o = p.slice(v + 1).join("\n"), f.raw = f.raw.substring(0, f.raw.length - o.length), v = g - 1)), a = m || /\n\n(?!\s*$)/.test(n), v !== g - 1 && (m = "\n" === n.charAt(n.length - 1), a = a || m), a && (f.loose = !0), s = void 0, (l = /^\[[ xX]\] /.test(n)) && (s = " " !== n[1], n = n.replace(/^\[[ xX]\] +/, "")), f.items.push({
                                    type: "list_item",
                                    raw: c,
                                    task: l,
                                    checked: s,
                                    loose: a,
                                    text: n
                                });
                                return f
                            }
                        }, t.html = function(e) {
                            var t = this.rules.block.html.exec(e);
                            if (t) return {
                                type: this.options.sanitize ? "paragraph" : "html",
                                raw: t[0],
                                pre: !this.options.sanitizer && ("pre" === t[1] || "script" === t[1] || "style" === t[1]),
                                text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(t[0]) : F(t[0]) : t[0]
                            }
                        }, t.def = function(e) {
                            var t = this.rules.block.def.exec(e);
                            if (t) return t[3] && (t[3] = t[3].substring(1, t[3].length - 1)), {
                                tag: t[1].toLowerCase().replace(/\s+/g, " "),
                                raw: t[0],
                                href: t[2],
                                title: t[3]
                            }
                        }, t.table = function(e) {
                            var t = this.rules.block.table.exec(e);
                            if (t) {
                                var n = {
                                    type: "table",
                                    header: D(t[1].replace(/^ *| *\| *$/g, "")),
                                    align: t[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                                    cells: t[3] ? t[3].replace(/\n$/, "").split("\n") : []
                                };
                                if (n.header.length === n.align.length) {
                                    n.raw = t[0];
                                    for (var r = n.align.length, i = 0; i < r; i++) /^ *-+: *$/.test(n.align[i]) ? n.align[i] = "right" : /^ *:-+: *$/.test(n.align[i]) ? n.align[i] = "center" : /^ *:-+ *$/.test(n.align[i]) ? n.align[i] = "left" : n.align[i] = null;
                                    for (r = n.cells.length, i = 0; i < r; i++) n.cells[i] = D(n.cells[i].replace(/^ *\| *| *\| *$/g, ""), n.header.length);
                                    return n
                                }
                            }
                        }, t.lheading = function(e) {
                            var t = this.rules.block.lheading.exec(e);
                            if (t) return {
                                type: "heading",
                                raw: t[0],
                                depth: "=" === t[2].charAt(0) ? 1 : 2,
                                text: t[1]
                            }
                        }, t.paragraph = function(e) {
                            var t = this.rules.block.paragraph.exec(e);
                            if (t) return {
                                type: "paragraph",
                                raw: t[0],
                                text: "\n" === t[1].charAt(t[1].length - 1) ? t[1].slice(0, -1) : t[1]
                            }
                        }, t.text = function(e, t) {
                            var n = this.rules.block.text.exec(e);
                            if (n) {
                                var r = t[t.length - 1];
                                return r && "text" === r.type ? {
                                    raw: n[0],
                                    text: n[0]
                                } : {
                                    type: "text",
                                    raw: n[0],
                                    text: n[0]
                                }
                            }
                        }, t.escape = function(e) {
                            var t = this.rules.inline.escape.exec(e);
                            if (t) return {
                                type: "escape",
                                raw: t[0],
                                text: F(t[1])
                            }
                        }, t.tag = function(e, t, n) {
                            var r = this.rules.inline.tag.exec(e);
                            if (r) return !t && /^<a /i.test(r[0]) ? t = !0 : t && /^<\/a>/i.test(r[0]) && (t = !1), !n && /^<(pre|code|kbd|script)(\s|>)/i.test(r[0]) ? n = !0 : n && /^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0]) && (n = !1), {
                                type: this.options.sanitize ? "text" : "html",
                                raw: r[0],
                                inLink: t,
                                inRawBlock: n,
                                text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(r[0]) : F(r[0]) : r[0]
                            }
                        }, t.link = function(e) {
                            var t = this.rules.inline.link.exec(e);
                            if (t) {
                                var n, r = E(t[2], "()"); - 1 < r && (n = (0 === t[0].indexOf("!") ? 5 : 4) + t[1].length + r, t[2] = t[2].substring(0, r), t[0] = t[0].substring(0, n).trim(), t[3] = "");
                                var i, o = t[2],
                                    l = "";
                                return l = this.options.pedantic ? (i = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o)) ? (o = i[1], i[3]) : "" : t[3] ? t[3].slice(1, -1) : "", a(t, {
                                    href: (o = o.trim().replace(/^<([\s\S]*)>$/, "$1")) ? o.replace(this.rules.inline._escapes, "$1") : o,
                                    title: l ? l.replace(this.rules.inline._escapes, "$1") : l
                                }, t[0])
                            }
                        }, t.reflink = function(e, t) {
                            var n;
                            if ((n = this.rules.inline.reflink.exec(e)) || (n = this.rules.inline.nolink.exec(e))) {
                                var r = (n[2] || n[1]).replace(/\s+/g, " ");
                                if ((r = t[r.toLowerCase()]) && r.href) return a(n, r, n[0]);
                                var i = n[0].charAt(0);
                                return {
                                    type: "text",
                                    raw: i,
                                    text: i
                                }
                            }
                        }, t.strong = function(e, t, n) {
                            void 0 === n && (n = "");
                            var r = this.rules.inline.strong.start.exec(e);
                            if (r && (!r[1] || r[1] && ("" === n || this.rules.inline.punctuation.exec(n)))) {
                                t = t.slice(-1 * e.length);
                                var i, o = "**" === r[0] ? this.rules.inline.strong.endAst : this.rules.inline.strong.endUnd;
                                for (o.lastIndex = 0; null != (r = o.exec(t));)
                                    if (i = this.rules.inline.strong.middle.exec(t.slice(0, r.index + 3))) return {
                                        type: "strong",
                                        raw: e.slice(0, i[0].length),
                                        text: e.slice(2, i[0].length - 2)
                                    }
                            }
                        }, t.em = function(e, t, n) {
                            void 0 === n && (n = "");
                            var r = this.rules.inline.em.start.exec(e);
                            if (r && (!r[1] || r[1] && ("" === n || this.rules.inline.punctuation.exec(n)))) {
                                t = t.slice(-1 * e.length);
                                var i, o = "*" === r[0] ? this.rules.inline.em.endAst : this.rules.inline.em.endUnd;
                                for (o.lastIndex = 0; null != (r = o.exec(t));)
                                    if (i = this.rules.inline.em.middle.exec(t.slice(0, r.index + 2))) return {
                                        type: "em",
                                        raw: e.slice(0, i[0].length),
                                        text: e.slice(1, i[0].length - 1)
                                    }
                            }
                        }, t.codespan = function(e) {
                            var t = this.rules.inline.code.exec(e);
                            if (t) {
                                var n = t[2].replace(/\n/g, " "),
                                    r = /[^ ]/.test(n),
                                    i = n.startsWith(" ") && n.endsWith(" ");
                                return r && i && (n = n.substring(1, n.length - 1)), n = F(n, !0), {
                                    type: "codespan",
                                    raw: t[0],
                                    text: n
                                }
                            }
                        }, t.br = function(e) {
                            var t = this.rules.inline.br.exec(e);
                            if (t) return {
                                type: "br",
                                raw: t[0]
                            }
                        }, t.del = function(e) {
                            var t = this.rules.inline.del.exec(e);
                            if (t) return {
                                type: "del",
                                raw: t[0],
                                text: t[1]
                            }
                        }, t.autolink = function(e, t) {
                            var n = this.rules.inline.autolink.exec(e);
                            if (n) {
                                var r, i = "@" === n[2] ? "mailto:" + (r = F(this.options.mangle ? t(n[1]) : n[1])) : r = F(n[1]);
                                return {
                                    type: "link",
                                    raw: n[0],
                                    text: r,
                                    href: i,
                                    tokens: [{
                                        type: "text",
                                        raw: r,
                                        text: r
                                    }]
                                }
                            }
                        }, t.url = function(e, t) {
                            var n, r, i, o;
                            if (n = this.rules.inline.url.exec(e)) {
                                if ("@" === n[2]) i = "mailto:" + (r = F(this.options.mangle ? t(n[0]) : n[0]));
                                else {
                                    for (; o = n[0], n[0] = this.rules.inline._backpedal.exec(n[0])[0], o !== n[0];);
                                    r = F(n[0]), i = "www." === n[1] ? "http://" + r : r
                                }
                                return {
                                    type: "link",
                                    raw: n[0],
                                    text: r,
                                    href: i,
                                    tokens: [{
                                        type: "text",
                                        raw: r,
                                        text: r
                                    }]
                                }
                            }
                        }, t.inlineText = function(e, t, n) {
                            var r = this.rules.inline.text.exec(e);
                            if (r) {
                                var i = t ? this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(r[0]) : F(r[0]) : r[0] : F(this.options.smartypants ? n(r[0]) : r[0]);
                                return {
                                    type: "text",
                                    raw: r[0],
                                    text: i
                                }
                            }
                        }, e
                    }(),
                    z = {
                        exec: function() {}
                    },
                    I = function(e, t) {
                        e = e.source || e, t = t || "";
                        var n = {
                            replace: function(t, r) {
                                return r = (r = r.source || r).replace(x, "$1"), e = e.replace(t, r), n
                            },
                            getRegex: function() {
                                return new RegExp(e, t)
                            }
                        };
                        return n
                    },
                    R = M,
                    H = {
                        newline: /^\n+/,
                        code: /^( {4}[^\n]+\n*)+/,
                        fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
                        hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
                        heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
                        blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
                        list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
                        html: "^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
                        def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
                        nptable: z,
                        table: z,
                        lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
                        _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
                        text: /^[^\n]+/,
                        _label: /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,
                        _title: /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/
                    };
                H.def = I(H.def).replace("label", H._label).replace("title", H._title).getRegex(), H.bullet = /(?:[*+-]|\d{1,9}[.)])/, H.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/, H.item = I(H.item, "gm").replace(/bull/g, H.bullet).getRegex(), H.list = I(H.list).replace(/bull/g, H.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + H.def.source + ")").getRegex(), H._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul", H._comment = /<!--(?!-?>)[\s\S]*?-->/, H.html = I(H.html, "i").replace("comment", H._comment).replace("tag", H._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(), H.paragraph = I(H._paragraph).replace("hr", H.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", H._tag).getRegex(), H.blockquote = I(H.blockquote).replace("paragraph", H.paragraph).getRegex(), H.normal = R({}, H), H.gfm = R({}, H.normal, {
                    nptable: "^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",
                    table: "^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"
                }), H.gfm.nptable = I(H.gfm.nptable).replace("hr", H.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", H._tag).getRegex(), H.gfm.table = I(H.gfm.table).replace("hr", H.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", H._tag).getRegex(), H.pedantic = R({}, H.normal, {
                    html: I("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment", H._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
                    def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
                    heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
                    fences: z,
                    paragraph: I(H.normal._paragraph).replace("hr", H.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", H.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
                });
                var W = {
                    escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
                    autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
                    url: z,
                    tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
                    link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
                    reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
                    nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
                    reflinkSearch: "reflink|nolink(?!\\()",
                    strong: {
                        start: /^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,
                        middle: /^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
                        endAst: /[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation\s]|$))/,
                        endUnd: /[^\s]__(?!_)(?:(?=[punctuation\s])|$)/
                    },
                    em: {
                        start: /^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,
                        middle: /^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,
                        endAst: /[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation\s]|$))/,
                        endUnd: /[^\s]_(?!_)(?:(?=[punctuation\s])|$)/
                    },
                    code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
                    br: /^( {2,}|\\)\n(?!\s*$)/,
                    del: z,
                    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,
                    punctuation: /^([\s*punctuation])/,
                    _punctuation: "!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"
                };
                W.punctuation = I(W.punctuation).replace(/punctuation/g, W._punctuation).getRegex(), W._blockSkip = "\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>", W._overlapSkip = "__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*", W.em.start = I(W.em.start).replace(/punctuation/g, W._punctuation).getRegex(), W.em.middle = I(W.em.middle).replace(/punctuation/g, W._punctuation).replace(/overlapSkip/g, W._overlapSkip).getRegex(), W.em.endAst = I(W.em.endAst, "g").replace(/punctuation/g, W._punctuation).getRegex(), W.em.endUnd = I(W.em.endUnd, "g").replace(/punctuation/g, W._punctuation).getRegex(), W.strong.start = I(W.strong.start).replace(/punctuation/g, W._punctuation).getRegex(), W.strong.middle = I(W.strong.middle).replace(/punctuation/g, W._punctuation).replace(/blockSkip/g, W._blockSkip).getRegex(), W.strong.endAst = I(W.strong.endAst, "g").replace(/punctuation/g, W._punctuation).getRegex(), W.strong.endUnd = I(W.strong.endUnd, "g").replace(/punctuation/g, W._punctuation).getRegex(), W.blockSkip = I(W._blockSkip, "g").getRegex(), W.overlapSkip = I(W._overlapSkip, "g").getRegex(), W._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g, W._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/, W._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/, W.autolink = I(W.autolink).replace("scheme", W._scheme).replace("email", W._email).getRegex(), W._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/, W.tag = I(W.tag).replace("comment", H._comment).replace("attribute", W._attribute).getRegex(), W._label = /(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/, W._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/, W._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/, W.link = I(W.link).replace("label", W._label).replace("href", W._href).replace("title", W._title).getRegex(), W.reflink = I(W.reflink).replace("label", W._label).getRegex(), W.reflinkSearch = I(W.reflinkSearch, "g").replace("reflink", W.reflink).replace("nolink", W.nolink).getRegex(), W.normal = R({}, W), W.pedantic = R({}, W.normal, {
                    strong: {
                        start: /^__|\*\*/,
                        middle: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
                        endAst: /\*\*(?!\*)/g,
                        endUnd: /__(?!_)/g
                    },
                    em: {
                        start: /^_|\*/,
                        middle: /^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
                        endAst: /\*(?!\*)/g,
                        endUnd: /_(?!_)/g
                    },
                    link: I(/^!?\[(label)\]\((.*?)\)/).replace("label", W._label).getRegex(),
                    reflink: I(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", W._label).getRegex()
                }), W.gfm = R({}, W.normal, {
                    escape: I(W.escape).replace("])", "~|])").getRegex(),
                    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
                    url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
                    _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
                    del: /^~+(?=\S)([\s\S]*?\S)~+/,
                    text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
                }), W.gfm.url = I(W.gfm.url, "i").replace("email", W.gfm._extended_email).getRegex(), W.breaks = R({}, W.gfm, {
                    br: I(W.br).replace("{2,}", "*").getRegex(),
                    text: I(W.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
                });
                var P = {
                        block: H,
                        inline: W
                    },
                    _ = d.defaults,
                    B = P.block,
                    j = P.inline,
                    q = function() {
                        function t(e) {
                            this.tokens = [], this.tokens.links = Object.create(null), this.options = e || _, this.options.tokenizer = this.options.tokenizer || new O, this.tokenizer = this.options.tokenizer, this.tokenizer.options = this.options;
                            var t = {
                                block: B.normal,
                                inline: j.normal
                            };
                            this.options.pedantic ? (t.block = B.pedantic, t.inline = j.pedantic) : this.options.gfm && (t.block = B.gfm, this.options.breaks ? t.inline = j.breaks : t.inline = j.gfm), this.tokenizer.rules = t
                        }
                        t.lex = function(e, n) {
                            return new t(n).lex(e)
                        };
                        var n, r, i = t.prototype;
                        return i.lex = function(e) {
                            return e = e.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    "), this.blockTokens(e, this.tokens, !0), this.inline(this.tokens), this.tokens
                        }, i.blockTokens = function(e, t, n) {
                            var r, i, o, a;
                            for (void 0 === t && (t = []), void 0 === n && (n = !0), e = e.replace(/^ +$/gm, ""); e;)
                                if (r = this.tokenizer.space(e)) e = e.substring(r.raw.length), r.type && t.push(r);
                                else if (r = this.tokenizer.code(e, t)) e = e.substring(r.raw.length), r.type ? t.push(r) : ((a = t[t.length - 1]).raw += "\n" + r.raw, a.text += "\n" + r.text);
                            else if (r = this.tokenizer.fences(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.heading(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.nptable(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.hr(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.blockquote(e)) e = e.substring(r.raw.length), r.tokens = this.blockTokens(r.text, [], n), t.push(r);
                            else if (r = this.tokenizer.list(e)) {
                                for (e = e.substring(r.raw.length), o = r.items.length, i = 0; i < o; i++) r.items[i].tokens = this.blockTokens(r.items[i].text, [], !1);
                                t.push(r)
                            } else if (r = this.tokenizer.html(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (n && (r = this.tokenizer.def(e))) e = e.substring(r.raw.length), this.tokens.links[r.tag] || (this.tokens.links[r.tag] = {
                                href: r.href,
                                title: r.title
                            });
                            else if (r = this.tokenizer.table(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.lheading(e)) e = e.substring(r.raw.length), t.push(r);
                            else if (n && (r = this.tokenizer.paragraph(e))) e = e.substring(r.raw.length), t.push(r);
                            else if (r = this.tokenizer.text(e, t)) e = e.substring(r.raw.length), r.type ? t.push(r) : ((a = t[t.length - 1]).raw += "\n" + r.raw, a.text += "\n" + r.text);
                            else if (e) {
                                var l = "Infinite loop on byte: " + e.charCodeAt(0);
                                if (this.options.silent) {
                                    console.error(l);
                                    break
                                }
                                throw new Error(l)
                            }
                            return t
                        }, i.inline = function(e) {
                            for (var t, n, r, i, o, a = e.length, l = 0; l < a; l++) switch ((o = e[l]).type) {
                                case "paragraph":
                                case "text":
                                case "heading":
                                    o.tokens = [], this.inlineTokens(o.text, o.tokens);
                                    break;
                                case "table":
                                    for (o.tokens = {
                                            header: [],
                                            cells: []
                                        }, r = o.header.length, t = 0; t < r; t++) o.tokens.header[t] = [], this.inlineTokens(o.header[t], o.tokens.header[t]);
                                    for (r = o.cells.length, t = 0; t < r; t++)
                                        for (i = o.cells[t], o.tokens.cells[t] = [], n = 0; n < i.length; n++) o.tokens.cells[t][n] = [], this.inlineTokens(i[n], o.tokens.cells[t][n]);
                                    break;
                                case "blockquote":
                                    this.inline(o.tokens);
                                    break;
                                case "list":
                                    for (r = o.items.length, t = 0; t < r; t++) this.inline(o.items[t].tokens)
                            }
                            return e
                        }, i.inlineTokens = function(e, t, n, r, i) {
                            var o;
                            void 0 === t && (t = []), void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 === i && (i = "");
                            var a, c = e;
                            if (this.tokens.links) {
                                var u = Object.keys(this.tokens.links);
                                if (0 < u.length)
                                    for (; null != (a = this.tokenizer.rules.inline.reflinkSearch.exec(c));) u.includes(a[0].slice(a[0].lastIndexOf("[") + 1, -1)) && (c = c.slice(0, a.index) + "[" + "a".repeat(a[0].length - 2) + "]" + c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))
                            }
                            for (; null != (a = this.tokenizer.rules.inline.blockSkip.exec(c));) c = c.slice(0, a.index) + "[" + "a".repeat(a[0].length - 2) + "]" + c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
                            for (; e;)
                                if (o = this.tokenizer.escape(e)) e = e.substring(o.raw.length), t.push(o);
                                else if (o = this.tokenizer.tag(e, n, r)) e = e.substring(o.raw.length), n = o.inLink, r = o.inRawBlock, t.push(o);
                            else if (o = this.tokenizer.link(e)) e = e.substring(o.raw.length), "link" === o.type && (o.tokens = this.inlineTokens(o.text, [], !0, r)), t.push(o);
                            else if (o = this.tokenizer.reflink(e, this.tokens.links)) e = e.substring(o.raw.length), "link" === o.type && (o.tokens = this.inlineTokens(o.text, [], !0, r)), t.push(o);
                            else if (o = this.tokenizer.strong(e, c, i)) e = e.substring(o.raw.length), o.tokens = this.inlineTokens(o.text, [], n, r), t.push(o);
                            else if (o = this.tokenizer.em(e, c, i)) e = e.substring(o.raw.length), o.tokens = this.inlineTokens(o.text, [], n, r), t.push(o);
                            else if (o = this.tokenizer.codespan(e)) e = e.substring(o.raw.length), t.push(o);
                            else if (o = this.tokenizer.br(e)) e = e.substring(o.raw.length), t.push(o);
                            else if (o = this.tokenizer.del(e)) e = e.substring(o.raw.length), o.tokens = this.inlineTokens(o.text, [], n, r), t.push(o);
                            else if (o = this.tokenizer.autolink(e, s)) e = e.substring(o.raw.length), t.push(o);
                            else if (n || !(o = this.tokenizer.url(e, s))) {
                                if (o = this.tokenizer.inlineText(e, r, l)) e = e.substring(o.raw.length), i = o.raw.slice(-1), t.push(o);
                                else if (e) {
                                    var d = "Infinite loop on byte: " + e.charCodeAt(0);
                                    if (this.options.silent) {
                                        console.error(d);
                                        break
                                    }
                                    throw new Error(d)
                                }
                            } else e = e.substring(o.raw.length), t.push(o);
                            return t
                        }, n = t, r = [{
                            key: "rules",
                            get: function() {
                                return {
                                    block: B,
                                    inline: j
                                }
                            }
                        }], null && e(n.prototype, null), r && e(n, r), t
                    }(),
                    $ = d.defaults,
                    U = function(e, t, n) {
                        if (e) {
                            var r;
                            try {
                                r = decodeURIComponent(i(n)).replace(y, "").toLowerCase()
                            } catch (e) {
                                return null
                            }
                            if (0 === r.indexOf("javascript:") || 0 === r.indexOf("vbscript:") || 0 === r.indexOf("data:")) return null
                        }
                        t && !b.test(n) && (n = function(e, t) {
                            k[" " + e] || (w.test(e) ? k[" " + e] = e + "/" : k[" " + e] = o(e, "/", !0));
                            var n = -1 === (e = k[" " + e]).indexOf(":");
                            return "//" === t.substring(0, 2) ? n ? t : e.replace(C, "$1") + t : "/" === t.charAt(0) ? n ? t : e.replace(S, "$1") + t : e + t
                        }(t, n));
                        try {
                            n = encodeURI(n).replace(/%25/g, "%")
                        } catch (e) {
                            return null
                        }
                        return n
                    },
                    G = L,
                    V = function() {
                        function e(e) {
                            this.options = e || $
                        }
                        var t = e.prototype;
                        return t.code = function(e, t, n) {
                            var r, i = (t || "").match(/\S*/)[0];
                            return !this.options.highlight || null != (r = this.options.highlight(e, i)) && r !== e && (n = !0, e = r), i ? '<pre><code class="' + this.options.langPrefix + G(i, !0) + '">' + (n ? e : G(e, !0)) + "</code></pre>\n" : "<pre><code>" + (n ? e : G(e, !0)) + "</code></pre>\n"
                        }, t.blockquote = function(e) {
                            return "<blockquote>\n" + e + "</blockquote>\n"
                        }, t.html = function(e) {
                            return e
                        }, t.heading = function(e, t, n, r) {
                            return this.options.headerIds ? "<h" + t + ' id="' + this.options.headerPrefix + r.slug(n) + '">' + e + "</h" + t + ">\n" : "<h" + t + ">" + e + "</h" + t + ">\n"
                        }, t.hr = function() {
                            return this.options.xhtml ? "<hr/>\n" : "<hr>\n"
                        }, t.list = function(e, t, n) {
                            var r = t ? "ol" : "ul";
                            return "<" + r + (t && 1 !== n ? ' start="' + n + '"' : "") + ">\n" + e + "</" + r + ">\n"
                        }, t.listitem = function(e) {
                            return "<li>" + e + "</li>\n"
                        }, t.checkbox = function(e) {
                            return "<input " + (e ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> "
                        }, t.paragraph = function(e) {
                            return "<p>" + e + "</p>\n"
                        }, t.table = function(e, t) {
                            return "<table>\n<thead>\n" + e + "</thead>\n" + (t = t && "<tbody>" + t + "</tbody>") + "</table>\n"
                        }, t.tablerow = function(e) {
                            return "<tr>\n" + e + "</tr>\n"
                        }, t.tablecell = function(e, t) {
                            var n = t.header ? "th" : "td";
                            return (t.align ? "<" + n + ' align="' + t.align + '">' : "<" + n + ">") + e + "</" + n + ">\n"
                        }, t.strong = function(e) {
                            return "<strong>" + e + "</strong>"
                        }, t.em = function(e) {
                            return "<em>" + e + "</em>"
                        }, t.codespan = function(e) {
                            return "<code>" + e + "</code>"
                        }, t.br = function() {
                            return this.options.xhtml ? "<br/>" : "<br>"
                        }, t.del = function(e) {
                            return "<del>" + e + "</del>"
                        }, t.link = function(e, t, n) {
                            if (null === (e = U(this.options.sanitize, this.options.baseUrl, e))) return n;
                            var r = '<a href="' + G(e) + '"';
                            return t && (r += ' title="' + t + '"'), r += ">" + n + "</a>"
                        }, t.image = function(e, t, n) {
                            if (null === (e = U(this.options.sanitize, this.options.baseUrl, e))) return n;
                            var r = '<img src="' + e + '" alt="' + n + '"';
                            return t && (r += ' title="' + t + '"'), r += this.options.xhtml ? "/>" : ">"
                        }, t.text = function(e) {
                            return e
                        }, e
                    }(),
                    X = function() {
                        function e() {}
                        var t = e.prototype;
                        return t.strong = function(e) {
                            return e
                        }, t.em = function(e) {
                            return e
                        }, t.codespan = function(e) {
                            return e
                        }, t.del = function(e) {
                            return e
                        }, t.html = function(e) {
                            return e
                        }, t.text = function(e) {
                            return e
                        }, t.link = function(e, t, n) {
                            return "" + n
                        }, t.image = function(e, t, n) {
                            return "" + n
                        }, t.br = function() {
                            return ""
                        }, e
                    }(),
                    K = function() {
                        function e() {
                            this.seen = {}
                        }
                        return e.prototype.slug = function(e) {
                            var t = e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
                            if (this.seen.hasOwnProperty(t))
                                for (var n = t; this.seen[n]++, t = n + "-" + this.seen[n], this.seen.hasOwnProperty(t););
                            return this.seen[t] = 0, t
                        }, e
                    }(),
                    Z = d.defaults,
                    Y = T,
                    Q = function() {
                        function e(e) {
                            this.options = e || Z, this.options.renderer = this.options.renderer || new V, this.renderer = this.options.renderer, this.renderer.options = this.options, this.textRenderer = new X, this.slugger = new K
                        }
                        e.parse = function(t, n) {
                            return new e(n).parse(t)
                        };
                        var t = e.prototype;
                        return t.parse = function(e, t) {
                            void 0 === t && (t = !0);
                            for (var n, r, i, o, a, l, s, c, u, d, h, f, p, m, g, v, x, y = "", b = e.length, k = 0; k < b; k++) switch ((u = e[k]).type) {
                                case "space":
                                    continue;
                                case "hr":
                                    y += this.renderer.hr();
                                    continue;
                                case "heading":
                                    y += this.renderer.heading(this.parseInline(u.tokens), u.depth, Y(this.parseInline(u.tokens, this.textRenderer)), this.slugger);
                                    continue;
                                case "code":
                                    y += this.renderer.code(u.text, u.lang, u.escaped);
                                    continue;
                                case "table":
                                    for (l = s = "", i = u.header.length, n = 0; n < i; n++) l += this.renderer.tablecell(this.parseInline(u.tokens.header[n]), {
                                        header: !0,
                                        align: u.align[n]
                                    });
                                    for (s += this.renderer.tablerow(l), c = "", i = u.cells.length, n = 0; n < i; n++) {
                                        for (l = "", o = (a = u.tokens.cells[n]).length, r = 0; r < o; r++) l += this.renderer.tablecell(this.parseInline(a[r]), {
                                            header: !1,
                                            align: u.align[r]
                                        });
                                        c += this.renderer.tablerow(l)
                                    }
                                    y += this.renderer.table(s, c);
                                    continue;
                                case "blockquote":
                                    c = this.parse(u.tokens), y += this.renderer.blockquote(c);
                                    continue;
                                case "list":
                                    for (d = u.ordered, h = u.start, f = u.loose, i = u.items.length, c = "", n = 0; n < i; n++) g = (m = u.items[n]).checked, v = m.task, p = "", m.task && (x = this.renderer.checkbox(g), f ? 0 < m.tokens.length && "text" === m.tokens[0].type ? (m.tokens[0].text = x + " " + m.tokens[0].text, m.tokens[0].tokens && 0 < m.tokens[0].tokens.length && "text" === m.tokens[0].tokens[0].type && (m.tokens[0].tokens[0].text = x + " " + m.tokens[0].tokens[0].text)) : m.tokens.unshift({
                                        type: "text",
                                        text: x
                                    }) : p += x), p += this.parse(m.tokens, f), c += this.renderer.listitem(p, v, g);
                                    y += this.renderer.list(c, d, h);
                                    continue;
                                case "html":
                                    y += this.renderer.html(u.text);
                                    continue;
                                case "paragraph":
                                    y += this.renderer.paragraph(this.parseInline(u.tokens));
                                    continue;
                                case "text":
                                    for (c = u.tokens ? this.parseInline(u.tokens) : u.text; k + 1 < b && "text" === e[k + 1].type;) c += "\n" + ((u = e[++k]).tokens ? this.parseInline(u.tokens) : u.text);
                                    y += t ? this.renderer.paragraph(c) : c;
                                    continue;
                                default:
                                    var w = 'Token with "' + u.type + '" type was not found.';
                                    if (this.options.silent) return void console.error(w);
                                    throw new Error(w)
                            }
                            return y
                        }, t.parseInline = function(e, t) {
                            t = t || this.renderer;
                            for (var n, r = "", i = e.length, o = 0; o < i; o++) switch ((n = e[o]).type) {
                                case "escape":
                                    r += t.text(n.text);
                                    break;
                                case "html":
                                    r += t.html(n.text);
                                    break;
                                case "link":
                                    r += t.link(n.href, n.title, this.parseInline(n.tokens, t));
                                    break;
                                case "image":
                                    r += t.image(n.href, n.title, n.text);
                                    break;
                                case "strong":
                                    r += t.strong(this.parseInline(n.tokens, t));
                                    break;
                                case "em":
                                    r += t.em(this.parseInline(n.tokens, t));
                                    break;
                                case "codespan":
                                    r += t.codespan(n.text);
                                    break;
                                case "br":
                                    r += t.br();
                                    break;
                                case "del":
                                    r += t.del(this.parseInline(n.tokens, t));
                                    break;
                                case "text":
                                    r += t.text(n.text);
                                    break;
                                default:
                                    var a = 'Token with "' + n.type + '" type was not found.';
                                    if (this.options.silent) return void console.error(a);
                                    throw new Error(a)
                            }
                            return r
                        }, e
                    }(),
                    J = M,
                    ee = function(e) {
                        e && e.sanitize && !e.silent && console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")
                    },
                    te = L,
                    ne = d.getDefaults,
                    re = d.changeDefaults,
                    ie = d.defaults;
                return c.options = c.setOptions = function(e) {
                    return J(c.defaults, e), re(c.defaults), c
                }, c.getDefaults = ne, c.defaults = ie, c.use = function(e) {
                    var t, n = J({}, e);
                    e.renderer && function() {
                        var t, r = c.defaults.renderer || new V;
                        for (t in e.renderer) ! function(t) {
                            var n = r[t];
                            r[t] = function() {
                                for (var i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                                var l = e.renderer[t].apply(r, o);
                                return !1 === l && (l = n.apply(r, o)), l
                            }
                        }(t);
                        n.renderer = r
                    }(), e.tokenizer && function() {
                        var t, r = c.defaults.tokenizer || new O;
                        for (t in e.tokenizer) ! function(t) {
                            var n = r[t];
                            r[t] = function() {
                                for (var i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                                var l = e.tokenizer[t].apply(r, o);
                                return !1 === l && (l = n.apply(r, o)), l
                            }
                        }(t);
                        n.tokenizer = r
                    }(), e.walkTokens && (t = c.defaults.walkTokens, n.walkTokens = function(n) {
                        e.walkTokens(n), t && t(n)
                    }), c.setOptions(n)
                }, c.walkTokens = function(e, t) {
                    for (var r, i = n(e); !(r = i()).done;) {
                        var o = r.value;
                        switch (t(o), o.type) {
                            case "table":
                                for (var a, l = n(o.tokens.header); !(a = l()).done;) {
                                    var s = a.value;
                                    c.walkTokens(s, t)
                                }
                                for (var u, d = n(o.tokens.cells); !(u = d()).done;)
                                    for (var h, f = n(u.value); !(h = f()).done;) {
                                        var p = h.value;
                                        c.walkTokens(p, t)
                                    }
                                break;
                            case "list":
                                c.walkTokens(o.items, t);
                                break;
                            default:
                                o.tokens && c.walkTokens(o.tokens, t)
                        }
                    }
                }, c.Parser = Q, c.parser = Q.parse, c.Renderer = V, c.TextRenderer = X, c.Lexer = q, c.lexer = q.lex, c.Tokenizer = O, c.Slugger = K, c.parse = c
            }, "object" == typeof n && void 0 !== t ? t.exports = i() : (r = r || self).marked = i()
        }, {}],
        14: [function(e, t, n) {
            (function(n) {
                var r;
                ! function() {
                    "use strict";
                    (r = function(e, t, r, i) {
                        function o(e, t) {
                            var n = p._readFile(e, null, i.asyncLoad);
                            i.asyncLoad ? n.then(function(e) {
                                t(e)
                            }) : t(n)
                        }

                        function a(e) {
                            t = e, r && s()
                        }

                        function l(e) {
                            r = e, t && s()
                        }

                        function s() {
                            for (p.rules = p._parseAFF(t), p.compoundRuleCodes = {}, u = 0, h = p.compoundRules.length; u < h; u++) {
                                var e = p.compoundRules[u];
                                for (d = 0, f = e.length; d < f; d++) p.compoundRuleCodes[e[d]] = []
                            }
                            for (u in "ONLYINCOMPOUND" in p.flags && (p.compoundRuleCodes[p.flags.ONLYINCOMPOUND] = []), p.dictionaryTable = p._parseDIC(r), p.compoundRuleCodes) 0 === p.compoundRuleCodes[u].length && delete p.compoundRuleCodes[u];
                            for (u = 0, h = p.compoundRules.length; u < h; u++) {
                                var n = p.compoundRules[u],
                                    o = "";
                                for (d = 0, f = n.length; d < f; d++) {
                                    var a = n[d];
                                    a in p.compoundRuleCodes ? o += "(" + p.compoundRuleCodes[a].join("|") + ")" : o += a
                                }
                                p.compoundRules[u] = new RegExp(o, "i")
                            }
                            p.loaded = !0, i.asyncLoad && i.loadedCallback && i.loadedCallback(p)
                        }
                        i = i || {}, this.dictionary = null, this.rules = {}, this.dictionaryTable = {}, this.compoundRules = [], this.compoundRuleCodes = {}, this.replacementTable = [], this.flags = i.flags || {}, this.memoized = {}, this.loaded = !1;
                        var c, u, d, h, f, p = this;
                        return e && (p.dictionary = e, t && r ? s() : "undefined" != typeof window && "chrome" in window && "extension" in window.chrome && "getURL" in window.chrome.extension ? (c = i.dictionaryPath ? i.dictionaryPath : "typo/dictionaries", t || o(chrome.extension.getURL(c + "/" + e + "/" + e + ".aff"), a), r || o(chrome.extension.getURL(c + "/" + e + "/" + e + ".dic"), l)) : (c = i.dictionaryPath ? i.dictionaryPath : void 0 !== n ? n + "/dictionaries" : "./dictionaries", t || o(c + "/" + e + "/" + e + ".aff", a), r || o(c + "/" + e + "/" + e + ".dic", l))), this
                    }).prototype = {
                        load: function(e) {
                            for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
                            return this
                        },
                        _readFile: function(t, n, r) {
                            if (n = n || "utf8", "undefined" != typeof XMLHttpRequest) {
                                var i, o = new XMLHttpRequest;
                                return o.open("GET", t, r), r && (i = new Promise(function(e, t) {
                                    o.onload = function() {
                                        200 === o.status ? e(o.responseText) : t(o.statusText)
                                    }, o.onerror = function() {
                                        t(o.statusText)
                                    }
                                })), o.overrideMimeType && o.overrideMimeType("text/plain; charset=" + n), o.send(null), r ? i : o.responseText
                            }
                            if (void 0 !== e) {
                                var a = e("fs");
                                try {
                                    if (a.existsSync(t)) return a.readFileSync(t, n);
                                    console.log("Path " + t + " does not exist.")
                                } catch (t) {
                                    return console.log(t), ""
                                }
                            }
                        },
                        _parseAFF: function(e) {
                            for (var t, n, r = {}, i = (e = this._removeAffixComments(e)).split(/\r?\n/), o = 0, a = i.length; o < a; o++) {
                                var l = (t = i[o]).split(/\s+/),
                                    s = l[0];
                                if ("PFX" == s || "SFX" == s) {
                                    for (var c, u = l[1], d = l[2], h = [], f = o + 1, p = o + 1 + (c = parseInt(l[3], 10)); f < p; f++) {
                                        var m = (n = i[f].split(/\s+/))[2],
                                            g = n[3].split("/"),
                                            v = g[0];
                                        "0" === v && (v = "");
                                        var x = this.parseRuleCodes(g[1]),
                                            y = n[4],
                                            b = {};
                                        b.add = v, 0 < x.length && (b.continuationClasses = x), "." !== y && (b.match = "SFX" === s ? new RegExp(y + "$") : new RegExp("^" + y)), "0" != m && (b.remove = "SFX" === s ? new RegExp(m + "$") : m), h.push(b)
                                    }
                                    r[u] = {
                                        type: s,
                                        combineable: "Y" == d,
                                        entries: h
                                    }, o += c
                                } else if ("COMPOUNDRULE" === s) {
                                    for (p = (f = o + 1) + (c = parseInt(l[1], 10)); f < p; f++) n = (t = i[f]).split(/\s+/), this.compoundRules.push(n[1]);
                                    o += c
                                } else "REP" === s ? 3 === (n = t.split(/\s+/)).length && this.replacementTable.push([n[1], n[2]]) : this.flags[s] = l[1]
                            }
                            return r
                        },
                        _removeAffixComments: function(e) {
                            return e = (e = (e = (e = e.replace(/^\s*#.*$/gm, "")).replace(/^\s\s*/m, "").replace(/\s\s*$/m, "")).replace(/\n{2,}/g, "\n")).replace(/^\s\s*/, "").replace(/\s\s*$/, "")
                        },
                        _parseDIC: function(e) {
                            function t(e, t) {
                                r.hasOwnProperty(e) || (r[e] = null), 0 < t.length && (null === r[e] && (r[e] = []), r[e].push(t))
                            }
                            for (var n = (e = this._removeDicComments(e)).split(/\r?\n/), r = {}, i = 1, o = n.length; i < o; i++) {
                                var a = n[i];
                                if (a) {
                                    var l = a.split("/", 2),
                                        s = l[0];
                                    if (1 < l.length) {
                                        var c = this.parseRuleCodes(l[1]);
                                        "NEEDAFFIX" in this.flags && -1 != c.indexOf(this.flags.NEEDAFFIX) || t(s, c);
                                        for (var u = 0, d = c.length; u < d; u++) {
                                            var h = c[u],
                                                f = this.rules[h];
                                            if (f)
                                                for (var p = this._applyRule(s, f), m = 0, g = p.length; m < g; m++) {
                                                    var v = p[m];
                                                    if (t(v, []), f.combineable)
                                                        for (var x = u + 1; x < d; x++) {
                                                            var y = c[x],
                                                                b = this.rules[y];
                                                            if (b && b.combineable && f.type != b.type)
                                                                for (var k = this._applyRule(v, b), w = 0, C = k.length; w < C; w++) t(k[w], [])
                                                        }
                                                }
                                            h in this.compoundRuleCodes && this.compoundRuleCodes[h].push(s)
                                        }
                                    } else t(s.trim(), [])
                                }
                            }
                            return r
                        },
                        _removeDicComments: function(e) {
                            return e = e.replace(/^\t.*$/gm, "")
                        },
                        parseRuleCodes: function(e) {
                            if (!e) return [];
                            if (!("FLAG" in this.flags)) return e.split("");
                            if ("long" !== this.flags.FLAG) return "num" === this.flags.FLAG ? e.split(",") : void 0;
                            for (var t = [], n = 0, r = e.length; n < r; n += 2) t.push(e.substr(n, 2));
                            return t
                        },
                        _applyRule: function(e, t) {
                            for (var n = t.entries, r = [], i = 0, o = n.length; i < o; i++) {
                                var a = n[i];
                                if (!a.match || e.match(a.match)) {
                                    var l = e;
                                    if (a.remove && (l = l.replace(a.remove, "")), "SFX" === t.type ? l += a.add : l = a.add + l, r.push(l), "continuationClasses" in a)
                                        for (var s = 0, c = a.continuationClasses.length; s < c; s++) {
                                            var u = this.rules[a.continuationClasses[s]];
                                            u && (r = r.concat(this._applyRule(l, u)))
                                        }
                                }
                            }
                            return r
                        },
                        check: function(e) {
                            if (!this.loaded) throw "Dictionary not loaded.";
                            var t = e.replace(/^\s\s*/, "").replace(/\s\s*$/, "");
                            if (this.checkExact(t)) return !0;
                            if (t.toUpperCase() === t) {
                                var n = t[0] + t.substring(1).toLowerCase();
                                if (this.hasFlag(n, "KEEPCASE")) return !1;
                                if (this.checkExact(n)) return !0
                            }
                            var r = t.toLowerCase();
                            if (r !== t) {
                                if (this.hasFlag(r, "KEEPCASE")) return !1;
                                if (this.checkExact(r)) return !0
                            }
                            return !1
                        },
                        checkExact: function(e) {
                            if (!this.loaded) throw "Dictionary not loaded.";
                            var t, n, r = this.dictionaryTable[e];
                            if (void 0 === r) {
                                if ("COMPOUNDMIN" in this.flags && e.length >= this.flags.COMPOUNDMIN)
                                    for (t = 0, n = this.compoundRules.length; t < n; t++)
                                        if (e.match(this.compoundRules[t])) return !0
                            } else {
                                if (null === r) return !0;
                                if ("object" == typeof r)
                                    for (t = 0, n = r.length; t < n; t++)
                                        if (!this.hasFlag(e, "ONLYINCOMPOUND", r[t])) return !0
                            }
                            return !1
                        },
                        hasFlag: function(e, t, n) {
                            if (!this.loaded) throw "Dictionary not loaded.";
                            return !!(t in this.flags && (void 0 === n && (n = Array.prototype.concat.apply([], this.dictionaryTable[e])), n && -1 !== n.indexOf(this.flags[t])))
                        },
                        alphabet: "",
                        suggest: function(e, t) {
                            function n(e, t) {
                                var n, r, i, o, a, l, c = {};
                                for (l in "string" == typeof e && (l = e, (e = {})[l] = !0), e)
                                    for (n = 0, i = l.length + 1; n < i; n++) {
                                        var u = [l.substring(0, n), l.substring(n)];
                                        if (u[1] && (a = u[0] + u[1].substring(1), t && !s.check(a) || (a in c ? c[a] += 1 : c[a] = 1)), 1 < u[1].length && u[1][1] !== u[1][0] && (a = u[0] + u[1][1] + u[1][0] + u[1].substring(2), t && !s.check(a) || (a in c ? c[a] += 1 : c[a] = 1)), u[1])
                                            for (r = 0, o = s.alphabet.length; r < o; r++) s.alphabet[r] != u[1].substring(0, 1) && (a = u[0] + s.alphabet[r] + u[1].substring(1), t && !s.check(a) || (a in c ? c[a] += 1 : c[a] = 1));
                                        if (u[1])
                                            for (r = 0, o = s.alphabet.length; r < o; r++) a = u[0] + s.alphabet[r] + u[1], t && !s.check(a) || (a in c ? c[a] += 1 : c[a] = 1)
                                    }
                                return c
                            }
                            if (!this.loaded) throw "Dictionary not loaded.";
                            if (t = t || 5, this.memoized.hasOwnProperty(e)) {
                                var r = this.memoized[e].limit;
                                if (t <= r || this.memoized[e].suggestions.length < r) return this.memoized[e].suggestions.slice(0, t)
                            }
                            if (this.check(e)) return [];
                            for (var i = 0, o = this.replacementTable.length; i < o; i++) {
                                var a = this.replacementTable[i];
                                if (-1 !== e.indexOf(a[0])) {
                                    var l = e.replace(a[0], a[1]);
                                    if (this.check(l)) return [l]
                                }
                            }
                            var s = this;
                            return s.alphabet = "abcdefghijklmnopqrstuvwxyz", this.memoized[e] = {
                                suggestions: function(e) {
                                    var r, i = n(e),
                                        o = n(i, !0);
                                    for (r in i) s.check(r) && (r in o ? o[r] += i[r] : o[r] = i[r]);
                                    var a = [];
                                    for (d in o) o.hasOwnProperty(d) && a.push([d, o[d]]);
                                    a.sort(function(e, t) {
                                        var n = e[1],
                                            r = t[1];
                                        return n < r ? -1 : r < n ? 1 : t[0].localeCompare(e[0])
                                    }).reverse();
                                    var l = [],
                                        c = "lowercase";
                                    e.toUpperCase() === e ? c = "uppercase" : e.substr(0, 1).toUpperCase() + e.substr(1).toLowerCase() === e && (c = "capitalized");
                                    for (var u = t, d = 0; d < Math.min(u, a.length); d++) "uppercase" === c ? a[d][0] = a[d][0].toUpperCase() : "capitalized" === c && (a[d][0] = a[d][0].substr(0, 1).toUpperCase() + a[d][0].substr(1)), s.hasFlag(a[d][0], "NOSUGGEST") || -1 != l.indexOf(a[d][0]) ? u++ : l.push(a[d][0]);
                                    return l
                                }(e),
                                limit: t
                            }, this.memoized[e].suggestions
                        }
                    }
                }(), void 0 !== t && (t.exports = r)
            }).call(this, "/node_modules/typo-js")
        }, {
            fs: 1
        }],
        15: [function(e, t, n) {
            var r = e("codemirror");
            r.commands.tabAndIndentMarkdownList = function(e) {
                var t, n = e.listSelections()[0].head;
                !1 !== e.getStateAfter(n.line).list ? e.execCommand("indentMore") : e.options.indentWithTabs ? e.execCommand("insertTab") : (t = Array(e.options.tabSize + 1).join(" "), e.replaceSelection(t))
            }, r.commands.shiftTabAndUnindentMarkdownList = function(e) {
                var t, n = e.listSelections()[0].head;
                !1 !== e.getStateAfter(n.line).list ? e.execCommand("indentLess") : e.options.indentWithTabs ? e.execCommand("insertTab") : (t = Array(e.options.tabSize + 1).join(" "), e.replaceSelection(t))
            }
        }, {
            codemirror: 8
        }],
        16: [function(e, t, n) {
            "use strict";

            function r(e) {
                return e = _ ? e.replace("Ctrl", "Cmd") : e.replace("Cmd", "Ctrl")
            }

            function i(e, t, n) {
                e = e || {};
                var i = document.createElement("a");
                return t = null == t || t, e.title && t && (i.title = function(e, t, n) {
                    var i, o = e;
                    return t && (i = q(t), n[i] && (o += " (" + r(n[i]) + ")")), o
                }(e.title, e.action, n), _ && (i.title = i.title.replace("Ctrl", ""), i.title = i.title.replace("Alt", ""))), i.tabIndex = -1, i.className = e.className, i
            }

            function o(e, t) {
                t = t || e.getCursor("start");
                var n = e.getTokenAt(t);
                if (!n.type) return {};
                for (var r, i, o = n.type.split(" "), a = {}, l = 0; l < o.length; l++) "strong" === (r = o[l]) ? a.bold = !0 : "variable-2" === r ? (i = e.getLine(t.line), /^\s*\d+\.\s/.test(i) ? a["ordered-list"] = !0 : a["unordered-list"] = !0) : "atom" === r ? a.quote = !0 : "em" === r ? a.italic = !0 : "quote" === r ? a.quote = !0 : "strikethrough" === r ? a.strikethrough = !0 : "comment" === r ? a.code = !0 : "link" === r ? a.image || (a.link = !0) : "tag" === r ? a.image = !0 : "image" === r ? (a.image = !0, a.link = !1) : r.match(/^header(-[1-6])?$/) && (a[r.replace("header", "heading")] = !0);
                return a
            }

            function a(e) {
                var t = e.codemirror;
                t.setOption("fullScreen", !t.getOption("fullScreen")), t.getOption("fullScreen") ? ($ = document.body.style.overflow, document.body.style.overflow = "hidden") : document.body.style.overflow = $;
                var n = t.getWrapperElement();
                /fullscreen/.test(n.previousSibling.className) ? n.previousSibling.className = n.previousSibling.className.replace(/\s*fullscreen\b/, "") : n.previousSibling.className += " fullscreen";
                var r = e.toolbarElements.fullscreen;
                /active/.test(r.className) ? r.className = r.className.replace(/\s*active\s*/g, "") : r.className += " active";
                var i = t.getWrapperElement().nextSibling;
                /editor-preview-active-side/.test(i.className) && M(e)
            }

            function l(e) {
                E(e, "bold", e.options.blockStyles.bold)
            }

            function s(e) {
                E(e, "italic", e.options.blockStyles.italic)
            }

            function c(e) {
                E(e, "strikethrough", "~~")
            }

            function u(e) {
                function t(e) {
                    if ("object" != typeof e) throw "fencing_line() takes a 'line' object (not a line number, or line text).  Got: " + typeof e + ": " + e;
                    return e.styles && e.styles[2] && -1 !== e.styles[2].indexOf("formatting-code-block")
                }

                function n(e) {
                    return e.state.base.base || e.state.base
                }

                function r(e, r, i, o, a) {
                    i = i || e.getLineHandle(r), o = o || e.getTokenAt({
                        line: r,
                        ch: 1
                    }), a = a || !!i.text && e.getTokenAt({
                        line: r,
                        ch: i.text.length - 1
                    });
                    var l = o.type ? o.type.split(" ") : [];
                    return a && n(a).indentedCode ? "indented" : -1 !== l.indexOf("comment") && (n(o).fencedChars || n(a).fencedChars || t(i) ? "fenced" : "single")
                }
                var i, o, a, l, s, c, u, d, h, f, p, m, g = e.options.blockStyles.code,
                    v = e.codemirror,
                    x = v.getCursor("start"),
                    y = v.getCursor("end"),
                    b = v.getTokenAt({
                        line: x.line,
                        ch: x.ch || 1
                    }),
                    k = v.getLineHandle(x.line),
                    w = r(v, x.line, k, b);
                if ("single" === w) {
                    var C = k.text.slice(0, x.ch).replace("`", ""),
                        S = k.text.slice(x.ch).replace("`", "");
                    v.replaceRange(C + S, {
                        line: x.line,
                        ch: 0
                    }, {
                        line: x.line,
                        ch: 99999999999999
                    }), x.ch--, x !== y && y.ch--, v.setSelection(x, y), v.focus()
                } else if ("fenced" === w)
                    if (x.line !== y.line || x.ch !== y.ch) {
                        for (i = x.line; 0 <= i && !t(k = v.getLineHandle(i)); i--);
                        var L, T, M, A = n(v.getTokenAt({
                                line: i,
                                ch: 1
                            })).fencedChars,
                            D = t(v.getLineHandle(x.line)) ? (L = "", x.line) : t(v.getLineHandle(x.line - 1)) ? (L = "", x.line - 1) : (L = A + "\n", x.line);
                        t(v.getLineHandle(y.line)) ? (T = "", M = y.line, 0 === y.ch && (M += 1)) : (T = 0 !== y.ch && t(v.getLineHandle(y.line + 1)) ? "" : A + "\n", M = y.line + 1), 0 === y.ch && --M, v.operation(function() {
                            v.replaceRange(T, {
                                line: M,
                                ch: 0
                            }, {
                                line: M + (T ? 0 : 1),
                                ch: 0
                            }), v.replaceRange(L, {
                                line: D,
                                ch: 0
                            }, {
                                line: D + (L ? 0 : 1),
                                ch: 0
                            })
                        }), v.setSelection({
                            line: D + (L ? 1 : 0),
                            ch: 0
                        }, {
                            line: M + (L ? 1 : -1),
                            ch: 0
                        }), v.focus()
                    } else {
                        var F = x.line;
                        if (t(v.getLineHandle(x.line)) && (F = "fenced" === r(v, x.line + 1) ? (i = x.line, x.line + 1) : (o = x.line, x.line - 1)), void 0 === i)
                            for (i = F; 0 <= i && !t(k = v.getLineHandle(i)); i--);
                        if (void 0 === o)
                            for (a = v.lineCount(), o = F; o < a && !t(k = v.getLineHandle(o)); o++);
                        v.operation(function() {
                            v.replaceRange("", {
                                line: i,
                                ch: 0
                            }, {
                                line: i + 1,
                                ch: 0
                            }), v.replaceRange("", {
                                line: o - 1,
                                ch: 0
                            }, {
                                line: o,
                                ch: 0
                            })
                        }), v.focus()
                    }
                else if ("indented" === w) {
                    if (x.line !== y.line || x.ch !== y.ch) i = x.line, o = y.line, 0 === y.ch && o--;
                    else {
                        for (i = x.line; 0 <= i; i--)
                            if (!(k = v.getLineHandle(i)).text.match(/^\s*$/) && "indented" !== r(v, i, k)) {
                                i += 1;
                                break
                            }
                        for (a = v.lineCount(), o = x.line; o < a; o++)
                            if (!(k = v.getLineHandle(o)).text.match(/^\s*$/) && "indented" !== r(v, o, k)) {
                                --o;
                                break
                            }
                    }
                    var E = v.getLineHandle(o + 1),
                        O = E && v.getTokenAt({
                            line: o + 1,
                            ch: E.text.length - 1
                        });
                    O && n(O).indentedCode && v.replaceRange("\n", {
                        line: o + 1,
                        ch: 0
                    });
                    for (var z = i; z <= o; z++) v.indentLine(z, "subtract");
                    v.focus()
                } else {
                    var I = x.line === y.line && x.ch === y.ch && 0 === x.ch,
                        R = x.line !== y.line;
                    I || R ? (l = v, c = y, u = g, d = (s = x).line + 1, h = c.line + 1, f = s.line !== c.line, p = u + "\n", m = "\n" + u, f && h++, f && 0 === c.ch && (m = u + "\n", h--), N(l, !1, [p, m]), l.setSelection({
                        line: d,
                        ch: 0
                    }, {
                        line: h,
                        ch: 0
                    })) : N(v, !1, ["`", "`"])
                }
            }

            function d(e) {
                F(e.codemirror, "quote")
            }

            function h(e) {
                D(e.codemirror, "smaller")
            }

            function f(e) {
                D(e.codemirror, "bigger")
            }

            function p(e) {
                D(e.codemirror, void 0, 1)
            }

            function m(e) {
                D(e.codemirror, void 0, 2)
            }

            function g(e) {
                D(e.codemirror, void 0, 3)
            }

            function v(e) {
                F(e.codemirror, "unordered-list")
            }

            function x(e) {
                F(e.codemirror, "ordered-list")
            }

            function y(e) {
                ! function(e) {
                    if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))
                        for (var t, n = e.getCursor("start"), r = e.getCursor("end"), i = n.line; i <= r.line; i++) t = (t = e.getLine(i)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/, ""), e.replaceRange(t, {
                            line: i,
                            ch: 0
                        }, {
                            line: i,
                            ch: 99999999999999
                        })
                }(e.codemirror)
            }

            function b(e) {
                var t = e.codemirror,
                    n = o(t),
                    r = e.options,
                    i = "http://";
                if (r.promptURLs && !(i = prompt(r.promptTexts.link))) return !1;
                N(t, n.link, r.insertTexts.link, i)
            }

            function k(e) {
                var t = e.codemirror,
                    n = o(t),
                    r = e.options,
                    i = "http://";
                if (r.promptURLs && !(i = prompt(r.promptTexts.image))) return !1;
                N(t, n.image, r.insertTexts.image, i)
            }

            function w(e) {
                var t = e.options;
                t.promptItems && t.promptItems(function(t) {
                    var n = e.codemirror;
                    N(n, o(n).link, t)
                })
            }

            function C(e) {
                var t = e.codemirror,
                    n = o(t),
                    r = e.options;
                N(t, n.table, r.insertTexts.table)
            }

            function S(e) {
                var t = e.codemirror,
                    n = o(t),
                    r = e.options;
                N(t, n.image, r.insertTexts.horizontalRule)
            }

            function L(e) {
                var t = e.codemirror;
                t.undo(), t.focus()
            }

            function T(e) {
                var t = e.codemirror;
                t.redo(), t.focus()
            }

            function M(e) {
                var t = e.codemirror,
                    n = t.getWrapperElement(),
                    r = n.nextSibling,
                    i = e.toolbarElements["side-by-side"],
                    o = !1;
                /editor-preview-active-side/.test(r.className) ? (r.className = r.className.replace(/\s*editor-preview-active-side\s*/g, ""), i.className = i.className.replace(/\s*active\s*/g, ""), n.className = n.className.replace(/\s*CodeMirror-sided\s*/g, " ")) : (setTimeout(function() {
                    t.getOption("fullScreen") || a(e), r.className += " editor-preview-active-side"
                }, 1), i.className += " active", n.className += " CodeMirror-sided", o = !0);
                var l, s, c = n.lastChild;
                /editor-preview-active/.test(c.className) && (c.className = c.className.replace(/\s*editor-preview-active\s*/g, ""), l = e.toolbarElements.preview, s = n.previousSibling, l.className = l.className.replace(/\s*active\s*/g, ""), s.className = s.className.replace(/\s*disabled-for-preview*/g, "")), t.sideBySideRenderingFunction || (t.sideBySideRenderingFunction = function() {
                    r.innerHTML = e.options.previewRender(e.value(), r)
                }), o ? (r.innerHTML = e.options.previewRender(e.value(), r), t.on("update", t.sideBySideRenderingFunction)) : t.off("update", t.sideBySideRenderingFunction), t.refresh()
            }

            function A(e) {
                var t = e.codemirror,
                    n = t.getWrapperElement(),
                    r = n.previousSibling,
                    i = !!e.options.toolbar && e.toolbarElements.preview,
                    o = n.lastChild;
                o && /editor-preview/.test(o.className) || ((o = document.createElement("div")).className = "editor-preview", n.appendChild(o)), /editor-preview-active/.test(o.className) ? (o.className = o.className.replace(/\s*editor-preview-active\s*/g, ""), i && (i.className = i.className.replace(/\s*active\s*/g, ""), r.className = r.className.replace(/\s*disabled-for-preview*/g, ""))) : (setTimeout(function() {
                    o.className += " editor-preview-active"
                }, 1), i && (i.className += " active", r.className += " disabled-for-preview")), o.innerHTML = e.options.previewRender(e.value(), o);
                var a = t.getWrapperElement().nextSibling;
                /editor-preview-active-side/.test(a.className) && M(e)
            }

            function N(e, t, n, r) {
                var i, o, a, l, s;
                /editor-preview-active/.test(e.getWrapperElement().lastChild.className) || (o = n[0], a = n[1], l = e.getCursor("start"), s = e.getCursor("end"), r && (a = a.replace("#url#", r)), t ? (o = (i = e.getLine(l.line)).slice(0, l.ch), a = i.slice(l.ch), e.replaceRange(o + a, {
                    line: l.line,
                    ch: 0
                })) : (i = e.getSelection(), e.replaceSelection(o + i + a), l.ch += o.length, l !== s && (s.ch += o.length)), e.setSelection(l, s), e.focus())
            }

            function D(e, t, n) {
                if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) {
                    for (var r, i, o, a = e.getCursor("start"), l = e.getCursor("end"), s = a.line; s <= l.line; s++) r = s, o = i = void 0, i = (o = e.getLine(r)).search(/[^#]/), o = void 0 !== t ? i <= 0 ? "bigger" == t ? "###### " + o : "# " + o : 6 == i && "smaller" == t ? o.substr(7) : 1 == i && "bigger" == t ? o.substr(2) : "bigger" == t ? o.substr(1) : "#" + o : 1 == n ? i <= 0 ? "# " + o : i == n ? o.substr(i + 1) : "# " + o.substr(i + 1) : 2 == n ? i <= 0 ? "## " + o : i == n ? o.substr(i + 1) : "## " + o.substr(i + 1) : i <= 0 ? "### " + o : i == n ? o.substr(i + 1) : "### " + o.substr(i + 1), e.replaceRange(o, {
                        line: r,
                        ch: 0
                    }, {
                        line: r,
                        ch: 99999999999999
                    });
                    e.focus()
                }
            }

            function F(e, t) {
                if (!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)) {
                    for (var n, r, i = o(e), a = e.getCursor("start"), l = e.getCursor("end"), s = {
                            quote: /^(\s*)>\s+/,
                            "unordered-list": /^(\s*)(\*|-|\+)\s+/,
                            "ordered-list": /^(\s*)\d+\.\s+/
                        }, c = {
                            quote: "> ",
                            "unordered-list": "* ",
                            "ordered-list": "1. "
                        }, u = a.line; u <= l.line; u++) n = u, r = r = void 0, r = e.getLine(n), r = i[t] ? r.replace(s[t], "$1") : c[t] + r, e.replaceRange(r, {
                        line: n,
                        ch: 0
                    }, {
                        line: n,
                        ch: 99999999999999
                    });
                    e.focus()
                }
            }

            function E(e, t, n, r) {
                var i, a, l, s, c, u, d;
                /editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className) || (r = void 0 === r ? n : r, a = o(i = e.codemirror), s = n, c = r, u = i.getCursor("start"), d = i.getCursor("end"), a[t] ? (s = (l = i.getLine(u.line)).slice(0, u.ch), c = l.slice(u.ch), "bold" == t ? (s = s.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/, ""), c = c.replace(/(\*\*|__)/, "")) : "italic" == t ? (s = s.replace(/(\*|_)(?![\s\S]*(\*|_))/, ""), c = c.replace(/(\*|_)/, "")) : "strikethrough" == t && (s = s.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/, ""), c = c.replace(/(\*\*|~~)/, "")), i.replaceRange(s + c, {
                    line: u.line,
                    ch: 0
                }, {
                    line: u.line,
                    ch: 99999999999999
                }), "bold" == t || "strikethrough" == t ? (u.ch -= 2, u !== d && (d.ch -= 2)) : "italic" == t && (--u.ch, u !== d && --d.ch)) : (l = i.getSelection(), "bold" == t ? l = (l = l.split("**").join("")).split("__").join("") : "italic" == t ? l = (l = l.split("*").join("")).split("_").join("") : "strikethrough" == t && (l = l.split("~~").join("")), i.replaceSelection(s + l + c), u.ch += n.length, d.ch = u.ch + l.length), i.setSelection(u, d), i.focus())
            }

            function O(e) {
                for (var t = 1; t < arguments.length; t++) e = function e(t, n) {
                    for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (n[r] instanceof Array ? t[r] = n[r].concat(t[r] instanceof Array ? t[r] : []) : null !== n[r] && "object" == typeof n[r] && n[r].constructor === Object ? t[r] = e(t[r] || {}, n[r]) : t[r] = n[r]);
                    return t
                }(e, arguments[t]);
                return e
            }

            function z(e) {
                var t = e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),
                    n = 0;
                if (null === t) return n;
                for (var r = 0; r < t.length; r++) 19968 <= t[r].charCodeAt(0) ? n += t[r].length : n += 1;
                return n
            }

            function I(e) {
                (e = e || {}).parent = this;
                var t, n = !0;
                if (!1 === e.autoDownloadFontAwesome && (n = !1), !0 !== e.autoDownloadFontAwesome)
                    for (var r = document.styleSheets, i = 0; i < r.length; i++) r[i].href && -1 < r[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/") && (n = !1);
                if (n && ((t = document.createElement("link")).rel = "stylesheet", t.href = "https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css", document.getElementsByTagName("head")[0].appendChild(t)), e.element) this.element = e.element;
                else if (null === e.element) return void console.log("SimpleMDE: Error. No element was found.");
                if (void 0 === e.toolbar)
                    for (var o in e.toolbar = [], U) Object.prototype.hasOwnProperty.call(U, o) && (-1 != o.indexOf("separator-") && e.toolbar.push("|"), (!0 === U[o].default || e.showIcons && e.showIcons.constructor === Array && -1 != e.showIcons.indexOf(o)) && e.toolbar.push(o));
                Object.prototype.hasOwnProperty.call(e, "status") || (e.status = ["autosave", "lines", "words", "cursor"]), e.previewRender || (e.previewRender = function(e) {
                    return this.parent.markdown(e)
                }), e.parsingConfig = O({
                    highlightFormatting: !0
                }, e.parsingConfig || {}), e.insertTexts = O({}, G, e.insertTexts || {}), e.promptTexts = V, e.blockStyles = O({}, X, e.blockStyles || {}), e.shortcuts = O({}, j, e.shortcuts || {}), null != e.autosave && null != e.autosave.unique_id && "" != e.autosave.unique_id && (e.autosave.uniqueId = e.autosave.unique_id), this.options = e, this.render(), !e.initialValue || this.options.autosave && !0 === this.options.autosave.foundSavedValue || this.value(e.initialValue)
            }

            function R() {
                if ("object" == typeof localStorage) {
                    try {
                        localStorage.setItem("smde_localStorage", 1), localStorage.removeItem("smde_localStorage")
                    } catch (e) {
                        return
                    }
                    return 1
                }
            }
            var H = e("codemirror");
            e("codemirror/addon/edit/continuelist.js"), e("./codemirror/tablist"), e("codemirror/addon/display/fullscreen.js"), e("codemirror/mode/markdown/markdown.js"), e("codemirror/addon/mode/overlay.js"), e("codemirror/addon/display/placeholder.js"), e("codemirror/addon/selection/mark-selection.js"), e("codemirror/mode/gfm/gfm.js"), e("codemirror/mode/xml/xml.js");
            var W = e("codemirror-spell-checker"),
                P = e("marked"),
                _ = /Mac/.test(navigator.platform),
                B = {
                    toggleBold: l,
                    toggleItalic: s,
                    drawLink: b,
                    toggleHeadingSmaller: h,
                    toggleHeadingBigger: f,
                    drawImage: k,
                    drawItem: w,
                    toggleBlockquote: d,
                    toggleOrderedList: x,
                    toggleUnorderedList: v,
                    toggleCodeBlock: u,
                    togglePreview: A,
                    toggleStrikethrough: c,
                    toggleHeading1: p,
                    toggleHeading2: m,
                    toggleHeading3: g,
                    cleanBlock: y,
                    drawTable: C,
                    drawHorizontalRule: S,
                    undo: L,
                    redo: T,
                    toggleSideBySide: M,
                    toggleFullScreen: a
                },
                j = {
                    toggleBold: "Cmd-B",
                    toggleItalic: "Cmd-I",
                    drawLink: "Cmd-K",
                    toggleHeadingSmaller: "Cmd-H",
                    toggleHeadingBigger: "Shift-Cmd-H",
                    cleanBlock: "Cmd-E",
                    drawImage: "Cmd-Alt-I",
                    drawItem: "Cmd-Alt-D",
                    toggleBlockquote: "Cmd-'",
                    toggleOrderedList: "Cmd-Alt-L",
                    toggleUnorderedList: "Cmd-L",
                    toggleCodeBlock: "Cmd-Alt-C",
                    togglePreview: "Cmd-P",
                    toggleSideBySide: "F9",
                    toggleFullScreen: "F11"
                },
                q = function(e) {
                    for (var t in B)
                        if (B[t] === e) return t;
                    return null
                },
                $ = "",
                U = {
                    bold: {
                        name: "bold",
                        action: l,
                        className: "fa fa-bold",
                        title: "Bold",
                        default: !0
                    },
                    italic: {
                        name: "italic",
                        action: s,
                        className: "fa fa-italic",
                        title: "Italic",
                        default: !0
                    },
                    strikethrough: {
                        name: "strikethrough",
                        action: c,
                        className: "fa fa-strikethrough",
                        title: "Strikethrough"
                    },
                    heading: {
                        name: "heading",
                        action: h,
                        className: "fa fa-header",
                        title: "Heading",
                        default: !0
                    },
                    "heading-smaller": {
                        name: "heading-smaller",
                        action: h,
                        className: "fa fa-header fa-header-x fa-header-smaller",
                        title: "Smaller Heading"
                    },
                    "heading-bigger": {
                        name: "heading-bigger",
                        action: f,
                        className: "fa fa-header fa-header-x fa-header-bigger",
                        title: "Bigger Heading"
                    },
                    "heading-1": {
                        name: "heading-1",
                        action: p,
                        className: "fa fa-header fa-header-x fa-header-1",
                        title: "Big Heading"
                    },
                    "heading-2": {
                        name: "heading-2",
                        action: m,
                        className: "fa fa-header fa-header-x fa-header-2",
                        title: "Medium Heading"
                    },
                    "heading-3": {
                        name: "heading-3",
                        action: g,
                        className: "fa fa-header fa-header-x fa-header-3",
                        title: "Small Heading"
                    },
                    "separator-1": {
                        name: "separator-1"
                    },
                    code: {
                        name: "code",
                        action: u,
                        className: "fa fa-code",
                        title: "Code"
                    },
                    quote: {
                        name: "quote",
                        action: d,
                        className: "fa fa-quote-left",
                        title: "Quote",
                        default: !0
                    },
                    "unordered-list": {
                        name: "unordered-list",
                        action: v,
                        className: "fa fa-list-ul",
                        title: "Generic List",
                        default: !0
                    },
                    "ordered-list": {
                        name: "ordered-list",
                        action: x,
                        className: "fa fa-list-ol",
                        title: "Numbered List",
                        default: !0
                    },
                    "clean-block": {
                        name: "clean-block",
                        action: y,
                        className: "fa fa-eraser fa-clean-block",
                        title: "Clean block"
                    },
                    "separator-2": {
                        name: "separator-2"
                    },
                    link: {
                        name: "link",
                        action: b,
                        className: "fa fa-link",
                        title: "Create Link",
                        default: !0
                    },
                    image: {
                        name: "image",
                        action: k,
                        className: "fa fa-picture-o",
                        title: "Insert Image",
                        default: !0
                    },
                    item: {
                        name: "item",
                        action: w,
                        className: "fa fa-shield",
                        title: "Insert Item",
                        default: !0
                    },
                    table: {
                        name: "table",
                        action: C,
                        className: "fa fa-table",
                        title: "Insert Table"
                    },
                    "horizontal-rule": {
                        name: "horizontal-rule",
                        action: S,
                        className: "fa fa-minus",
                        title: "Insert Horizontal Line"
                    },
                    "separator-3": {
                        name: "separator-3"
                    },
                    preview: {
                        name: "preview",
                        action: A,
                        className: "fa fa-eye no-disable",
                        title: "Toggle Preview",
                        default: !0
                    },
                    "side-by-side": {
                        name: "side-by-side",
                        action: M,
                        className: "fa fa-columns no-disable no-mobile",
                        title: "Toggle Side by Side",
                        default: !0
                    },
                    fullscreen: {
                        name: "fullscreen",
                        action: a,
                        className: "fa fa-arrows-alt no-disable no-mobile",
                        title: "Toggle Fullscreen",
                        default: !0
                    },
                    "separator-4": {
                        name: "separator-4"
                    },
                    guide: {
                        name: "guide",
                        action: "https://simplemde.com/markdown-guide",
                        className: "fa fa-question-circle",
                        title: "Markdown Guide",
                        default: !0
                    },
                    "separator-5": {
                        name: "separator-5"
                    },
                    undo: {
                        name: "undo",
                        action: L,
                        className: "fa fa-undo no-disable",
                        title: "Undo"
                    },
                    redo: {
                        name: "redo",
                        action: T,
                        className: "fa fa-repeat no-disable",
                        title: "Redo"
                    }
                },
                G = {
                    link: ["[", "](#url#)"],
                    image: ["![](", "#url#)"],
                    table: ["", "\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],
                    horizontalRule: ["", "\n\n-----\n\n"]
                },
                V = {
                    link: "URL for the link:",
                    image: "URL of the image:"
                },
                X = {
                    bold: "**",
                    code: "```",
                    italic: "*"
                };
            I.prototype.markdown = function(e) {
                if (P) {
                    var t = {};
                    return this.options && this.options.renderingConfig && !1 === this.options.renderingConfig.singleLineBreaks ? t.breaks = !1 : t.breaks = !0, this.options && this.options.renderingConfig && !0 === this.options.renderingConfig.codeSyntaxHighlighting && window.hljs && (t.highlight = function(e) {
                        return window.hljs.highlightAuto(e).value
                    }), P.setOptions(t), P(e)
                }
            }, I.marked = P, I.prototype.render = function(e) {
                if (e = e || this.element || document.getElementsByTagName("textarea")[0], !this._rendered || this._rendered !== e) {
                    this.element = e;
                    var t, n, i, o, l = this.options,
                        s = this,
                        c = {};
                    for (t in l.shortcuts) null !== l.shortcuts[t] && null !== B[t] && function(e) {
                        c[r(l.shortcuts[e])] = function() {
                            B[e](s)
                        }
                    }(t);
                    c.Enter = "newlineAndIndentContinueMarkdownList", c.Tab = "tabAndIndentMarkdownList", c["Shift-Tab"] = "shiftTabAndUnindentMarkdownList", c.Esc = function(e) {
                        e.getOption("fullScreen") && a(s)
                    }, document.addEventListener("keydown", function(e) {
                        27 == (e = e || window.event).keyCode && s.codemirror.getOption("fullScreen") && a(s)
                    }, !1), !1 !== l.spellChecker ? (n = "spell-checker", (i = l.parsingConfig).name = "gfm", i.gitHubSpice = !1, W({
                        codeMirrorInstance: H
                    })) : ((n = l.parsingConfig).name = "gfm", n.gitHubSpice = !1), this.codemirror = H.fromTextArea(e, {
                        mode: n,
                        backdrop: i,
                        theme: "paper",
                        tabSize: null != l.tabSize ? l.tabSize : 2,
                        indentUnit: null != l.tabSize ? l.tabSize : 2,
                        indentWithTabs: !1 !== l.indentWithTabs,
                        lineNumbers: !1,
                        autofocus: !0 === l.autofocus,
                        extraKeys: c,
                        lineWrapping: !1 !== l.lineWrapping,
                        allowDropFileTypes: ["text/plain"],
                        placeholder: l.placeholder || e.getAttribute("placeholder") || "",
                        styleSelectedText: null == l.styleSelectedText || l.styleSelectedText
                    }), !0 === l.forceSync && (o = this.codemirror).on("change", function() {
                        o.save()
                    }), !(this.gui = {}) !== l.toolbar && (this.gui.toolbar = this.createToolbar()), !1 !== l.status && (this.gui.statusbar = this.createStatusbar()), null != l.autosave && !0 === l.autosave.enabled && this.autosave(), this.gui.sideBySide = this.createSideBySide(), this._rendered = this.element;
                    var u = this.codemirror;
                    setTimeout(function() {
                        u.refresh()
                    }.bind(u), 0)
                }
            }, I.prototype.autosave = function() {
                if (R()) {
                    var e = this;
                    if (null == this.options.autosave.uniqueId || "" == this.options.autosave.uniqueId) return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");
                    null != e.element.form && null != e.element.form && e.element.form.addEventListener("submit", function() {
                        localStorage.removeItem("smde_" + e.options.autosave.uniqueId)
                    }), !0 !== this.options.autosave.loaded && ("string" == typeof localStorage.getItem("smde_" + this.options.autosave.uniqueId) && "" != localStorage.getItem("smde_" + this.options.autosave.uniqueId) && (this.codemirror.setValue(localStorage.getItem("smde_" + this.options.autosave.uniqueId)), this.options.autosave.foundSavedValue = !0), this.options.autosave.loaded = !0), localStorage.setItem("smde_" + this.options.autosave.uniqueId, e.value());
                    var t, n, r, i, o, a = document.getElementById("autosaved");
                    null != a && null != a && "" != a && (i = "am", 12 <= (o = n = (t = new Date).getHours()) && (o = n - 12, i = "pm"), 0 == o && (o = 12), r = (r = t.getMinutes()) < 10 ? "0" + r : r, a.innerHTML = "Autosaved: " + o + ":" + r + " " + i), this.autosaveTimeoutId = setTimeout(function() {
                        e.autosave()
                    }, this.options.autosave.delay || 1e4)
                } else console.log("SimpleMDE: localStorage not available, cannot autosave")
            }, I.prototype.clearAutosavedValue = function() {
                if (R()) {
                    if (null == this.options.autosave || null == this.options.autosave.uniqueId || "" == this.options.autosave.uniqueId) return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");
                    localStorage.removeItem("smde_" + this.options.autosave.uniqueId)
                } else console.log("SimpleMDE: localStorage not available, cannot autosave")
            }, I.prototype.createSideBySide = function() {
                var e = this.codemirror,
                    t = e.getWrapperElement(),
                    n = t.nextSibling;
                n && /editor-preview-side/.test(n.className) || ((n = document.createElement("div")).className = "editor-preview-side", t.parentNode.insertBefore(n, t.nextSibling));
                var r = !1,
                    i = !1;
                return e.on("scroll", function(e) {
                    var t, o, a;
                    r ? r = !1 : (i = !0, t = e.getScrollInfo().height - e.getScrollInfo().clientHeight, o = parseFloat(e.getScrollInfo().top) / t, a = (n.scrollHeight - n.clientHeight) * o, n.scrollTop = a)
                }), n.onscroll = function() {
                    var t, o, a;
                    i ? i = !1 : (r = !0, t = n.scrollHeight - n.clientHeight, o = parseFloat(n.scrollTop) / t, a = (e.getScrollInfo().height - e.getScrollInfo().clientHeight) * o, e.scrollTo(0, a))
                }, n
            }, I.prototype.createToolbar = function(e) {
                if ((e = e || this.options.toolbar) && 0 !== e.length) {
                    for (var t = 0; t < e.length; t++) null != U[e[t]] && (e[t] = U[e[t]]);
                    var n = document.createElement("div");
                    n.className = "editor-toolbar";
                    var r, a, l = this,
                        s = {};
                    for (l.toolbar = e, t = 0; t < e.length; t++)
                        if (("guide" != e[t].name || !1 !== l.options.toolbarGuideIcon) && !(l.options.hideIcons && -1 != l.options.hideIcons.indexOf(e[t].name) || ("fullscreen" == e[t].name || "side-by-side" == e[t].name) && (a = r = void 0, a = !1, r = navigator.userAgent || navigator.vendor || window.opera, (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(r.substr(0, 4))) && (a = !0), a))) {
                            if ("|" === e[t]) {
                                for (var c = !1, u = t + 1; u < e.length; u++) "|" === e[u] || l.options.hideIcons && -1 != l.options.hideIcons.indexOf(e[u].name) || (c = !0);
                                if (!c) continue
                            }! function(e) {
                                var t, r = "|" === e ? ((t = document.createElement("i")).className = "separator", t.innerHTML = "|", t) : i(e, l.options.toolbarTips, l.options.shortcuts);
                                e.action && ("function" == typeof e.action ? r.onclick = function(t) {
                                    t.preventDefault(), e.action(l)
                                } : "string" == typeof e.action && (r.href = e.action, r.target = "_blank")), s[e.name || e] = r, n.appendChild(r)
                            }(e[t])
                        }
                    l.toolbarElements = s;
                    var d = this.codemirror;
                    d.on("cursorActivity", function() {
                        var e, t, n, r = o(d);
                        for (e in s) n = void 0, n = s[t = e], r[t] ? n.className += " active" : "fullscreen" != t && "side-by-side" != t && (n.className = n.className.replace(/\s*active\s*/g, ""))
                    });
                    var h = d.getWrapperElement();
                    return h.parentNode.insertBefore(n, h), n
                }
            }, I.prototype.createStatusbar = function(e) {
                e = e || this.options.status;
                var t = this.options,
                    n = this.codemirror;
                if (e && 0 !== e.length) {
                    for (var r = [], i = 0; i < e.length; i++) {
                        var o, a = void 0,
                            l = void 0;
                        "object" == typeof e[i] ? r.push({
                            className: e[i].className,
                            defaultValue: e[i].defaultValue,
                            onUpdate: e[i].onUpdate
                        }) : ("words" === (o = e[i]) ? (l = function(e) {
                            e.innerHTML = z(n.getValue())
                        }, a = function(e) {
                            e.innerHTML = z(n.getValue())
                        }) : "lines" === o ? (l = function(e) {
                            e.innerHTML = n.lineCount()
                        }, a = function(e) {
                            e.innerHTML = n.lineCount()
                        }) : "cursor" === o ? (l = function(e) {
                            e.innerHTML = "0:0"
                        }, a = function(e) {
                            var t = n.getCursor();
                            e.innerHTML = t.line + ":" + t.ch
                        }) : "autosave" === o && (l = function(e) {
                            null != t.autosave && !0 === t.autosave.enabled && e.setAttribute("id", "autosaved")
                        }), r.push({
                            className: o,
                            defaultValue: l,
                            onUpdate: a
                        }))
                    }
                    var s = document.createElement("div");
                    for (s.className = "editor-statusbar", i = 0; i < r.length; i++) {
                        var c = r[i],
                            u = document.createElement("span");
                        u.className = c.className, "function" == typeof c.defaultValue && c.defaultValue(u), "function" == typeof c.onUpdate && this.codemirror.on("update", function(e, t) {
                            return function() {
                                t.onUpdate(e)
                            }
                        }(u, c)), s.appendChild(u)
                    }
                    var d = this.codemirror.getWrapperElement();
                    return d.parentNode.insertBefore(s, d.nextSibling), s
                }
            }, I.prototype.value = function(e) {
                return void 0 === e ? this.codemirror.getValue() : (this.codemirror.getDoc().setValue(e), this)
            }, I.toggleBold = l, I.toggleItalic = s, I.toggleStrikethrough = c, I.toggleBlockquote = d, I.toggleHeadingSmaller = h, I.toggleHeadingBigger = f, I.toggleHeading1 = p, I.toggleHeading2 = m, I.toggleHeading3 = g, I.toggleCodeBlock = u, I.toggleUnorderedList = v, I.toggleOrderedList = x, I.cleanBlock = y, I.drawLink = b, I.drawImage = k, I.drawItem = w, I.drawTable = C, I.drawHorizontalRule = S, I.undo = L, I.redo = T, I.togglePreview = A, I.toggleSideBySide = M, I.toggleFullScreen = a, I.prototype.toggleBold = function() {
                l(this)
            }, I.prototype.toggleItalic = function() {
                s(this)
            }, I.prototype.toggleStrikethrough = function() {
                c(this)
            }, I.prototype.toggleBlockquote = function() {
                d(this)
            }, I.prototype.toggleHeadingSmaller = function() {
                h(this)
            }, I.prototype.toggleHeadingBigger = function() {
                f(this)
            }, I.prototype.toggleHeading1 = function() {
                p(this)
            }, I.prototype.toggleHeading2 = function() {
                m(this)
            }, I.prototype.toggleHeading3 = function() {
                g(this)
            }, I.prototype.toggleCodeBlock = function() {
                u(this)
            }, I.prototype.toggleUnorderedList = function() {
                v(this)
            }, I.prototype.toggleOrderedList = function() {
                x(this)
            }, I.prototype.cleanBlock = function() {
                y(this)
            }, I.prototype.drawLink = function() {
                b(this)
            }, I.prototype.drawImage = function() {
                k(this)
            }, I.prototype.drawItem = function() {
                w(this)
            }, I.prototype.drawTable = function() {
                C(this)
            }, I.prototype.drawHorizontalRule = function() {
                S(this)
            }, I.prototype.undo = function() {
                L(this)
            }, I.prototype.redo = function() {
                T(this)
            }, I.prototype.togglePreview = function() {
                A(this)
            }, I.prototype.toggleSideBySide = function() {
                M(this)
            }, I.prototype.toggleFullScreen = function() {
                a(this)
            }, I.prototype.isPreviewActive = function() {
                var e = this.codemirror.getWrapperElement().lastChild;
                return /editor-preview-active/.test(e.className)
            }, I.prototype.isSideBySideActive = function() {
                var e = this.codemirror.getWrapperElement().nextSibling;
                return /editor-preview-active-side/.test(e.className)
            }, I.prototype.isFullscreenActive = function() {
                return this.codemirror.getOption("fullScreen")
            }, I.prototype.getState = function() {
                return o(this.codemirror)
            }, I.prototype.toTextArea = function() {
                var e = this.codemirror,
                    t = e.getWrapperElement();
                t.parentNode && (this.gui.toolbar && t.parentNode.removeChild(this.gui.toolbar), this.gui.statusbar && t.parentNode.removeChild(this.gui.statusbar), this.gui.sideBySide && t.parentNode.removeChild(this.gui.sideBySide)), e.toTextArea(), this.autosaveTimeoutId && (clearTimeout(this.autosaveTimeoutId), this.autosaveTimeoutId = void 0, this.clearAutosavedValue())
            }, t.exports = I
        }, {
            "./codemirror/tablist": 15,
            codemirror: 8,
            "codemirror-spell-checker": 2,
            "codemirror/addon/display/fullscreen.js": 3,
            "codemirror/addon/display/placeholder.js": 4,
            "codemirror/addon/edit/continuelist.js": 5,
            "codemirror/addon/mode/overlay.js": 6,
            "codemirror/addon/selection/mark-selection.js": 7,
            "codemirror/mode/gfm/gfm.js": 9,
            "codemirror/mode/markdown/markdown.js": 10,
            "codemirror/mode/xml/xml.js": 12,
            marked: 13
        }]
    }, {}, [16])(16)
});
! function(e) {
    function t(e, t) {
        if (!(e.originalEvent.touches.length > 1)) {
            e.preventDefault();
            var o = e.originalEvent.changedTouches[0],
                n = document.createEvent("MouseEvents");
            n.initMouseEvent(t, !0, !0, window, 1, o.screenX, o.screenY, o.clientX, o.clientY, !1, !1, !1, !1, 0, null), e.target.dispatchEvent(n)
        }
    }
    if (e.support.touch = "ontouchend" in document, e.support.touch) {
        var o, n = e.ui.mouse.prototype,
            s = n._mouseInit,
            i = n._mouseDestroy;
        n._touchStart = function(e) {
            !o && this._mouseCapture(e.originalEvent.changedTouches[0]) && (o = !0, this._touchMoved = !1, t(e, "mouseover"), t(e, "mousemove"), t(e, "mousedown"))
        }, n._touchMove = function(e) {
            o && (this._touchMoved = !0, t(e, "mousemove"))
        }, n._touchEnd = function(e) {
            o && (t(e, "mouseup"), t(e, "mouseout"), this._touchMoved || t(e, "click"), o = !1)
        }, n._mouseInit = function() {
            this.element[0].addEventListener("touchstart", e.proxy(this, "_touchStart"), {
                passive: !0
            }), this.element[0].addEventListener("touchmove", e.proxy(this, "_touchMove"), {
                passive: !0
            }), this.element[0].addEventListener("touchend", e.proxy(this, "_touchEnd"), {
                passive: !0
            }), s.call(this)
        }, n._mouseDestroy = function() {
            this.element[0].removeEventListener("touchstart", e.proxy(this, "_touchStart"), {
                passive: !0
            }), this.element[0].removeEventListener("touchmove", e.proxy(this, "_touchMove"), {
                passive: !0
            }), this.element[0].removeEventListener("touchend", e.proxy(this, "_touchEnd"), {
                passive: !0
            }), i.call(this)
        }
    }
}(jQuery);
! function(t, a) {
    if ("object" == typeof exports && "object" == typeof module) module.exports = a();
    else if ("function" == typeof define && define.amd) define([], a);
    else {
        var n = a();
        for (var r in n)("object" == typeof exports ? exports : t)[r] = n[r]
    }
}(this, function() {
    return function(t) {
        function a(r) {
            if (n[r]) return n[r].exports;
            var o = n[r] = {
                exports: {},
                id: r,
                loaded: !1
            };
            return t[r].call(o.exports, o, o.exports, a), o.loaded = !0, o.exports
        }
        var n = {};
        return a.m = t, a.c = n, a.p = "", a(0)
    }([function(t, a, n) {
        a.glMatrix = n(1), a.mat2 = n(2), a.mat2d = n(3), a.mat3 = n(4), a.mat4 = n(5), a.quat = n(6), a.vec2 = n(9), a.vec3 = n(7), a.vec4 = n(8)
    }, function(t, a) {
        var n = {};
        n.EPSILON = 1e-6, n.ARRAY_TYPE = "undefined" != typeof Float32Array ? Float32Array : Array, n.RANDOM = Math.random, n.ENABLE_SIMD = !1, n.SIMD_AVAILABLE = n.ARRAY_TYPE === Float32Array && "SIMD" in this, n.USE_SIMD = n.ENABLE_SIMD && n.SIMD_AVAILABLE, n.setMatrixArrayType = function(t) {
            n.ARRAY_TYPE = t
        };
        var r = Math.PI / 180;
        n.toRadian = function(t) {
            return t * r
        }, n.equals = function(t, a) {
            return Math.abs(t - a) <= n.EPSILON * Math.max(1, Math.abs(t), Math.abs(a))
        }, t.exports = n
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(4);
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(4);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a[3] = t[3], a
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t
        }, o.identity = function(t) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t
        }, o.fromValues = function(t, a, n, o) {
            var u = new r.ARRAY_TYPE(4);
            return u[0] = t, u[1] = a, u[2] = n, u[3] = o, u
        }, o.set = function(t, a, n, r, o) {
            return t[0] = a, t[1] = n, t[2] = r, t[3] = o, t
        }, o.transpose = function(t, a) {
            if (t === a) {
                var n = a[1];
                t[1] = a[2], t[2] = n
            } else t[0] = a[0], t[1] = a[2], t[2] = a[1], t[3] = a[3];
            return t
        }, o.invert = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = n * u - o * r;
            return l ? (l = 1 / l, t[0] = u * l, t[1] = -r * l, t[2] = -o * l, t[3] = n * l, t) : null
        }, o.adjoint = function(t, a) {
            var n = a[0];
            return t[0] = a[3], t[1] = -a[1], t[2] = -a[2], t[3] = n, t
        }, o.determinant = function(t) {
            return t[0] * t[3] - t[2] * t[1]
        }, o.multiply = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = n[0],
                M = n[1],
                s = n[2],
                i = n[3];
            return t[0] = r * e + u * M, t[1] = o * e + l * M, t[2] = r * s + u * i, t[3] = o * s + l * i, t
        }, o.mul = o.multiply, o.rotate = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = Math.sin(n),
                M = Math.cos(n);
            return t[0] = r * M + u * e, t[1] = o * M + l * e, t[2] = r * -e + u * M, t[3] = o * -e + l * M, t
        }, o.scale = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = n[0],
                M = n[1];
            return t[0] = r * e, t[1] = o * e, t[2] = u * M, t[3] = l * M, t
        }, o.fromRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = r, t[1] = n, t[2] = -n, t[3] = r, t
        }, o.fromScaling = function(t, a) {
            return t[0] = a[0], t[1] = 0, t[2] = 0, t[3] = a[1], t
        }, o.str = function(t) {
            return "mat2(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ")"
        }, o.frob = function(t) {
            return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2))
        }, o.LDU = function(t, a, n, r) {
            return t[2] = r[2] / r[0], n[0] = r[0], n[1] = r[1], n[3] = r[3] - t[2] * n[1], [t, a, n]
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t[3] = a[3] + n[3], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t[3] = a[3] - n[3], t
        }, o.sub = o.subtract, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2] && t[3] === a[3]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = t[3],
                e = a[0],
                M = a[1],
                s = a[2],
                i = a[3];
            return Math.abs(n - e) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(e)) && Math.abs(o - M) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(M)) && Math.abs(u - s) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(s)) && Math.abs(l - i) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(i))
        }, o.multiplyScalar = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t[3] = a[3] * n, t
        }, o.multiplyScalarAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t[3] = a[3] + n[3] * r, t
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(6);
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(6);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a[3] = t[3], a[4] = t[4], a[5] = t[5], a
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[4] = a[4], t[5] = a[5], t
        }, o.identity = function(t) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = 0, t[5] = 0, t
        }, o.fromValues = function(t, a, n, o, u, l) {
            var e = new r.ARRAY_TYPE(6);
            return e[0] = t, e[1] = a, e[2] = n, e[3] = o, e[4] = u, e[5] = l, e
        }, o.set = function(t, a, n, r, o, u, l) {
            return t[0] = a, t[1] = n, t[2] = r, t[3] = o, t[4] = u, t[5] = l, t
        }, o.invert = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = n * u - r * o;
            return M ? (M = 1 / M, t[0] = u * M, t[1] = -r * M, t[2] = -o * M, t[3] = n * M, t[4] = (o * e - u * l) * M, t[5] = (r * l - n * e) * M, t) : null
        }, o.determinant = function(t) {
            return t[0] * t[3] - t[1] * t[2]
        }, o.multiply = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = n[0],
                i = n[1],
                c = n[2],
                h = n[3],
                S = n[4],
                I = n[5];
            return t[0] = r * s + u * i, t[1] = o * s + l * i, t[2] = r * c + u * h, t[3] = o * c + l * h, t[4] = r * S + u * I + e, t[5] = o * S + l * I + M, t
        }, o.mul = o.multiply, o.rotate = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = Math.sin(n),
                i = Math.cos(n);
            return t[0] = r * i + u * s, t[1] = o * i + l * s, t[2] = r * -s + u * i, t[3] = o * -s + l * i, t[4] = e, t[5] = M, t
        }, o.scale = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = n[0],
                i = n[1];
            return t[0] = r * s, t[1] = o * s, t[2] = u * i, t[3] = l * i, t[4] = e, t[5] = M, t
        }, o.translate = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = n[0],
                i = n[1];
            return t[0] = r, t[1] = o, t[2] = u, t[3] = l, t[4] = r * s + u * i + e, t[5] = o * s + l * i + M, t
        }, o.fromRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = r, t[1] = n, t[2] = -n, t[3] = r, t[4] = 0, t[5] = 0, t
        }, o.fromScaling = function(t, a) {
            return t[0] = a[0], t[1] = 0, t[2] = 0, t[3] = a[1], t[4] = 0, t[5] = 0, t
        }, o.fromTranslation = function(t, a) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 1, t[4] = a[0], t[5] = a[1], t
        }, o.str = function(t) {
            return "mat2d(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ")"
        }, o.frob = function(t) {
            return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + 1)
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t[3] = a[3] + n[3], t[4] = a[4] + n[4], t[5] = a[5] + n[5], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t[3] = a[3] - n[3], t[4] = a[4] - n[4], t[5] = a[5] - n[5], t
        }, o.sub = o.subtract, o.multiplyScalar = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t[3] = a[3] * n, t[4] = a[4] * n, t[5] = a[5] * n, t
        }, o.multiplyScalarAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t[3] = a[3] + n[3] * r, t[4] = a[4] + n[4] * r, t[5] = a[5] + n[5] * r, t
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2] && t[3] === a[3] && t[4] === a[4] && t[5] === a[5]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = t[3],
                e = t[4],
                M = t[5],
                s = a[0],
                i = a[1],
                c = a[2],
                h = a[3],
                S = a[4],
                I = a[5];
            return Math.abs(n - s) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(s)) && Math.abs(o - i) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(i)) && Math.abs(u - c) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(c)) && Math.abs(l - h) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(h)) && Math.abs(e - S) <= r.EPSILON * Math.max(1, Math.abs(e), Math.abs(S)) && Math.abs(M - I) <= r.EPSILON * Math.max(1, Math.abs(M), Math.abs(I))
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(9);
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
        }, o.fromMat4 = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[4], t[4] = a[5], t[5] = a[6], t[6] = a[8], t[7] = a[9], t[8] = a[10], t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(9);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a[3] = t[3], a[4] = t[4], a[5] = t[5], a[6] = t[6], a[7] = t[7], a[8] = t[8], a
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[4] = a[4], t[5] = a[5], t[6] = a[6], t[7] = a[7], t[8] = a[8], t
        }, o.fromValues = function(t, a, n, o, u, l, e, M, s) {
            var i = new r.ARRAY_TYPE(9);
            return i[0] = t, i[1] = a, i[2] = n, i[3] = o, i[4] = u, i[5] = l, i[6] = e, i[7] = M, i[8] = s, i
        }, o.set = function(t, a, n, r, o, u, l, e, M, s) {
            return t[0] = a, t[1] = n, t[2] = r, t[3] = o, t[4] = u, t[5] = l, t[6] = e, t[7] = M, t[8] = s, t
        }, o.identity = function(t) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
        }, o.transpose = function(t, a) {
            if (t === a) {
                var n = a[1],
                    r = a[2],
                    o = a[5];
                t[1] = a[3], t[2] = a[6], t[3] = n, t[5] = a[7], t[6] = r, t[7] = o
            } else t[0] = a[0], t[1] = a[3], t[2] = a[6], t[3] = a[1], t[4] = a[4], t[5] = a[7], t[6] = a[2], t[7] = a[5], t[8] = a[8];
            return t
        }, o.invert = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = a[6],
                s = a[7],
                i = a[8],
                c = i * l - e * s,
                h = -i * u + e * M,
                S = s * u - l * M,
                I = n * c + r * h + o * S;
            return I ? (I = 1 / I, t[0] = c * I, t[1] = (-i * r + o * s) * I, t[2] = (e * r - o * l) * I, t[3] = h * I, t[4] = (i * n - o * M) * I, t[5] = (-e * n + o * u) * I, t[6] = S * I, t[7] = (-s * n + r * M) * I, t[8] = (l * n - r * u) * I, t) : null
        }, o.adjoint = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = a[6],
                s = a[7],
                i = a[8];
            return t[0] = l * i - e * s, t[1] = o * s - r * i, t[2] = r * e - o * l, t[3] = e * M - u * i, t[4] = n * i - o * M, t[5] = o * u - n * e, t[6] = u * s - l * M, t[7] = r * M - n * s, t[8] = n * l - r * u, t
        }, o.determinant = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2],
                o = t[3],
                u = t[4],
                l = t[5],
                e = t[6],
                M = t[7],
                s = t[8];
            return a * (s * u - l * M) + n * (-s * o + l * e) + r * (M * o - u * e)
        }, o.multiply = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = a[6],
                i = a[7],
                c = a[8],
                h = n[0],
                S = n[1],
                I = n[2],
                f = n[3],
                x = n[4],
                D = n[5],
                F = n[6],
                m = n[7],
                d = n[8];
            return t[0] = h * r + S * l + I * s, t[1] = h * o + S * e + I * i, t[2] = h * u + S * M + I * c, t[3] = f * r + x * l + D * s, t[4] = f * o + x * e + D * i, t[5] = f * u + x * M + D * c, t[6] = F * r + m * l + d * s, t[7] = F * o + m * e + d * i, t[8] = F * u + m * M + d * c, t
        }, o.mul = o.multiply, o.translate = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = a[6],
                i = a[7],
                c = a[8],
                h = n[0],
                S = n[1];
            return t[0] = r, t[1] = o, t[2] = u, t[3] = l, t[4] = e, t[5] = M, t[6] = h * r + S * l + s, t[7] = h * o + S * e + i, t[8] = h * u + S * M + c, t
        }, o.rotate = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = a[6],
                i = a[7],
                c = a[8],
                h = Math.sin(n),
                S = Math.cos(n);
            return t[0] = S * r + h * l, t[1] = S * o + h * e, t[2] = S * u + h * M, t[3] = S * l - h * r, t[4] = S * e - h * o, t[5] = S * M - h * u, t[6] = s, t[7] = i, t[8] = c, t
        }, o.scale = function(t, a, n) {
            var r = n[0],
                o = n[1];
            return t[0] = r * a[0], t[1] = r * a[1], t[2] = r * a[2], t[3] = o * a[3], t[4] = o * a[4], t[5] = o * a[5], t[6] = a[6], t[7] = a[7], t[8] = a[8], t
        }, o.fromTranslation = function(t, a) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 1, t[5] = 0, t[6] = a[0], t[7] = a[1], t[8] = 1, t
        }, o.fromRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = r, t[1] = n, t[2] = 0, t[3] = -n, t[4] = r, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
        }, o.fromScaling = function(t, a) {
            return t[0] = a[0], t[1] = 0, t[2] = 0, t[3] = 0, t[4] = a[1], t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
        }, o.fromMat2d = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = 0, t[3] = a[2], t[4] = a[3], t[5] = 0, t[6] = a[4], t[7] = a[5], t[8] = 1, t
        }, o.fromQuat = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = n + n,
                e = r + r,
                M = o + o,
                s = n * l,
                i = r * l,
                c = r * e,
                h = o * l,
                S = o * e,
                I = o * M,
                f = u * l,
                x = u * e,
                D = u * M;
            return t[0] = 1 - c - I, t[3] = i - D, t[6] = h + x, t[1] = i + D, t[4] = 1 - s - I, t[7] = S - f, t[2] = h - x, t[5] = S + f, t[8] = 1 - s - c, t
        }, o.normalFromMat4 = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = a[6],
                s = a[7],
                i = a[8],
                c = a[9],
                h = a[10],
                S = a[11],
                I = a[12],
                f = a[13],
                x = a[14],
                D = a[15],
                F = n * e - r * l,
                m = n * M - o * l,
                d = n * s - u * l,
                b = r * M - o * e,
                v = r * s - u * e,
                z = o * s - u * M,
                p = i * f - c * I,
                w = i * x - h * I,
                E = i * D - S * I,
                A = c * x - h * f,
                P = c * D - S * f,
                L = h * D - S * x,
                q = F * L - m * P + d * A + b * E - v * w + z * p;
            return q ? (q = 1 / q, t[0] = (e * L - M * P + s * A) * q, t[1] = (M * E - l * L - s * w) * q, t[2] = (l * P - e * E + s * p) * q, t[3] = (o * P - r * L - u * A) * q, t[4] = (n * L - o * E + u * w) * q, t[5] = (r * E - n * P - u * p) * q, t[6] = (f * z - x * v + D * b) * q, t[7] = (x * d - I * z - D * m) * q, t[8] = (I * v - f * d + D * F) * q, t) : null
        }, o.str = function(t) {
            return "mat3(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + ")"
        }, o.frob = function(t) {
            return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + Math.pow(t[6], 2) + Math.pow(t[7], 2) + Math.pow(t[8], 2))
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t[3] = a[3] + n[3], t[4] = a[4] + n[4], t[5] = a[5] + n[5], t[6] = a[6] + n[6], t[7] = a[7] + n[7], t[8] = a[8] + n[8], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t[3] = a[3] - n[3], t[4] = a[4] - n[4], t[5] = a[5] - n[5], t[6] = a[6] - n[6], t[7] = a[7] - n[7], t[8] = a[8] - n[8], t
        }, o.sub = o.subtract, o.multiplyScalar = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t[3] = a[3] * n, t[4] = a[4] * n, t[5] = a[5] * n, t[6] = a[6] * n, t[7] = a[7] * n, t[8] = a[8] * n, t
        }, o.multiplyScalarAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t[3] = a[3] + n[3] * r, t[4] = a[4] + n[4] * r, t[5] = a[5] + n[5] * r, t[6] = a[6] + n[6] * r, t[7] = a[7] + n[7] * r, t[8] = a[8] + n[8] * r, t
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2] && t[3] === a[3] && t[4] === a[4] && t[5] === a[5] && t[6] === a[6] && t[7] === a[7] && t[8] === a[8]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = t[3],
                e = t[4],
                M = t[5],
                s = t[6],
                i = t[7],
                c = t[8],
                h = a[0],
                S = a[1],
                I = a[2],
                f = a[3],
                x = a[4],
                D = a[5],
                F = t[6],
                m = a[7],
                d = a[8];
            return Math.abs(n - h) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(h)) && Math.abs(o - S) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(S)) && Math.abs(u - I) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(I)) && Math.abs(l - f) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(f)) && Math.abs(e - x) <= r.EPSILON * Math.max(1, Math.abs(e), Math.abs(x)) && Math.abs(M - D) <= r.EPSILON * Math.max(1, Math.abs(M), Math.abs(D)) && Math.abs(s - F) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(F)) && Math.abs(i - m) <= r.EPSILON * Math.max(1, Math.abs(i), Math.abs(m)) && Math.abs(c - d) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(d))
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = {
                scalar: {},
                SIMD: {}
            };
        o.create = function() {
            var t = new r.ARRAY_TYPE(16);
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(16);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a[3] = t[3], a[4] = t[4], a[5] = t[5], a[6] = t[6], a[7] = t[7], a[8] = t[8], a[9] = t[9], a[10] = t[10], a[11] = t[11], a[12] = t[12], a[13] = t[13], a[14] = t[14], a[15] = t[15], a
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[4] = a[4], t[5] = a[5], t[6] = a[6], t[7] = a[7], t[8] = a[8], t[9] = a[9], t[10] = a[10], t[11] = a[11], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15], t
        }, o.fromValues = function(t, a, n, o, u, l, e, M, s, i, c, h, S, I, f, x) {
            var D = new r.ARRAY_TYPE(16);
            return D[0] = t, D[1] = a, D[2] = n, D[3] = o, D[4] = u, D[5] = l, D[6] = e, D[7] = M, D[8] = s, D[9] = i, D[10] = c, D[11] = h, D[12] = S, D[13] = I, D[14] = f, D[15] = x, D
        }, o.set = function(t, a, n, r, o, u, l, e, M, s, i, c, h, S, I, f, x) {
            return t[0] = a, t[1] = n, t[2] = r, t[3] = o, t[4] = u, t[5] = l, t[6] = e, t[7] = M, t[8] = s, t[9] = i, t[10] = c, t[11] = h, t[12] = S, t[13] = I, t[14] = f, t[15] = x, t
        }, o.identity = function(t) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.scalar.transpose = function(t, a) {
            if (t === a) {
                var n = a[1],
                    r = a[2],
                    o = a[3],
                    u = a[6],
                    l = a[7],
                    e = a[11];
                t[1] = a[4], t[2] = a[8], t[3] = a[12], t[4] = n, t[6] = a[9], t[7] = a[13], t[8] = r, t[9] = u, t[11] = a[14], t[12] = o, t[13] = l, t[14] = e
            } else t[0] = a[0], t[1] = a[4], t[2] = a[8], t[3] = a[12], t[4] = a[1], t[5] = a[5], t[6] = a[9], t[7] = a[13], t[8] = a[2], t[9] = a[6], t[10] = a[10], t[11] = a[14], t[12] = a[3], t[13] = a[7], t[14] = a[11], t[15] = a[15];
            return t
        }, o.SIMD.transpose = function(t, a) {
            var n, r, o, u, l, e, M, s, i, c;
            return n = SIMD.Float32x4.load(a, 0), r = SIMD.Float32x4.load(a, 4), o = SIMD.Float32x4.load(a, 8), u = SIMD.Float32x4.load(a, 12), l = SIMD.Float32x4.shuffle(n, r, 0, 1, 4, 5), e = SIMD.Float32x4.shuffle(o, u, 0, 1, 4, 5), M = SIMD.Float32x4.shuffle(l, e, 0, 2, 4, 6), s = SIMD.Float32x4.shuffle(l, e, 1, 3, 5, 7), SIMD.Float32x4.store(t, 0, M), SIMD.Float32x4.store(t, 4, s), l = SIMD.Float32x4.shuffle(n, r, 2, 3, 6, 7), e = SIMD.Float32x4.shuffle(o, u, 2, 3, 6, 7), i = SIMD.Float32x4.shuffle(l, e, 0, 2, 4, 6), c = SIMD.Float32x4.shuffle(l, e, 1, 3, 5, 7), SIMD.Float32x4.store(t, 8, i), SIMD.Float32x4.store(t, 12, c), t
        }, o.transpose = r.USE_SIMD ? o.SIMD.transpose : o.scalar.transpose, o.scalar.invert = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = a[6],
                s = a[7],
                i = a[8],
                c = a[9],
                h = a[10],
                S = a[11],
                I = a[12],
                f = a[13],
                x = a[14],
                D = a[15],
                F = n * e - r * l,
                m = n * M - o * l,
                d = n * s - u * l,
                b = r * M - o * e,
                v = r * s - u * e,
                z = o * s - u * M,
                p = i * f - c * I,
                w = i * x - h * I,
                E = i * D - S * I,
                A = c * x - h * f,
                P = c * D - S * f,
                L = h * D - S * x,
                q = F * L - m * P + d * A + b * E - v * w + z * p;
            return q ? (q = 1 / q, t[0] = (e * L - M * P + s * A) * q, t[1] = (o * P - r * L - u * A) * q, t[2] = (f * z - x * v + D * b) * q, t[3] = (h * v - c * z - S * b) * q, t[4] = (M * E - l * L - s * w) * q, t[5] = (n * L - o * E + u * w) * q, t[6] = (x * d - I * z - D * m) * q, t[7] = (i * z - h * d + S * m) * q, t[8] = (l * P - e * E + s * p) * q, t[9] = (r * E - n * P - u * p) * q, t[10] = (I * v - f * d + D * F) * q, t[11] = (c * d - i * v - S * F) * q, t[12] = (e * w - l * A - M * p) * q, t[13] = (n * A - r * w + o * p) * q, t[14] = (f * m - I * b - x * F) * q, t[15] = (i * b - c * m + h * F) * q, t) : null
        }, o.SIMD.invert = function(t, a) {
            var n, r, o, u, l, e, M, s, i, c, h = SIMD.Float32x4.load(a, 0),
                S = SIMD.Float32x4.load(a, 4),
                I = SIMD.Float32x4.load(a, 8),
                f = SIMD.Float32x4.load(a, 12);
            return l = SIMD.Float32x4.shuffle(h, S, 0, 1, 4, 5), r = SIMD.Float32x4.shuffle(I, f, 0, 1, 4, 5), n = SIMD.Float32x4.shuffle(l, r, 0, 2, 4, 6), r = SIMD.Float32x4.shuffle(r, l, 1, 3, 5, 7), l = SIMD.Float32x4.shuffle(h, S, 2, 3, 6, 7), u = SIMD.Float32x4.shuffle(I, f, 2, 3, 6, 7), o = SIMD.Float32x4.shuffle(l, u, 0, 2, 4, 6), u = SIMD.Float32x4.shuffle(u, l, 1, 3, 5, 7), l = SIMD.Float32x4.mul(o, u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), e = SIMD.Float32x4.mul(r, l), M = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(SIMD.Float32x4.mul(r, l), e), M = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), M), M = SIMD.Float32x4.swizzle(M, 2, 3, 0, 1), l = SIMD.Float32x4.mul(r, o), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), e = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), e), i = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(e, SIMD.Float32x4.mul(u, l)), i = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), i), i = SIMD.Float32x4.swizzle(i, 2, 3, 0, 1), l = SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r, 2, 3, 0, 1), u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), o = SIMD.Float32x4.swizzle(o, 2, 3, 0, 1), e = SIMD.Float32x4.add(SIMD.Float32x4.mul(o, l), e), s = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(e, SIMD.Float32x4.mul(o, l)), s = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), s), s = SIMD.Float32x4.swizzle(s, 2, 3, 0, 1), l = SIMD.Float32x4.mul(n, r), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), s = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), s), i = SIMD.Float32x4.sub(SIMD.Float32x4.mul(o, l), i), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), s = SIMD.Float32x4.sub(SIMD.Float32x4.mul(u, l), s), i = SIMD.Float32x4.sub(i, SIMD.Float32x4.mul(o, l)), l = SIMD.Float32x4.mul(n, u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), M = SIMD.Float32x4.sub(M, SIMD.Float32x4.mul(o, l)), s = SIMD.Float32x4.add(SIMD.Float32x4.mul(r, l), s), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), M = SIMD.Float32x4.add(SIMD.Float32x4.mul(o, l), M), s = SIMD.Float32x4.sub(s, SIMD.Float32x4.mul(r, l)), l = SIMD.Float32x4.mul(n, o), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), M = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), M), i = SIMD.Float32x4.sub(i, SIMD.Float32x4.mul(r, l)), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), M = SIMD.Float32x4.sub(M, SIMD.Float32x4.mul(u, l)), i = SIMD.Float32x4.add(SIMD.Float32x4.mul(r, l), i), c = SIMD.Float32x4.mul(n, e), c = SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c, 2, 3, 0, 1), c), c = SIMD.Float32x4.add(SIMD.Float32x4.swizzle(c, 1, 0, 3, 2), c), l = SIMD.Float32x4.reciprocalApproximation(c), c = SIMD.Float32x4.sub(SIMD.Float32x4.add(l, l), SIMD.Float32x4.mul(c, SIMD.Float32x4.mul(l, l))), (c = SIMD.Float32x4.swizzle(c, 0, 0, 0, 0)) ? (SIMD.Float32x4.store(t, 0, SIMD.Float32x4.mul(c, e)), SIMD.Float32x4.store(t, 4, SIMD.Float32x4.mul(c, M)), SIMD.Float32x4.store(t, 8, SIMD.Float32x4.mul(c, s)), SIMD.Float32x4.store(t, 12, SIMD.Float32x4.mul(c, i)), t) : null
        }, o.invert = r.USE_SIMD ? o.SIMD.invert : o.scalar.invert, o.scalar.adjoint = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = a[4],
                e = a[5],
                M = a[6],
                s = a[7],
                i = a[8],
                c = a[9],
                h = a[10],
                S = a[11],
                I = a[12],
                f = a[13],
                x = a[14],
                D = a[15];
            return t[0] = e * (h * D - S * x) - c * (M * D - s * x) + f * (M * S - s * h), t[1] = -(r * (h * D - S * x) - c * (o * D - u * x) + f * (o * S - u * h)), t[2] = r * (M * D - s * x) - e * (o * D - u * x) + f * (o * s - u * M), t[3] = -(r * (M * S - s * h) - e * (o * S - u * h) + c * (o * s - u * M)), t[4] = -(l * (h * D - S * x) - i * (M * D - s * x) + I * (M * S - s * h)), t[5] = n * (h * D - S * x) - i * (o * D - u * x) + I * (o * S - u * h), t[6] = -(n * (M * D - s * x) - l * (o * D - u * x) + I * (o * s - u * M)), t[7] = n * (M * S - s * h) - l * (o * S - u * h) + i * (o * s - u * M), t[8] = l * (c * D - S * f) - i * (e * D - s * f) + I * (e * S - s * c), t[9] = -(n * (c * D - S * f) - i * (r * D - u * f) + I * (r * S - u * c)), t[10] = n * (e * D - s * f) - l * (r * D - u * f) + I * (r * s - u * e), t[11] = -(n * (e * S - s * c) - l * (r * S - u * c) + i * (r * s - u * e)), t[12] = -(l * (c * x - h * f) - i * (e * x - M * f) + I * (e * h - M * c)), t[13] = n * (c * x - h * f) - i * (r * x - o * f) + I * (r * h - o * c), t[14] = -(n * (e * x - M * f) - l * (r * x - o * f) + I * (r * M - o * e)), t[15] = n * (e * h - M * c) - l * (r * h - o * c) + i * (r * M - o * e), t
        }, o.SIMD.adjoint = function(t, a) {
            var n, r, o, u, l, e, M, s, i, c = SIMD.Float32x4.load(a, 0),
                h = SIMD.Float32x4.load(a, 4),
                S = SIMD.Float32x4.load(a, 8),
                I = SIMD.Float32x4.load(a, 12);
            return l = SIMD.Float32x4.shuffle(c, h, 0, 1, 4, 5), r = SIMD.Float32x4.shuffle(S, I, 0, 1, 4, 5), n = SIMD.Float32x4.shuffle(l, r, 0, 2, 4, 6), r = SIMD.Float32x4.shuffle(r, l, 1, 3, 5, 7), l = SIMD.Float32x4.shuffle(c, h, 2, 3, 6, 7), u = SIMD.Float32x4.shuffle(S, I, 2, 3, 6, 7), o = SIMD.Float32x4.shuffle(l, u, 0, 2, 4, 6), u = SIMD.Float32x4.shuffle(u, l, 1, 3, 5, 7), l = SIMD.Float32x4.mul(o, u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), e = SIMD.Float32x4.mul(r, l), M = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(SIMD.Float32x4.mul(r, l), e), M = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), M), M = SIMD.Float32x4.swizzle(M, 2, 3, 0, 1), l = SIMD.Float32x4.mul(r, o), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), e = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), e), i = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(e, SIMD.Float32x4.mul(u, l)), i = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), i), i = SIMD.Float32x4.swizzle(i, 2, 3, 0, 1), l = SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r, 2, 3, 0, 1), u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), o = SIMD.Float32x4.swizzle(o, 2, 3, 0, 1), e = SIMD.Float32x4.add(SIMD.Float32x4.mul(o, l), e), s = SIMD.Float32x4.mul(n, l), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), e = SIMD.Float32x4.sub(e, SIMD.Float32x4.mul(o, l)), s = SIMD.Float32x4.sub(SIMD.Float32x4.mul(n, l), s), s = SIMD.Float32x4.swizzle(s, 2, 3, 0, 1), l = SIMD.Float32x4.mul(n, r), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), s = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), s), i = SIMD.Float32x4.sub(SIMD.Float32x4.mul(o, l), i), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), s = SIMD.Float32x4.sub(SIMD.Float32x4.mul(u, l), s), i = SIMD.Float32x4.sub(i, SIMD.Float32x4.mul(o, l)), l = SIMD.Float32x4.mul(n, u), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), M = SIMD.Float32x4.sub(M, SIMD.Float32x4.mul(o, l)), s = SIMD.Float32x4.add(SIMD.Float32x4.mul(r, l), s), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), M = SIMD.Float32x4.add(SIMD.Float32x4.mul(o, l), M), s = SIMD.Float32x4.sub(s, SIMD.Float32x4.mul(r, l)), l = SIMD.Float32x4.mul(n, o), l = SIMD.Float32x4.swizzle(l, 1, 0, 3, 2), M = SIMD.Float32x4.add(SIMD.Float32x4.mul(u, l), M), i = SIMD.Float32x4.sub(i, SIMD.Float32x4.mul(r, l)), l = SIMD.Float32x4.swizzle(l, 2, 3, 0, 1), M = SIMD.Float32x4.sub(M, SIMD.Float32x4.mul(u, l)), i = SIMD.Float32x4.add(SIMD.Float32x4.mul(r, l), i), SIMD.Float32x4.store(t, 0, e), SIMD.Float32x4.store(t, 4, M), SIMD.Float32x4.store(t, 8, s), SIMD.Float32x4.store(t, 12, i), t
        }, o.adjoint = r.USE_SIMD ? o.SIMD.adjoint : o.scalar.adjoint, o.determinant = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2],
                o = t[3],
                u = t[4],
                l = t[5],
                e = t[6],
                M = t[7],
                s = t[8],
                i = t[9],
                c = t[10],
                h = t[11],
                S = t[12],
                I = t[13],
                f = t[14],
                x = t[15];
            return (a * l - n * u) * (c * x - h * f) - (a * e - r * u) * (i * x - h * I) + (a * M - o * u) * (i * f - c * I) + (n * e - r * l) * (s * x - h * S) - (n * M - o * l) * (s * f - c * S) + (r * M - o * e) * (s * I - i * S)
        }, o.SIMD.multiply = function(t, a, n) {
            var r = SIMD.Float32x4.load(a, 0),
                o = SIMD.Float32x4.load(a, 4),
                u = SIMD.Float32x4.load(a, 8),
                l = SIMD.Float32x4.load(a, 12),
                e = SIMD.Float32x4.load(n, 0),
                M = SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e, 0, 0, 0, 0), r), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e, 1, 1, 1, 1), o), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e, 2, 2, 2, 2), u), SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e, 3, 3, 3, 3), l))));
            SIMD.Float32x4.store(t, 0, M);
            var s = SIMD.Float32x4.load(n, 4),
                i = SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s, 0, 0, 0, 0), r), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s, 1, 1, 1, 1), o), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s, 2, 2, 2, 2), u), SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s, 3, 3, 3, 3), l))));
            SIMD.Float32x4.store(t, 4, i);
            var c = SIMD.Float32x4.load(n, 8),
                h = SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c, 0, 0, 0, 0), r), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c, 1, 1, 1, 1), o), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c, 2, 2, 2, 2), u), SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c, 3, 3, 3, 3), l))));
            SIMD.Float32x4.store(t, 8, h);
            var S = SIMD.Float32x4.load(n, 12),
                I = SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S, 0, 0, 0, 0), r), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S, 1, 1, 1, 1), o), SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S, 2, 2, 2, 2), u), SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S, 3, 3, 3, 3), l))));
            return SIMD.Float32x4.store(t, 12, I), t
        }, o.scalar.multiply = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = a[4],
                M = a[5],
                s = a[6],
                i = a[7],
                c = a[8],
                h = a[9],
                S = a[10],
                I = a[11],
                f = a[12],
                x = a[13],
                D = a[14],
                F = a[15],
                m = n[0],
                d = n[1],
                b = n[2],
                v = n[3];
            return t[0] = m * r + d * e + b * c + v * f, t[1] = m * o + d * M + b * h + v * x, t[2] = m * u + d * s + b * S + v * D, t[3] = m * l + d * i + b * I + v * F, m = n[4], d = n[5], b = n[6], v = n[7], t[4] = m * r + d * e + b * c + v * f, t[5] = m * o + d * M + b * h + v * x, t[6] = m * u + d * s + b * S + v * D, t[7] = m * l + d * i + b * I + v * F, m = n[8], d = n[9], b = n[10], v = n[11], t[8] = m * r + d * e + b * c + v * f, t[9] = m * o + d * M + b * h + v * x, t[10] = m * u + d * s + b * S + v * D, t[11] = m * l + d * i + b * I + v * F, m = n[12], d = n[13], b = n[14], v = n[15], t[12] = m * r + d * e + b * c + v * f, t[13] = m * o + d * M + b * h + v * x, t[14] = m * u + d * s + b * S + v * D, t[15] = m * l + d * i + b * I + v * F, t
        }, o.multiply = r.USE_SIMD ? o.SIMD.multiply : o.scalar.multiply, o.mul = o.multiply, o.scalar.translate = function(t, a, n) {
            var r, o, u, l, e, M, s, i, c, h, S, I, f = n[0],
                x = n[1],
                D = n[2];
            return a === t ? (t[12] = a[0] * f + a[4] * x + a[8] * D + a[12], t[13] = a[1] * f + a[5] * x + a[9] * D + a[13], t[14] = a[2] * f + a[6] * x + a[10] * D + a[14], t[15] = a[3] * f + a[7] * x + a[11] * D + a[15]) : (r = a[0], o = a[1], u = a[2], l = a[3], e = a[4], M = a[5], s = a[6], i = a[7], c = a[8], h = a[9], S = a[10], I = a[11], t[0] = r, t[1] = o, t[2] = u, t[3] = l, t[4] = e, t[5] = M, t[6] = s, t[7] = i, t[8] = c, t[9] = h, t[10] = S, t[11] = I, t[12] = r * f + e * x + c * D + a[12], t[13] = o * f + M * x + h * D + a[13], t[14] = u * f + s * x + S * D + a[14], t[15] = l * f + i * x + I * D + a[15]), t
        }, o.SIMD.translate = function(t, a, n) {
            var r = SIMD.Float32x4.load(a, 0),
                o = SIMD.Float32x4.load(a, 4),
                u = SIMD.Float32x4.load(a, 8),
                l = SIMD.Float32x4.load(a, 12),
                e = SIMD.Float32x4(n[0], n[1], n[2], 0);
            a !== t && (t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[4] = a[4], t[5] = a[5], t[6] = a[6], t[7] = a[7], t[8] = a[8], t[9] = a[9], t[10] = a[10], t[11] = a[11]), r = SIMD.Float32x4.mul(r, SIMD.Float32x4.swizzle(e, 0, 0, 0, 0)), o = SIMD.Float32x4.mul(o, SIMD.Float32x4.swizzle(e, 1, 1, 1, 1)), u = SIMD.Float32x4.mul(u, SIMD.Float32x4.swizzle(e, 2, 2, 2, 2));
            var M = SIMD.Float32x4.add(r, SIMD.Float32x4.add(o, SIMD.Float32x4.add(u, l)));
            return SIMD.Float32x4.store(t, 12, M), t
        }, o.translate = r.USE_SIMD ? o.SIMD.translate : o.scalar.translate, o.scalar.scale = function(t, a, n) {
            var r = n[0],
                o = n[1],
                u = n[2];
            return t[0] = a[0] * r, t[1] = a[1] * r, t[2] = a[2] * r, t[3] = a[3] * r, t[4] = a[4] * o, t[5] = a[5] * o, t[6] = a[6] * o, t[7] = a[7] * o, t[8] = a[8] * u, t[9] = a[9] * u, t[10] = a[10] * u, t[11] = a[11] * u, t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15], t
        }, o.SIMD.scale = function(t, a, n) {
            var r, o, u, l = SIMD.Float32x4(n[0], n[1], n[2], 0);
            return r = SIMD.Float32x4.load(a, 0), SIMD.Float32x4.store(t, 0, SIMD.Float32x4.mul(r, SIMD.Float32x4.swizzle(l, 0, 0, 0, 0))), o = SIMD.Float32x4.load(a, 4), SIMD.Float32x4.store(t, 4, SIMD.Float32x4.mul(o, SIMD.Float32x4.swizzle(l, 1, 1, 1, 1))), u = SIMD.Float32x4.load(a, 8), SIMD.Float32x4.store(t, 8, SIMD.Float32x4.mul(u, SIMD.Float32x4.swizzle(l, 2, 2, 2, 2))), t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15], t
        }, o.scale = r.USE_SIMD ? o.SIMD.scale : o.scalar.scale, o.rotate = function(t, a, n, o) {
            var u, l, e, M, s, i, c, h, S, I, f, x, D, F, m, d, b, v, z, p, w, E, A, P, L = o[0],
                q = o[1],
                R = o[2],
                N = Math.sqrt(L * L + q * q + R * R);
            return Math.abs(N) < r.EPSILON ? null : (N = 1 / N, L *= N, q *= N, R *= N, u = Math.sin(n), l = Math.cos(n), e = 1 - l, M = a[0], s = a[1], i = a[2], c = a[3], h = a[4], S = a[5], I = a[6], f = a[7], x = a[8], D = a[9], F = a[10], m = a[11], d = L * L * e + l, b = q * L * e + R * u, v = R * L * e - q * u, z = L * q * e - R * u, p = q * q * e + l, w = R * q * e + L * u, E = L * R * e + q * u, A = q * R * e - L * u, P = R * R * e + l, t[0] = M * d + h * b + x * v, t[1] = s * d + S * b + D * v, t[2] = i * d + I * b + F * v, t[3] = c * d + f * b + m * v, t[4] = M * z + h * p + x * w, t[5] = s * z + S * p + D * w, t[6] = i * z + I * p + F * w, t[7] = c * z + f * p + m * w, t[8] = M * E + h * A + x * P, t[9] = s * E + S * A + D * P, t[10] = i * E + I * A + F * P, t[11] = c * E + f * A + m * P, a !== t && (t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]), t)
        }, o.scalar.rotateX = function(t, a, n) {
            var r = Math.sin(n),
                o = Math.cos(n),
                u = a[4],
                l = a[5],
                e = a[6],
                M = a[7],
                s = a[8],
                i = a[9],
                c = a[10],
                h = a[11];
            return a !== t && (t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]), t[4] = u * o + s * r, t[5] = l * o + i * r, t[6] = e * o + c * r, t[7] = M * o + h * r, t[8] = s * o - u * r, t[9] = i * o - l * r, t[10] = c * o - e * r, t[11] = h * o - M * r, t
        }, o.SIMD.rotateX = function(t, a, n) {
            var r = SIMD.Float32x4.splat(Math.sin(n)),
                o = SIMD.Float32x4.splat(Math.cos(n));
            a !== t && (t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]);
            var u = SIMD.Float32x4.load(a, 4),
                l = SIMD.Float32x4.load(a, 8);
            return SIMD.Float32x4.store(t, 4, SIMD.Float32x4.add(SIMD.Float32x4.mul(u, o), SIMD.Float32x4.mul(l, r))), SIMD.Float32x4.store(t, 8, SIMD.Float32x4.sub(SIMD.Float32x4.mul(l, o), SIMD.Float32x4.mul(u, r))), t
        }, o.rotateX = r.USE_SIMD ? o.SIMD.rotateX : o.scalar.rotateX, o.scalar.rotateY = function(t, a, n) {
            var r = Math.sin(n),
                o = Math.cos(n),
                u = a[0],
                l = a[1],
                e = a[2],
                M = a[3],
                s = a[8],
                i = a[9],
                c = a[10],
                h = a[11];
            return a !== t && (t[4] = a[4], t[5] = a[5], t[6] = a[6], t[7] = a[7], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]), t[0] = u * o - s * r, t[1] = l * o - i * r, t[2] = e * o - c * r, t[3] = M * o - h * r, t[8] = u * r + s * o, t[9] = l * r + i * o, t[10] = e * r + c * o, t[11] = M * r + h * o, t
        }, o.SIMD.rotateY = function(t, a, n) {
            var r = SIMD.Float32x4.splat(Math.sin(n)),
                o = SIMD.Float32x4.splat(Math.cos(n));
            a !== t && (t[4] = a[4], t[5] = a[5], t[6] = a[6], t[7] = a[7], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]);
            var u = SIMD.Float32x4.load(a, 0),
                l = SIMD.Float32x4.load(a, 8);
            return SIMD.Float32x4.store(t, 0, SIMD.Float32x4.sub(SIMD.Float32x4.mul(u, o), SIMD.Float32x4.mul(l, r))), SIMD.Float32x4.store(t, 8, SIMD.Float32x4.add(SIMD.Float32x4.mul(u, r), SIMD.Float32x4.mul(l, o))), t
        }, o.rotateY = r.USE_SIMD ? o.SIMD.rotateY : o.scalar.rotateY, o.scalar.rotateZ = function(t, a, n) {
            var r = Math.sin(n),
                o = Math.cos(n),
                u = a[0],
                l = a[1],
                e = a[2],
                M = a[3],
                s = a[4],
                i = a[5],
                c = a[6],
                h = a[7];
            return a !== t && (t[8] = a[8], t[9] = a[9], t[10] = a[10], t[11] = a[11], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]), t[0] = u * o + s * r, t[1] = l * o + i * r, t[2] = e * o + c * r, t[3] = M * o + h * r, t[4] = s * o - u * r, t[5] = i * o - l * r, t[6] = c * o - e * r, t[7] = h * o - M * r, t
        }, o.SIMD.rotateZ = function(t, a, n) {
            var r = SIMD.Float32x4.splat(Math.sin(n)),
                o = SIMD.Float32x4.splat(Math.cos(n));
            a !== t && (t[8] = a[8], t[9] = a[9], t[10] = a[10], t[11] = a[11], t[12] = a[12], t[13] = a[13], t[14] = a[14], t[15] = a[15]);
            var u = SIMD.Float32x4.load(a, 0),
                l = SIMD.Float32x4.load(a, 4);
            return SIMD.Float32x4.store(t, 0, SIMD.Float32x4.add(SIMD.Float32x4.mul(u, o), SIMD.Float32x4.mul(l, r))), SIMD.Float32x4.store(t, 4, SIMD.Float32x4.sub(SIMD.Float32x4.mul(l, o), SIMD.Float32x4.mul(u, r))), t
        }, o.rotateZ = r.USE_SIMD ? o.SIMD.rotateZ : o.scalar.rotateZ, o.fromTranslation = function(t, a) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = a[0], t[13] = a[1], t[14] = a[2], t[15] = 1, t
        }, o.fromScaling = function(t, a) {
            return t[0] = a[0], t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = a[1], t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = a[2], t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.fromRotation = function(t, a, n) {
            var o, u, l, e = n[0],
                M = n[1],
                s = n[2],
                i = Math.sqrt(e * e + M * M + s * s);
            return Math.abs(i) < r.EPSILON ? null : (i = 1 / i, e *= i, M *= i, s *= i, o = Math.sin(a), u = Math.cos(a), l = 1 - u, t[0] = e * e * l + u, t[1] = M * e * l + s * o, t[2] = s * e * l - M * o, t[3] = 0, t[4] = e * M * l - s * o, t[5] = M * M * l + u, t[6] = s * M * l + e * o, t[7] = 0, t[8] = e * s * l + M * o, t[9] = M * s * l - e * o, t[10] = s * s * l + u, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t)
        }, o.fromXRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = r, t[6] = n, t[7] = 0, t[8] = 0, t[9] = -n, t[10] = r, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.fromYRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = r, t[1] = 0, t[2] = -n, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = n, t[9] = 0, t[10] = r, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.fromZRotation = function(t, a) {
            var n = Math.sin(a),
                r = Math.cos(a);
            return t[0] = r, t[1] = n, t[2] = 0, t[3] = 0, t[4] = -n, t[5] = r, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.fromRotationTranslation = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = r + r,
                M = o + o,
                s = u + u,
                i = r * e,
                c = r * M,
                h = r * s,
                S = o * M,
                I = o * s,
                f = u * s,
                x = l * e,
                D = l * M,
                F = l * s;
            return t[0] = 1 - (S + f), t[1] = c + F, t[2] = h - D, t[3] = 0, t[4] = c - F, t[5] = 1 - (i + f), t[6] = I + x, t[7] = 0, t[8] = h + D, t[9] = I - x, t[10] = 1 - (i + S), t[11] = 0, t[12] = n[0], t[13] = n[1], t[14] = n[2], t[15] = 1, t
        }, o.getTranslation = function(t, a) {
            return t[0] = a[12], t[1] = a[13], t[2] = a[14], t
        }, o.getRotation = function(t, a) {
            var n = a[0] + a[5] + a[10],
                r = 0;
            return n > 0 ? (r = 2 * Math.sqrt(n + 1), t[3] = .25 * r, t[0] = (a[6] - a[9]) / r, t[1] = (a[8] - a[2]) / r, t[2] = (a[1] - a[4]) / r) : a[0] > a[5] & a[0] > a[10] ? (r = 2 * Math.sqrt(1 + a[0] - a[5] - a[10]), t[3] = (a[6] - a[9]) / r, t[0] = .25 * r, t[1] = (a[1] + a[4]) / r, t[2] = (a[8] + a[2]) / r) : a[5] > a[10] ? (r = 2 * Math.sqrt(1 + a[5] - a[0] - a[10]), t[3] = (a[8] - a[2]) / r, t[0] = (a[1] + a[4]) / r, t[1] = .25 * r, t[2] = (a[6] + a[9]) / r) : (r = 2 * Math.sqrt(1 + a[10] - a[0] - a[5]), t[3] = (a[1] - a[4]) / r, t[0] = (a[8] + a[2]) / r, t[1] = (a[6] + a[9]) / r, t[2] = .25 * r), t
        }, o.fromRotationTranslationScale = function(t, a, n, r) {
            var o = a[0],
                u = a[1],
                l = a[2],
                e = a[3],
                M = o + o,
                s = u + u,
                i = l + l,
                c = o * M,
                h = o * s,
                S = o * i,
                I = u * s,
                f = u * i,
                x = l * i,
                D = e * M,
                F = e * s,
                m = e * i,
                d = r[0],
                b = r[1],
                v = r[2];
            return t[0] = (1 - (I + x)) * d, t[1] = (h + m) * d, t[2] = (S - F) * d, t[3] = 0, t[4] = (h - m) * b, t[5] = (1 - (c + x)) * b, t[6] = (f + D) * b, t[7] = 0, t[8] = (S + F) * v, t[9] = (f - D) * v, t[10] = (1 - (c + I)) * v, t[11] = 0, t[12] = n[0], t[13] = n[1], t[14] = n[2], t[15] = 1, t
        }, o.fromRotationTranslationScaleOrigin = function(t, a, n, r, o) {
            var u = a[0],
                l = a[1],
                e = a[2],
                M = a[3],
                s = u + u,
                i = l + l,
                c = e + e,
                h = u * s,
                S = u * i,
                I = u * c,
                f = l * i,
                x = l * c,
                D = e * c,
                F = M * s,
                m = M * i,
                d = M * c,
                b = r[0],
                v = r[1],
                z = r[2],
                p = o[0],
                w = o[1],
                E = o[2];
            return t[0] = (1 - (f + D)) * b, t[1] = (S + d) * b, t[2] = (I - m) * b, t[3] = 0, t[4] = (S - d) * v, t[5] = (1 - (h + D)) * v, t[6] = (x + F) * v, t[7] = 0, t[8] = (I + m) * z, t[9] = (x - F) * z, t[10] = (1 - (h + f)) * z, t[11] = 0, t[12] = n[0] + p - (t[0] * p + t[4] * w + t[8] * E), t[13] = n[1] + w - (t[1] * p + t[5] * w + t[9] * E), t[14] = n[2] + E - (t[2] * p + t[6] * w + t[10] * E), t[15] = 1, t
        }, o.fromQuat = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = n + n,
                e = r + r,
                M = o + o,
                s = n * l,
                i = r * l,
                c = r * e,
                h = o * l,
                S = o * e,
                I = o * M,
                f = u * l,
                x = u * e,
                D = u * M;
            return t[0] = 1 - c - I, t[1] = i + D, t[2] = h - x, t[3] = 0, t[4] = i - D, t[5] = 1 - s - I, t[6] = S + f, t[7] = 0, t[8] = h + x, t[9] = S - f, t[10] = 1 - s - c, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }, o.frustum = function(t, a, n, r, o, u, l) {
            var e = 1 / (n - a),
                M = 1 / (o - r),
                s = 1 / (u - l);
            return t[0] = 2 * u * e, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 2 * u * M, t[6] = 0, t[7] = 0, t[8] = (n + a) * e, t[9] = (o + r) * M, t[10] = (l + u) * s, t[11] = -1, t[12] = 0, t[13] = 0, t[14] = l * u * 2 * s, t[15] = 0, t
        }, o.perspective = function(t, a, n, r, o) {
            var u = 1 / Math.tan(a / 2),
                l = 1 / (r - o);
            return t[0] = u / n, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = u, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = (o + r) * l, t[11] = -1, t[12] = 0, t[13] = 0, t[14] = 2 * o * r * l, t[15] = 0, t
        }, o.perspectiveFromFieldOfView = function(t, a, n, r) {
            var o = Math.tan(a.upDegrees * Math.PI / 180),
                u = Math.tan(a.downDegrees * Math.PI / 180),
                l = Math.tan(a.leftDegrees * Math.PI / 180),
                e = Math.tan(a.rightDegrees * Math.PI / 180),
                M = 2 / (l + e),
                s = 2 / (o + u);
            return t[0] = M, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = s, t[6] = 0, t[7] = 0, t[8] = -(l - e) * M * .5, t[9] = (o - u) * s * .5, t[10] = r / (n - r), t[11] = -1, t[12] = 0, t[13] = 0, t[14] = r * n / (n - r), t[15] = 0, t
        }, o.ortho = function(t, a, n, r, o, u, l) {
            var e = 1 / (a - n),
                M = 1 / (r - o),
                s = 1 / (u - l);
            return t[0] = -2 * e, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = -2 * M, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 2 * s, t[11] = 0, t[12] = (a + n) * e, t[13] = (o + r) * M, t[14] = (l + u) * s, t[15] = 1, t
        }, o.lookAt = function(t, a, n, u) {
            var l, e, M, s, i, c, h, S, I, f, x = a[0],
                D = a[1],
                F = a[2],
                m = u[0],
                d = u[1],
                b = u[2],
                v = n[0],
                z = n[1],
                p = n[2];
            return Math.abs(x - v) < r.EPSILON && Math.abs(D - z) < r.EPSILON && Math.abs(F - p) < r.EPSILON ? o.identity(t) : (h = x - v, S = D - z, I = F - p, f = 1 / Math.sqrt(h * h + S * S + I * I), h *= f, S *= f, I *= f, l = d * I - b * S, e = b * h - m * I, M = m * S - d * h, (f = Math.sqrt(l * l + e * e + M * M)) ? (l *= f = 1 / f, e *= f, M *= f) : (l = 0, e = 0, M = 0), s = S * M - I * e, i = I * l - h * M, c = h * e - S * l, (f = Math.sqrt(s * s + i * i + c * c)) ? (s *= f = 1 / f, i *= f, c *= f) : (s = 0, i = 0, c = 0), t[0] = l, t[1] = s, t[2] = h, t[3] = 0, t[4] = e, t[5] = i, t[6] = S, t[7] = 0, t[8] = M, t[9] = c, t[10] = I, t[11] = 0, t[12] = -(l * x + e * D + M * F), t[13] = -(s * x + i * D + c * F), t[14] = -(h * x + S * D + I * F), t[15] = 1, t)
        }, o.str = function(t) {
            return "mat4(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ", " + t[4] + ", " + t[5] + ", " + t[6] + ", " + t[7] + ", " + t[8] + ", " + t[9] + ", " + t[10] + ", " + t[11] + ", " + t[12] + ", " + t[13] + ", " + t[14] + ", " + t[15] + ")"
        }, o.frob = function(t) {
            return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2) + Math.pow(t[2], 2) + Math.pow(t[3], 2) + Math.pow(t[4], 2) + Math.pow(t[5], 2) + Math.pow(t[6], 2) + Math.pow(t[7], 2) + Math.pow(t[8], 2) + Math.pow(t[9], 2) + Math.pow(t[10], 2) + Math.pow(t[11], 2) + Math.pow(t[12], 2) + Math.pow(t[13], 2) + Math.pow(t[14], 2) + Math.pow(t[15], 2))
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t[3] = a[3] + n[3], t[4] = a[4] + n[4], t[5] = a[5] + n[5], t[6] = a[6] + n[6], t[7] = a[7] + n[7], t[8] = a[8] + n[8], t[9] = a[9] + n[9], t[10] = a[10] + n[10], t[11] = a[11] + n[11], t[12] = a[12] + n[12], t[13] = a[13] + n[13], t[14] = a[14] + n[14], t[15] = a[15] + n[15], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t[3] = a[3] - n[3], t[4] = a[4] - n[4], t[5] = a[5] - n[5], t[6] = a[6] - n[6], t[7] = a[7] - n[7], t[8] = a[8] - n[8], t[9] = a[9] - n[9], t[10] = a[10] - n[10], t[11] = a[11] - n[11], t[12] = a[12] - n[12], t[13] = a[13] - n[13], t[14] = a[14] - n[14], t[15] = a[15] - n[15], t
        }, o.sub = o.subtract, o.multiplyScalar = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t[3] = a[3] * n, t[4] = a[4] * n, t[5] = a[5] * n, t[6] = a[6] * n, t[7] = a[7] * n, t[8] = a[8] * n, t[9] = a[9] * n, t[10] = a[10] * n, t[11] = a[11] * n, t[12] = a[12] * n, t[13] = a[13] * n, t[14] = a[14] * n, t[15] = a[15] * n, t
        }, o.multiplyScalarAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t[3] = a[3] + n[3] * r, t[4] = a[4] + n[4] * r, t[5] = a[5] + n[5] * r, t[6] = a[6] + n[6] * r, t[7] = a[7] + n[7] * r, t[8] = a[8] + n[8] * r, t[9] = a[9] + n[9] * r, t[10] = a[10] + n[10] * r, t[11] = a[11] + n[11] * r, t[12] = a[12] + n[12] * r, t[13] = a[13] + n[13] * r, t[14] = a[14] + n[14] * r, t[15] = a[15] + n[15] * r, t
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2] && t[3] === a[3] && t[4] === a[4] && t[5] === a[5] && t[6] === a[6] && t[7] === a[7] && t[8] === a[8] && t[9] === a[9] && t[10] === a[10] && t[11] === a[11] && t[12] === a[12] && t[13] === a[13] && t[14] === a[14] && t[15] === a[15]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = t[3],
                e = t[4],
                M = t[5],
                s = t[6],
                i = t[7],
                c = t[8],
                h = t[9],
                S = t[10],
                I = t[11],
                f = t[12],
                x = t[13],
                D = t[14],
                F = t[15],
                m = a[0],
                d = a[1],
                b = a[2],
                v = a[3],
                z = a[4],
                p = a[5],
                w = a[6],
                E = a[7],
                A = a[8],
                P = a[9],
                L = a[10],
                q = a[11],
                R = a[12],
                N = a[13],
                O = a[14],
                Y = a[15];
            return Math.abs(n - m) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(m)) && Math.abs(o - d) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(d)) && Math.abs(u - b) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(b)) && Math.abs(l - v) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(v)) && Math.abs(e - z) <= r.EPSILON * Math.max(1, Math.abs(e), Math.abs(z)) && Math.abs(M - p) <= r.EPSILON * Math.max(1, Math.abs(M), Math.abs(p)) && Math.abs(s - w) <= r.EPSILON * Math.max(1, Math.abs(s), Math.abs(w)) && Math.abs(i - E) <= r.EPSILON * Math.max(1, Math.abs(i), Math.abs(E)) && Math.abs(c - A) <= r.EPSILON * Math.max(1, Math.abs(c), Math.abs(A)) && Math.abs(h - P) <= r.EPSILON * Math.max(1, Math.abs(h), Math.abs(P)) && Math.abs(S - L) <= r.EPSILON * Math.max(1, Math.abs(S), Math.abs(L)) && Math.abs(I - q) <= r.EPSILON * Math.max(1, Math.abs(I), Math.abs(q)) && Math.abs(f - R) <= r.EPSILON * Math.max(1, Math.abs(f), Math.abs(R)) && Math.abs(x - N) <= r.EPSILON * Math.max(1, Math.abs(x), Math.abs(N)) && Math.abs(D - O) <= r.EPSILON * Math.max(1, Math.abs(D), Math.abs(O)) && Math.abs(F - Y) <= r.EPSILON * Math.max(1, Math.abs(F), Math.abs(Y))
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = n(4),
            u = n(7),
            l = n(8),
            e = {};
        e.create = function() {
            var t = new r.ARRAY_TYPE(4);
            return t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 1, t
        }, e.rotationTo = function() {
            var t = u.create(),
                a = u.fromValues(1, 0, 0),
                n = u.fromValues(0, 1, 0);
            return function(r, o, l) {
                var M = u.dot(o, l);
                return M < -.999999 ? (u.cross(t, a, o), u.length(t) < 1e-6 && u.cross(t, n, o), u.normalize(t, t), e.setAxisAngle(r, t, Math.PI), r) : M > .999999 ? (r[0] = 0, r[1] = 0, r[2] = 0, r[3] = 1, r) : (u.cross(t, o, l), r[0] = t[0], r[1] = t[1], r[2] = t[2], r[3] = 1 + M, e.normalize(r, r))
            }
        }(), e.setAxes = function() {
            var t = o.create();
            return function(a, n, r, o) {
                return t[0] = r[0], t[3] = r[1], t[6] = r[2], t[1] = o[0], t[4] = o[1], t[7] = o[2], t[2] = -n[0], t[5] = -n[1], t[8] = -n[2], e.normalize(a, e.fromMat3(a, t))
            }
        }(), e.clone = l.clone, e.fromValues = l.fromValues, e.copy = l.copy, e.set = l.set, e.identity = function(t) {
            return t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 1, t
        }, e.setAxisAngle = function(t, a, n) {
            n *= .5;
            var r = Math.sin(n);
            return t[0] = r * a[0], t[1] = r * a[1], t[2] = r * a[2], t[3] = Math.cos(n), t
        }, e.getAxisAngle = function(t, a) {
            var n = 2 * Math.acos(a[3]),
                r = Math.sin(n / 2);
            return 0 != r ? (t[0] = a[0] / r, t[1] = a[1] / r, t[2] = a[2] / r) : (t[0] = 1, t[1] = 0, t[2] = 0), n
        }, e.add = l.add, e.multiply = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = n[0],
                M = n[1],
                s = n[2],
                i = n[3];
            return t[0] = r * i + l * e + o * s - u * M, t[1] = o * i + l * M + u * e - r * s, t[2] = u * i + l * s + r * M - o * e, t[3] = l * i - r * e - o * M - u * s, t
        }, e.mul = e.multiply, e.scale = l.scale, e.rotateX = function(t, a, n) {
            n *= .5;
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = Math.sin(n),
                M = Math.cos(n);
            return t[0] = r * M + l * e, t[1] = o * M + u * e, t[2] = u * M - o * e, t[3] = l * M - r * e, t
        }, e.rotateY = function(t, a, n) {
            n *= .5;
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = Math.sin(n),
                M = Math.cos(n);
            return t[0] = r * M - u * e, t[1] = o * M + l * e, t[2] = u * M + r * e, t[3] = l * M - o * e, t
        }, e.rotateZ = function(t, a, n) {
            n *= .5;
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3],
                e = Math.sin(n),
                M = Math.cos(n);
            return t[0] = r * M + o * e, t[1] = o * M - r * e, t[2] = u * M + l * e, t[3] = l * M - u * e, t
        }, e.calculateW = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2];
            return t[0] = n, t[1] = r, t[2] = o, t[3] = Math.sqrt(Math.abs(1 - n * n - r * r - o * o)), t
        }, e.dot = l.dot, e.lerp = l.lerp, e.slerp = function(t, a, n, r) {
            var o, u, l, e, M, s = a[0],
                i = a[1],
                c = a[2],
                h = a[3],
                S = n[0],
                I = n[1],
                f = n[2],
                x = n[3];
            return (u = s * S + i * I + c * f + h * x) < 0 && (u = -u, S = -S, I = -I, f = -f, x = -x), 1 - u > 1e-6 ? (o = Math.acos(u), l = Math.sin(o), e = Math.sin((1 - r) * o) / l, M = Math.sin(r * o) / l) : (e = 1 - r, M = r), t[0] = e * s + M * S, t[1] = e * i + M * I, t[2] = e * c + M * f, t[3] = e * h + M * x, t
        }, e.sqlerp = function() {
            var t = e.create(),
                a = e.create();
            return function(n, r, o, u, l, M) {
                return e.slerp(t, r, l, M), e.slerp(a, o, u, M), e.slerp(n, t, a, 2 * M * (1 - M)), n
            }
        }(), e.invert = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = n * n + r * r + o * o + u * u,
                e = l ? 1 / l : 0;
            return t[0] = -n * e, t[1] = -r * e, t[2] = -o * e, t[3] = u * e, t
        }, e.conjugate = function(t, a) {
            return t[0] = -a[0], t[1] = -a[1], t[2] = -a[2], t[3] = a[3], t
        }, e.length = l.length, e.len = e.length, e.squaredLength = l.squaredLength, e.sqrLen = e.squaredLength, e.normalize = l.normalize, e.fromMat3 = function(t, a) {
            var n, r = a[0] + a[4] + a[8];
            if (r > 0) n = Math.sqrt(r + 1), t[3] = .5 * n, n = .5 / n, t[0] = (a[5] - a[7]) * n, t[1] = (a[6] - a[2]) * n, t[2] = (a[1] - a[3]) * n;
            else {
                var o = 0;
                a[4] > a[0] && (o = 1), a[8] > a[3 * o + o] && (o = 2);
                var u = (o + 1) % 3,
                    l = (o + 2) % 3;
                n = Math.sqrt(a[3 * o + o] - a[3 * u + u] - a[3 * l + l] + 1), t[o] = .5 * n, n = .5 / n, t[3] = (a[3 * u + l] - a[3 * l + u]) * n, t[u] = (a[3 * u + o] + a[3 * o + u]) * n, t[l] = (a[3 * l + o] + a[3 * o + l]) * n
            }
            return t
        }, e.str = function(t) {
            return "quat(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ")"
        }, e.exactEquals = l.exactEquals, e.equals = l.equals, t.exports = e
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(3);
            return t[0] = 0, t[1] = 0, t[2] = 0, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(3);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a
        }, o.fromValues = function(t, a, n) {
            var o = new r.ARRAY_TYPE(3);
            return o[0] = t, o[1] = a, o[2] = n, o
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t
        }, o.set = function(t, a, n, r) {
            return t[0] = a, t[1] = n, t[2] = r, t
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t
        }, o.sub = o.subtract, o.multiply = function(t, a, n) {
            return t[0] = a[0] * n[0], t[1] = a[1] * n[1], t[2] = a[2] * n[2], t
        }, o.mul = o.multiply, o.divide = function(t, a, n) {
            return t[0] = a[0] / n[0], t[1] = a[1] / n[1], t[2] = a[2] / n[2], t
        }, o.div = o.divide, o.ceil = function(t, a) {
            return t[0] = Math.ceil(a[0]), t[1] = Math.ceil(a[1]), t[2] = Math.ceil(a[2]), t
        }, o.floor = function(t, a) {
            return t[0] = Math.floor(a[0]), t[1] = Math.floor(a[1]), t[2] = Math.floor(a[2]), t
        }, o.min = function(t, a, n) {
            return t[0] = Math.min(a[0], n[0]), t[1] = Math.min(a[1], n[1]), t[2] = Math.min(a[2], n[2]), t
        }, o.max = function(t, a, n) {
            return t[0] = Math.max(a[0], n[0]), t[1] = Math.max(a[1], n[1]), t[2] = Math.max(a[2], n[2]), t
        }, o.round = function(t, a) {
            return t[0] = Math.round(a[0]), t[1] = Math.round(a[1]), t[2] = Math.round(a[2]), t
        }, o.scale = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t
        }, o.scaleAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t
        }, o.distance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1],
                o = a[2] - t[2];
            return Math.sqrt(n * n + r * r + o * o)
        }, o.dist = o.distance, o.squaredDistance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1],
                o = a[2] - t[2];
            return n * n + r * r + o * o
        }, o.sqrDist = o.squaredDistance, o.length = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2];
            return Math.sqrt(a * a + n * n + r * r)
        }, o.len = o.length, o.squaredLength = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2];
            return a * a + n * n + r * r
        }, o.sqrLen = o.squaredLength, o.negate = function(t, a) {
            return t[0] = -a[0], t[1] = -a[1], t[2] = -a[2], t
        }, o.inverse = function(t, a) {
            return t[0] = 1 / a[0], t[1] = 1 / a[1], t[2] = 1 / a[2], t
        }, o.normalize = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = n * n + r * r + o * o;
            return u > 0 && (u = 1 / Math.sqrt(u), t[0] = a[0] * u, t[1] = a[1] * u, t[2] = a[2] * u), t
        }, o.dot = function(t, a) {
            return t[0] * a[0] + t[1] * a[1] + t[2] * a[2]
        }, o.cross = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = n[0],
                e = n[1],
                M = n[2];
            return t[0] = o * M - u * e, t[1] = u * l - r * M, t[2] = r * e - o * l, t
        }, o.lerp = function(t, a, n, r) {
            var o = a[0],
                u = a[1],
                l = a[2];
            return t[0] = o + r * (n[0] - o), t[1] = u + r * (n[1] - u), t[2] = l + r * (n[2] - l), t
        }, o.hermite = function(t, a, n, r, o, u) {
            var l = u * u,
                e = l * (2 * u - 3) + 1,
                M = l * (u - 2) + u,
                s = l * (u - 1),
                i = l * (3 - 2 * u);
            return t[0] = a[0] * e + n[0] * M + r[0] * s + o[0] * i, t[1] = a[1] * e + n[1] * M + r[1] * s + o[1] * i, t[2] = a[2] * e + n[2] * M + r[2] * s + o[2] * i, t
        }, o.bezier = function(t, a, n, r, o, u) {
            var l = 1 - u,
                e = l * l,
                M = u * u,
                s = e * l,
                i = 3 * u * e,
                c = 3 * M * l,
                h = M * u;
            return t[0] = a[0] * s + n[0] * i + r[0] * c + o[0] * h, t[1] = a[1] * s + n[1] * i + r[1] * c + o[1] * h, t[2] = a[2] * s + n[2] * i + r[2] * c + o[2] * h, t
        }, o.random = function(t, a) {
            a = a || 1;
            var n = 2 * r.RANDOM() * Math.PI,
                o = 2 * r.RANDOM() - 1,
                u = Math.sqrt(1 - o * o) * a;
            return t[0] = Math.cos(n) * u, t[1] = Math.sin(n) * u, t[2] = o * a, t
        }, o.transformMat4 = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = n[3] * r + n[7] * o + n[11] * u + n[15];
            return l = l || 1, t[0] = (n[0] * r + n[4] * o + n[8] * u + n[12]) / l, t[1] = (n[1] * r + n[5] * o + n[9] * u + n[13]) / l, t[2] = (n[2] * r + n[6] * o + n[10] * u + n[14]) / l, t
        }, o.transformMat3 = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2];
            return t[0] = r * n[0] + o * n[3] + u * n[6], t[1] = r * n[1] + o * n[4] + u * n[7], t[2] = r * n[2] + o * n[5] + u * n[8], t
        }, o.transformQuat = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = n[0],
                e = n[1],
                M = n[2],
                s = n[3],
                i = s * r + e * u - M * o,
                c = s * o + M * r - l * u,
                h = s * u + l * o - e * r,
                S = -l * r - e * o - M * u;
            return t[0] = i * s + S * -l + c * -M - h * -e, t[1] = c * s + S * -e + h * -l - i * -M, t[2] = h * s + S * -M + i * -e - c * -l, t
        }, o.rotateX = function(t, a, n, r) {
            var o = [],
                u = [];
            return o[0] = a[0] - n[0], o[1] = a[1] - n[1], o[2] = a[2] - n[2], u[0] = o[0], u[1] = o[1] * Math.cos(r) - o[2] * Math.sin(r), u[2] = o[1] * Math.sin(r) + o[2] * Math.cos(r), t[0] = u[0] + n[0], t[1] = u[1] + n[1], t[2] = u[2] + n[2], t
        }, o.rotateY = function(t, a, n, r) {
            var o = [],
                u = [];
            return o[0] = a[0] - n[0], o[1] = a[1] - n[1], o[2] = a[2] - n[2], u[0] = o[2] * Math.sin(r) + o[0] * Math.cos(r), u[1] = o[1], u[2] = o[2] * Math.cos(r) - o[0] * Math.sin(r), t[0] = u[0] + n[0], t[1] = u[1] + n[1], t[2] = u[2] + n[2], t
        }, o.rotateZ = function(t, a, n, r) {
            var o = [],
                u = [];
            return o[0] = a[0] - n[0], o[1] = a[1] - n[1], o[2] = a[2] - n[2], u[0] = o[0] * Math.cos(r) - o[1] * Math.sin(r), u[1] = o[0] * Math.sin(r) + o[1] * Math.cos(r), u[2] = o[2], t[0] = u[0] + n[0], t[1] = u[1] + n[1], t[2] = u[2] + n[2], t
        }, o.forEach = function() {
            var t = o.create();
            return function(a, n, r, o, u, l) {
                var e, M;
                for (n || (n = 3), r || (r = 0), M = o ? Math.min(o * n + r, a.length) : a.length, e = r; e < M; e += n) t[0] = a[e], t[1] = a[e + 1], t[2] = a[e + 2], u(t, t, l), a[e] = t[0], a[e + 1] = t[1], a[e + 2] = t[2];
                return a
            }
        }(), o.angle = function(t, a) {
            var n = o.fromValues(t[0], t[1], t[2]),
                r = o.fromValues(a[0], a[1], a[2]);
            o.normalize(n, n), o.normalize(r, r);
            var u = o.dot(n, r);
            return u > 1 ? 0 : Math.acos(u)
        }, o.str = function(t) {
            return "vec3(" + t[0] + ", " + t[1] + ", " + t[2] + ")"
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = a[0],
                e = a[1],
                M = a[2];
            return Math.abs(n - l) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(l)) && Math.abs(o - e) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(e)) && Math.abs(u - M) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(M))
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(4);
            return t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(4);
            return a[0] = t[0], a[1] = t[1], a[2] = t[2], a[3] = t[3], a
        }, o.fromValues = function(t, a, n, o) {
            var u = new r.ARRAY_TYPE(4);
            return u[0] = t, u[1] = a, u[2] = n, u[3] = o, u
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t[2] = a[2], t[3] = a[3], t
        }, o.set = function(t, a, n, r, o) {
            return t[0] = a, t[1] = n, t[2] = r, t[3] = o, t
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t[2] = a[2] + n[2], t[3] = a[3] + n[3], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t[2] = a[2] - n[2], t[3] = a[3] - n[3], t
        }, o.sub = o.subtract, o.multiply = function(t, a, n) {
            return t[0] = a[0] * n[0], t[1] = a[1] * n[1], t[2] = a[2] * n[2], t[3] = a[3] * n[3], t
        }, o.mul = o.multiply, o.divide = function(t, a, n) {
            return t[0] = a[0] / n[0], t[1] = a[1] / n[1], t[2] = a[2] / n[2], t[3] = a[3] / n[3], t
        }, o.div = o.divide, o.ceil = function(t, a) {
            return t[0] = Math.ceil(a[0]), t[1] = Math.ceil(a[1]), t[2] = Math.ceil(a[2]), t[3] = Math.ceil(a[3]), t
        }, o.floor = function(t, a) {
            return t[0] = Math.floor(a[0]), t[1] = Math.floor(a[1]), t[2] = Math.floor(a[2]), t[3] = Math.floor(a[3]), t
        }, o.min = function(t, a, n) {
            return t[0] = Math.min(a[0], n[0]), t[1] = Math.min(a[1], n[1]), t[2] = Math.min(a[2], n[2]), t[3] = Math.min(a[3], n[3]), t
        }, o.max = function(t, a, n) {
            return t[0] = Math.max(a[0], n[0]), t[1] = Math.max(a[1], n[1]), t[2] = Math.max(a[2], n[2]), t[3] = Math.max(a[3], n[3]), t
        }, o.round = function(t, a) {
            return t[0] = Math.round(a[0]), t[1] = Math.round(a[1]), t[2] = Math.round(a[2]), t[3] = Math.round(a[3]), t
        }, o.scale = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t[2] = a[2] * n, t[3] = a[3] * n, t
        }, o.scaleAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t[2] = a[2] + n[2] * r, t[3] = a[3] + n[3] * r, t
        }, o.distance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1],
                o = a[2] - t[2],
                u = a[3] - t[3];
            return Math.sqrt(n * n + r * r + o * o + u * u)
        }, o.dist = o.distance, o.squaredDistance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1],
                o = a[2] - t[2],
                u = a[3] - t[3];
            return n * n + r * r + o * o + u * u
        }, o.sqrDist = o.squaredDistance, o.length = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2],
                o = t[3];
            return Math.sqrt(a * a + n * n + r * r + o * o)
        }, o.len = o.length, o.squaredLength = function(t) {
            var a = t[0],
                n = t[1],
                r = t[2],
                o = t[3];
            return a * a + n * n + r * r + o * o
        }, o.sqrLen = o.squaredLength, o.negate = function(t, a) {
            return t[0] = -a[0], t[1] = -a[1], t[2] = -a[2], t[3] = -a[3], t
        }, o.inverse = function(t, a) {
            return t[0] = 1 / a[0], t[1] = 1 / a[1], t[2] = 1 / a[2], t[3] = 1 / a[3], t
        }, o.normalize = function(t, a) {
            var n = a[0],
                r = a[1],
                o = a[2],
                u = a[3],
                l = n * n + r * r + o * o + u * u;
            return l > 0 && (l = 1 / Math.sqrt(l), t[0] = n * l, t[1] = r * l, t[2] = o * l, t[3] = u * l), t
        }, o.dot = function(t, a) {
            return t[0] * a[0] + t[1] * a[1] + t[2] * a[2] + t[3] * a[3]
        }, o.lerp = function(t, a, n, r) {
            var o = a[0],
                u = a[1],
                l = a[2],
                e = a[3];
            return t[0] = o + r * (n[0] - o), t[1] = u + r * (n[1] - u), t[2] = l + r * (n[2] - l), t[3] = e + r * (n[3] - e), t
        }, o.random = function(t, a) {
            return a = a || 1, t[0] = r.RANDOM(), t[1] = r.RANDOM(), t[2] = r.RANDOM(), t[3] = r.RANDOM(), o.normalize(t, t), o.scale(t, t, a), t
        }, o.transformMat4 = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = a[3];
            return t[0] = n[0] * r + n[4] * o + n[8] * u + n[12] * l, t[1] = n[1] * r + n[5] * o + n[9] * u + n[13] * l, t[2] = n[2] * r + n[6] * o + n[10] * u + n[14] * l, t[3] = n[3] * r + n[7] * o + n[11] * u + n[15] * l, t
        }, o.transformQuat = function(t, a, n) {
            var r = a[0],
                o = a[1],
                u = a[2],
                l = n[0],
                e = n[1],
                M = n[2],
                s = n[3],
                i = s * r + e * u - M * o,
                c = s * o + M * r - l * u,
                h = s * u + l * o - e * r,
                S = -l * r - e * o - M * u;
            return t[0] = i * s + S * -l + c * -M - h * -e, t[1] = c * s + S * -e + h * -l - i * -M, t[2] = h * s + S * -M + i * -e - c * -l, t[3] = a[3], t
        }, o.forEach = function() {
            var t = o.create();
            return function(a, n, r, o, u, l) {
                var e, M;
                for (n || (n = 4), r || (r = 0), M = o ? Math.min(o * n + r, a.length) : a.length, e = r; e < M; e += n) t[0] = a[e], t[1] = a[e + 1], t[2] = a[e + 2], t[3] = a[e + 3], u(t, t, l), a[e] = t[0], a[e + 1] = t[1], a[e + 2] = t[2], a[e + 3] = t[3];
                return a
            }
        }(), o.str = function(t) {
            return "vec4(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + t[3] + ")"
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1] && t[2] === a[2] && t[3] === a[3]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = t[2],
                l = t[3],
                e = a[0],
                M = a[1],
                s = a[2],
                i = a[3];
            return Math.abs(n - e) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(e)) && Math.abs(o - M) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(M)) && Math.abs(u - s) <= r.EPSILON * Math.max(1, Math.abs(u), Math.abs(s)) && Math.abs(l - i) <= r.EPSILON * Math.max(1, Math.abs(l), Math.abs(i))
        }, t.exports = o
    }, function(t, a, n) {
        var r = n(1),
            o = {};
        o.create = function() {
            var t = new r.ARRAY_TYPE(2);
            return t[0] = 0, t[1] = 0, t
        }, o.clone = function(t) {
            var a = new r.ARRAY_TYPE(2);
            return a[0] = t[0], a[1] = t[1], a
        }, o.fromValues = function(t, a) {
            var n = new r.ARRAY_TYPE(2);
            return n[0] = t, n[1] = a, n
        }, o.copy = function(t, a) {
            return t[0] = a[0], t[1] = a[1], t
        }, o.set = function(t, a, n) {
            return t[0] = a, t[1] = n, t
        }, o.add = function(t, a, n) {
            return t[0] = a[0] + n[0], t[1] = a[1] + n[1], t
        }, o.subtract = function(t, a, n) {
            return t[0] = a[0] - n[0], t[1] = a[1] - n[1], t
        }, o.sub = o.subtract, o.multiply = function(t, a, n) {
            return t[0] = a[0] * n[0], t[1] = a[1] * n[1], t
        }, o.mul = o.multiply, o.divide = function(t, a, n) {
            return t[0] = a[0] / n[0], t[1] = a[1] / n[1], t
        }, o.div = o.divide, o.ceil = function(t, a) {
            return t[0] = Math.ceil(a[0]), t[1] = Math.ceil(a[1]), t
        }, o.floor = function(t, a) {
            return t[0] = Math.floor(a[0]), t[1] = Math.floor(a[1]), t
        }, o.min = function(t, a, n) {
            return t[0] = Math.min(a[0], n[0]), t[1] = Math.min(a[1], n[1]), t
        }, o.max = function(t, a, n) {
            return t[0] = Math.max(a[0], n[0]), t[1] = Math.max(a[1], n[1]), t
        }, o.round = function(t, a) {
            return t[0] = Math.round(a[0]), t[1] = Math.round(a[1]), t
        }, o.scale = function(t, a, n) {
            return t[0] = a[0] * n, t[1] = a[1] * n, t
        }, o.scaleAndAdd = function(t, a, n, r) {
            return t[0] = a[0] + n[0] * r, t[1] = a[1] + n[1] * r, t
        }, o.distance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1];
            return Math.sqrt(n * n + r * r)
        }, o.dist = o.distance, o.squaredDistance = function(t, a) {
            var n = a[0] - t[0],
                r = a[1] - t[1];
            return n * n + r * r
        }, o.sqrDist = o.squaredDistance, o.length = function(t) {
            var a = t[0],
                n = t[1];
            return Math.sqrt(a * a + n * n)
        }, o.len = o.length, o.squaredLength = function(t) {
            var a = t[0],
                n = t[1];
            return a * a + n * n
        }, o.sqrLen = o.squaredLength, o.negate = function(t, a) {
            return t[0] = -a[0], t[1] = -a[1], t
        }, o.inverse = function(t, a) {
            return t[0] = 1 / a[0], t[1] = 1 / a[1], t
        }, o.normalize = function(t, a) {
            var n = a[0],
                r = a[1],
                o = n * n + r * r;
            return o > 0 && (o = 1 / Math.sqrt(o), t[0] = a[0] * o, t[1] = a[1] * o), t
        }, o.dot = function(t, a) {
            return t[0] * a[0] + t[1] * a[1]
        }, o.cross = function(t, a, n) {
            var r = a[0] * n[1] - a[1] * n[0];
            return t[0] = t[1] = 0, t[2] = r, t
        }, o.lerp = function(t, a, n, r) {
            var o = a[0],
                u = a[1];
            return t[0] = o + r * (n[0] - o), t[1] = u + r * (n[1] - u), t
        }, o.random = function(t, a) {
            a = a || 1;
            var n = 2 * r.RANDOM() * Math.PI;
            return t[0] = Math.cos(n) * a, t[1] = Math.sin(n) * a, t
        }, o.transformMat2 = function(t, a, n) {
            var r = a[0],
                o = a[1];
            return t[0] = n[0] * r + n[2] * o, t[1] = n[1] * r + n[3] * o, t
        }, o.transformMat2d = function(t, a, n) {
            var r = a[0],
                o = a[1];
            return t[0] = n[0] * r + n[2] * o + n[4], t[1] = n[1] * r + n[3] * o + n[5], t
        }, o.transformMat3 = function(t, a, n) {
            var r = a[0],
                o = a[1];
            return t[0] = n[0] * r + n[3] * o + n[6], t[1] = n[1] * r + n[4] * o + n[7], t
        }, o.transformMat4 = function(t, a, n) {
            var r = a[0],
                o = a[1];
            return t[0] = n[0] * r + n[4] * o + n[12], t[1] = n[1] * r + n[5] * o + n[13], t
        }, o.forEach = function() {
            var t = o.create();
            return function(a, n, r, o, u, l) {
                var e, M;
                for (n || (n = 2), r || (r = 0), M = o ? Math.min(o * n + r, a.length) : a.length, e = r; e < M; e += n) t[0] = a[e], t[1] = a[e + 1], u(t, t, l), a[e] = t[0], a[e + 1] = t[1];
                return a
            }
        }(), o.str = function(t) {
            return "vec2(" + t[0] + ", " + t[1] + ")"
        }, o.exactEquals = function(t, a) {
            return t[0] === a[0] && t[1] === a[1]
        }, o.equals = function(t, a) {
            var n = t[0],
                o = t[1],
                u = a[0],
                l = a[1];
            return Math.abs(n - u) <= r.EPSILON * Math.max(1, Math.abs(n), Math.abs(u)) && Math.abs(o - l) <= r.EPSILON * Math.max(1, Math.abs(o), Math.abs(l))
        }, t.exports = o
    }])
});
String.prototype.format || (String.prototype.format = function() {
        var a = arguments;
        return this.replace(/{(\d+)}/g, function(e, t) {
            return void 0 !== a[t] ? a[t] : e
        })
    }, Object.defineProperty(String.prototype, "format", {
        enumerable: !1
    })), DiabloCalc = {
        TAB_BUILDINFO: 0,
        TAB_EQUIPMENT: 1,
        TAB_PARAGON: 2,
        TAB_SKILLS: 3,
        TAB_IMPORT: 4,
        relPath: "/",
        options: {},
        optionPerProfile: {},
        pageTitle: document.title,
        ptr: location.hostname.toLowerCase().indexOf("ptr") >= 0,
        addOption: function(a, e, t, o) {
            Object.defineProperty(this.options, a, {
                get: e,
                set: t,
                enumerable: !0
            }), o && (this.optionPerProfile[a] = !0)
        },
        localeTable: {},
        locale: function() {
            for (var a = [], e = 0; e < arguments.length; ++e) {
                var t = DiabloCalc.localeTable[arguments[e]];
                t && a.push(t)
            }
            a.push(DiabloCalc.localeTable);
            var o = function(e) {
                for (var t = 0; t < a.length; ++t)
                    if (a[t][e]) return a[t][e];
                return e
            };
            return o.fixkey = _L.fixkey, o.fixval = _L.fixval, o
        },
        patch: {},
        session: {
            uid: MD5("" + Date.now() + Math.random()),
            start: Math.floor(Date.now() / 1e3),
            activity: {}
        },
        activity: function(a) {
            this.session.activity[a] = (this.session.activity[a] || 0) + 1
        },
        report: function() {
            this.session.duration = Math.floor(Date.now() / 1e3) - this.session.start, $.ajax({
                url: "activity",
                type: "POST",
                data: JSON.stringify(this.session),
                global: !1,
                processData: !1,
                contentType: "application/json",
                dataType: "json"
            })
        }
    }, DiabloCalc.season = DiabloCalc.ptr ? 22 : 21,
    function() {
        var a = location.pathname.match(/^(\/.*\/)[^/]*$/);
        a && (DiabloCalc.relPath = a[1])
    }(), _L = function(a) {
        return DiabloCalc.localeTable[a] ? DiabloCalc.localeTable[a] : a
    }, _L.fixkey = function(a) {
        for (var e = Object.keys(a), t = 0; t < e.length; ++t) {
            var o = this(e[t]);
            o !== e[t] && (a[o] = a[e[t]], delete a[e[t]])
        }
        return a
    }, _L.fixval = function(a) {
        for (var e = Object.keys(a), t = 0; t < e.length; ++t) a[e[t]] = this(a[e[t]]);
        return a
    }, _L.add = function(a) {
        $.extend(!0, DiabloCalc.localeTable, a)
    }, _L.patch = DiabloCalc.patch, _L.patch.add = function(a) {
        $.extend(!0, _L.patch, a)
    }, _L.patch.apply = function(a) {
        function e(a, t) {
            for (var o in t) "object" == typeof t[o] && "object" == typeof a[o] ? e(a[o], t[o]) : a[o] = t[o]
        }
        e(a, this)
    }, Object.defineProperty(_L, "fixkey", {
        enumerable: !1
    }), Object.defineProperty(_L, "fixval", {
        enumerable: !1
    }), Object.defineProperty(_L, "add", {
        enumerable: !1
    }), Object.defineProperty(_L, "patch", {
        enumerable: !1
    }), Object.defineProperty(_L.patch, "add", {
        enumerable: !1
    }), Object.defineProperty(_L.patch, "apply", {
        enumerable: !1
    }), DiabloCalc.translateMainPage = function() {
        DiabloCalc.localeTableEx && $.extend(!0, DiabloCalc.localeTable, DiabloCalc.localeTableEx);
        var a = DiabloCalc.locale("title");
        document.title = a("Diablo III Character Planner"), DiabloCalc.pageTitle = document.title;
        var e = $("#char-info label"),
            t = e.find("input").detach();
        if (e.text(a("Level") + " ").append(t), document.styleSheets) {
            var o = document.styleSheets[0],
                l = $('<div style="position: absolute; visibility: hidden; white-space: nowrap"></div>');
            l.text(a("Equipment") + a("Paragon") + a("Skills/Effects") + a("Import/Save") + a("Simulate")), $("body").append(l);
            var i = 16;
            do {
                --i, l.css("font-size", i + "px")
            } while (i > 12 && l.width() > 420);
            i = "font-size: " + i + "px !important", o.addRule ? o.addRule(".main-tab", i, 0) : o.insertRule(".main-tab {" + i + ";}", 0), l.remove()
        }
        $('a[href="#tab-equipment-container"]').text(a("Equipment")), $('a[href="#tab-paragon-container"]').text(a("Paragon")), $('a[href="#tab-skills-container"]').text(a("Skills/Effects")), $('a[href="#tab-import-container"]').text(a("Import/Save")), $('a[href="#tab-buildinfo-container"]').text(a("Build Info"))
    }, DiabloCalc.showPrivacy = function() {
        this.privacyDlg || (this.privacyDlg = $('<div class="privacy-dialog"></div>'), this.privacyDlg.load("/privacy.html", null, function() {
            DiabloCalc.privacyDlg.find("a").addClass("link-like")
        }), this.privacyDlg.css({
            overflow: "auto"
        })), this.privacyDlg.dialog({
            resizable: !0,
            title: _L("Privacy Policy"),
            height: 800,
            width: 1e3,
            modal: !0
        })
    }, $(function() {
        $(".editframe").tabs({
            heightStyle: "fill"
        }), $(window).resize(function() {
            $(".editframe").tabs("refresh")
        }), $.cookie.json = !0;
        var a = location.hostname.match(/([^.]*\.)?[^.]*$/);
        a && ($.cookie.defaults.domain = a[0]);
        var e = new Spinner({
                lines: 13,
                length: 20,
                width: 10,
                radius: 30,
                corners: 1,
                rotate: 0,
                direction: 1,
                color: "#000",
                speed: 1,
                trail: 60,
                shadow: !1,
                hwaccel: !1,
                className: "spinner",
                zIndex: 2e9,
                top: "50%",
                left: "50%"
            }),
            t = 0;
        DiabloCalc.spinStart = function() {
            t++ <= 0 && e.spin($(".page")[0])
        }, DiabloCalc.spinStop = function() {
            --t <= 0 && (e.stop(), t = 0)
        }, $(document).ajaxStart(function() {
            DiabloCalc.spinStart()
        }), $(document).ajaxStop(function() {
            DiabloCalc.spinStop()
        }), $("#privacy-policy").click(function(a) {
            if (!(a.shiftKey || a.ctrlKey || a.altKey)) return DiabloCalc.showPrivacy(), a.preventDefault(), !1
        });
        e.opts.color = "#ccc", $("body").removeClass().addClass("theme-dark");
        var o = $(".locale-select"),
            l = $.cookie("locale") || "enUS";
        o.val(l).css("margin-left", 12), o.change(function() {
            $.cookie("locale", $(this).val(), {
                expires: 365
            }), location.reload()
        }), DiabloCalc.spinStart(), DiabloCalc.ptr ? ($("#ptr-link").append('<a href="http://' + location.hostname.replace(/^[^.]*/, "www") + '">' + _L("Switch to live version") + "</a>"), $("#ptr-link").find("a").click(function() {
            $(this).attr("href", "http://" + location.hostname.replace(/^[^.]*/, "www") + location.pathname)
        })) : ($("#ptr-link").append('<a href="http://' + location.hostname.replace(/^[^.]*/, "ptr") + '">' + _L("PTR version is available!") + "</a>"), $("#ptr-link").find("a").click(function() {
            $(this).attr("href", "http://" + location.hostname.replace(/^[^.]*/, "ptr") + location.pathname)
        }));
        var i = null,
            n = null;
        DiabloCalc.onDataLoaded = function() {
            var a = $("<optgroup></optgroup>").attr("label", _L("Characters")),
                e = $("<optgroup></optgroup>").attr("label", _L("Followers"));
            $(".char-class").append(a);
            for (var t in DiabloCalc.classes) {
                var o = $("<option></option>").val(t).text(DiabloCalc.classes[t].name).addClass("class-" + t).addClass("class-icon");
                DiabloCalc.classes[t].follower ? e.append(o) : a.append(o)
            }
            var l;
            DiabloCalc.updateClassIcon = function() {
                var a = $(".char-class").next().find("span").first();
                l && a.removeClass(l), l = "class-" + $(".char-class").val() + " " + (DiabloCalc.gender || "female"), a.addClass(l), $("#char-info").removeClass().addClass(DiabloCalc.gender || "female")
            }, $(".char-class").chosen({
                disable_search: !0,
                inherit_select_classes: !0
            }).change(function() {
                DiabloCalc.updateClassIcon(), DiabloCalc.importStart(), DiabloCalc.triggerNow("changeClass"), DiabloCalc.importEnd("class")
            }), DiabloCalc.updateClassIcon(), $(".char-class").data("chosen") || (DiabloCalc.noChosen = !0), DiabloCalc.charClass = $(".char-class").val(), $(".char-class").next().find("span").first().addClass("class-icon"), $(".char-level").blur(DiabloCalc.validateNumber), n = $('<input type="checkbox" checked="checked"></input>').change(function() {
                DiabloCalc.seasonal = $(this).prop("checked") ? DiabloCalc.season : 0, DiabloCalc.trigger("updateSkills")
            });
            var c = $('<label class="option-box"></label>').append(_L("Seasonal")).append(n);
            $("#char-info").append($('<div class="seasonal-box"></div>').append(c)), DiabloCalc.seasonal = DiabloCalc.season, 22 === DiabloCalc.season ? i = _L("Seasonal characters gain a fourth Kanai cube slot that can store any item power.") : 20 === DiabloCalc.season ? i = _L("Seasonal characters can equip any legendary power in any Kanai cube slot.") : 18 === DiabloCalc.season || (17 === DiabloCalc.season ? i = _L("Seasonal characters always have Legacy of Nightmares set bonus.") : $(".seasonal-box").hide()), DC_getScript("core.js")
        }, DiabloCalc.onLoaded = function() {
            i && DiabloCalc.addTip(n, i), DiabloCalc.spinStop(), DiabloCalc.importEnd("init");
            var a = location.pathname.match(/\/e?([0-9]+)$/);
            if (a) DiabloCalc.loadProfile(void 0, a[1], "e" === location.pathname[1], location.hash ? decodeURIComponent(location.hash.substring(1)) : null);
            else if (window.localStorage) {
                var e;
                try {
                    e = localStorage.getItem("profile"), e = JSON.parse(e)
                } catch (a) {
                    e = void 0
                }
                if (e) {
                    var t = $('<div class="restore-profile signin-line">' + _L("Restore last session?") + " </div>");
                    t.append($("<span>" + _L("Yes") + "</span>").click(function() {
                        try {
                            localStorage.removeItem("profile", "")
                        } catch (a) {}
                        DiabloCalc.setAllProfiles(e, "load"), setTimeout(function() {
                            t.remove()
                        }, 0)
                    }), " / ", $("<span>" + _L("No") + "</span>").click(function() {
                        try {
                            localStorage.removeItem("profile", "")
                        } catch (a) {}
                        setTimeout(function() {
                            t.remove()
                        }, 0)
                    })), $(".dollframe").prepend(t)
                }
            }
            if ((a = location.pathname.match(/\/reset=([0-9a-f]{32})$/)) && DiabloCalc.account) {
                DiabloCalc.account.reset(a[1]);
                var o = location.protocol + "//" + location.hostname + DiabloCalc.relPath;
                window.history && window.history.replaceState && window.history.replaceState({}, "", o)
            }
        }, DiabloCalc.loadData()
    });
DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.partybuffs.items = {
    leg_overwhelmingdesire: {},
    leg_odysseysend_p69: {
        stat: "dmgtaken",
        classes: ["demonhunter"]
    },
    leg_strongarmbracers: {
        stat: "dmgtaken"
    },
    leg_oculusring: {
        stat: "damage"
    },
    leg_oculusring_p2: {
        stat: "dmgmul"
    },
    toxin: {
        buffs: function() {
            return {
                dmgtaken: 10
            }
        }
    },
    iceblink: {
        buffs: function() {
            return {
                chctaken: 10
            }
        }
    }
}, DiabloCalc.partybuffs.followers = {
    templar_loyalty: {
        category: "Templar",
        name: "Loyalty",
        icon: 0,
        level: 10,
        desc: ["Regenerates 6437 Life per second for you and the Templar."],
        buffs: function(e) {
            return {
                regen: 6437
            }
        }
    },
    templar_inspire: {
        category: "Templar",
        name: "Inspire",
        icon: 1,
        level: 20,
        desc: ["Increases your resource generation.", "Mana: 7 per second.<br/>Hatred: 1 per second.<br/>Wrath: 1.1 per second.<br/>Arcane Power: 1.4 per second.<br/>Fury: 10% generated.<br/>Spirit: 10% generated."],
        buffs: function(e) {
            switch (DiabloCalc.charClass) {
                case "wizard":
                    return {
                        apregen: 1.4
                    };
                case "demonhunter":
                    return {
                        hatredregen: 1
                    };
                case "witchdoctor":
                    return {
                        manaregen: 7
                    };
                case "barbarian":
                case "monk":
                    return {
                        resourcegen: 10
                    };
                case "crusader":
                    return {
                        wrathregen: 1.1
                    }
            }
        }
    },
    scoundrel_hysteria: {
        category: "Scoundrel",
        name: "Hysteria",
        icon: 2,
        level: 20,
        desc: ["Whenever you or the Scoundrel land a Critical Hit, you both will go into hysterics, increasing all damage done by 3% for 3 seconds."],
        buffs: function(e) {
            return {
                damage: 3
            }
        }
    },
    scoundrel_anatomy: {
        category: "Scoundrel",
        name: "Anatomy",
        icon: 3,
        level: 20,
        desc: ["Increases Critical Hit Chance by 1.8% for you and the Scoundrel."],
        buffs: function(e) {
            return {
                chc: 1.8
            }
        }
    },
    enchantress_missileward: {
        category: "Enchantress",
        name: "Missile Ward",
        icon: 4,
        level: 10,
        desc: ["Buffs you and the Enchantress, reducing damage from ranged attacks by 6%."],
        buffs: function(e) {
            return {
                rangedef: 6
            }
        }
    },
    enchantress_poweredarmor: {
        category: "Enchantress",
        name: "Powered Armor",
        icon: 5,
        level: 10,
        desc: ["Buffs you and the Enchantress, increasing Armor by 3% and slowing melee attackers by 60% for 1 second."],
        buffs: function(e) {
            return {
                armor_percent: 3
            }
        }
    },
    enchantress_erosion: {
        category: "Enchantress",
        name: "Erosion",
        icon: 6,
        level: 15,
        desc: ["Cooldown: 15 seconds", "Conjures a pool of energy that deals 330% weapon damage as Arcane over 5 seconds. Affected enemies will also take 3% increased damage."],
        buffs: function(e) {
            return {
                dmgtaken: 3
            }
        }
    },
    enchantress_focusedmind: {
        category: "Enchantress",
        name: "Focused Mind",
        icon: 7,
        level: 20,
        desc: ["A 40 yard aura that increases attack speed for you and the Enchantress by 3%."],
        buffs: function(e) {
            return {
                ias: 3
            }
        }
    }
}, DiabloCalc.partybuffs.shrines = {
    shrine_blessed: {
        category: "Shrines",
        name: "Blessed",
        icon: 8,
        desc: ["You take less damage from attacks.", "2 minutes left"],
        buffs: function(e) {
            return {
                dmgred: 25
            }
        }
    },
    shrine_empowered: {
        category: "Shrines",
        name: "Empowered",
        icon: 9,
        desc: ["Your resource regeneration is increased and your cooldowns are reduced.", "2 minutes left"],
        buffs: function(e) {
            return {
                cdr: 50,
                resourcegen: 100
            }
        }
    },
    shrine_enlightened: {
        category: "Shrines",
        name: "Enlightened",
        icon: 10,
        desc: ["You gain more experience from monsters you kill.", "2 minutes left"],
        buffs: function(e) {
            return {
                expmul: 25
            }
        }
    },
    shrine_fleeting: {
        category: "Shrines",
        name: "Fleeting",
        icon: 11,
        desc: ["You move faster with an increased pickup radius.", "2 minutes left"],
        buffs: function(e) {
            return {
                extrams: 25,
                pickup: 25
            }
        }
    },
    shrine_fortune: {
        category: "Shrines",
        name: "Fortune",
        icon: 12,
        desc: ["Your chance to find magic items and gold is greatly increased.", "2 minutes left"],
        buffs: function(e) {
            return {
                extrams: 25,
                pickup: 20
            }
        }
    },
    shrine_frenzied: {
        category: "Shrines",
        name: "Frenzied",
        icon: 13,
        desc: ["Your attack rate is greatly increased.", "2 minutes left"],
        buffs: function(e) {
            return {
                ias: 25
            }
        }
    },
    pylon_casting: {
        category: "Pylons",
        name: "Dimensional Channeling",
        icon: 14,
        desc: ["Free casting and greatly reduced cooldowns.", "30 seconds left"],
        buffs: function(e) {
            return {
                cdr: 75,
                rcr: 100
            }
        }
    },
    pylon_damage: {
        category: "Pylons",
        name: "Dimensional Power",
        icon: 15,
        desc: ["Greatly increased damage.", "30 seconds left"],
        buffs: function(e) {
            return {
                damage: 300
            }
        }
    },
    pylon_running: {
        category: "Pylons",
        name: "Dimensional Speed",
        icon: 18,
        desc: ["Greatly increased movement speed. Can pass through enemies, damaging and knocking them up into the air. Can burst through walls summoned by Waller elites.", "60 seconds left"],
        buffs: function(e) {
            return {
                extrams: 80,
                ias: 30
            }
        }
    }
};
DiabloCalc.legendaryGems = {
    powerful: {
        check: !0,
        active: !1,
        buffs: function(a, e) {
            var i = {
                dmgmul: 20
            };
            return a >= 25 && (i.edmg = 15, i.edef = 15), i
        },
        inactive: function(a, e) {
            if (a >= 25) return {
                edmg: 15,
                edef: 15
            }
        }
    },
    trapped: {
        active: !0
    },
    hoarder: {
        active: !1
    },
    enforcer: {
        always: !0,
        active: !0,
        buffs: function(a, e) {
            return {
                dmgmul: {
                    pet: !0,
                    percent: 15 + .3 * a
                }
            }
        }
    },
    esoteric: {
        always: !0,
        active: !0
    },
    ease: {
        always: !0,
        active: !0
    },
    toxin: {
        active: !0,
        info: function(a, e) {
            return {
                DPS: {
                    elem: "psn",
                    coeff: 20 + .5 * a,
                    divide: {
                        Duration: 10
                    },
                    total: !0
                }
            }
        }
    },
    gogok: {
        active: !0,
        params: [{
            min: 0,
            max: 15,
            name: "Stacks"
        }],
        buffs: function(a, e) {
            var i = {
                ias: this.params[0].val,
                dodge: (.5 + .01 * a) * this.params[0].val
            };
            return a >= 25 && (i.cdr = i.ias), i
        }
    },
    invigorating: {
        buffs: function(a, e) {
            if (a >= 25) return {
                ccr: 100
            }
        }
    },
    mirinae: {
        info: function(a, e) {
            return {
                Damage: {
                    elem: "hol",
                    coeff: 30 + .6 * a
                }
            }
        }
    },
    gizzard: {
        always: !0,
        active: !0
    },
    moratorium: {},
    pain: {
        info: function(a, e) {
            return {
                DPS: {
                    elem: "phy",
                    coeff: 25 + .5 * a,
                    divide: {
                        Duration: 3
                    },
                    total: !0
                }
            }
        },
        params: [{
            min: 0,
            max: "gems.pain>=25?30:0",
            inf: "gems.pain>=25",
            val: 0,
            name: "Stacks"
        }],
        buffs: function(a, e) {
            if (a >= 25) return {
                ias: 3 * this.params[0].val
            }
        }
    },
    simplicity: {
        always: !0,
        active: !0,
        buffs: function(a, e) {
            var i = 25 + .5 * a,
                n = [];
            for (var r in DiabloCalc.skills[e.charClass]) "primary" === DiabloCalc.skills[e.charClass][r].category && n.push(r);
            return {
                dmgmul: {
                    skills: n,
                    percent: i
                }
            }
        }
    },
    taeguk: {
        active: !0,
        params: [{
            min: 0,
            max: 10,
            name: "Stacks"
        }],
        buffs: function(a, e) {
            var i = {
                damage: (2 + .04 * a) * this.params[0].val
            };
            return a >= 25 && (i.armor_percent = 2 * this.params[0].val), i
        }
    },
    wreath: {
        active: !1,
        info: function(a, e) {
            return {
                Damage: {
                    elem: "lit",
                    coeff: 12.5 + .25 * a,
                    total: !0
                }
            }
        }
    },
    zei: {
        active: !0,
        params: [{
            min: 0,
            max: 50,
            name: "Distance"
        }],
        buffs: function(a, e) {
            return {
                dmgmul: this.params[0].val * (4 + .08 * a) / 10
            }
        }
    },
    stricken: {
        active: !0,
        params: [{
            min: 0,
            max: 50,
            name: "Stacks",
            inf: !0
        }],
        buffs: function(a, e) {
            var i = {
                dmgmul: this.params[0].val * (.8 + .01 * a)
            };
            return a >= 25 && (i.bossdmg = 25), i
        }
    },
    iceblink: {
        active: !0
    },
    mutilation: {},
    boyarsky: {
        always: !0,
        active: !0
    },
    soulshard: {
        check: !0,
        active: !1,
        info: function(a, e) {
            return {
                Damage: {
                    elem: "fir",
                    coeff: 125 + .5 * a
                }
            }
        },
        buffs: function(a, e) {
            if (a >= 25) return {
                cdr: 75,
                rcr: 100
            }
        }
    },
    legacyofdreams: {
        active: !0,
        buffs: function(a, e) {
            for (var i in e.info.sets)
                if (!(e.info.sets[i] <= 1)) {
                    var n = e.info.sets[i] + (e.leg_ringofroyalgrandeur ? 1 : 0);
                    for (var r in DiabloCalc.itemSets[i].bonuses)
                        if (r <= n) return
                }
            var t = e.info.legendaries + e.info.ancients;
            return {
                dmgmul: 3.75 * (a + 1) * t,
                dmgred: 2 * t
            }
        }
    }
};
if (DiabloCalc.ptr) {
    DiabloCalc.itemaffixes = {
        leg_goldwrap: {
            params: [{
                min: 0,
                max: 1e6,
                val: 0,
                name: "Gold",
                inf: !0
            }],
            buffs: function(e, a) {
                return {
                    armor: this.params[0].val
                }
            }
        },
        leg_madmonarchsscepter: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_stormcrow: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "1.15"
                }
            }
        },
        leg_sanguinaryvambraces: {
            info: {
                Damage: {
                    thorns: "normal",
                    coeff: 10,
                    elem: "phy"
                }
            }
        },
        leg_bootsofdisregard: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    regen: 1e4 * this.params[0].val
                }
            }
        },
        leg_overwhelmingdesire: {
            active: !1,
            buffs: {
                dmgtaken: 35
            }
        },
        leg_pridesfall: {
            active: !1,
            buffs: {
                rcr: 30
            }
        },
        leg_deathsbargain: {
            info: {
                DPS: "regen*$1/100"
            }
        },
        leg_insatiablebelt: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    life: 5 * this.params[0].val
                }
            }
        },
        leg_soulsmasher: {
            info: {
                Damage: "laek*$1/100"
            }
        },
        leg_firewalkers: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_firewalkers_p2: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_hellfirering: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 12,
                    total: !0
                }
            }
        },
        leg_bandofhollowwhispers: {
            info: {
                DPS: {
                    elem: "arc",
                    aps: !0,
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_rogarshugestone: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Health",
                percent: !0
            }],
            buffs: function(e, a) {
                return {
                    regen_bonus: e[0] * (1 - .01 * this.params[0].val)
                }
            }
        },
        leg_andarielsvisage: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_andarielsvisage_p2: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_themindseye: {
            active: !1,
            buffs: function(e, a) {
                return {
                    spiritregen: e[0]
                }
            }
        },
        leg_poxfaulds: {
            info: {
                DPS: {
                    elem: "psn",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_poxfaulds_p2: {
            info: {
                DPS: {
                    elem: "psn",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_hexingpantsofmryan: {
            active: !1,
            buffs: {
                damage: 25,
                resourcegen: 25
            },
            inactive: function(e, a) {
                return {
                    damage: -e[0],
                    resourcegen: -e[0]
                }
            }
        },
        leg_moonlightward: {
            info: {
                Damage: {
                    elem: "arc",
                    coeff: "$1/100"
                }
            }
        },
        leg_defenderofwestmarch: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_defenderofwestmarch_p2: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_hack: {
            info: {
                Damage: {
                    thorns: "normal",
                    coeff: "$1/100",
                    elem: "phy"
                }
            }
        },
        leg_wizardspike: {
            info: {
                "Explosion Damage": {
                    elem: "col",
                    coeff: 9.5,
                    skill: "arcaneorb"
                },
                "Projectile Damage": {
                    elem: "col",
                    coeff: 6.35,
                    skill: "arcaneorb"
                },
                "Shard Damage": {
                    elem: "col",
                    coeff: 3.15,
                    skill: "arcaneorb"
                }
            }
        },
        leg_odynson: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1.2
                }
            }
        },
        leg_fulminator: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_rimeheart: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 100
                }
            }
        },
        leg_thunderfury: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_sever: {
            info: {
                "Damage Modifier": "%(100+info.primary)*(1+0.01*chd)"
            }
        },
        leg_azurewrath: {
            info: {
                DPS: {
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_azurewrath_p3: {
            info: {
                DPS: {
                    coeff: "$1/100",
                    elem: "hol",
                    total: !0
                }
            }
        },
        leg_shardofhate: {
            info: {
                "Freezing Skull Damage": {
                    elem: "col",
                    coeff: "$1/100"
                },
                "Poison Nova Damage": {
                    elem: "psn",
                    coeff: "$1/100"
                },
                "Charged Bolt Damage": {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_demonmachine: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1
                }
            }
        },
        leg_pusspitter: {
            info: {
                DPS: {
                    elem: "psn",
                    aps: !0,
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_odysseysend: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.entanglingshot) return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_odysseysend_p69: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.entanglingshot) return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_cluckeye: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: 5
                }
            }
        },
        leg_balefulremnant: {
            info: {
                "Avatar Damage": {
                    elem: "phy",
                    pet: !0,
                    coeff: 1,
                    skill: "phalanx"
                },
                "Avatar DPS": {
                    sum: !0,
                    "Avatar Damage": {
                        pet: 60,
                        speed: 1
                    }
                }
            }
        },
        leg_deathwatchmantle_p2: {
            info: {
                "Min Damage": {
                    elem: "phy",
                    coeff: 7.5
                },
                "Max Damage": {
                    elem: "phy",
                    coeff: 9.5
                }
            }
        },
        leg_blackfeather: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_cinderswitch: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 2.5
                }
            }
        },
        leg_schaefershammer: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_schaefershammer_p2: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_wormwood: {
            info: function(e, a) {
                var s = a.skills.locustswarm || "x",
                    l = DiabloCalc.skills.witchdoctor.locustswarm.info(s, a);
                return delete l.Cost, l.Damage && (l.Damage.skill = "locustswarm"), l["Cloud Damage"] && (l["Cloud Damage"].skill = "locustswarm"), l
            }
        },
        leg_scourge: {
            info: {
                Damage: {
                    coeff: 20
                }
            }
        },
        leg_stalgardsdecimator: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_maximus: {
            info: {
                "Demon Damage": {
                    elem: "fir",
                    pet: !0,
                    coeff: 1
                },
                "Demon DPS": {
                    sum: !0,
                    "Demon Damage": {
                        pet: 96
                    }
                },
                "Chain Tick Damage": {
                    elem: "fir",
                    pet: !0,
                    aps: !0,
                    coeff: 1.3
                },
                "Chain DPS": {
                    sum: !0,
                    "Chain Tick Damage": {
                        aps: 5
                    }
                }
            }
        },
        leg_flyingdragon: {
            active: !1,
            buffs: function(e, a) {
                return {
                    weaponaps_percent: 100
                }
            }
        },
        leg_harringtonwaistguard: {
            active: !1,
            buffs: function(e, a) {
                return {
                    damage: e[0]
                }
            }
        },
        leg_razorstrop: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "$1/100"
                }
            }
        },
        leg_sashofknives: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_sashofknives_p2: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_seborsnightmare: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 40,
                    skill: "haunt"
                }
            }
        },
        leg_seborsnightmare_p2: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 40,
                    skill: "haunt"
                }
            }
        },
        leg_thundergodsvigor: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_strongarmbracers: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_calamity: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (!a.skills.markedfordeath) return {
                    dmgtaken: 15
                }
            }
        },
        set_istvan_2pc: {
            active: !1,
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    ias: 6 * s,
                    dmgmul: 6 * s,
                    armor_percent: 6 * s
                }
            }
        },
        set_talrasha_2pc: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!(a.leg_nilfursboast || a.leg_nilfursboast_p2 || a.leg_nilfursboast_p6)
            },
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal2"),
                    l = {},
                    n = 0,
                    n = {};
                if (s.fir && (l["Fire Damage"] = {
                        elem: "fir",
                        coeff: 16.48,
                        addcoeff: [6.25],
                        total: 0,
                        skill: "meteor"
                    }, n["Fire Damage"] = {}), s.col && (l["Cold Damage"] = {
                        elem: "col",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Cold Damage"] = {}), s.lit && (l["Lightning Damage"] = {
                        elem: "lit",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Lightning Damage"] = {}), s.arc && (l["Arcane Damage"] = {
                        elem: "arc",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Arcane Damage"] = {}), !$.isEmptyObject(n)) {
                    for (var r in n) n[r].cd = 8, n[r].cdr = !1;
                    var t;
                    a.leg_nilfursboast_p6 ? (t = {})[DiabloCalc.itemById.P61_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p6 : 600 : a.leg_nilfursboast_p2 ? (t = {})[DiabloCalc.itemById.P41_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p2 : 200 : a.leg_nilfursboast && ((t = {})[DiabloCalc.itemById.P2_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast : 100);
                    for (var i in l) l[i].exclude = ["arcanedynamo"], l[i].percent = t;
                    n.sum = !0, l.DPS = n
                }
                return l
            }
        },
        set_talrasha_4pc: {
            active: !0,
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal4"),
                    l = [];
                for (var n in s) l.push(DiabloCalc.elements[n]);
                if (l.length) return {
                    "Active Elements": l.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "tal4")).length
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    resist_percent: 25 * this.params[0].val
                }
            }
        },
        set_talrasha_6pc: {
            active: !0,
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal6"),
                    l = [];
                for (var n in s) l.push(DiabloCalc.elements[n]);
                if (l.length) return {
                    "Active Elements": l.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "tal6")).length
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 2e3 * this.params[0].val
                }
            }
        },
        set_firebird_2pc: {
            info: {
                "Meteor Damage": {
                    elem: "fir",
                    coeff: 16.48,
                    addcoeff: [6.25],
                    total: !0,
                    skill: "meteor"
                }
            }
        },
        set_firebird_4pc: {
            params: [{
                min: 0,
                max: 3,
                name: "Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                if (this.params[0].val) return {
                    DPS: {
                        elem: "fir",
                        coeff: 10 * this.params[0].val,
                        total: !0
                    }
                }
            }
        },
        set_firebird_6pc: {
            params: [{
                min: 0,
                max: 20,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 200 * this.params[0].val,
                    dmgred: 3 * this.params[0].val
                }
            }
        },
        set_sunwuko_2pc: {
            buffs: function(e, a) {
                if (DiabloCalc.skills && DiabloCalc.skills.monk) {
                    return DiabloCalc.skills.monk.sweepingwind.params[0].val ? {
                        dmgred: 50
                    } : void 0
                }
            }
        },
        set_sunwuko_4pc: {
            info: function(e, a) {
                if (DiabloCalc.skills && DiabloCalc.skills.monk) {
                    return {
                        Damage: {
                            elem: "max",
                            coeff: 10 * DiabloCalc.skills.monk.sweepingwind.params[0].val
                        }
                    }
                }
            }
        },
        set_roland_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack", "shieldbash"],
                    percent: 17500
                }
            }
        },
        set_roland_6pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    ias: 75 * this.params[0].val,
                    dmgred: 100 * (1 - Math.pow(.85, this.params[0].val))
                }
            }
        },
        leg_skysplitter: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1.8
                }
            }
        },
        leg_skysplitter_p2: {
            info: {
                "Min Damage": {
                    elem: "lit",
                    coeff: 6
                },
                "Max Damage": {
                    elem: "lit",
                    coeff: 7.5
                }
            }
        },
        leg_brokenpromises: {
            info: function(e, a) {
                var s = 1 - .01 * a.final.chc;
                return {
                    "Average Hits to Proc": DiabloCalc.formatNumber((Math.pow(s, -5) - 1) / (1 - s), 2)
                }
            },
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_enviousblade: {
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_arcstone: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_conventionofelements: {
            active: !1,
            info: function(e, a) {
                for (var s = ["arc", "col", "fir", "hol", "lit", "phy", "psn"], l = [], n = 0; n < s.length; ++n) DiabloCalc.stats["dmg" + s[n]].classes && DiabloCalc.stats["dmg" + s[n]].classes.indexOf(DiabloCalc.charClass) < 0 || "col" == s[n] && "crusader" == DiabloCalc.charClass || l.push(DiabloCalc.elements[s[n]]);
                if (l.length) return {
                    Rotation: l.join(", ")
                }
            },
            buffs: function(e, a) {
                for (var s = ["arc", "col", "fir", "hol", "lit", "phy", "psn"], l = [], n = 0; n < s.length; ++n) DiabloCalc.stats["dmg" + s[n]].classes && DiabloCalc.stats["dmg" + s[n]].classes.indexOf(DiabloCalc.charClass) < 0 || "col" == s[n] && "crusader" == DiabloCalc.charClass || l.push(s[n]);
                if (l.length) return {
                    dmgmul: {
                        name: DiabloCalc.itemById.P2_Unique_Ring_04.name,
                        elems: l,
                        percent: e[0]
                    }
                }
            }
        },
        leg_corruptedashbringer: {
            info: {
                "Skeleton Explosion Damage": {
                    elem: "phy",
                    coeff: 10
                },
                "Burn Damage": {
                    elem: "hol",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_ivorytower: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "hol",
                        coeff: 9.6,
                        skill: "heavensfury"
                    }
                };
                return a.leg_fateofthefell && (s["Total Damage"] = {
                    sum: !0,
                    Damage: {
                        count: 3
                    }
                }), s
            }
        },
        set_bastionsofwill_2pc: {
            params: [{
                min: 0,
                max: 2,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        percent: [0, 50, 125][this.params[0].val]
                    }
                }
            }
        },
        leg_oculusring: {
            active: !1,
            buffs: function(e, a) {
                return {
                    damage: e[0]
                }
            }
        },
        leg_oculusring_p2: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        set_immortalking_6pc: {
            buffs: function(e, a) {
                if (DiabloCalc.skills.barbarian.wrathoftheberserker.active) return {
                    dmgmul: {
                        percent: 4e3
                    }
                }
            }
        },
        leg_spiritguards: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_spiritguards_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_wrapsofclarity: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_wrapsofclarity_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        set_natalya_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["rainofvengeance"],
                    percent: 100
                }
            }
        },
        set_natalya_6pc: {
            active: !0,
            buffs: {
                dmgmul: 14e3,
                dmgred: 60
            }
        },
        set_zunimassa_4pc: {
            info: function(e, a) {
                var s = 0;
                if (a.skills.fetisharmy) switch (a.skills.fetisharmy) {
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        s = 6;
                        break;
                    case "e":
                        s = 7;
                        break;
                    default:
                        s = 5
                }
                if ((a.passives.fetishsycophants || a.leg_beltoftranscendence) && (s += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), s) return {
                    "Damage Reduction": 3 * s + "%"
                }
            },
            active: !0,
            buffs: function(e, a) {
                var s = 0;
                if (a.skills.fetisharmy) switch (a.skills.fetisharmy) {
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        s = 6;
                        break;
                    case "e":
                        s = 7;
                        break;
                    default:
                        s = 5
                }
                if ((a.passives.fetishsycophants || a.leg_beltoftranscendence) && (s += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), s) return {
                    dmgred: 3 * s
                }
            }
        },
        set_zunimassa_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !0,
                    percent: 15e3
                }
            }
        },
        set_marauder_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["sentry"],
                    percent: 400
                }
            }
        },
        set_marauder_6pc: {
            buffs: function(e, a) {
                if (a.skills.sentry || a.leg_helltrapper) {
                    var s = DiabloCalc.skills.demonhunter.sentry.params[0].val;
                    return {
                        dmgmul: {
                            list: [{
                                pet: !1,
                                skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade", "chakram", "clusterarrow", "elementalarrow", "impale", "multishot", "vengeance"],
                                percent: 12e3 * s
                            }, {
                                skills: ["companion"],
                                percent: 12e3 * s
                            }]
                        }
                    }
                }
            }
        },
        leg_beltoftranscendence: {
            check: !0,
            params: DiabloCalc.passives && DiabloCalc.passives.witchdoctor && DiabloCalc.passives.witchdoctor.fetishsycophants.params || [{
                min: 0,
                max: 15,
                name: "Count",
                buffs: !1,
                show: function(e) {
                    return !!this.id || !e.passives.fetishsycophants
                }
            }],
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.passives.fetishsycophants) return DiabloCalc.passives.witchdoctor.fetishsycophants.info.call(this, a)
            }
        },
        leg_homunculus: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        leg_homunculus_p2: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        leg_homunculus_p3: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        set_magnumopus_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    skills: ["arcaneorb", "energytwister", "explosiveblast", "magicmissile", "shockpulse", "spectralblade", "waveofforce"],
                    percent: 12500
                }
            }
        },
        set_unhallowed_4pc: {
            active: !0,
            buffs: {
                dmgred: 60,
                dmgmul: 60
            }
        },
        set_unhallowed_6pc: {
            params: [{
                min: 0,
                max: "maxdisc",
                name: "Discipline"
            }],
            buffs: function(e, a) {
                var s = ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade", "multishot", "vengeance"];
                return a.leg_kridershot && s.push("elementalarrow"), a.leg_spinesofseethinghatred && s.push("chakram"), {
                    dmgmul: {
                        skills: s,
                        percent: 350 * this.params[0].val
                    }
                }
            }
        },
        set_wastes_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["rend"],
                    percent: 500
                }
            }
        },
        set_wastes_4pc: {
            active: !0,
            buffs: {
                dmgred: 50,
                dmgmul: {
                    skills: ["rend"],
                    percent: 200
                }
            }
        },
        set_wastes_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["whirlwind", "rend"],
                    percent: 1e4
                }
            }
        },
        set_storms_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["fistsofthunder", "deadlyreach", "cripplingwave", "wayofthehundredfists"],
                    percent: 500
                }
            }
        },
        set_storms_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    skills: ["fistsofthunder", "deadlyreach", "cripplingwave", "wayofthehundredfists"],
                    percent: 6e3
                }
            }
        },
        leg_triumvirate: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_triumvirate_p2: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_triumvirate_p6: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_denial: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_denial_p6: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_hellskull: {
            buffs: function(e, a) {
                if ("twohand" == a.info.mainhand.slot) return {
                    damage: 10
                }
            }
        },
        leg_taskerandtheo: {
            buffs: function(e, a) {
                return {
                    petias: e[0]
                }
            }
        },
        leg_thefurnace: {
            buffs: function(e, a) {
                return {
                    edmg: e[0]
                }
            }
        },
        leg_avariceband: {
            params: [{
                min: 0,
                max: 30,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    pickup: this.params[0].val
                }
            }
        },
        leg_irontoemudsputters: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Health",
                percent: !0
            }],
            buffs: function(e, a) {
                return {
                    extrams: 25 * (1 - .01 * this.params[0].val)
                }
            }
        },
        leg_bloodbrother: {
            active: !1,
            activetip: "Include damage bonus",
            buffs: function(e, a) {
                return {
                    dmgmul: 30,
                    block: e[0]
                }
            },
            inactive: function(e, a) {
                return {
                    block: e[0]
                }
            }
        },
        leg_ancientparthandefenders: {
            params: [{
                min: 0,
                max: 20,
                val: 0,
                name: "Nearby Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 100 * (1 - Math.pow(1 - .01 * e[0], this.params[0].val))
                }
            }
        },
        leg_unity: {
            active: !1,
            buffs: {
                dmgred: 50
            }
        },
        leg_ukhapianserpent: {
            active: !0,
            check: !0,
            buffs: function(e, a) {
                if (a.skills.summonzombiedogs || a.leg_homunculus || a.leg_homunculus_p2 || a.leg_homunculus_p3) return {
                    dmgred: e[0]
                }
            }
        },
        leg_shimizushaori: {
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_warzechianarmguards: {
            active: !1,
            buffs: {
                extrams: 50
            }
        },
        leg_deathwatchmantle: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: 2
                }
            }
        },
        leg_bulkathossweddingband: {
            info: function(e, a) {
                return {
                    Note: "capped at 0.4% of the enemy current health",
                    "Tick Damage": {
                        elem: "phy",
                        coeff: 20,
                        avg: !0,
                        total: !0
                    }
                }
            }
        },
        leg_beltofthetrove: {
            check: !0,
            info: function(e, a) {
                if ("crusader" === DiabloCalc.charClass) {
                    var s = a.skills.bombardment || "x",
                        l = DiabloCalc.skills.crusader.bombardment.info(s, a);
                    return delete l.Cooldown, l.Damage.skill = "bombardment", l["Thorns Damage"] && (l["Thorns Damage"].skill = "bombardment"), l["Mine Damage"] && (l["Mine Damage"].skill = "bombardment"), l
                }
            }
        },
        leg_beltofthetrove_p610: {
            check: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bombardment"],
                        percent: e[0]
                    }
                }
            },
            info: function(e, a) {
                if ("crusader" === DiabloCalc.charClass) {
                    var s = a.skills.bombardment || "x",
                        l = DiabloCalc.skills.crusader.bombardment.info(s, a);
                    return delete l.Cooldown, l.Damage.skill = "bombardment", l["Thorns Damage"] && (l["Thorns Damage"].skill = "bombardment"), l["Mine Damage"] && (l["Mine Damage"].skill = "bombardment"), l
                }
            }
        },
        leg_visageofgiyua: {
            check: !0,
            info: function(e, a) {
                if (!a.skills.fetisharmy) return {
                    "Dagger Damage": {
                        elem: "phy",
                        pet: !0,
                        aps: !0,
                        coeff: 1.8,
                        skill: "fetisharmy"
                    },
                    "Total DPS": {
                        sum: !0,
                        "Dagger Damage": {
                            pet: 48,
                            count: 5
                        }
                    }
                }
            }
        },
        leg_hunterswrath: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_hunterswrath_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bracersofthefirstmen: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bracersofthefirstmen_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theswami: {
            check: !1,
            active: !0,
            params: [{
                min: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)",
                max: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)+50",
                val: "min",
                name: "Stacks",
                inf: !0
            }],
            buffs: function(e, a) {
                if (!(a.skills.archon && DiabloCalc.skills.wizard && DiabloCalc.skills.wizard.archon && DiabloCalc.skills.wizard.archon.active)) {
                    var s = this.params[0].val,
                        l = {
                            dmgmul: 6 * s
                        };
                    return a.set_vyr_4pc && (l.ias = 1 * s, l.armor_percent = 1 * s, l.resist_percent = 1 * s), a.set_vyr_6pc && (l.dmgred = 100 * (1 - Math.pow(.9985, s)), l.dmgmul = 100 * s), l
                }
            }
        },
        leg_theswami_p3: {
            clone: "leg_theswami"
        },
        set_light_4pc: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.fallingsword) return {
                    dmgred: 50
                }
            }
        },
        set_light_6pc: {
            buffs: {
                dmgmul: {
                    list: [{
                        skills: ["blessedhammer"],
                        percent: 15e3
                    }, {
                        skills: ["fallingsword"],
                        percent: 1e3
                    }]
                }
            }
        },
        set_shenlong_2pc: {
            active: !0,
            buffs: {
                dmgmul: 350
            }
        },
        set_helltooth_2pc: {
            active: !0,
            info: {
                "Necrosis DPS": {
                    elem: "max",
                    coeff: 30,
                    total: !0
                }
            }
        },
        set_helltooth_4pc: {
            active: !0,
            buffs: {
                dmgred: 60
            }
        },
        set_helltooth_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        list: [{
                            pet: !1,
                            skills: ["poisondart", "plagueoftoads", "firebomb", "acidcloud", "firebats", "zombiecharger", "graspofthedead", "piranhas", "wallofdeath"],
                            percent: 17500
                        }, {
                            skills: ["summonzombiedogs", "gargantuan", "corpsespiders"],
                            percent: 17500
                        }]
                    }
                }
            }
        },
        set_arachyr_2pc: {
            info: {
                DPS: {
                    elem: "max",
                    pet: !0,
                    coeff: 8,
                    total: !0
                }
            }
        },
        set_arachyr_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["corpsespiders", "plagueoftoads", "firebats", "hex", "locustswarm", "piranhas"],
                    percent: 17500
                }
            }
        },
        leg_chilanikschain: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.warcry) return {
                    extrams: e[0]
                }
            }
        },
        leg_jeramsbracers: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["wallofdeath"],
                        percent: e[0]
                    }
                }
            }
        },
        set_uliana_2pc: {
            check: !0,
            info: function(e, a) {
                if (!a.skills.explodingpalm) {
                    var s = {};
                    return a.leg_thefistofazturrasq && (s[DiabloCalc.itemById.Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq), a.leg_thefistofazturrasq_p2 && (s[DiabloCalc.itemById.P4_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p2), a.leg_thefistofazturrasq_p6 && (s[DiabloCalc.itemById.P61_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p6), {
                        "Palm Damage": {
                            elem: "phy",
                            coeff: 12,
                            total: !0,
                            skill: "explodingpalm"
                        },
                        "Palm Explosion Damage": {
                            elem: "phy",
                            coeff: 27.7,
                            percent: s,
                            skill: "explodingpalm"
                        }
                    }
                }
            }
        },
        set_uliana_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["explodingpalm"],
                    percent: 9e3
                }
            }
        },
        leg_nagelring: {
            info: function(e, a) {
                return {
                    Damage: {
                        elem: "max",
                        coeff: 100
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: e[0]
                        }
                    }
                }
            }
        },
        set_earth_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["earthquake", "avalanche", "leap", "groundstomp", "ancientspear", "seismicslam"],
                    percent: 2e4
                }
            }
        },
        set_raekor_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["furiouscharge"],
                    percent: 1e3
                }
            }
        },
        set_raekor_6pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients", "rend", "seismicslam", "whirlwind", "ancientspear", "earthquake"],
                        percent: 5500 * this.params[0].val
                    }
                }
            }
        },
        set_danetta_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["vault"],
                    percent: 800
                }
            }
        },
        set_inna_6pc: {
            info: function(e, a) {
                if (!a.skills.mystically && "monk" === DiabloCalc.charClass) {
                    var s = DiabloCalc.skills.monk.mystically.info("x", a);
                    for (var l in s) s[l].elem && (s[l].skill = "mystically");
                    return s
                }
            },
            buffs: function(e, a) {
                if ("monk" === DiabloCalc.charClass) {
                    var s = {
                        dmgmul: {
                            pet: !1,
                            percent: 4750 * (a.leg_thecrudestboots ? 2 : 1)
                        }
                    };
                    return a.skills.mystically || $.extend(s, DiabloCalc.skills.monk.mystically.passive("x", a)), s
                }
            }
        },
        set_endlesswalk_2pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Moving"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 10 * this.params[0].val,
                    dmgmul: 20 * (5 - this.params[0].val)
                }
            }
        },
        set_nightmares_2pc: {
            buffs: function(e, a) {
                for (var s in a.info.sets)
                    if (!("nightmares" === s || a.info.sets[s] <= 1)) {
                        var l = a.info.sets[s] + (a.leg_ringofroyalgrandeur ? 1 : 0);
                        for (var n in DiabloCalc.itemSets[s].bonuses)
                            if (n <= l) return
                    }
                return {
                    dmgmul: 750 * a.info.ancients,
                    dmgred: 4 * a.info.ancients
                }
            }
        },
        leg_pintospride: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["waveoflight"],
                        percent: e[0]
                    }
                }
            }
        },
        set_shadow_2pc: {
            buffs: function(e, a) {
                var s = a.info.mainhand.type;
                if (s && "bow" !== s && "crossbow" !== s && "handcrossbow" !== s) return {
                    dmgmul: 6e3
                }
            }
        },
        set_invoker_2pc: {
            params: [{
                min: 0,
                max: 25,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    thorns_percent: 350 * this.params[0].val
                }
            }
        },
        set_invoker_4pc: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        set_norvald_2pc: {
            active: !1,
            buffs: {
                dmgmul: 400
            }
        },
        leg_stringofears: {
            buffs: function(e, a) {
                return {
                    meleedef: e[0]
                }
            }
        },
        leg_zoeyssecret: {
            buffs: function(e, a) {
                if (a.skills.companion) {
                    var s = "e" === a.skills.companion ? 2 : 1;
                    return a.set_marauder_2pc && (s = 7), ("c" === a.skills.companion || a.set_marauder_2pc) && a.leg_thecloakofgarwulf && (s += 2), {
                        dmgred: s * e[0]
                    }
                }
            }
        },
        leg_riveradancers: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["lashingtailkick"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_cesarsmemento: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_cesarsmemento_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bindingsofthelessergods: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["mystically"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_lastbreath: {
            buffs: function(e, a) {
                return {
                    skill_witchdoctor_massconfusion_cooldown: e[0]
                }
            }
        },
        leg_aquilacuirass: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        leg_heartofiron: {
            buffs: function(e, a) {
                return {
                    vit_to_thorns: e[0]
                }
            }
        },
        leg_warhelmofkassar: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["phalanx"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_oathkeeper: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bash", "cleave", "frenzy", "weaponthrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_vilehive: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["locustswarm"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thingofthedeep: {
            buffs: {
                pickup: 20
            }
        },
        leg_hammerjammers: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedhammer"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_ringofemptiness: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        pet: !1,
                        percent: e[0]
                    }
                }
            }
        },
        leg_ringofemptiness_p2: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        pet: !1,
                        percent: e[0]
                    }
                }
            }
        },
        leg_elusivering: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_bandofmight: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_bandofmight_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_lefebvressoliloquy: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_mantleofchanneling: {
            active: !0,
            buffs: function(e, a) {
                if (a.skills.whirlwind || a.skills.rapidfire || a.skills.strafe || a.skills.tempestrush || a.skills.firebats || a.skills.arcanetorrent || a.skills.disintegrate || a.skills.rayoffrost || a.skills.siphonblood) return {
                    dmgred: 25,
                    dmgmul: e[0]
                }
            }
        },
        leg_thethreehundredthspear: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["weaponthrow", "ancientspear"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_akkhansleniency: {
            params: [{
                min: 0,
                max: 50,
                val: 0,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan_p2: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan_p6: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_shieldoffury: {
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_shieldoffury_p6: {
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_thetwistedsword: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_deathwish: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_deathwish_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_maskofjeram: {
            buffs: function(e, a) {
                return {
                    petdamage: e
                }
            }
        },
        leg_maskofjeram_p6: {
            buffs: function(e, a) {
                return {
                    petdamage: e
                }
            }
        },
        leg_depthdiggers: {
            buffs: function(e, a) {
                if ("wizard" !== a.charClass || a.leg_theshameofdelsere) {
                    var s = [];
                    if ("witchdoctor" === a.charClass) {
                        var l = DiabloCalc.getStats().skills;
                        "d" === l.poisondart && s.push("poisondart"), "a" === l.corpsespiders && s.push("corpsespiders"), "d" === l.plagueoftoads && s.push("plagueoftoads"), DiabloCalc.getStats().leg_mordulluspromise && s.push("firebomb")
                    } else
                        for (var n in DiabloCalc.skills[a.charClass]) "primary" === DiabloCalc.skills[a.charClass][n].category && s.push(n);
                    return {
                        dmgmul: {
                            skills: s,
                            percent: e[0]
                        }
                    }
                }
            }
        },
        leg_orbofinfinitedepth: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: this.params[0].val * e[0],
                    dmgred: 15 * this.params[0].val
                }
            }
        },
        leg_orbofinfinitedepth_p6: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: this.params[0].val * e[0],
                    dmgred: 20 * this.params[0].val
                }
            }
        },
        leg_fragmentofdestiny: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["spectralblade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_fragmentofdestiny_p610: {
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        list: [{
                            skills: ["magicmissile", "shockpulse", "spectralblade", "electrocute"],
                            percent: 200
                        }, {
                            skills: ["hydra"],
                            percent: e[0] * this.params[0].val
                        }]
                    }
                }
            }
        },
        leg_magefist: {
            buffs: function(e, a) {
                return {
                    dmgfir: e[0]
                }
            }
        },
        leg_frostburn_p2: {
            buffs: function(e, a) {
                return {
                    dmgcol: e[0]
                }
            }
        },
        leg_skullgrasp_p2: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["whirlwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_skullgrasp_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["whirlwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_johannasargument: {
            buffs: {
                dmgmul: {
                    skills: ["blessedhammer"],
                    percent: 100
                }
            }
        },
        leg_bakulijunglewraps: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bakulijunglewraps_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_swamplandwaders: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sacrifice"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theflowofeternity_p2: {
            buffs: {
                dmgmul: {
                    skills: ["sevensidedstrike"],
                    percent: 100
                }
            }
        },
        leg_fleshrake: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["dashingstrike"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_crystalfist: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_haloofkarini: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_haloofkarini_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_ingeom: {
            active: !1,
            buffs: function(e, a) {
                return {
                    cdrint: e[0]
                }
            }
        },
        leg_cordoftherighteous: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistoftheheavens"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_girdleofgiants: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["earthquake"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_girdleofgiants_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["earthquake"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_starfire: {
            params: [{
                min: 0,
                max: 40,
                name: "Distance"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["lit"],
                        percent: this.params[0].val * e[0] / 10
                    }
                }
            }
        },
        leg_rechelsringoflarceny: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_thebarber: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["spiritbarrage"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_manaldheal: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100",
                    manald: !0
                }
            }
        },
        leg_steuartsgreaves: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_steuartsgreaves_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_brynersjourney: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.75,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_graspsofessence: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpseexplosion"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_graspsofessence_p69: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpseexplosion"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_golemskinbreeches: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["commandgolem"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thejohnstone: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpselance", "corpseexplosion"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_losttime: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    extrams: e[0] * this.params[0].val
                }
            }
        },
        leg_losttime_p6: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    extrams: e[0] * this.params[0].val
                }
            }
        },
        leg_ironrose: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.5,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_ironrose_p65: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.5,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_krysbinssentence: {
            active: !1,
            boxnames: ["Triple bonus"],
            buffs: function(e, a) {
                return {
                    dmgmul: (this.boxvals[0] ? 3 : 1) * e[0]
                }
            }
        },
        leg_lornellessunstone: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Life"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: (100 - this.params[0].val) * e[0]
                }
            }
        },
        leg_trangoulscorrodedfang: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_maltoriuspetrifiedspike: {
            buffs: function(e, a) {
                return {
                    skill_necromancer_bonespear: e[0]
                }
            }
        },
        leg_maltoriuspetrifiedspike_p6: {
            buffs: function(e, a) {
                return {
                    skill_necromancer_bonespear: e[0]
                }
            }
        },
        leg_reilenasshadowhook: {
            buffs: function(e, a) {
                return {
                    dmgmul: .5 * DiabloCalc.getStats(!0).maxessence
                }
            }
        },
        leg_nayrsblackdeath: {
            params: [{
                min: 0,
                max: function(e) {
                    if ("necromancer" !== e.charClass) return 0;
                    var a = 0;
                    for (var s in e.skills) DiabloCalc.skilltips.necromancer[s] && "psn" === DiabloCalc.skilltips.necromancer[s].elements[e.skills[s]] && (a += 1);
                    return a
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["psn"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_nayrsblackdeath_p6: {
            params: [{
                min: 0,
                max: function(e) {
                    if ("necromancer" !== e.charClass) return 0;
                    var a = 0;
                    for (var s in e.skills) DiabloCalc.skilltips.necromancer[s] && "psn" === DiabloCalc.skilltips.necromancer[s].elements[e.skills[s]] && (a += 1);
                    return a
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["psn"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_spearofjairo: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    thorns_percent: this.params[0].val * e[0]
                }
            }
        },
        set_rathma_4pc: {
            params: [{
                min: 0,
                max: 50,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: this.params[0].val
                }
            }
        },
        set_rathma_6pc: {
            buffs: function(e, a) {
                if (a.skills.skeletalmage) {
                    var s = Math.min(4e3, 1e3 * DiabloCalc.skills.necromancer.skeletalmage.params[0].val);
                    return {
                        dmgmul: {
                            list: [{
                                pet: !0,
                                percent: s
                            }, {
                                skills: ["armyofthedead"],
                                percent: s
                            }]
                        }
                    }
                }
            }
        },
        set_trangoul_6pc: {
            buffs: function(e, a) {
                var s = ["bloodrush", "simulacrum"];
                return "d" === a.skills.bonespear && s.push("bonespear"), "c" === a.skills.skeletalmage && s.push("skeletalmage"), "c" === a.skills.deathnova && s.push("deathnova"), "c" === a.skills.corpselance && s.push("corpselance"), "b" === a.skills.corpseexplosion && s.push("corpseexplosion"), "b" === a.skills.revive && s.push("revive"), "e" === a.skills.armyofthedead && s.push("armyofthedead"), "d" === a.skills.bonearmor && s.push("bonearmor"), "a" === a.skills.bonespirit && s.push("bonespirit"), {
                    dmgmul: {
                        skills: s,
                        percent: 3800
                    }
                }
            }
        },
        set_inarius_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["bonearmor"],
                    percent: 1e3
                }
            }
        },
        set_pestilence_2pc: {
            info: function(e, a) {
                if (!a.skills.corpselance) return {
                    "Explosion Damage": {
                        elem: "phy",
                        coeff: 17.5,
                        skill: "corpselance"
                    }
                }
            }
        },
        set_pestilence_4pc: {
            params: [{
                min: 0,
                max: 25,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 2 * this.params[0].val
                }
            }
        },
        set_pestilence_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    list: [{
                        skills: ["bonespear"],
                        percent: 3300
                    }, {
                        skills: ["corpselance", "corpseexplosion"],
                        percent: 1650
                    }]
                }
            },
            inactive: {
                dmgmul: {
                    skills: ["corpselance", "corpseexplosion"],
                    percent: 3300
                }
            }
        },
        leg_bloodtideblade: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["deathnova"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_bloodtideblade_p6: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["deathnova"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_frydehrswrath: {
            buffs: {
                dmgmul: {
                    skills: ["condemn"],
                    percent: 200
                }
            }
        },
        leg_frydehrswrath_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["condemn"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_unstablescepter: {
            buffs: {
                dmgmul: {
                    skills: ["arcaneorb"],
                    percent: 65
                }
            }
        },
        leg_goldenflense: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack"],
                    percent: 200
                }
            }
        },
        leg_goldenflense_p2: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack"],
                    percent: 200
                }
            }
        },
        leg_gavelofjudgment: {
            buffs: {
                dmgmul: {
                    skills: ["hammeroftheancients"],
                    percent: 100
                }
            }
        },
        leg_deadmanslegacy: {
            buffs: {
                dmgmul: {
                    skills: ["multishot"],
                    percent: 100
                }
            }
        },
        leg_theshortmansfinger: {
            buffs: {
                dmgmul: {
                    skills: ["gargantuan"],
                    percent: 200
                }
            }
        },
        leg_balance: {
            buffs: {
                dmgmul: {
                    skills: ["tempestrush"],
                    percent: 200
                }
            }
        },
        leg_bladeofprophecy: {
            buffs: {
                dmgmul: {
                    skills: ["condemn"],
                    percent: 100
                }
            }
        },
        leg_wandofwoh: {
            buffs: {
                dmgmul: {
                    skills: ["explosiveblast"],
                    percent: 100
                }
            }
        },
        leg_furyofthevanishedpeak: {
            buffs: {
                dmgmul: {
                    skills: ["seismicslam"],
                    percent: 125
                }
            }
        },
        leg_furyofthevanishedpeak_p2: {
            buffs: {
                dmgmul: {
                    skills: ["seismicslam"],
                    percent: 125
                }
            }
        },
        leg_staffofchiroptera: {
            buffs: {
                dmgmul: {
                    skills: ["firebats"],
                    percent: 60
                }
            }
        },
        leg_manticore: {
            buffs: {
                dmgmul: {
                    skills: ["clusterarrow"],
                    percent: 80
                }
            }
        },
        leg_incensetorchofthegrandtemple: {
            buffs: {
                dmgmul: {
                    skills: ["waveoflight"],
                    percent: 30
                }
            }
        },
        leg_jekangbord: {
            buffs: {
                dmgmul: {
                    skills: ["blessedshield"],
                    percent: 200
                }
            }
        },
        leg_fatesvow_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["armyofthedead"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_daynteesbinding_p6: {
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_yangsrecurve_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["multishot"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_ranslorsfolly_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_balance_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_incensetorchofthegrandtemple_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["waveoflight"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_jekangbord_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_karleispoint_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["impale"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_gyrfalconsfoote_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_fateofthefell_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_goldenflense_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_gavelofjudgment_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_furyofthevanishedpeak_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["seismicslam"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_deadmanslegacy_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["multishot"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theshortmansfinger_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["gargantuan"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_staffofchiroptera_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bladeofprophecy_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["condemn"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_wandofwoh_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["explosiveblast"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_manticore_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["clusterarrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_unstablescepter_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0]
                    }
                }
            }
        },
        set_jadeharvester_6pc: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        leg_etchedsigil_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb", "waveofforce", "energytwister", "hydra", "meteor", "blizzard", "explosiveblast", "blackhole"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_etchedsigil_p610: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thegrandvizier: {
            buffs: {
                dmgmul: {
                    skills: ["meteor"],
                    percent: 30
                }
            }
        },
        leg_thegrandvizier_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["meteor"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_sinseekers_p65: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["rapidfire"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thedaggerofdarts_p65: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["poisondart"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theburningaxeofsankis: {
            active: !1,
            buffs: {
                dmgred: 50
            }
        },
        leg_wallofman: {
            active: !1,
            buffs: {
                dmgred: 20
            }
        },
        set_crimson_v2_3pc: {
            last: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: a.cdr,
                    dmgred: a.rcr
                }
            }
        },
        leg_echoingfury: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    ms: 5 * this.params[0].val,
                    ias: 15 * this.params[0].val
                }
            }
        },
        leg_squirtsnecklace: {
            params: [{
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 10 * this.params[0].val,
                    dmgred: 5 * -this.params[0].val
                }
            }
        },
        leg_stonegauntlets: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    armor_percent: 50 * s,
                    ms: 15 * -s * (1 - .01 * (a.ccr || 0)),
                    ias: 20 * -s * (1 - .01 * (a.ccr || 0))
                }
            }
        },
        leg_darklight_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistoftheheavens"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_fjordcutter_p67: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["seismicslam"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_lamentation_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["rend"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_remorseless_p67: {
            buffs: function(e, a) {
                if ((DiabloCalc.skills.barbarian.calloftheancients.active || a.set_immortalking_2pc) && DiabloCalc.skills.barbarian.wrathoftheberserker.active) return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_vengefulwind_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepingwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_wonkhimlau: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush", "cyclonestrike"],
                        percent: e[0]
                    }
                }
            }
        },
        set_valor_2pc: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: 100 * (Math.pow(2, s) - 1)
                    }
                }
            }
        },
        set_valor_4pc: {
            active: !0,
            params: [{
                min: 0,
                max: 50,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: this.params[0].val
                }
            }
        },
        set_valor_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistsofvalor", "heavensfury"],
                        percent: 2e4
                    }
                }
            }
        },
        set_justice_4pc: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: 50,
                    spiritregen: 50
                }
            }
        },
        set_justice_6pc: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        percent: 15e3
                    }
                }
            }
        },
        leg_serpentssparker_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_themagistrate_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theundisputedchampion_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["frenzy"],
                        percent: e[0]
                    }
                }
            }
        },
        set_typhon_4pc: {
            buffs: function(e, a) {
                return {
                    dmgred: 8 * DiabloCalc.skills.wizard.hydra.params[0].val
                }
            }
        },
        set_typhon_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: 2e3 * DiabloCalc.skills.wizard.hydra.params[0].val
                    }
                }
            }
        },
        set_mundunugu_4pc: {
            active: !0,
            buffs: {
                dmgred: 60
            }
        },
        set_mundunugu_6pc: {
            last: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: 2e4 + 5 * (a.manaregen + (a.manaregen_percent || 0) * a.maxmana * .01) * (1 + .01 * (a.resourcegen || 0))
                }
            }
        },
        set_savages_2pc: {
            active: !1,
            buffs: {
                dmgmul: 100
            }
        },
        set_savages_4pc: {
            buffs: function(e, a) {
                return {
                    dmgred: 6 * DiabloCalc.skills.barbarian.frenzy.params[0].val
                }
            }
        },
        set_savages_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["frenzy"],
                        percent: 1e3 * DiabloCalc.skills.barbarian.frenzy.params[0].val
                    }
                }
            }
        },
        leg_emimeisduffel_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bolas"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_holypointshot_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["impale"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_leoninebowofhashir_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bolas"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_razethsvolition_p69: {
            active: !0,
            activetip: "Full Essence",
            buffs: {},
            inactive: function(e, a) {
                return {
                    dmgmul: -e[0]
                }
            }
        },
        leg_theninthcirrisatchel_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_stoneofjordan: {
            last: !0,
            buffs: function(e, a) {
                for (var s = DiabloCalc.statGroups.elemental.filter(function(e) {
                        return -1 !== DiabloCalc.stats[e].classes.indexOf(DiabloCalc.charClass)
                    }), l = 0, n = 0; n < s.length; ++n) a[s[n]] && a[s[n]] > l && (l = a[s[n]]);
                for (var r = {}, n = 0; n < s.length; ++n)(!a[s[n]] || a[s[n]] < l) && (r[s[n]] = l - (a[s[n]] || 0));
                return r
            }
        },
        set_dreadlands_2pc: {
            params: [{
                min: 0,
                max: 20,
                name: "Momentum"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: 10 * this.params[0].val
                    }
                }
            }
        },
        set_dreadlands_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: 1e4
                    }
                }
            }
        },
        leg_bladeofthetribes_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["avalanche", "earthquake"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_gungdogear_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["explodingpalm"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_scrimshaw_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["zombiecharger"],
                        percent: 100 * (e[0] - 1)
                    }
                }
            }
        },
        leg_themortaldrama_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bombardment"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_valtheksrebuke_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_winterflurry_p610: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_wizardspike_p610: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0]
                    }
                }
            },
            info: {
                "Explosion Damage": {
                    elem: "col",
                    coeff: 9.5,
                    skill: "arcaneorb"
                },
                "Projectile Damage": {
                    elem: "col",
                    coeff: 6.35,
                    skill: "arcaneorb"
                },
                "Shard Damage": {
                    elem: "col",
                    coeff: 3.15,
                    skill: "arcaneorb"
                }
            }
        }
    };
} else {
    DiabloCalc.itemaffixes = {
        leg_goldwrap: {
            params: [{
                min: 0,
                max: 1e6,
                val: 0,
                name: "Gold",
                inf: !0
            }],
            buffs: function(e, a) {
                return {
                    armor: this.params[0].val
                }
            }
        },
        leg_madmonarchsscepter: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_stormcrow: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "1.15"
                }
            }
        },
        leg_sanguinaryvambraces: {
            info: {
                Damage: {
                    thorns: "normal",
                    coeff: 10,
                    elem: "phy"
                }
            }
        },
        leg_bootsofdisregard: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    regen: 1e4 * this.params[0].val
                }
            }
        },
        leg_overwhelmingdesire: {
            active: !1,
            buffs: {
                dmgtaken: 35
            }
        },
        leg_pridesfall: {
            active: !1,
            buffs: {
                rcr: 30
            }
        },
        leg_deathsbargain: {
            info: {
                DPS: "regen*$1/100"
            }
        },
        leg_insatiablebelt: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    life: 5 * this.params[0].val
                }
            }
        },
        leg_soulsmasher: {
            info: {
                Damage: "laek*$1/100"
            }
        },
        leg_firewalkers: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_firewalkers_p2: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_hellfirering: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 12,
                    total: !0
                }
            }
        },
        leg_bandofhollowwhispers: {
            info: {
                DPS: {
                    elem: "arc",
                    aps: !0,
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_rogarshugestone: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Health",
                percent: !0
            }],
            buffs: function(e, a) {
                return {
                    regen_bonus: e[0] * (1 - .01 * this.params[0].val)
                }
            }
        },
        leg_andarielsvisage: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_andarielsvisage_p2: {
            info: {
                Damage: {
                    elem: "psn",
                    coeff: "$1/100"
                }
            }
        },
        leg_themindseye: {
            active: !1,
            buffs: function(e, a) {
                return {
                    spiritregen: e[0]
                }
            }
        },
        leg_poxfaulds: {
            info: {
                DPS: {
                    elem: "psn",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_poxfaulds_p2: {
            info: {
                DPS: {
                    elem: "psn",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_hexingpantsofmryan: {
            active: !1,
            buffs: {
                damage: 25,
                resourcegen: 25
            },
            inactive: function(e, a) {
                return {
                    damage: -e[0],
                    resourcegen: -e[0]
                }
            }
        },
        leg_moonlightward: {
            info: {
                Damage: {
                    elem: "arc",
                    coeff: "$1/100"
                }
            }
        },
        leg_defenderofwestmarch: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_defenderofwestmarch_p2: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_hack: {
            info: {
                Damage: {
                    thorns: "normal",
                    coeff: "$1/100",
                    elem: "phy"
                }
            }
        },
        leg_wizardspike: {
            info: {
                "Explosion Damage": {
                    elem: "col",
                    coeff: 9.5,
                    skill: "arcaneorb"
                },
                "Projectile Damage": {
                    elem: "col",
                    coeff: 6.35,
                    skill: "arcaneorb"
                },
                "Shard Damage": {
                    elem: "col",
                    coeff: 3.15,
                    skill: "arcaneorb"
                }
            }
        },
        leg_odynson: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1.2
                }
            }
        },
        leg_fulminator: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_rimeheart: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 100
                }
            }
        },
        leg_thunderfury: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_sever: {
            info: {
                "Damage Modifier": "%(100+info.primary)*(1+0.01*chd)"
            }
        },
        leg_azurewrath: {
            info: {
                DPS: {
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_azurewrath_p3: {
            info: {
                DPS: {
                    coeff: "$1/100",
                    elem: "hol",
                    total: !0
                }
            }
        },
        leg_shardofhate: {
            info: {
                "Freezing Skull Damage": {
                    elem: "col",
                    coeff: "$1/100"
                },
                "Poison Nova Damage": {
                    elem: "psn",
                    coeff: "$1/100"
                },
                "Charged Bolt Damage": {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_demonmachine: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1
                }
            }
        },
        leg_pusspitter: {
            info: {
                DPS: {
                    elem: "psn",
                    aps: !0,
                    coeff: 1,
                    total: !0
                }
            }
        },
        leg_odysseysend: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.entanglingshot) return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_odysseysend_p69: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.entanglingshot) return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_cluckeye: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: 5
                }
            }
        },
        leg_balefulremnant: {
            info: {
                "Avatar Damage": {
                    elem: "phy",
                    pet: !0,
                    coeff: 1,
                    skill: "phalanx"
                },
                "Avatar DPS": {
                    sum: !0,
                    "Avatar Damage": {
                        pet: 60,
                        speed: 1
                    }
                }
            }
        },
        leg_deathwatchmantle_p2: {
            info: {
                "Min Damage": {
                    elem: "phy",
                    coeff: 7.5
                },
                "Max Damage": {
                    elem: "phy",
                    coeff: 9.5
                }
            }
        },
        leg_blackfeather: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_cinderswitch: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: 2.5
                }
            }
        },
        leg_schaefershammer: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_schaefershammer_p2: {
            info: {
                DPS: {
                    elem: "lit",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_wormwood: {
            info: function(e, a) {
                var s = a.skills.locustswarm || "x",
                    l = DiabloCalc.skills.witchdoctor.locustswarm.info(s, a);
                return delete l.Cost, l.Damage && (l.Damage.skill = "locustswarm"), l["Cloud Damage"] && (l["Cloud Damage"].skill = "locustswarm"), l
            }
        },
        leg_scourge: {
            info: {
                Damage: {
                    coeff: 20
                }
            }
        },
        leg_stalgardsdecimator: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_maximus: {
            info: {
                "Demon Damage": {
                    elem: "fir",
                    pet: !0,
                    coeff: 1
                },
                "Demon DPS": {
                    sum: !0,
                    "Demon Damage": {
                        pet: 96
                    }
                },
                "Chain Tick Damage": {
                    elem: "fir",
                    pet: !0,
                    aps: !0,
                    coeff: 1.3
                },
                "Chain DPS": {
                    sum: !0,
                    "Chain Tick Damage": {
                        aps: 5
                    }
                }
            }
        },
        leg_flyingdragon: {
            active: !1,
            buffs: function(e, a) {
                return {
                    weaponaps_percent: 100
                }
            }
        },
        leg_harringtonwaistguard: {
            active: !1,
            buffs: function(e, a) {
                return {
                    damage: e[0]
                }
            }
        },
        leg_razorstrop: {
            info: {
                Damage: {
                    elem: "fir",
                    coeff: "$1/100"
                }
            }
        },
        leg_sashofknives: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_sashofknives_p2: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: "$1/100"
                }
            }
        },
        leg_seborsnightmare: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 40,
                    skill: "haunt"
                }
            }
        },
        leg_seborsnightmare_p2: {
            info: {
                Damage: {
                    elem: "col",
                    coeff: 40,
                    skill: "haunt"
                }
            }
        },
        leg_thundergodsvigor: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_strongarmbracers: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgtaken: e[0]
                }
            }
        },
        leg_calamity: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (!a.skills.markedfordeath) return {
                    dmgtaken: 15
                }
            }
        },
        set_istvan_2pc: {
            active: !1,
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    ias: 6 * s,
                    dmgmul: 6 * s,
                    armor_percent: 6 * s
                }
            }
        },
        set_talrasha_2pc: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!(a.leg_nilfursboast || a.leg_nilfursboast_p2 || a.leg_nilfursboast_p6)
            },
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal2"),
                    l = {},
                    n = 0,
                    n = {};
                if (s.fir && (l["Fire Damage"] = {
                        elem: "fir",
                        coeff: 16.48,
                        addcoeff: [6.25],
                        total: 0,
                        skill: "meteor"
                    }, n["Fire Damage"] = {}), s.col && (l["Cold Damage"] = {
                        elem: "col",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Cold Damage"] = {}), s.lit && (l["Lightning Damage"] = {
                        elem: "lit",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Lightning Damage"] = {}), s.arc && (l["Arcane Damage"] = {
                        elem: "arc",
                        coeff: 7.4,
                        addcoeff: [2.35],
                        total: 0,
                        skill: "meteor"
                    }, n["Arcane Damage"] = {}), !$.isEmptyObject(n)) {
                    for (var r in n) n[r].cd = 8, n[r].cdr = !1;
                    var t;
                    a.leg_nilfursboast_p6 ? (t = {})[DiabloCalc.itemById.P61_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p6 : 600 : a.leg_nilfursboast_p2 ? (t = {})[DiabloCalc.itemById.P41_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p2 : 200 : a.leg_nilfursboast && ((t = {})[DiabloCalc.itemById.P2_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast : 100);
                    for (var i in l) l[i].exclude = ["arcanedynamo"], l[i].percent = t;
                    n.sum = !0, l.DPS = n
                }
                return l
            }
        },
        set_talrasha_4pc: {
            active: !0,
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal4"),
                    l = [];
                for (var n in s) l.push(DiabloCalc.elements[n]);
                if (l.length) return {
                    "Active Elements": l.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "tal4")).length
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    resist_percent: 25 * this.params[0].val
                }
            }
        },
        set_talrasha_6pc: {
            active: !0,
            info: function(e, a) {
                var s = DiabloCalc.passives.wizard.elementalexposure.getElems(a, "tal6"),
                    l = [];
                for (var n in s) l.push(DiabloCalc.elements[n]);
                if (l.length) return {
                    "Active Elements": l.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "tal6")).length
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 2e3 * this.params[0].val
                }
            }
        },
        set_firebird_2pc: {
            info: {
                "Meteor Damage": {
                    elem: "fir",
                    coeff: 16.48,
                    addcoeff: [6.25],
                    total: !0,
                    skill: "meteor"
                }
            }
        },
        set_firebird_4pc: {
            params: [{
                min: 0,
                max: 3,
                name: "Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                if (this.params[0].val) return {
                    DPS: {
                        elem: "fir",
                        coeff: 10 * this.params[0].val,
                        total: !0
                    }
                }
            }
        },
        set_firebird_6pc: {
            params: [{
                min: 0,
                max: 20,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 200 * this.params[0].val,
                    dmgred: 3 * this.params[0].val
                }
            }
        },
        set_sunwuko_2pc: {
            buffs: function(e, a) {
                if (DiabloCalc.skills && DiabloCalc.skills.monk) {
                    return DiabloCalc.skills.monk.sweepingwind.params[0].val ? {
                        dmgred: 50
                    } : void 0
                }
            }
        },
        set_sunwuko_4pc: {
            info: function(e, a) {
                if (DiabloCalc.skills && DiabloCalc.skills.monk) {
                    return {
                        Damage: {
                            elem: "max",
                            coeff: 10 * DiabloCalc.skills.monk.sweepingwind.params[0].val
                        }
                    }
                }
            }
        },
        set_roland_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack", "shieldbash"],
                    percent: 13e3
                }
            }
        },
        set_roland_6pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    ias: 75 * this.params[0].val,
                    dmgred: 100 * (1 - Math.pow(.85, this.params[0].val))
                }
            }
        },
        leg_skysplitter: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: 1.8
                }
            }
        },
        leg_skysplitter_p2: {
            info: {
                "Min Damage": {
                    elem: "lit",
                    coeff: 6
                },
                "Max Damage": {
                    elem: "lit",
                    coeff: 7.5
                }
            }
        },
        leg_brokenpromises: {
            info: function(e, a) {
                var s = 1 - .01 * a.final.chc;
                return {
                    "Average Hits to Proc": DiabloCalc.formatNumber((Math.pow(s, -5) - 1) / (1 - s), 2)
                }
            },
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_enviousblade: {
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_arcstone: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100"
                }
            }
        },
        leg_conventionofelements: {
            active: !1,
            info: function(e, a) {
                for (var s = ["arc", "col", "fir", "hol", "lit", "phy", "psn"], l = [], n = 0; n < s.length; ++n) DiabloCalc.stats["dmg" + s[n]].classes && DiabloCalc.stats["dmg" + s[n]].classes.indexOf(DiabloCalc.charClass) < 0 || "col" == s[n] && "crusader" == DiabloCalc.charClass || l.push(DiabloCalc.elements[s[n]]);
                if (l.length) return {
                    Rotation: l.join(", ")
                }
            },
            buffs: function(e, a) {
                for (var s = ["arc", "col", "fir", "hol", "lit", "phy", "psn"], l = [], n = 0; n < s.length; ++n) DiabloCalc.stats["dmg" + s[n]].classes && DiabloCalc.stats["dmg" + s[n]].classes.indexOf(DiabloCalc.charClass) < 0 || "col" == s[n] && "crusader" == DiabloCalc.charClass || l.push(s[n]);
                if (l.length) return {
                    dmgmul: {
                        name: DiabloCalc.itemById.P2_Unique_Ring_04.name,
                        elems: l,
                        percent: e[0]
                    }
                }
            }
        },
        leg_corruptedashbringer: {
            info: {
                "Skeleton Explosion Damage": {
                    elem: "phy",
                    coeff: 10
                },
                "Burn Damage": {
                    elem: "hol",
                    coeff: "$1/100",
                    total: !0
                }
            }
        },
        leg_ivorytower: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "hol",
                        coeff: 9.6,
                        skill: "heavensfury"
                    }
                };
                return a.leg_fateofthefell && (s["Total Damage"] = {
                    sum: !0,
                    Damage: {
                        count: 3
                    }
                }), s
            }
        },
        set_bastionsofwill_2pc: {
            params: [{
                min: 0,
                max: 2,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        percent: [0, 50, 125][this.params[0].val]
                    }
                }
            }
        },
        leg_oculusring: {
            active: !1,
            buffs: function(e, a) {
                return {
                    damage: e[0]
                }
            }
        },
        leg_oculusring_p2: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        set_immortalking_6pc: {
            buffs: function(e, a) {
                if (DiabloCalc.skills.barbarian.wrathoftheberserker.active) return {
                    dmgmul: {
                        percent: 4e3
                    }
                }
            }
        },
        leg_spiritguards: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_spiritguards_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_wrapsofclarity: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_wrapsofclarity_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        set_natalya_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["rainofvengeance"],
                    percent: 100
                }
            }
        },
        set_natalya_6pc: {
            active: !0,
            buffs: {
                dmgmul: 14e3,
                dmgred: 60
            }
        },
        set_zunimassa_4pc: {
            info: function(e, a) {
                var s = 0;
                if (a.skills.fetisharmy) switch (a.skills.fetisharmy) {
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        s = 6;
                        break;
                    case "e":
                        s = 7;
                        break;
                    default:
                        s = 5
                }
                if ((a.passives.fetishsycophants || a.leg_beltoftranscendence) && (s += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), s) return {
                    "Damage Reduction": 3 * s + "%"
                }
            },
            active: !0,
            buffs: function(e, a) {
                var s = 0;
                if (a.skills.fetisharmy) switch (a.skills.fetisharmy) {
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        s = 6;
                        break;
                    case "e":
                        s = 7;
                        break;
                    default:
                        s = 5
                }
                if ((a.passives.fetishsycophants || a.leg_beltoftranscendence) && (s += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), s) return {
                    dmgred: 3 * s
                }
            }
        },
        set_zunimassa_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !0,
                    percent: 15e3
                }
            }
        },
        set_marauder_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["sentry"],
                    percent: 400
                }
            }
        },
        set_marauder_6pc: {
            buffs: function(e, a) {
                if (a.skills.sentry || a.leg_helltrapper) {
                    var s = DiabloCalc.skills.demonhunter.sentry.params[0].val;
                    return {
                        dmgmul: {
                            list: [{
                                pet: !1,
                                skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade", "chakram", "clusterarrow", "elementalarrow", "impale", "multishot", "vengeance"],
                                percent: 12e3 * s
                            }, {
                                skills: ["companion"],
                                percent: 12e3 * s
                            }]
                        }
                    }
                }
            }
        },
        leg_beltoftranscendence: {
            check: !0,
            params: DiabloCalc.passives && DiabloCalc.passives.witchdoctor && DiabloCalc.passives.witchdoctor.fetishsycophants.params || [{
                min: 0,
                max: 15,
                name: "Count",
                buffs: !1,
                show: function(e) {
                    return !!this.id || !e.passives.fetishsycophants
                }
            }],
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.passives.fetishsycophants) return DiabloCalc.passives.witchdoctor.fetishsycophants.info.call(this, a)
            }
        },
        leg_homunculus: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        leg_homunculus_p2: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        leg_homunculus_p3: {
            check: !0,
            info: function(e, a) {
                if ("witchdoctor" === DiabloCalc.charClass && !a.skills.summonzombiedogs) return DiabloCalc.skills.witchdoctor.summonzombiedogs.info.call(this, "x", a)
            }
        },
        set_magnumopus_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    skills: ["arcaneorb", "energytwister", "explosiveblast", "magicmissile", "shockpulse", "spectralblade", "waveofforce"],
                    percent: 8500
                }
            }
        },
        set_unhallowed_4pc: {
            active: !0,
            buffs: {
                dmgred: 60,
                dmgmul: 60
            }
        },
        set_unhallowed_6pc: {
            params: [{
                min: 0,
                max: "maxdisc",
                name: "Discipline"
            }],
            buffs: function(e, a) {
                var s = ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade", "multishot", "vengeance"];
                return a.leg_kridershot && s.push("elementalarrow"), a.leg_spinesofseethinghatred && s.push("chakram"), {
                    dmgmul: {
                        skills: s,
                        percent: 350 * this.params[0].val
                    }
                }
            }
        },
        set_wastes_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["rend"],
                    percent: 500
                }
            }
        },
        set_wastes_4pc: {
            active: !0,
            buffs: {
                dmgred: 50,
                dmgmul: {
                    skills: ["rend"],
                    percent: 200
                }
            }
        },
        set_wastes_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["whirlwind", "rend"],
                    percent: 1e4
                }
            }
        },
        set_storms_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["fistsofthunder", "deadlyreach", "cripplingwave", "wayofthehundredfists"],
                    percent: 500
                }
            }
        },
        set_storms_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    skills: ["fistsofthunder", "deadlyreach", "cripplingwave", "wayofthehundredfists"],
                    percent: 6e3
                }
            }
        },
        leg_triumvirate: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_triumvirate_p2: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_triumvirate_p6: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_denial: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_denial_p6: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_hellskull: {
            buffs: function(e, a) {
                if ("twohand" == a.info.mainhand.slot) return {
                    damage: 10
                }
            }
        },
        leg_taskerandtheo: {
            buffs: function(e, a) {
                return {
                    petias: e[0]
                }
            }
        },
        leg_thefurnace: {
            buffs: function(e, a) {
                return {
                    edmg: e[0]
                }
            }
        },
        leg_avariceband: {
            params: [{
                min: 0,
                max: 30,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    pickup: this.params[0].val
                }
            }
        },
        leg_irontoemudsputters: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Health",
                percent: !0
            }],
            buffs: function(e, a) {
                return {
                    extrams: 25 * (1 - .01 * this.params[0].val)
                }
            }
        },
        leg_bloodbrother: {
            active: !1,
            activetip: "Include damage bonus",
            buffs: function(e, a) {
                return {
                    dmgmul: 30,
                    block: e[0]
                }
            },
            inactive: function(e, a) {
                return {
                    block: e[0]
                }
            }
        },
        leg_ancientparthandefenders: {
            params: [{
                min: 0,
                max: 20,
                val: 0,
                name: "Nearby Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 100 * (1 - Math.pow(1 - .01 * e[0], this.params[0].val))
                }
            }
        },
        leg_unity: {
            active: !1,
            buffs: {
                dmgred: 50
            }
        },
        leg_ukhapianserpent: {
            active: !0,
            check: !0,
            buffs: function(e, a) {
                if (a.skills.summonzombiedogs || a.leg_homunculus || a.leg_homunculus_p2 || a.leg_homunculus_p3) return {
                    dmgred: e[0]
                }
            }
        },
        leg_shimizushaori: {
            active: !1,
            buffs: {
                extrachc: 100
            }
        },
        leg_warzechianarmguards: {
            active: !1,
            buffs: {
                extrams: 50
            }
        },
        leg_deathwatchmantle: {
            info: {
                Damage: {
                    elem: "phy",
                    coeff: 2
                }
            }
        },
        leg_bulkathossweddingband: {
            info: function(e, a) {
                return {
                    Note: "capped at 0.4% of the enemy current health",
                    "Tick Damage": {
                        elem: "phy",
                        coeff: 20,
                        avg: !0,
                        total: !0
                    }
                }
            }
        },
        leg_beltofthetrove: {
            check: !0,
            info: function(e, a) {
                if ("crusader" === DiabloCalc.charClass) {
                    var s = a.skills.bombardment || "x",
                        l = DiabloCalc.skills.crusader.bombardment.info(s, a);
                    return delete l.Cooldown, l.Damage.skill = "bombardment", l["Thorns Damage"] && (l["Thorns Damage"].skill = "bombardment"), l["Mine Damage"] && (l["Mine Damage"].skill = "bombardment"), l
                }
            }
        },
        leg_visageofgiyua: {
            check: !0,
            info: function(e, a) {
                if (!a.skills.fetisharmy) return {
                    "Dagger Damage": {
                        elem: "phy",
                        pet: !0,
                        aps: !0,
                        coeff: 1.8,
                        skill: "fetisharmy"
                    },
                    "Total DPS": {
                        sum: !0,
                        "Dagger Damage": {
                            pet: 48,
                            count: 5
                        }
                    }
                }
            }
        },
        leg_hunterswrath: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_hunterswrath_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bracersofthefirstmen: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bracersofthefirstmen_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theswami: {
            check: !1,
            active: !0,
            params: [{
                min: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)",
                max: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)+50",
                val: "min",
                name: "Stacks",
                inf: !0
            }],
            buffs: function(e, a) {
                if (!(a.skills.archon && DiabloCalc.skills.wizard && DiabloCalc.skills.wizard.archon && DiabloCalc.skills.wizard.archon.active)) {
                    var s = this.params[0].val,
                        l = {
                            dmgmul: 6 * s
                        };
                    return a.set_vyr_4pc && (l.ias = 1 * s, l.armor_percent = 1 * s, l.resist_percent = 1 * s), a.set_vyr_6pc && (l.dmgred = 100 * (1 - Math.pow(.9985, s)), l.dmgmul = 100 * s), l
                }
            }
        },
        leg_theswami_p3: {
            clone: "leg_theswami"
        },
        set_light_4pc: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.fallingsword) return {
                    dmgred: 50
                }
            }
        },
        set_light_6pc: {
            buffs: {
                dmgmul: {
                    list: [{
                        skills: ["blessedhammer"],
                        percent: 12e3
                    }, {
                        skills: ["fallingsword"],
                        percent: 1e3
                    }]
                }
            }
        },
        set_shenlong_2pc: {
            active: !0,
            buffs: {
                dmgmul: 200
            }
        },
        set_helltooth_2pc: {
            active: !0,
            info: {
                "Necrosis DPS": {
                    elem: "max",
                    coeff: 30,
                    total: !0
                }
            }
        },
        set_helltooth_4pc: {
            active: !0,
            buffs: {
                dmgred: 60
            }
        },
        set_helltooth_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        list: [{
                            pet: !1,
                            skills: ["poisondart", "plagueoftoads", "firebomb", "acidcloud", "firebats", "zombiecharger", "graspofthedead", "piranhas", "wallofdeath"],
                            percent: 9e3
                        }, {
                            skills: ["summonzombiedogs", "gargantuan", "corpsespiders"],
                            percent: 9e3
                        }]
                    }
                }
            }
        },
        set_arachyr_2pc: {
            info: {
                DPS: {
                    elem: "max",
                    pet: !0,
                    coeff: 8,
                    total: !0
                }
            }
        },
        set_arachyr_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["corpsespiders", "plagueoftoads", "firebats", "hex", "locustswarm", "piranhas"],
                    percent: 9e3
                }
            }
        },
        leg_chilanikschain: {
            check: !0,
            active: !0,
            buffs: function(e, a) {
                if (a.skills.warcry) return {
                    extrams: e[0]
                }
            }
        },
        leg_jeramsbracers: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["wallofdeath"],
                        percent: e[0]
                    }
                }
            }
        },
        set_uliana_2pc: {
            check: !0,
            info: function(e, a) {
                if (!a.skills.explodingpalm) {
                    var s = {};
                    return a.leg_thefistofazturrasq && (s[DiabloCalc.itemById.Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq), a.leg_thefistofazturrasq_p2 && (s[DiabloCalc.itemById.P4_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p2), a.leg_thefistofazturrasq_p6 && (s[DiabloCalc.itemById.P61_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p6), {
                        "Palm Damage": {
                            elem: "phy",
                            coeff: 12,
                            total: !0,
                            skill: "explodingpalm"
                        },
                        "Palm Explosion Damage": {
                            elem: "phy",
                            coeff: 27.7,
                            percent: s,
                            skill: "explodingpalm"
                        }
                    }
                }
            }
        },
        set_uliana_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["explodingpalm"],
                    percent: 9e3
                }
            }
        },
        leg_nagelring: {
            info: function(e, a) {
                return {
                    Damage: {
                        elem: "max",
                        coeff: 100
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: e[0]
                        }
                    }
                }
            }
        },
        set_earth_6pc: {
            buffs: {
                dmgmul: {
                    skills: ["earthquake", "avalanche", "leap", "groundstomp", "ancientspear", "seismicslam"],
                    percent: 2e4
                }
            }
        },
        set_raekor_4pc: {
            buffs: {
                dmgmul: {
                    skills: ["furiouscharge"],
                    percent: 1e3
                }
            }
        },
        set_raekor_6pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients", "rend", "seismicslam", "whirlwind", "ancientspear", "earthquake"],
                        percent: 5500 * this.params[0].val
                    }
                }
            }
        },
        set_danetta_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["vault"],
                    percent: 800
                }
            }
        },
        set_inna_6pc: {
            info: function(e, a) {
                if (!a.skills.mystically && "monk" === DiabloCalc.charClass) {
                    var s = DiabloCalc.skills.monk.mystically.info("x", a);
                    for (var l in s) s[l].elem && (s[l].skill = "mystically");
                    return s
                }
            },
            buffs: function(e, a) {
                if ("monk" === DiabloCalc.charClass) {
                    var s = {
                        dmgmul: {
                            pet: !1,
                            percent: 3750 * (a.leg_thecrudestboots ? 2 : 1)
                        }
                    };
                    return a.skills.mystically || $.extend(s, DiabloCalc.skills.monk.mystically.passive("x", a)), s
                }
            }
        },
        set_endlesswalk_2pc: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Moving"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 10 * this.params[0].val,
                    dmgmul: 20 * (5 - this.params[0].val)
                }
            }
        },
        set_nightmares_2pc: {
            buffs: function(e, a) {
                for (var s in a.info.sets)
                    if (!("nightmares" === s || a.info.sets[s] <= 1)) {
                        var l = a.info.sets[s] + (a.leg_ringofroyalgrandeur ? 1 : 0);
                        for (var n in DiabloCalc.itemSets[s].bonuses)
                            if (n <= l) return
                    }
                return {
                    dmgmul: 750 * a.info.ancients,
                    dmgred: 4 * a.info.ancients
                }
            }
        },
        leg_pintospride: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["waveoflight"],
                        percent: e[0]
                    }
                }
            }
        },
        set_shadow_2pc: {
            buffs: function(e, a) {
                var s = a.info.mainhand.type;
                if (s && "bow" !== s && "crossbow" !== s && "handcrossbow" !== s) return {
                    dmgmul: 6e3
                }
            }
        },
        set_invoker_2pc: {
            params: [{
                min: 0,
                max: 25,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    thorns_percent: 350 * this.params[0].val
                }
            }
        },
        set_invoker_4pc: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        set_norvald_2pc: {
            active: !1,
            buffs: {
                dmgmul: 100
            }
        },
        leg_stringofears: {
            buffs: function(e, a) {
                return {
                    meleedef: e[0]
                }
            }
        },
        leg_zoeyssecret: {
            buffs: function(e, a) {
                if (a.skills.companion) {
                    var s = "e" === a.skills.companion ? 2 : 1;
                    return a.set_marauder_2pc && (s = 7), ("c" === a.skills.companion || a.set_marauder_2pc) && a.leg_thecloakofgarwulf && (s += 2), {
                        dmgred: s * e[0]
                    }
                }
            }
        },
        leg_riveradancers: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["lashingtailkick"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_cesarsmemento: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_cesarsmemento_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bindingsofthelessergods: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["mystically"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_lastbreath: {
            buffs: function(e, a) {
                return {
                    skill_witchdoctor_massconfusion_cooldown: e[0]
                }
            }
        },
        leg_aquilacuirass: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        leg_heartofiron: {
            buffs: function(e, a) {
                return {
                    vit_to_thorns: e[0]
                }
            }
        },
        leg_warhelmofkassar: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["phalanx"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_oathkeeper: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bash", "cleave", "frenzy", "weaponthrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_vilehive: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["locustswarm"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thingofthedeep: {
            buffs: {
                pickup: 20
            }
        },
        leg_hammerjammers: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedhammer"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_ringofemptiness: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        pet: !1,
                        percent: e[0]
                    }
                }
            }
        },
        leg_ringofemptiness_p2: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        pet: !1,
                        percent: e[0]
                    }
                }
            }
        },
        leg_elusivering: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_bandofmight: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_bandofmight_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_lefebvressoliloquy: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_mantleofchanneling: {
            active: !0,
            buffs: function(e, a) {
                if (a.skills.whirlwind || a.skills.rapidfire || a.skills.strafe || a.skills.tempestrush || a.skills.firebats || a.skills.arcanetorrent || a.skills.disintegrate || a.skills.rayoffrost || a.skills.siphonblood) return {
                    dmgred: 25,
                    dmgmul: e[0]
                }
            }
        },
        leg_thethreehundredthspear: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["weaponthrow", "ancientspear"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_akkhansleniency: {
            params: [{
                min: 0,
                max: 50,
                val: 0,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan_p2: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_lordgreenstonesfan_p6: {
            params: [{
                min: 0,
                max: 30,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fanofknives"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_shieldoffury: {
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_shieldoffury_p6: {
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_thetwistedsword: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_deathwish: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_deathwish_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_maskofjeram: {
            buffs: function(e, a) {
                return {
                    petdamage: e
                }
            }
        },
        leg_maskofjeram_p6: {
            buffs: function(e, a) {
                return {
                    petdamage: e
                }
            }
        },
        leg_depthdiggers: {
            buffs: function(e, a) {
                if ("wizard" !== a.charClass || a.leg_theshameofdelsere) {
                    var s = [];
                    if ("witchdoctor" === a.charClass) {
                        var l = DiabloCalc.getStats().skills;
                        "d" === l.poisondart && s.push("poisondart"), "a" === l.corpsespiders && s.push("corpsespiders"), "d" === l.plagueoftoads && s.push("plagueoftoads"), DiabloCalc.getStats().leg_mordulluspromise && s.push("firebomb")
                    } else
                        for (var n in DiabloCalc.skills[a.charClass]) "primary" === DiabloCalc.skills[a.charClass][n].category && s.push(n);
                    return {
                        dmgmul: {
                            skills: s,
                            percent: e[0]
                        }
                    }
                }
            }
        },
        leg_orbofinfinitedepth: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: this.params[0].val * e[0],
                    dmgred: 15 * this.params[0].val
                }
            }
        },
        leg_orbofinfinitedepth_p6: {
            params: [{
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: this.params[0].val * e[0],
                    dmgred: 20 * this.params[0].val
                }
            }
        },
        leg_fragmentofdestiny: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["spectralblade"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_magefist: {
            buffs: function(e, a) {
                return {
                    dmgfir: e[0]
                }
            }
        },
        leg_frostburn_p2: {
            buffs: function(e, a) {
                return {
                    dmgcol: e[0]
                }
            }
        },
        leg_skullgrasp_p2: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["whirlwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_skullgrasp_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["whirlwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_johannasargument: {
            buffs: {
                dmgmul: {
                    skills: ["blessedhammer"],
                    percent: 100
                }
            }
        },
        leg_bakulijunglewraps: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bakulijunglewraps_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_swamplandwaders: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sacrifice"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theflowofeternity_p2: {
            buffs: {
                dmgmul: {
                    skills: ["sevensidedstrike"],
                    percent: 100
                }
            }
        },
        leg_fleshrake: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["dashingstrike"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_crystalfist: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_haloofkarini: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_haloofkarini_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_ingeom: {
            active: !1,
            buffs: function(e, a) {
                return {
                    cdrint: e[0]
                }
            }
        },
        leg_cordoftherighteous: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistoftheheavens"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_girdleofgiants: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["earthquake"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_girdleofgiants_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["earthquake"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_starfire: {
            params: [{
                min: 0,
                max: 40,
                name: "Distance"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["lit"],
                        percent: this.params[0].val * e[0] / 10
                    }
                }
            }
        },
        leg_rechelsringoflarceny: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_thebarber: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["spiritbarrage"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_manaldheal: {
            info: {
                Damage: {
                    elem: "lit",
                    coeff: "$1/100",
                    manald: !0
                }
            }
        },
        leg_steuartsgreaves: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_steuartsgreaves_p6: {
            active: !1,
            buffs: function(e, a) {
                return {
                    extrams: e[0]
                }
            }
        },
        leg_brynersjourney: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.75,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_graspsofessence: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpseexplosion"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_graspsofessence_p69: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpseexplosion"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_golemskinbreeches: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["commandgolem"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thejohnstone: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["corpselance", "corpseexplosion"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_losttime: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    extrams: e[0] * this.params[0].val
                }
            }
        },
        leg_losttime_p6: {
            params: [{
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    extrams: e[0] * this.params[0].val
                }
            }
        },
        leg_ironrose: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.5,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_ironrose_p65: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 4.5,
                        skill: "deathnova"
                    }
                };
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.Damage.factors = {}, s.Damage.factors[DiabloCalc.skills.necromancer.simulacrum.name] = "d" === a.skills.simulacrum ? 3 : 2), s
            }
        },
        leg_krysbinssentence: {
            active: !1,
            boxnames: ["Triple bonus"],
            buffs: function(e, a) {
                return {
                    dmgmul: (this.boxvals[0] ? 3 : 1) * e[0]
                }
            }
        },
        leg_lornellessunstone: {
            params: [{
                min: 0,
                max: 100,
                val: 100,
                name: "Life"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: (100 - this.params[0].val) * e[0]
                }
            }
        },
        leg_trangoulscorrodedfang: {
            active: !1,
            buffs: function(e, a) {
                return {
                    dmgmul: e[0]
                }
            }
        },
        leg_maltoriuspetrifiedspike: {
            buffs: function(e, a) {
                return {
                    skill_necromancer_bonespear: e[0]
                }
            }
        },
        leg_maltoriuspetrifiedspike_p6: {
            buffs: function(e, a) {
                return {
                    skill_necromancer_bonespear: e[0]
                }
            }
        },
        leg_reilenasshadowhook: {
            buffs: function(e, a) {
                return {
                    dmgmul: .5 * DiabloCalc.getStats(!0).maxessence
                }
            }
        },
        leg_nayrsblackdeath: {
            params: [{
                min: 0,
                max: function(e) {
                    if ("necromancer" !== e.charClass) return 0;
                    var a = 0;
                    for (var s in e.skills) DiabloCalc.skilltips.necromancer[s] && "psn" === DiabloCalc.skilltips.necromancer[s].elements[e.skills[s]] && (a += 1);
                    return a
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["psn"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_nayrsblackdeath_p6: {
            params: [{
                min: 0,
                max: function(e) {
                    if ("necromancer" !== e.charClass) return 0;
                    var a = 0;
                    for (var s in e.skills) DiabloCalc.skilltips.necromancer[s] && "psn" === DiabloCalc.skilltips.necromancer[s].elements[e.skills[s]] && (a += 1);
                    return a
                },
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        elems: ["psn"],
                        percent: this.params[0].val * e[0]
                    }
                }
            }
        },
        leg_spearofjairo: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    thorns_percent: this.params[0].val * e[0]
                }
            }
        },
        set_rathma_4pc: {
            params: [{
                min: 0,
                max: 50,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: this.params[0].val
                }
            }
        },
        set_rathma_6pc: {
            buffs: function(e, a) {
                if (a.skills.skeletalmage) {
                    var s = Math.min(4e3, 1e3 * DiabloCalc.skills.necromancer.skeletalmage.params[0].val);
                    return {
                        dmgmul: {
                            list: [{
                                pet: !0,
                                percent: s
                            }, {
                                skills: ["armyofthedead"],
                                percent: s
                            }]
                        }
                    }
                }
            }
        },
        set_trangoul_6pc: {
            buffs: function(e, a) {
                var s = ["bloodrush", "simulacrum"];
                return "d" === a.skills.bonespear && s.push("bonespear"), "c" === a.skills.skeletalmage && s.push("skeletalmage"), "c" === a.skills.deathnova && s.push("deathnova"), "c" === a.skills.corpselance && s.push("corpselance"), "b" === a.skills.corpseexplosion && s.push("corpseexplosion"), "b" === a.skills.revive && s.push("revive"), "e" === a.skills.armyofthedead && s.push("armyofthedead"), "d" === a.skills.bonearmor && s.push("bonearmor"), "a" === a.skills.bonespirit && s.push("bonespirit"), {
                    dmgmul: {
                        skills: s,
                        percent: 3800
                    }
                }
            }
        },
        set_inarius_2pc: {
            buffs: {
                dmgmul: {
                    skills: ["bonearmor"],
                    percent: 1e3
                }
            }
        },
        set_pestilence_2pc: {
            info: function(e, a) {
                if (!a.skills.corpselance) return {
                    "Explosion Damage": {
                        elem: "phy",
                        coeff: 17.5,
                        skill: "corpselance"
                    }
                }
            }
        },
        set_pestilence_4pc: {
            params: [{
                min: 0,
                max: 25,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: 2 * this.params[0].val
                }
            }
        },
        set_pestilence_6pc: {
            active: !0,
            buffs: {
                dmgmul: {
                    list: [{
                        skills: ["bonespear"],
                        percent: 3300
                    }, {
                        skills: ["corpselance", "corpseexplosion"],
                        percent: 1650
                    }]
                }
            },
            inactive: {
                dmgmul: {
                    skills: ["corpselance", "corpseexplosion"],
                    percent: 3300
                }
            }
        },
        leg_bloodtideblade: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["deathnova"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_bloodtideblade_p6: {
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                val: 0,
                name: "Enemies"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["deathnova"],
                        percent: e[0] * this.params[0].val
                    }
                }
            }
        },
        leg_frydehrswrath: {
            buffs: {
                dmgmul: {
                    skills: ["condemn"],
                    percent: 200
                }
            }
        },
        leg_frydehrswrath_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["condemn"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_unstablescepter: {
            buffs: {
                dmgmul: {
                    skills: ["arcaneorb"],
                    percent: 65
                }
            }
        },
        leg_goldenflense: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack"],
                    percent: 200
                }
            }
        },
        leg_goldenflense_p2: {
            buffs: {
                dmgmul: {
                    skills: ["sweepattack"],
                    percent: 200
                }
            }
        },
        leg_gavelofjudgment: {
            buffs: {
                dmgmul: {
                    skills: ["hammeroftheancients"],
                    percent: 100
                }
            }
        },
        leg_deadmanslegacy: {
            buffs: {
                dmgmul: {
                    skills: ["multishot"],
                    percent: 100
                }
            }
        },
        leg_theshortmansfinger: {
            buffs: {
                dmgmul: {
                    skills: ["gargantuan"],
                    percent: 200
                }
            }
        },
        leg_balance: {
            buffs: {
                dmgmul: {
                    skills: ["tempestrush"],
                    percent: 200
                }
            }
        },
        leg_bladeofprophecy: {
            buffs: {
                dmgmul: {
                    skills: ["condemn"],
                    percent: 100
                }
            }
        },
        leg_wandofwoh: {
            buffs: {
                dmgmul: {
                    skills: ["explosiveblast"],
                    percent: 100
                }
            }
        },
        leg_furyofthevanishedpeak: {
            buffs: {
                dmgmul: {
                    skills: ["seismicslam"],
                    percent: 125
                }
            }
        },
        leg_furyofthevanishedpeak_p2: {
            buffs: {
                dmgmul: {
                    skills: ["seismicslam"],
                    percent: 125
                }
            }
        },
        leg_staffofchiroptera: {
            buffs: {
                dmgmul: {
                    skills: ["firebats"],
                    percent: 60
                }
            }
        },
        leg_manticore: {
            buffs: {
                dmgmul: {
                    skills: ["clusterarrow"],
                    percent: 80
                }
            }
        },
        leg_incensetorchofthegrandtemple: {
            buffs: {
                dmgmul: {
                    skills: ["waveoflight"],
                    percent: 30
                }
            }
        },
        leg_jekangbord: {
            buffs: {
                dmgmul: {
                    skills: ["blessedshield"],
                    percent: 200
                }
            }
        },
        leg_fatesvow_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["armyofthedead"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_daynteesbinding_p6: {
            buffs: function(e, a) {
                return {
                    dmgred: e[0]
                }
            }
        },
        leg_yangsrecurve_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["multishot"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_ranslorsfolly_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["energytwister"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_balance_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_incensetorchofthegrandtemple_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["waveoflight"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_jekangbord_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_karleispoint_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["impale"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_gyrfalconsfoote_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["blessedshield"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_fateofthefell_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_goldenflense_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepattack"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_gavelofjudgment_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_furyofthevanishedpeak_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["seismicslam"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_deadmanslegacy_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["multishot"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theshortmansfinger_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["gargantuan"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_staffofchiroptera_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["firebats"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_bladeofprophecy_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["condemn"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_wandofwoh_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["explosiveblast"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_manticore_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["clusterarrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_unstablescepter_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb"],
                        percent: e[0]
                    }
                }
            }
        },
        set_jadeharvester_6pc: {
            active: !0,
            buffs: {
                dmgred: 50
            }
        },
        leg_etchedsigil_p6: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["arcaneorb", "waveofforce", "energytwister", "hydra", "meteor", "blizzard", "explosiveblast", "blackhole"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thegrandvizier: {
            buffs: {
                dmgmul: {
                    skills: ["meteor"],
                    percent: 30
                }
            }
        },
        leg_thegrandvizier_p6: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["meteor"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_sinseekers_p65: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["rapidfire"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_thedaggerofdarts_p65: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["poisondart"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theburningaxeofsankis: {
            active: !1,
            buffs: {
                dmgred: 50
            }
        },
        leg_wallofman: {
            active: !1,
            buffs: {
                dmgred: 20
            }
        },
        set_crimson_v2_3pc: {
            last: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: a.cdr,
                    dmgred: a.rcr
                }
            }
        },
        leg_echoingfury: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    ms: 5 * this.params[0].val,
                    ias: 15 * this.params[0].val
                }
            }
        },
        leg_squirtsnecklace: {
            params: [{
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: 10 * this.params[0].val,
                    dmgred: 5 * -this.params[0].val
                }
            }
        },
        leg_stonegauntlets: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    armor_percent: 50 * s,
                    ms: 15 * -s * (1 - .01 * (a.ccr || 0)),
                    ias: 20 * -s * (1 - .01 * (a.ccr || 0))
                }
            }
        },
        leg_darklight_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistoftheheavens"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_fjordcutter_p67: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["seismicslam"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_lamentation_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["rend"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_remorseless_p67: {
            buffs: function(e, a) {
                if ((DiabloCalc.skills.barbarian.calloftheancients.active || a.set_immortalking_2pc) && DiabloCalc.skills.barbarian.wrathoftheberserker.active) return {
                    dmgmul: {
                        skills: ["hammeroftheancients"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_vengefulwind_p67: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["sweepingwind"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_wonkhimlau: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["tempestrush", "cyclonestrike"],
                        percent: e[0]
                    }
                }
            }
        },
        set_valor_2pc: {
            active: !0,
            params: [{
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = this.params[0].val;
                return {
                    dmgmul: {
                        skills: ["heavensfury"],
                        percent: 100 * (Math.pow(2, s) - 1)
                    }
                }
            }
        },
        set_valor_4pc: {
            active: !0,
            params: [{
                min: 0,
                max: 50,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return {
                    dmgred: this.params[0].val
                }
            }
        },
        set_valor_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["fistsofvalor", "heavensfury"],
                        percent: 2e4
                    }
                }
            }
        },
        set_justice_4pc: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgred: 50,
                    spiritregen: 50
                }
            }
        },
        set_justice_6pc: {
            active: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        percent: 15e3
                    }
                }
            }
        },
        leg_serpentssparker_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_themagistrate_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_theundisputedchampion_p68: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["frenzy"],
                        percent: e[0]
                    }
                }
            }
        },
        set_typhon_4pc: {
            buffs: function(e, a) {
                return {
                    dmgred: 8 * DiabloCalc.skills.wizard.hydra.params[0].val
                }
            }
        },
        set_typhon_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hydra"],
                        percent: 1300 * DiabloCalc.skills.wizard.hydra.params[0].val
                    }
                }
            }
        },
        set_mundunugu_4pc: {
            active: !0,
            buffs: {
                dmgred: 60
            }
        },
        set_mundunugu_6pc: {
            last: !0,
            buffs: function(e, a) {
                return {
                    dmgmul: 2e4 + 5 * (a.manaregen + (a.manaregen_percent || 0) * a.maxmana * .01) * (1 + .01 * (a.resourcegen || 0))
                }
            }
        },
        set_savages_2pc: {
            active: !1,
            buffs: {
                dmgmul: 100
            }
        },
        set_savages_4pc: {
            buffs: function(e, a) {
                return {
                    dmgred: 6 * DiabloCalc.skills.barbarian.frenzy.params[0].val
                }
            }
        },
        set_savages_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["frenzy"],
                        percent: 1e3 * DiabloCalc.skills.barbarian.frenzy.params[0].val
                    }
                }
            }
        },
        leg_emimeisduffel_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bolas"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_holypointshot_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["impale"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_leoninebowofhashir_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["bolas"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_razethsvolition_p69: {
            active: !0,
            activetip: "Full Essence",
            buffs: {},
            inactive: function(e, a) {
                return {
                    dmgmul: -e[0]
                }
            }
        },
        leg_theninthcirrisatchel_p69: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow"],
                        percent: e[0]
                    }
                }
            }
        },
        leg_stoneofjordan: {
            last: !0,
            buffs: function(e, a) {
                for (var s = DiabloCalc.statGroups.elemental.filter(function(e) {
                        return -1 !== DiabloCalc.stats[e].classes.indexOf(DiabloCalc.charClass)
                    }), l = 0, n = 0; n < s.length; ++n) a[s[n]] && a[s[n]] > l && (l = a[s[n]]);
                for (var r = {}, n = 0; n < s.length; ++n)(!a[s[n]] || a[s[n]] < l) && (r[s[n]] = l - (a[s[n]] || 0));
                return r
            }
        },
        set_dreadlands_2pc: {
            params: [{
                min: 0,
                max: 20,
                name: "Momentum"
            }],
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: 10 * this.params[0].val
                    }
                }
            }
        },
        set_dreadlands_6pc: {
            buffs: function(e, a) {
                return {
                    dmgmul: {
                        skills: ["hungeringarrow", "entanglingshot", "bolas", "evasivefire", "grenade"],
                        percent: 1e4
                    }
                }
            }
        }
    };
}
DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.barbarian = {
    varSpeed: function(e) {
        switch (e.info.weaponClass) {
            case "swing":
                return 57.142834;
            case "thrust":
                return 56.842068;
            case "swing2h":
            case "thrust2h":
            case "staff":
                return 57.272724;
            case "dualwield":
                return 57.142834;
            default:
                return 56.47057
        }
    }
}, DiabloCalc.skills.barbarian = {
    bash: {
        active: !0,
        params: [{
            rune: "b",
            min: 0,
            max: 3,
            val: 3,
            name: "Stacks"
        }, {
            min: 0,
            max: 40,
            name: "Fury",
            buffs: !1,
            show: function(e, a) {
                return !!a.leg_bladeofthewarlord
            }
        }],
        info: function(e, a) {
            var r, o = DiabloCalc.barbarian.varSpeed(a);
            switch (e) {
                case "x":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.2
                        }
                    };
                    break;
                case "c":
                    r = {
                        Damage: {
                            elem: "col",
                            coeff: 3.2
                        }
                    };
                    break;
                case "a":
                    r = {
                        Damage: {
                            elem: "lit",
                            coeff: 3.2
                        }
                    };
                    break;
                case "b":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.2
                        }
                    };
                    break;
                case "d":
                    r = {
                        Damage: {
                            elem: "fir",
                            coeff: 3.2
                        }
                    };
                    break;
                case "e":
                    r = {
                        Damage: {
                            elem: "fir",
                            coeff: 3.2
                        },
                        "Shockwave Damage": {
                            elem: "fir",
                            coeff: 1
                        }
                    }
            }
            if (a.leg_bladeofthewarlord) {
                var n = {};
                n[DiabloCalc.itemById.P4_Unique_Mighty_1H_005.name] = a.leg_bladeofthewarlord * this.params[1].val / 40, r.Damage.percent = n, "e" === e && (r["Shockwave Damage"].percent = n)
            }
            return $.extend({
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: a.leg_oathkeeper ? 1.5 : 1,
                        fpa: o,
                        round: "up"
                    }
                }
            }, r)
        },
        buffs: function(e, a) {
            return "a" === e ? {
                chctaken: 10
            } : "b" === e ? {
                damage: 4 * this.params[0].val
            } : void 0
        }
    },
    cleave: {
        params: [{
            min: 0,
            max: "maxfury",
            name: "Fury",
            buffs: !1,
            show: function(e, a) {
                return !!a.leg_dishonoredlegacy
            }
        }],
        info: function(e, a) {
            var r;
            switch (a.info.weaponClass) {
                case "swing":
                    r = 57.857117;
                    break;
                case "thrust":
                    r = 57.857121;
                    break;
                case "swing2h":
                case "thrust2h":
                    r = 57.857128;
                    break;
                case "staff":
                    r = 57.931034;
                    break;
                case "dualwield":
                    r = 57.857124;
                    break;
                default:
                    r = 57.857117
            }
            var o;
            switch (e) {
                case "x":
                    o = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        }
                    };
                    break;
                case "e":
                    o = {
                        Damage: {
                            elem: "fir",
                            coeff: 2
                        },
                        "Explosion Damage": {
                            elem: "fir",
                            coeff: 1.6
                        }
                    };
                    break;
                case "d":
                    o = {
                        Damage: {
                            elem: "fir",
                            coeff: 2
                        }
                    };
                    break;
                case "c":
                    o = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        },
                        "Critical Damage": {
                            elem: "phy",
                            coeff: .8
                        }
                    };
                    break;
                case "a":
                    o = {
                        Damage: {
                            elem: "lit",
                            coeff: 2.35
                        }
                    };
                    break;
                case "b":
                    o = {
                        Damage: {
                            elem: "col",
                            coeff: 2
                        }
                    }
            }
            if (a.leg_dishonoredlegacy) {
                var n = {};
                n[DiabloCalc.itemById.Unique_Mighty_1H_103_x1.name] = a.leg_dishonoredlegacy * Math.max(0, (a.maxfury - this.params[0].val) / a.maxfury);
                for (var c in o) o[c].percent = n
            }
            var t = {
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: a.leg_oathkeeper ? 1.5 : 1,
                        fpa: r,
                        round: "up"
                    }
                }
            };
            return "c" === e && (t.DPS["Critical Damage"] = $.extend({
                nobp: !0,
                factor: .01 * a.final.chc
            }, t.DPS.Damage)), $.extend(t, o)
        },
        active: !0,
        buffs: {
            b: {
                dmgtaken: 10
            }
        }
    },
    frenzy: {
        params: [{
            min: 0,
            max: "(leg_bastionsrevered_p68||leg_bastionsrevered)?10:5",
            name: "Stacks",
            buffs: !1
        }],
        info: function(e, a) {
            var r, o = DiabloCalc.barbarian.varSpeed(a),
                n = this.params[0].val;
            if (a.leg_theundisputedchampion || a.leg_theundisputedchampion_p68) r = {
                Damage: {
                    elem: "max",
                    coeff: 2.2
                },
                "Sidearm Damage": {
                    elem: "max",
                    coeff: 3
                }
            };
            else switch (e) {
                case "x":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 2.2
                        }
                    };
                    break;
                case "b":
                    r = {
                        Damage: {
                            elem: "col",
                            coeff: 2.2
                        },
                        "Sidearm Damage": {
                            elem: "col",
                            coeff: 3
                        }
                    };
                    break;
                case "e":
                    r = {
                        Damage: {
                            elem: "col",
                            coeff: 2.2
                        }
                    };
                    break;
                case "c":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 2.2
                        }
                    };
                    break;
                case "d":
                    r = {
                        Damage: {
                            elem: "lit",
                            coeff: 2.2
                        }
                    };
                    break;
                case "a":
                    r = {
                        Damage: {
                            elem: "fir",
                            coeff: 2.2
                        }
                    }
            }
            var c = "Damage";
            a.leg_bastionsrevered_p68 && (r[c = "Total Damage"] = {
                sum: !0,
                Damage: {
                    count: this.params[0].val
                }
            });
            var t = {
                DPS: {
                    sum: !0
                }
            };
            return t.DPS[c] = {
                speed: a.leg_oathkeeper ? 1.5 : 1,
                ias: 15 * n,
                fpa: o,
                round: "up"
            }, ("b" === e || a.leg_theundisputedchampion || a.leg_theundisputedchampion_p68) && (t.DPS["Sidearm Damage"] = $.extend({
                nobp: !0,
                count: .25
            }, t.DPS[c])), $.extend(t, r)
        },
        active: !0,
        buffs: function(e, a) {
            var r = {};
            return ("a" === e || a.leg_theundisputedchampion || a.leg_theundisputedchampion_p68) && (r.damage = 2.5 * this.params[0].val), ("c" === e || a.leg_theundisputedchampion || a.leg_theundisputedchampion_p68) && (r.extrams = 5 * this.params[0].val), r
        }
    },
    weaponthrow: {
        info: {
            "*": {
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: "leg_oathkeeper?1.5:1",
                        fpa: 57.777767,
                        round: "up"
                    }
                }
            },
            x: {
                Damage: {
                    elem: "phy",
                    coeff: 2.75
                }
            },
            a: {
                Damage: {
                    elem: "lit",
                    coeff: 4
                }
            },
            b: {
                Damage: {
                    elem: "fir",
                    coeff: 2.75
                }
            },
            c: {
                Damage: {
                    elem: "phy",
                    coeff: 2.75
                }
            },
            e: {
                Damage: {
                    elem: "phy",
                    coeff: 2.75
                }
            },
            d: {
                Damage: {
                    elem: "fir",
                    coeff: 2.75
                }
            }
        }
    },
    hammeroftheancients: {
        params: [{
            min: 0,
            max: "maxfury",
            name: "Fury",
            buffs: !1
        }],
        info: {
            "*": {
                Cost: {
                    cost: 20
                },
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: "(leg_bracersofthefirstmen||leg_bracersofthefirstmen_p6)?50:0",
                        fpa: 56.666664,
                        round: "up"
                    }
                }
            },
            x: {
                Damage: {
                    elem: "phy",
                    coeff: 5.35,
                    chc: "$1/5"
                }
            },
            b: {
                Damage: {
                    elem: "phy",
                    coeff: 5.35,
                    chc: "$1/5"
                },
                "Shockwave Damage": {
                    elem: "phy",
                    coeff: 5.05
                }
            },
            a: {
                Damage: {
                    elem: "fir",
                    coeff: 6.4,
                    chc: "$1/5"
                }
            },
            c: {
                Damage: {
                    elem: "col",
                    coeff: 5.35,
                    chc: "$1/5"
                }
            },
            e: {
                Damage: {
                    elem: "lit",
                    coeff: 5.35,
                    chc: "$1/5"
                }
            },
            d: {
                Damage: {
                    elem: "phy",
                    coeff: 5.35,
                    chc: "$1/5"
                }
            }
        }
    },
    rend: {
        params: [{
            min: 1,
            max: "(leg_lamentation||leg_lamentation_p67)?2:1",
            name: "Stacks",
            buffs: !1
        }],
        info: {
            "*": {
                Cost: {
                    cost: 20
                },
                DPS: {
                    sum: !0,
                    Damage: {
                        divide: "leg_ambospride?1:(set_wastes_2pc?15:5)",
                        factor: "$1"
                    }
                }
            },
            x: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 11,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            },
            b: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 11,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            },
            d: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 11,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            },
            a: {
                Damage: {
                    weapon: "mainhand",
                    elem: "lit",
                    coeff: 13.5,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            },
            c: {
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 11,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            },
            e: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 11,
                    total: !0,
                    factors: {
                        "Extra Duration": "set_wastes_2pc?3:1"
                    }
                }
            }
        },
        active: !0,
        buffs: {
            c: {
                dmgtaken: 10
            }
        }
    },
    seismicslam: {
        active: !0,
        activetip: "First 5 enemies",
        activeshow: function(e, a) {
            return !!(a.leg_bracersofdestruction || a.leg_bracersofdestruction_p6 || a.leg_bracersofdestruction_p67)
        },
        params: [{
            rune: "b",
            min: 0,
            max: "maxfury",
            name: "Fury",
            buffs: !1
        }],
        info: function(e, a) {
            var r;
            switch (e) {
                case "x":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 6.2
                        }
                    };
                    break;
                case "c":
                    r = {
                        Cost: {
                            cost: 22
                        },
                        Damage: {
                            elem: "lit",
                            coeff: 6.2
                        }
                    };
                    break;
                case "a":
                    r = {
                        Damage: {
                            elem: "fir",
                            coeff: 7.35
                        }
                    };
                    break;
                case "b":
                    r = {
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: 1,
                                fpa: 58.666656,
                                round: "up"
                            }
                        },
                        Damage: {
                            elem: "phy",
                            coeff: 6.2
                        }
                    };
                    break;
                case "d":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 6.2
                        }
                    };
                    break;
                case "e":
                    r = {
                        Damage: {
                            elem: "col",
                            coeff: 7.55
                        }
                    }
            }
            "b" === e && this.params[0].val && (r["Rumble Damage"] = {
                elem: "phy",
                coeff: .15 * this.params[0].val
            }, r.DPS["Rumble Damage"] = {
                speed: 1,
                fpa: 58.666656,
                round: "up",
                nobp: !0
            }), this.active && (a.leg_bracersofdestruction || a.leg_bracersofdestruction_p6 || a.leg_bracersofdestruction_p67) && (r.Damage.percent = {}, r.Damage.percent[DiabloCalc.itemById.P3_Unique_Bracer_104.name] = a.leg_bracersofdestruction || a.leg_bracersofdestruction_p6 || a.leg_bracersofdestruction_p67, r["Rumble Damage"] && (r["Rumble Damage"].percent = $.extend({}, r.Damage.percent)));
            var o = {};
            return a.leg_furyofthevanishedpeak_p6 ? o.leg_furyofthevanishedpeak_p6 = 50 : a.leg_furyofthevanishedpeak_p2 ? o.leg_furyofthevanishedpeak_p2 = a.leg_furyofthevanishedpeak_p2 : a.leg_furyofthevanishedpeak && (o.leg_furyofthevanishedpeak = a.leg_furyofthevanishedpeak), r = $.extend({
                Cost: {
                    cost: 30,
                    rcr: o
                },
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 58.666656,
                        round: "up"
                    }
                }
            }, r), a.leg_fjordcutter_p67 && (r.DPS.Damage.ias = 50, r.DPS["Rumble Damage"] && (r.DPS["Rumble Damage"].ias = 50)), r
        }
    },
    whirlwind: {
        info: function(e, a) {
            var r;
            switch (e) {
                case "x":
                case "b":
                    r = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 3.4
                        }
                    };
                    break;
                case "c":
                    r = {
                        "Tick Damage": {
                            elem: "col",
                            coeff: 3.4
                        }
                    };
                    break;
                case "e":
                    r = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 3.4
                        }
                    };
                    break;
                case "d":
                    r = {
                        "Tick Damage": {
                            elem: "lit",
                            coeff: 3.4
                        }
                    };
                    break;
                case "a":
                    r = {
                        "Tick Damage": {
                            elem: "fir",
                            coeff: 4
                        }
                    }
            }
            return r = $.extend({
                Cost: {
                    cost: 7 / a.info.aps + 3,
                    fpa: 40
                }
            }, r), r["Tick Damage"].divide = {
                "Base Speed": 1.5
            }, a.leg_skullgrasp && (r["Tick Damage"].addcoeff = [a.leg_skullgrasp / 100]), ("b" == e || a.set_wastes_6pc) && (r["Tornado Damage"] = {
                elem: r["Tick Damage"].elem,
                coeff: 1.8
            }), r.DPS = {
                sum: !0,
                "Tick Damage": {
                    speed: 1,
                    fpa: 40
                }
            }, r["Tornado Damage"] && (r.DPS["Tornado Damage"] = {
                speed: 1,
                fpa: 30
            }), r
        },
        active: !0,
        buffs: function(e, a) {
            var r = {};
            if (a.set_bulkathos_2pc && (r.extrams = 45, r.ias = 45), !$.isEmptyObject(r)) return r
        }
    },
    ancientspear: {
        active: !0,
        activetip: "3 or fewer targets",
        activeshow: function(e, a) {
            return !("b" !== e || !a.leg_skularssalvation)
        },
        params: [{
            rune: "b",
            min: "25*(1-0.01*rcr_fury)-rcrint",
            max: "maxfury",
            name: "Fury",
            buffs: !1
        }],
        info: function(e, a) {
            var r;
            switch (e) {
                case "x":
                case "d":
                case "a":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 5
                        }
                    };
                    break;
                case "c":
                    r = {
                        Damage: {
                            elem: "fir",
                            coeff: 6.4
                        }
                    };
                    break;
                case "b":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 5,
                            addcoeff: [
                                [.2, this.params[0].val - 25 * (1 - .01 * (a.rcr_fury || 0)) + (a.rcrint || 0)]
                            ]
                        }
                    };
                    break;
                case "e":
                    r = {
                        Damage: {
                            elem: "phy",
                            coeff: 5
                        }
                    }
            }
            return "b" === e && a.leg_skularssalvation && (r.Damage.percent = {}, r.Damage.percent[DiabloCalc.itemById.P4_Unique_Bracer_101.name] = 100 + (this.active ? 2 * a.leg_skularssalvation : 0)), r = $.extend({
                Cost: {
                    cost: 25
                }
            }, r)
        }
    },
    groundstomp: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 12
                }
            },
            a: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 5.75
                }
            },
            e: {
                Cooldown: {
                    cooldown: 8
                }
            }
        }
    },
    leap: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 10
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 1.8
                }
            },
            b: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 4.5
                }
            }
        },
        active: !1,
        buffs: function(e, a) {
            if ("d" === e || a.set_earth_4pc) return {
                armor_percent: 150 * (a.set_earth_4pc ? 2.5 : 1)
            }
        }
    },
    sprint: {
        info: {
            "*": {
                Cost: {
                    cost: 20
                }
            },
            c: {
                "Tornado Tick Damage": {
                    elem: "phy",
                    coeff: 1.8,
                    divide: {
                        "Base Speed": 3
                    }
                },
                "Tornado DPS": {
                    sum: !0,
                    "Tornado Tick Damage": {
                        speed: 1,
                        fpa: 20
                    }
                }
            },
            e: {
                "Knockback Damage": {
                    elem: "phy",
                    coeff: .25
                }
            }
        },
        active: !1,
        buffs: {
            x: {
                extrams: 30
            },
            b: {
                extrams: 30,
                dodge: 12
            },
            c: {
                extrams: 30
            },
            a: {
                extrams: 40
            },
            e: {
                extrams: 30
            },
            d: {
                extrams: 30
            }
        }
    },
    ignorepain: {
        info: {
            "*": {
                Uptime: {
                    duration: "5+leg_prideofcassius",
                    cooldown: 30
                }
            },
            b: {
                Uptime: {
                    duration: "7+leg_prideofcassius",
                    cooldown: 30
                }
            }
        },
        active: !1,
        buffs: {
            x: {
                dmgred: 50
            },
            d: {
                dmgred: 50,
                extrams: 40
            },
            b: {
                dmgred: 50
            },
            e: {
                dmgred: 50,
                lifefury: 5364
            },
            c: {
                dmgred: 50
            },
            a: {
                dmgred: 50
            }
        }
    },
    overpower: {
        params: [{
            min: 0,
            max: 20,
            val: 0,
            name: function() {
                return DiabloCalc.itemById.P43_Unique_Belt_001_x1.name
            },
            buffs: !1,
            show: function(e, a) {
                return !!a.leg_saffronwrap
            }
        }],
        info: function(e, a) {
            var r = {
                Cooldown: {
                    cooldown: 12
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 3.8
                }
            };
            if ("a" === e && (r.Damage.elem = "lit"), "e" === e && (r.Damage.elem = "col"), "c" === e && (r.Damage.elem = "fir", r.Damage.coeff = 7.6), a.leg_saffronwrap && this.params[0].val) {
                var o = {};
                o[DiabloCalc.itemById.P43_Unique_Belt_001_x1.name] = a.leg_saffronwrap * this.params[0].val, r.Damage.percent = o
            }
            return r
        },
        active: !1,
        buffs: {
            a: {
                chc: 8
            }
        }
    },
    revenge: {
        info: {
            x: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 3
                }
            },
            d: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 3
                }
            },
            e: {
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 3
                }
            },
            a: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 7
                }
            },
            c: {
                Damage: {
                    weapon: "mainhand",
                    elem: "lit",
                    coeff: 3
                }
            },
            b: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 3
                }
            }
        },
        active: !1,
        buffs: {
            e: {
                chc: 8
            }
        }
    },
    furiouscharge: {
        info: function(e, a) {
            var r;
            switch (e) {
                case "x":
                    r = "phy";
                    break;
                case "a":
                    r = "fir";
                    break;
                case "e":
                case "d":
                    r = "phy";
                    break;
                case "c":
                    r = "col";
                    break;
                case "b":
                    r = "lit"
            }
            var o = "a" == e || a.set_raekor_4pc ? 10.5 : 6,
                n = {
                    Cooldown: {
                        cooldown: 10
                    },
                    Damage: {
                        elem: r,
                        weapon: "mainhand",
                        coeff: o
                    }
                };
            if (a.leg_vileward && (n["Extra Damage per Enemy"] = {
                    elem: r,
                    coeff: o,
                    factors: {
                        "Vile Ward": .01 * a.leg_vileward
                    },
                    total: !0
                }), a.leg_standoff || a.leg_standoff_p6) {
                var c = {};
                c[DiabloCalc.itemById.P4_Unique_Polearm_01.name] = .01 * (a.ms || 0) * (a.leg_standoff || a.leg_standoff_p6), n.Damage.percent = c, a.leg_vileward && (n["Extra Damage per Enemy"].percent = c)
            }
            return n
        }
    },
    avalanche: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 30
                }
            },
            x: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 24
                }
            },
            c: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 66,
                    total: !0
                }
            },
            d: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 24
                }
            },
            b: {
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 28
                }
            },
            e: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 24
                }
            },
            a: {
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 24
                }
            }
        }
    },
    threateningshout: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 10
                }
            }
        },
        active: !0,
        buffs: function(e, a) {
            if ("d" === e) return {
                dmgtaken: 25 * (a.set_savages_2pc ? 2 : 1)
            }
        }
    },
    battlerage: {
        active: !0,
        params: [{
            rune: "d",
            val: 0,
            min: 0,
            max: 20,
            name: "Nearby Enemies",
            inf: !0
        }],
        info: {
            "*": {
                Cost: {
                    cost: 20
                }
            }
        },
        buffs: function(e, a) {
            var r = a.set_savages_2pc ? 2 : 1,
                o = {
                    damage: 10 * r,
                    chc: 3 * r
                };
            return "a" === e && (o.damage = 15 * r), "b" === e && (o.extrams = 15 * r), "d" === e && (o.chc += r * this.params[0].val), o
        }
    },
    warcry: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 20
                }
            }
        },
        active: !0,
        buffs: function(e, a) {
            var r = a.set_savages_2pc ? 2 : 1;
            switch (e) {
                case "x":
                    return {
                        armor_percent: 20 * r
                    };
                case "a":
                    return {
                        armor_percent: 80 * r
                    };
                case "d":
                    return {
                        armor_percent: 20 * r
                    };
                case "e":
                    return {
                        armor_percent: 20 * r,
                        life: 10 * r,
                        regen: 13411 * r
                    };
                case "b":
                    return {
                        armor_percent: 20 * r,
                        dodge: 30 * r
                    };
                case "c":
                    return {
                        armor_percent: 20 * r,
                        resist_percent: 20 * r
                    }
            }
        }
    },
    earthquake: {
        info: {
            "*": {
                Cooldown: {
                    cooldown: 60
                }
            },
            x: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 48,
                    total: !0
                }
            },
            b: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 48,
                    total: !0
                },
                "Tremor Damage": {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 3
                },
                "Total Damage": {
                    sum: !0,
                    Damage: {},
                    "Tremor Damage": {
                        count: 30
                    }
                }
            },
            c: {
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 48,
                    total: !0
                }
            },
            d: {
                Cooldown: {
                    cooldown: 30
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "lit",
                    coeff: 48,
                    total: !0
                }
            },
            a: {
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 60,
                    total: !0
                }
            },
            e: {
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 48,
                    total: !0
                }
            }
        }
    },
    calloftheancients: {
        info: function(e, a) {
            var r, o = a.leg_furyoftheancients_p67 ? 2 : 1;
            switch (e) {
                case "x":
                    r = {
                        Damage: {
                            weapon: "mainhand",
                            elem: "phy",
                            pet: !0,
                            coeff: 2.7
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: o,
                                pet: 60,
                                count: 3
                            }
                        }
                    };
                    break;
                case "b":
                    r = {
                        Damage: {
                            weapon: "mainhand",
                            elem: "fir",
                            pet: !0,
                            coeff: 5.4
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: o,
                                pet: 60,
                                count: 3
                            }
                        }
                    };
                    break;
                case "d":
                    r = {
                        Damage: {
                            weapon: "mainhand",
                            elem: "col",
                            pet: !0,
                            coeff: 2.7
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: o,
                                pet: 60,
                                count: 3
                            }
                        }
                    };
                    break;
                case "a":
                case "c":
                    r = {
                        Damage: {
                            weapon: "mainhand",
                            elem: "phy",
                            pet: !0,
                            coeff: 2.7
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: o,
                                pet: 60,
                                count: 3
                            }
                        }
                    };
                    break;
                case "e":
                    r = {
                        Damage: {
                            weapon: "mainhand",
                            elem: "lit",
                            pet: !0,
                            coeff: 2.7
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: o,
                                pet: 60,
                                count: 3
                            }
                        }
                    }
            }
            return a.set_immortalking_2pc ? r.Cooldown = {
                cooldown: 120
            } : r.Uptime = {
                duration: 20,
                cooldown: 120
            }, r
        },
        active: !1,
        activeshow: function(e, a) {
            return !a.set_immortalking_2pc
        },
        buffs: {
            a: {
                lifefury: 966
            },
            d: {
                chctaken: 10
            },
            e: {
                dmgred: 50
            }
        }
    },
    wrathoftheberserker: {
        info: function(e, a) {
            var r = {};
            if (a.set_immortalking_4pc ? r.Cooldown = {
                    cooldown: 120
                } : r.Uptime = {
                    duration: 20,
                    cooldown: 120
                }, (a.leg_morticksbrace || "b" == e) && (r["Activation Damage"] = {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 34
                }), (a.leg_morticksbrace || "e" == e) && (r["Eruption Damage"] = {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 3
                }), !$.isEmptyObject(r)) return r
        },
        active: !1,
        buffs: function(e, a) {
            if (a.leg_morticksbrace) return {
                ccr: 100,
                dmgmul: 50,
                dmgred: 50,
                lifefury: 5364,
                chc: 10,
                ias: 25,
                dodge: 20,
                extrams: 20
            };
            switch (e) {
                case "x":
                case "b":
                    return {
                        ccr: 100,
                        chc: 10,
                        ias: 25,
                        dodge: 20,
                        extrams: 20
                    };
                case "a":
                    return {
                        ccr: 100,
                        dmgmul: 50,
                        chc: 10,
                        ias: 25,
                        dodge: 20,
                        extrams: 20
                    };
                case "e":
                    return {
                        ccr: 100,
                        chc: 10,
                        ias: 25,
                        dodge: 20,
                        extrams: 20
                    };
                case "c":
                    return {
                        ccr: 100,
                        dmgred: 50,
                        chc: 10,
                        ias: 25,
                        dodge: 20,
                        extrams: 20
                    };
                case "d":
                    return {
                        ccr: 100,
                        lifefury: 5364,
                        chc: 10,
                        ias: 25,
                        dodge: 20,
                        extrams: 20
                    }
            }
        }
    }
}, DiabloCalc.passives.barbarian = {
    poundofflesh: {
        params: [{
            min: 0,
            max: 5,
            val: 0,
            name: "Stacks"
        }],
        buffs: function(e) {
            return {
                regen_percent: 2 * this.params[0].val,
                extrams: 4 * this.params[0].val
            }
        }
    },
    ruthless: {
        active: !1,
        buffs: {
            dmgmul: 40
        }
    },
    nervesofsteel: {},
    weaponsmaster: {
        buffs: function(e) {
            switch (e.info.mainhand.type) {
                case "sword":
                case "sword2h":
                case "dagger":
                    return {
                        damage: 8
                    };
                case "mace":
                case "mace2h":
                case "axe":
                case "axe2h":
                    return {
                        chc: 5
                    };
                case "spear":
                case "polearm":
                    return {
                        ias: 8
                    }
            }
        }
    },
    inspiringpresence: {
        buffs: function(e) {
            if (e.skills.battlerage || e.skills.threateningshout || e.skills.warcry) return {
                regen_percent: 3
            }
        }
    },
    berserkerrage: {
        active: !0,
        buffs: {
            damage: 25
        }
    },
    bloodthirst: {
        buffs: function(e) {
            return {
                lifefury: 966 + .01 * (e.healbonus || 0)
            }
        }
    },
    animosity: {
        buffs: {
            maxfury: 20,
            resourcegen: 10
        }
    },
    superstition: {
        buffs: {
            nonphys: 20
        }
    },
    toughasnails: {
        buffs: function(e) {
            return {
                armor_percent: 25,
                thorns_multiply: 100
            }
        }
    },
    noescape: {
        active: !0,
        buffs: {
            dmgmul: {
                skills: ["weaponthrow", "ancientspear", "avalanche", "seismicslam"],
                percent: 30
            }
        }
    },
    relentless: {
        active: !1,
        buffs: {
            rcr: 50,
            lpfs_percent: 100,
            dmgred: 50
        }
    },
    brawler: {
        active: !1,
        buffs: {
            damage: 20
        }
    },
    juggernaut: {
        buffs: {
            ccr: 50
        }
    },
    unforgiving: {},
    boonofbulkathos: {
        buffs: {
            skill_barbarian_earthquake_cooldown: 15,
            skill_barbarian_calloftheancients_cooldown: 30,
            skill_barbarian_wrathoftheberserker_cooldown: 30
        }
    },
    earthenmight: {},
    swordandboard: {
        buffs: function(e) {
            if ("shield" === e.info.ohtype) return {
                dmgred: 30,
                rcr: 20
            }
        }
    },
    rampage: {
        params: [{
            val: 0,
            min: 0,
            max: 25,
            name: "Stacks"
        }],
        buffs: function() {
            return {
                str_percent: this.params[0].val
            }
        }
    }
}, DiabloCalc.partybuffs.barbarian = {
    bash: {
        runelist: "a"
    },
    cleave: {
        runelist: "b"
    },
    rend: {
        runelist: "c"
    },
    ignorepain: {
        runelist: "c",
        buffs: {
            c: {
                dmgred: 25
            }
        }
    },
    warcry: {
        runelist: "*"
    },
    threateningshout: {
        runelist: "d",
        boxnames: ["Horde of the Ninety Savages (2pc)"],
        buffs: function(e, a) {
            if ("d" === e) return {
                dmgtaken: 25 * (this.boxvals[0] ? 2 : 1)
            }
        }
    },
    calloftheancients: {
        runelist: "d"
    },
    inspiringpresence: {
        buffs: {
            regen_percent: 2
        }
    }
};
if (DiabloCalc.ptr) {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.crusader = {
        punish: {
            info: function(e, a) {
                var o = DiabloCalc.skilltips.crusader.punish.elements[e],
                    l = {
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: 1,
                                ias: a.passives.fanaticism ? 15 : 0,
                                fpa: 57.777767,
                                round: "up"
                            }
                        },
                        Damage: {
                            elem: o,
                            coeff: 3.35
                        }
                    };
                return (a.leg_angelhairbraid || "d" == e) && (l["Roar Damage"] = {
                    elem: o,
                    coeff: .75
                }), (a.leg_angelhairbraid || "a" == e) && (l["Retaliate Damage"] = {
                    elem: o,
                    coeff: 1.4
                }), a.set_invoker_6pc && (l["Thorns Damage"] = {
                    thorns: "special",
                    coeff: 150,
                    elem: "phy"
                }, l.DPS.Damage.speed *= 1.5, l.DPS["Thorns Damage"] = $.extend({
                    nobp: !0
                }, l.DPS.Damage)), l
            },
            active: !1,
            buffs: function(e, a) {
                if (a.leg_angelhairbraid) return {
                    extra_block: 15,
                    ias: 15,
                    regen: 12874
                };
                switch (e) {
                    case "x":
                    case "d":
                        return {
                            extra_block: 15
                        };
                    case "b":
                        return {
                            extra_block: 15,
                            ias: 15
                        };
                    case "c":
                        return {
                            extra_block: 15,
                            regen: 12874
                        };
                    case "a":
                    case "e":
                        return {
                            extra_block: 15
                        }
                }
            }
        },
        slash: {
            info: function(e, a) {
                var o = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: a.passives.fanaticism ? 15 : 0,
                            fpa: 57.777767,
                            round: "up"
                        }
                    },
                    Damage: {
                        elem: DiabloCalc.skilltips.crusader.slash.elements[e],
                        coeff: 2.3
                    }
                };
                return "c" === e && (o.Damage.chc = 20), a.set_invoker_6pc && (o["Thorns Damage"] = {
                    thorns: "special",
                    coeff: 150,
                    elem: "phy"
                }, o.DPS.Damage.speed *= 1.5, o.DPS["Thorns Damage"] = $.extend({
                    nobp: !0
                }, o.DPS.Damage)), o
            },
            active: !0,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                name: "Stacks"
            }, {
                rune: "e",
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    ias: this.params[0].val
                } : "e" === e ? {
                    armor_percent: 5 * this.params[1].val
                } : void 0
            }
        },
        smite: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "passives.fanaticism?15:0",
                            fpa: 57.777767,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "lit",
                        coeff: 1.5
                    }
                }
            },
            active: !0,
            params: [{
                rune: "d",
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("d" === e) return {
                    regen: 6437 * this.params[0].val
                }
            }
        },
        justice: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                },
                d: {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up"
                        },
                        "Impact Damage": {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up",
                            nobp: !0
                        }
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 2.45
                    },
                    "Impact Damage": {
                        elem: "lit",
                        coeff: .6
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 3.34
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 2.45
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                }
            }
        },
        shieldbash: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !(!a.leg_drakonslesson && !a.leg_drakonslesson_p2)
            },
            info: function(e, a) {
                var o, l = (a.block || 0) / 100;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 7.4,
                                addcoeff: [
                                    [3.35, l]
                                ]
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            },
                            "Additional Damage": {
                                elem: "phy",
                                coeff: 1.55,
                                addcoeff: [
                                    [1, l]
                                ]
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 8.75,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 13.2,
                                addcoeff: [
                                    [5, l]
                                ]
                            }
                        }
                }
                if (this.active && (a.leg_drakonslesson || a.leg_drakonslesson_p2))
                    for (var s in o) o[s].percent = {}, o[s].percent[DiabloCalc.itemById.P2_Unique_Bracer_110.name] = a.leg_drakonslesson || a.leg_drakonslesson_p2;
                return $.extend({
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 55.3846,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 30,
                        rcr: {
                            leg_piromarella: a.leg_piromarella
                        }
                    }
                }, o)
            }
        },
        sweepattack: {
            active: !1,
            params: [{
                rune: "e",
                min: 0,
                max: function(e) {
                    return Math.ceil(180 / DiabloCalc.calcFrames(57.777767))
                },
                name: "Stacks"
            }],
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 57.777767,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 20
                    }
                },
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 4.8
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 6
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 4.8
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 4.8
                    }
                },
                a: {
                    Damage: {
                        elem: "hol",
                        coeff: 4.8
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 4.8
                    }
                }
            },
            buffs: function(e, a) {
                if ("e" === e) return {
                    armor_percent: 20 * this.params[0].val
                }
            }
        },
        blessedhammer: {
            active: !0,
            activetip: "First 3 enemies",
            activeshow: function(e, a) {
                return !!a.leg_guardofjohanna
            },
            params: [{
                min: 0,
                max: 10,
                val: 0,
                name: function() {
                    return DiabloCalc.itemById.P43_Unique_Sword_2H_012_x1.name
                },
                buffs: !1,
                show: function(e, a) {
                    return (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) && a.skills.fallingsword
                }
            }],
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.2
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 3.2
                            },
                            "Scorch Damage": {
                                elem: "fir",
                                coeff: 3.3,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.2
                            },
                            "Arc Damage": {
                                elem: "lit",
                                coeff: .6
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 6.4
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.2
                            },
                            "Explosion Damage": {
                                elem: "phy",
                                coeff: 4.6
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.2
                            }
                        }
                }
                if (this.active && a.leg_guardofjohanna && (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.Unique_Shield_103_x1.name] = a.leg_guardofjohanna), (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) && a.skills.fallingsword && this.params[0].val) {
                    var l = {};
                    l[DiabloCalc.itemById.P43_Unique_Sword_2H_012_x1.name] = (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) * this.params[0].val;
                    for (var s in o) o[s].percent = $.extend(o[s].percent || {}, l)
                }
                return o.DPS = {
                    sum: !0,
                    Damage: {
                        fpa: 57.777767,
                        speed: 1.2 * (a.leg_johannasargument ? 2 : 1),
                        round: "up"
                    }
                }, $.extend({
                    Cost: {
                        cost: 10
                    }
                }, o)
            }
        },
        blessedshield: {
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            },
                            "Explosion Damage": {
                                elem: "fir",
                                coeff: 3.1
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            },
                            "Fragment Damage": {
                                elem: "hol",
                                coeff: 1.7
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        }
                }
                return o.DPS = {
                    sum: !0,
                    Damage: {
                        fpa: 58.06451,
                        speed: 1,
                        round: "up"
                    }
                }, a.leg_akkhansmanacles && (o["First Target Damage"] = {
                    sum: !0,
                    Damage: {
                        factor: 1 + .01 * a.leg_akkhansmanacles
                    }
                }, o["First Target DPS"] = {
                    sum: !0,
                    "First Target Damage": {
                        fpa: 58.06451,
                        speed: 1,
                        round: "up",
                        nobp: !0
                    }
                }), o = $.extend({
                    Cost: {
                        cost: "(leg_gyrfalconsfoote||leg_gyrfalconsfoote_p6)?0:20"
                    }
                }, o)
            },
            active: !1,
            params: [{
                rune: "c",
                min: 0,
                max: 20,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                if ("c" === e) return {
                    armor_percent: 5 * this.params[0].val,
                    regen_bonus: 5 * this.params[0].val
                }
            }
        },
        fistoftheheavens: {
            info: {
                "*": {
                    Cost: {
                        cost: 30,
                        rcr: {
                            leg_cordoftherighteous: "leg_cordoftherighteous?40:0"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "hol",
                        coeff: 2.25
                    },
                    "Zap Damage": {
                        elem: "hol",
                        coeff: .4
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "fir",
                        coeff: 2.25
                    },
                    "Storm Damage": {
                        elem: "fir",
                        coeff: 1,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    },
                    "Fissure Damage": {
                        elem: "lit",
                        coeff: 4.1,
                        total: !0
                    },
                    "Arc Damage": {
                        elem: "lit",
                        coeff: 1.35
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    }
                },
                e: {
                    "Fist Damage": {
                        elem: "hol",
                        coeff: 2.7
                    },
                    "Explosion Damage": {
                        elem: "hol",
                        coeff: 4.35
                    },
                    "Bolt Damage": {
                        elem: "hol",
                        coeff: 1.85
                    }
                }
            }
        },
        shieldglare: {
            params: [{
                min: 0,
                max: 5,
                name: "Shield Bash Stacks",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_flailoftheascended || !a.skills.shieldbash)
                }
            }],
            info: function(e, a) {
                var o = {
                    Uptime: {
                        duration: 4,
                        cooldown: 12 * (a.passives.toweringshield ? .7 : 1)
                    }
                };
                if ("c" === e && (o["Explosion Damage"] = {
                        elem: "phy",
                        coeff: .6
                    }), a.leg_flailoftheascended && this.params[0].val && a.skills.shieldbash) {
                    var l = DiabloCalc.skills.crusader.shieldbash.info(a.skills.shieldbash, a).Damage;
                    l.elem = "c" === e ? "phy" : "hol", l.factors = {
                        Stacks: this.params[0].val
                    }, l.skill = "shieldbash", o["Shield Bash Damage"] = l
                }
                return o
            },
            active: !1,
            buffs: {
                a: {
                    dmgtaken: 20
                }
            }
        },
        ironskin: {
            info: {
                x: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: 7,
                        cooldown: 30
                    }
                },
                c: {
                    "Expiration Damage": {
                        elem: "phy",
                        coeff: 14
                    },
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {
                    dmgred: 50
                };
                return "d" === e && (o.thorns_percent = 300), a.leg_hallowedbulwark && (o.blockamount_percent = a.leg_hallowedbulwark), o
            }
        },
        consecration: {
            info: {
                "*": {
                    Uptime: {
                        duration: 10,
                        cooldown: 30
                    }
                },
                b: {
                    DPS: {
                        elem: "phy",
                        coeff: 1,
                        thorns: "full"
                    }
                },
                d: {
                    DPS: {
                        elem: "fir",
                        coeff: 1.55,
                        total: !0
                    }
                },
                a: {
                    Uptime: {
                        duration: 5,
                        cooldown: 30
                    }
                }
            }
        },
        judgment: {
            info: {
                x: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 10,
                        cooldown: 20
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    regen: 2682 * this.params[0].val
                } : "d" === e ? {
                    chctaken: 8
                } : void 0
            }
        },
        provoke: {
            info: {
                x: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 8,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                d: {
                    "Extra Damage": {
                        elem: "lit",
                        coeff: .5
                    },
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var o = {};
                return a.leg_votoyiasspiker && (o.thorns_taken = 100), "a" === e && (o.lph = 1073 * this.params[0].val), "e" === e && (o.block_percent = 50), o
            }
        },
        steedcharge: {
            info: {
                "*": {
                    Uptime: {
                        duration: "2*(leg_swiftmount?2:1)+(set_norvald_2pc?2:0)",
                        cooldown: 16,
                        cdr: "passives.lordcommander?25:0"
                    }
                },
                a: {
                    DPS: {
                        elem: "phy",
                        coeff: 5,
                        thorns: "full"
                    }
                },
                d: {
                    DPS: {
                        elem: "fir",
                        aps: !0,
                        coeff: 5.5,
                        total: !0
                    }
                },
                b: {
                    Uptime: {
                        duration: "3*(leg_swiftmount?2:1)",
                        cooldown: 16,
                        cdr: "passives.lordcommander?25:0"
                    }
                },
                e: {
                    DPS: {
                        elem: "hol",
                        aps: !0,
                        coeff: 1.85,
                        total: !0
                    }
                }
            },
            buffs: function(e, a) {
                return {
                    extrams: 150
                }
            }
        },
        condemn: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: "(leg_frydehrswrath||leg_frydehrswrath_p6)?0:15"
                    },
                    Cost: {
                        cost: "(leg_frydehrswrath||leg_frydehrswrath_p6)?40:0"
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 11.6
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 11.6
                    }
                }
            }
        },
        phalanx: {
            info: function(e, a) {
                var o, l = a.leg_unrelentingphalanx ? 2 : 1,
                    s = a.leg_warhelmofkassar || 0,
                    r = a.leg_eternalunion ? 3 : 1;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "a":
                        o = {
                            Uptime: {
                                cooldown: 15,
                                duration: 5 * r,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                pet: !0,
                                coeff: 1.85
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    pet: 50,
                                    speed: 1,
                                    count: 4 * l
                                }
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.8
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: 3 * l
                                }
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "d":
                        o = {
                            Cooldown: {
                                cooldown: 15,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "e":
                        o = {
                            Uptime: {
                                cooldown: 30,
                                duration: 10 * r,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                pet: !0,
                                coeff: 5.6
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    pet: 58.06451,
                                    speed: 1,
                                    count: 2 * l
                                }
                            }
                        }
                }
                return "a" !== e && "d" !== e && "e" !== e && (o = $.extend({
                    Cost: {
                        cost: 30
                    }
                }, o)), o
            }
        },
        lawsofvalor: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ias: 7
                },
                a: {
                    ias: 7,
                    lph: 21457
                },
                b: {
                    ias: 7
                },
                c: {
                    ias: 7,
                    chd: 50
                },
                d: {
                    ias: 7,
                    rcr: 50
                },
                e: {
                    ias: 7
                }
            },
            passive: {
                x: {
                    ias: 8
                },
                a: {
                    ias: 8
                },
                b: {
                    ias: 8
                },
                c: {
                    ias: 8
                },
                d: {
                    ias: 8
                },
                e: {
                    ias: 8
                }
            }
        },
        lawsofjustice: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    resall: 350
                },
                a: {
                    resall: 350
                },
                b: {
                    resall: 350,
                    armor: 7e3
                },
                c: {
                    resall: 350
                },
                d: {
                    resall: 350
                },
                e: {
                    resall: 350
                }
            },
            passive: {
                x: {
                    resall: 140
                },
                a: {
                    resall: 140
                },
                b: {
                    resall: 140
                },
                c: {
                    resall: 140
                },
                d: {
                    resall: 140
                },
                e: {
                    resall: 140
                }
            }
        },
        lawsofhope: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                a: {
                    extrams: 50
                },
                b: {
                    life: 10
                },
                c: {
                    physdef: 25
                },
                d: {
                    lifewrath: 1073
                },
                e: {
                    nonphys: 25
                }
            },
            passive: {
                x: {
                    regen: 10728.42
                },
                a: {
                    regen: 10728.42
                },
                b: {
                    regen: 10728.42
                },
                c: {
                    regen: 10728.42
                },
                d: {
                    regen: 10728.42
                },
                e: {
                    regen: 10728.42
                }
            }
        },
        fallingsword: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    },
                    Cooldown: {
                        cooldown: 30
                    }
                },
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 17
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 17
                    },
                    "Residual DPS": {
                        elem: "fir",
                        aps: !0,
                        coeff: 3.1,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 17
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 6.05
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 17
                    },
                    "Avatar Damage": {
                        elem: "phy",
                        pet: !0,
                        coeff: 2.8
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 17
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 17
                    },
                    "Flurry DPS": {
                        elem: "hol",
                        coeff: 2.3,
                        total: !0
                    }
                }
            }
        },
        akaratschampion: {
            info: {
                x: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 4.6,
                        total: !0
                    },
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                b: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                c: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                d: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                e: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {
                    ccr: 100,
                    dmgmul: 35,
                    wrathregen: 5
                };
                return ("b" === e || a.leg_akkhansaddendum) && (o.wrathregen = 10), ("d" === e || a.leg_akkhansaddendum) && (o.armor_percent = 150), "e" === e && (o.ias = 15), a.set_akkhan_2pc && (o.rcr = 50), a.set_akkhan_6pc && (o.dmgmul = {
                    list: [35, 2e3]
                }, o.dmgred = 50), o
            }
        },
        heavensfury: {
            active: !0,
            activetip: "Blinded",
            activeshow: function(e, a) {
                return !(!a.leg_braceroffury && !a.leg_braceroffury_p6)
            },
            info: function(e, a) {
                var o, l = {
                    cooldown: 20,
                    cdr: a.leg_eberlicharo
                };
                switch (e) {
                    case "x":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 17.1,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 17.1,
                                total: !0
                            },
                            "Residual Damage": {
                                elem: "hol",
                                coeff: 15.5,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 27.66,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 19.8,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "lit",
                                coeff: 17.1,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Cost: {
                                cost: 40
                            },
                            Damage: {
                                elem: "hol",
                                coeff: 9.6
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    speed: 1,
                                    fpa: 57.777767
                                }
                            }
                        }
                }
                if ("e" == e && (a.leg_fateofthefell || a.leg_fateofthefell_p6) && (o.DPS.Damage.count = 3), (a.leg_braceroffury || a.leg_braceroffury_p6) && this.active) {
                    var s = {};
                    s[DiabloCalc.itemById.P4_Unique_Bracer_104.name] = a.leg_braceroffury || a.leg_braceroffury_p6, o.Damage.percent = s
                }
                return o
            }
        },
        bombardment: {
            info: function(e, a) {
                var o;
                if ("d" == e && (a.leg_themortaldrama || a.leg_themortaldrama_p610)) o = {
                    Damage: {
                        elem: "phy",
                        coeff: 33.2
                    },
                    "Total Damage": {
                        sum: !0,
                        Damage: {
                            count: 2
                        }
                    }
                };
                else {
                    var l = a.leg_themortaldrama || a.leg_themortaldrama_p610 ? 10 : 5;
                    switch (e) {
                        case "x":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 5.7
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "a":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 5.7
                                },
                                "Thorns Damage": {
                                    elem: "phy",
                                    coeff: 2,
                                    thorns: "full"
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    },
                                    "Thorns Damage": {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "b":
                            o = {
                                Damage: {
                                    elem: "fir",
                                    coeff: 5.7,
                                    chc: 100
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "c":
                            o = {
                                Damage: {
                                    elem: "fir",
                                    coeff: 5.7
                                },
                                "Mine Damage": {
                                    elem: "fir",
                                    coeff: 1.6
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    },
                                    "Mine Damage": {
                                        count: 2 * l
                                    }
                                }
                            };
                            break;
                        case "d":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 33.2
                                }
                            };
                            break;
                        case "e":
                            o = {
                                Damage: {
                                    elem: "hol",
                                    coeff: 5.7
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            }
                    }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 60,
                        cdr: "passives.lordcommander?35:0"
                    }
                }, o)
            }
        }
    }, DiabloCalc.passives.crusader = {
        heavenlystrength: {
            buffs: {
                damage: -20
            }
        },
        fervor: {
            buffs: function(e) {
                if ("onehand" == e.info.mainhand.slot) return {
                    ias: 15,
                    cdr: 15
                }
            }
        },
        vigilant: {
            buffs: {
                regen: 2682,
                nonphys: 20
            }
        },
        righteousness: {
            buffs: {
                maxwrath: 30
            }
        },
        insurmountable: {},
        fanaticism: {},
        indestructible: {
            active: !1,
            buffs: {
                damage: 35
            }
        },
        holycause: {
            buffs: {
                damage: 10
            }
        },
        wrathful: {
            buffs: function(e) {
                return {
                    lifewrath: 1341 + .01 * e.healbonus
                }
            }
        },
        divinefortress: {
            buffs: function(e) {
                return {
                    armor_percent: e.baseblock
                }
            }
        },
        lordcommander: {
            buffs: {
                skill_crusader_phalanx: 20
            }
        },
        holdyourground: {
            buffs: {
                extra_block: 30
            }
        },
        longarmofthelaw: {},
        ironmaiden: {
            buffs: {
                thorns_multiply: 50
            }
        },
        renewal: {},
        finery: {
            buffs: function(e) {
                return {
                    str_percent: 1.5 * e.info.gems
                }
            }
        },
        blunt: {
            buffs: {
                skill_crusader_justice: 20,
                skill_crusader_blessedhammer: 20
            }
        },
        toweringshield: {
            buffs: {
                skill_crusader_punish: 20,
                skill_crusader_shieldbash: 20,
                skill_crusader_blessedshield: 20
            }
        }
    }, DiabloCalc.partybuffs.crusader = {
        shieldglare: {
            runelist: "a"
        },
        judgment: {
            runelist: "d"
        },
        lawsofvalor: {
            runelist: "*",
            addpassive: !0,
            buffs: {
                x: {
                    ias: 7
                },
                a: {
                    ias: 7,
                    lph: 21457
                },
                b: {
                    ias: 7
                },
                c: {
                    ias: 7,
                    chd: 50
                },
                d: {
                    ias: 7
                },
                e: {
                    ias: 7
                }
            }
        },
        lawsofjustice: {
            runelist: "*",
            addpassive: !0
        },
        lawsofhope: {
            runelist: "*",
            addpassive: !0
        }
    };
} else {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.crusader = {
        punish: {
            info: function(e, a) {
                var o = DiabloCalc.skilltips.crusader.punish.elements[e],
                    l = {
                        DPS: {
                            sum: !0,
                            Damage: {
                                speed: 1,
                                ias: a.passives.fanaticism ? 15 : 0,
                                fpa: 57.777767,
                                round: "up"
                            }
                        },
                        Damage: {
                            elem: o,
                            coeff: 3.35
                        }
                    };
                return (a.leg_angelhairbraid || "d" == e) && (l["Roar Damage"] = {
                    elem: o,
                    coeff: .75
                }), (a.leg_angelhairbraid || "a" == e) && (l["Retaliate Damage"] = {
                    elem: o,
                    coeff: 1.4
                }), a.set_invoker_6pc && (l["Thorns Damage"] = {
                    thorns: "special",
                    coeff: 150,
                    elem: "phy"
                }, l.DPS.Damage.speed *= 1.5, l.DPS["Thorns Damage"] = $.extend({
                    nobp: !0
                }, l.DPS.Damage)), l
            },
            active: !1,
            buffs: function(e, a) {
                if (a.leg_angelhairbraid) return {
                    extra_block: 15,
                    ias: 15,
                    regen: 12874
                };
                switch (e) {
                    case "x":
                    case "d":
                        return {
                            extra_block: 15
                        };
                    case "b":
                        return {
                            extra_block: 15,
                            ias: 15
                        };
                    case "c":
                        return {
                            extra_block: 15,
                            regen: 12874
                        };
                    case "a":
                    case "e":
                        return {
                            extra_block: 15
                        }
                }
            }
        },
        slash: {
            info: function(e, a) {
                var o = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: a.passives.fanaticism ? 15 : 0,
                            fpa: 57.777767,
                            round: "up"
                        }
                    },
                    Damage: {
                        elem: DiabloCalc.skilltips.crusader.slash.elements[e],
                        coeff: 2.3
                    }
                };
                return "c" === e && (o.Damage.chc = 20), a.set_invoker_6pc && (o["Thorns Damage"] = {
                    thorns: "special",
                    coeff: 150,
                    elem: "phy"
                }, o.DPS.Damage.speed *= 1.5, o.DPS["Thorns Damage"] = $.extend({
                    nobp: !0
                }, o.DPS.Damage)), o
            },
            active: !0,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                name: "Stacks"
            }, {
                rune: "e",
                min: 0,
                max: 5,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    ias: this.params[0].val
                } : "e" === e ? {
                    armor_percent: 5 * this.params[1].val
                } : void 0
            }
        },
        smite: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "passives.fanaticism?15:0",
                            fpa: 57.777767,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "hol",
                        coeff: 1.5
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Secondary Damage": {
                        elem: "lit",
                        coeff: 1.5
                    }
                }
            },
            active: !0,
            params: [{
                rune: "d",
                min: 0,
                max: 4,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("d" === e) return {
                    regen: 6437 * this.params[0].val
                }
            }
        },
        justice: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                },
                d: {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up"
                        },
                        "Impact Damage": {
                            speed: 1,
                            ias: "10+(passives.fanaticism?15:0)",
                            fpa: 57.777767,
                            round: "up",
                            nobp: !0
                        }
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 2.45
                    },
                    "Impact Damage": {
                        elem: "lit",
                        coeff: .6
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 3.34
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 2.45
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 2.45
                    }
                }
            }
        },
        shieldbash: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !(!a.leg_drakonslesson && !a.leg_drakonslesson_p2)
            },
            info: function(e, a) {
                var o, l = (a.block || 0) / 100;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 7.4,
                                addcoeff: [
                                    [3.35, l]
                                ]
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 7,
                                addcoeff: [
                                    [3, l]
                                ]
                            },
                            "Additional Damage": {
                                elem: "phy",
                                coeff: 1.55,
                                addcoeff: [
                                    [1, l]
                                ]
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 8.75,
                                addcoeff: [
                                    [3, l]
                                ]
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 13.2,
                                addcoeff: [
                                    [5, l]
                                ]
                            }
                        }
                }
                if (this.active && (a.leg_drakonslesson || a.leg_drakonslesson_p2))
                    for (var s in o) o[s].percent = {}, o[s].percent[DiabloCalc.itemById.P2_Unique_Bracer_110.name] = a.leg_drakonslesson || a.leg_drakonslesson_p2;
                return $.extend({
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 55.3846,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 30,
                        rcr: {
                            leg_piromarella: a.leg_piromarella
                        }
                    }
                }, o)
            }
        },
        sweepattack: {
            active: !1,
            params: [{
                rune: "e",
                min: 0,
                max: function(e) {
                    return Math.ceil(180 / DiabloCalc.calcFrames(57.777767))
                },
                name: "Stacks"
            }],
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 57.777767,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 20
                    }
                },
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 4.8
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 6
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 4.8
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 4.8
                    }
                },
                a: {
                    Damage: {
                        elem: "hol",
                        coeff: 4.8
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 4.8
                    }
                }
            },
            buffs: function(e, a) {
                if ("e" === e) return {
                    armor_percent: 20 * this.params[0].val
                }
            }
        },
        blessedhammer: {
            active: !0,
            activetip: "First 3 enemies",
            activeshow: function(e, a) {
                return !!a.leg_guardofjohanna
            },
            params: [{
                min: 0,
                max: 10,
                val: 0,
                name: function() {
                    return DiabloCalc.itemById.P43_Unique_Sword_2H_012_x1.name
                },
                buffs: !1,
                show: function(e, a) {
                    return (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) && a.skills.fallingsword
                }
            }],
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.2
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 3.2
                            },
                            "Scorch Damage": {
                                elem: "fir",
                                coeff: 3.3,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.2
                            },
                            "Arc Damage": {
                                elem: "lit",
                                coeff: .6
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 6.4
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.2
                            },
                            "Explosion Damage": {
                                elem: "phy",
                                coeff: 4.6
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.2
                            }
                        }
                }
                if (this.active && a.leg_guardofjohanna && (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.Unique_Shield_103_x1.name] = a.leg_guardofjohanna), (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) && a.skills.fallingsword && this.params[0].val) {
                    var l = {};
                    l[DiabloCalc.itemById.P43_Unique_Sword_2H_012_x1.name] = (a.leg_faithfulmemory || a.leg_faithfulmemory_p6) * this.params[0].val;
                    for (var s in o) o[s].percent = $.extend(o[s].percent || {}, l)
                }
                return o.DPS = {
                    sum: !0,
                    Damage: {
                        fpa: 57.777767,
                        speed: 1.2 * (a.leg_johannasargument ? 2 : 1),
                        round: "up"
                    }
                }, $.extend({
                    Cost: {
                        cost: 10
                    }
                }, o)
            }
        },
        blessedshield: {
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            },
                            "Explosion Damage": {
                                elem: "fir",
                                coeff: 3.1
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            },
                            "Fragment Damage": {
                                elem: "hol",
                                coeff: 1.7
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "hol",
                                coeff: 4.3,
                                addcoeff: [
                                    [2.5, "block/100"]
                                ]
                            }
                        }
                }
                return o.DPS = {
                    sum: !0,
                    Damage: {
                        fpa: 58.06451,
                        speed: 1,
                        round: "up"
                    }
                }, a.leg_akkhansmanacles && (o["First Target Damage"] = {
                    sum: !0,
                    Damage: {
                        factor: 1 + .01 * a.leg_akkhansmanacles
                    }
                }, o["First Target DPS"] = {
                    sum: !0,
                    "First Target Damage": {
                        fpa: 58.06451,
                        speed: 1,
                        round: "up",
                        nobp: !0
                    }
                }), o = $.extend({
                    Cost: {
                        cost: "(leg_gyrfalconsfoote||leg_gyrfalconsfoote_p6)?0:20"
                    }
                }, o)
            },
            active: !1,
            params: [{
                rune: "c",
                min: 0,
                max: 20,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                if ("c" === e) return {
                    armor_percent: 5 * this.params[0].val,
                    regen_bonus: 5 * this.params[0].val
                }
            }
        },
        fistoftheheavens: {
            info: {
                "*": {
                    Cost: {
                        cost: 30,
                        rcr: {
                            leg_cordoftherighteous: "leg_cordoftherighteous?40:0"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "hol",
                        coeff: 2.25
                    },
                    "Zap Damage": {
                        elem: "hol",
                        coeff: .4
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "fir",
                        coeff: 2.25
                    },
                    "Storm Damage": {
                        elem: "fir",
                        coeff: 1,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    },
                    "Fissure Damage": {
                        elem: "lit",
                        coeff: 4.1,
                        total: !0
                    },
                    "Arc Damage": {
                        elem: "lit",
                        coeff: 1.35
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 5.45
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 2.25
                    }
                },
                e: {
                    "Fist Damage": {
                        elem: "hol",
                        coeff: 2.7
                    },
                    "Explosion Damage": {
                        elem: "hol",
                        coeff: 4.35
                    },
                    "Bolt Damage": {
                        elem: "hol",
                        coeff: 1.85
                    }
                }
            }
        },
        shieldglare: {
            params: [{
                min: 0,
                max: 5,
                name: "Shield Bash Stacks",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_flailoftheascended || !a.skills.shieldbash)
                }
            }],
            info: function(e, a) {
                var o = {
                    Uptime: {
                        duration: 4,
                        cooldown: 12 * (a.passives.toweringshield ? .7 : 1)
                    }
                };
                if ("c" === e && (o["Explosion Damage"] = {
                        elem: "phy",
                        coeff: .6
                    }), a.leg_flailoftheascended && this.params[0].val && a.skills.shieldbash) {
                    var l = DiabloCalc.skills.crusader.shieldbash.info(a.skills.shieldbash, a).Damage;
                    l.elem = "c" === e ? "phy" : "hol", l.factors = {
                        Stacks: this.params[0].val
                    }, l.skill = "shieldbash", o["Shield Bash Damage"] = l
                }
                return o
            },
            active: !1,
            buffs: {
                a: {
                    dmgtaken: 20
                }
            }
        },
        ironskin: {
            info: {
                x: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: 7,
                        cooldown: 30
                    }
                },
                c: {
                    "Expiration Damage": {
                        elem: "phy",
                        coeff: 14
                    },
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: 4,
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {
                    dmgred: 50
                };
                return "d" === e && (o.thorns_percent = 300), a.leg_hallowedbulwark && (o.blockamount_percent = a.leg_hallowedbulwark), o
            }
        },
        consecration: {
            info: {
                "*": {
                    Uptime: {
                        duration: 10,
                        cooldown: 30
                    }
                },
                b: {
                    DPS: {
                        elem: "phy",
                        coeff: 1,
                        thorns: "full"
                    }
                },
                d: {
                    DPS: {
                        elem: "fir",
                        coeff: 1.55,
                        total: !0
                    }
                },
                a: {
                    Uptime: {
                        duration: 5,
                        cooldown: 30
                    }
                }
            }
        },
        judgment: {
            info: {
                x: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 10,
                        cooldown: 20
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    regen: 2682 * this.params[0].val
                } : "d" === e ? {
                    chctaken: 8
                } : void 0
            }
        },
        provoke: {
            info: {
                x: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 8,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                d: {
                    "Extra Damage": {
                        elem: "lit",
                        coeff: .5
                    },
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 4,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 10,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var o = {};
                return a.leg_votoyiasspiker && (o.thorns_taken = 100), "a" === e && (o.lph = 1073 * this.params[0].val), "e" === e && (o.block_percent = 50), o
            }
        },
        steedcharge: {
            info: {
                "*": {
                    Uptime: {
                        duration: "2*(leg_swiftmount?2:1)+(set_norvald_2pc?2:0)",
                        cooldown: 16,
                        cdr: "passives.lordcommander?25:0"
                    }
                },
                a: {
                    DPS: {
                        elem: "phy",
                        coeff: 5,
                        thorns: "full"
                    }
                },
                d: {
                    DPS: {
                        elem: "fir",
                        aps: !0,
                        coeff: 5.5,
                        total: !0
                    }
                },
                b: {
                    Uptime: {
                        duration: "3*(leg_swiftmount?2:1)",
                        cooldown: 16,
                        cdr: "passives.lordcommander?25:0"
                    }
                },
                e: {
                    DPS: {
                        elem: "hol",
                        aps: !0,
                        coeff: 1.85,
                        total: !0
                    }
                }
            },
            buffs: function(e, a) {
                return {
                    extrams: 150
                }
            }
        },
        condemn: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: "(leg_frydehrswrath||leg_frydehrswrath_p6)?0:15"
                    },
                    Cost: {
                        cost: "(leg_frydehrswrath||leg_frydehrswrath_p6)?40:0"
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: 11.6
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 11.6
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 11.6
                    }
                }
            }
        },
        phalanx: {
            info: function(e, a) {
                var o, l = a.leg_unrelentingphalanx ? 2 : 1,
                    s = a.leg_warhelmofkassar || 0,
                    f = a.leg_eternalunion ? 3 : 1;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "a":
                        o = {
                            Uptime: {
                                cooldown: 15,
                                duration: 5 * f,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                pet: !0,
                                coeff: 1.85
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    pet: 50,
                                    speed: 1,
                                    count: 4 * l
                                }
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.8
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: 3 * l
                                }
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "d":
                        o = {
                            Cooldown: {
                                cooldown: 15,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                coeff: 4.9
                            },
                            "Total Damage": a.leg_unrelentingphalanx ? {
                                sum: !0,
                                Damage: {
                                    count: 2
                                }
                            } : void 0
                        };
                        break;
                    case "e":
                        o = {
                            Uptime: {
                                cooldown: 30,
                                duration: 10 * f,
                                cdr: s
                            },
                            Damage: {
                                elem: "phy",
                                pet: !0,
                                coeff: 5.6
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    pet: 58.06451,
                                    speed: 1,
                                    count: 2 * l
                                }
                            }
                        }
                }
                return "a" !== e && "d" !== e && "e" !== e && (o = $.extend({
                    Cost: {
                        cost: 30
                    }
                }, o)), o
            }
        },
        lawsofvalor: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ias: 7
                },
                a: {
                    ias: 7,
                    lph: 21457
                },
                b: {
                    ias: 7
                },
                c: {
                    ias: 7,
                    chd: 50
                },
                d: {
                    ias: 7,
                    rcr: 50
                },
                e: {
                    ias: 7
                }
            },
            passive: {
                x: {
                    ias: 8
                },
                a: {
                    ias: 8
                },
                b: {
                    ias: 8
                },
                c: {
                    ias: 8
                },
                d: {
                    ias: 8
                },
                e: {
                    ias: 8
                }
            }
        },
        lawsofjustice: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    resall: 350
                },
                a: {
                    resall: 350
                },
                b: {
                    resall: 350,
                    armor: 7e3
                },
                c: {
                    resall: 350
                },
                d: {
                    resall: 350
                },
                e: {
                    resall: 350
                }
            },
            passive: {
                x: {
                    resall: 140
                },
                a: {
                    resall: 140
                },
                b: {
                    resall: 140
                },
                c: {
                    resall: 140
                },
                d: {
                    resall: 140
                },
                e: {
                    resall: 140
                }
            }
        },
        lawsofhope: {
            info: {
                x: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                a: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                b: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                c: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                d: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                },
                e: {
                    Uptime: {
                        duration: "passives.longarmofthelaw?10:5",
                        cooldown: 30
                    }
                }
            },
            active: !1,
            buffs: {
                a: {
                    extrams: 50
                },
                b: {
                    life: 10
                },
                c: {
                    physdef: 25
                },
                d: {
                    lifewrath: 1073
                },
                e: {
                    nonphys: 25
                }
            },
            passive: {
                x: {
                    regen: 10728.42
                },
                a: {
                    regen: 10728.42
                },
                b: {
                    regen: 10728.42
                },
                c: {
                    regen: 10728.42
                },
                d: {
                    regen: 10728.42
                },
                e: {
                    regen: 10728.42
                }
            }
        },
        fallingsword: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    },
                    Cooldown: {
                        cooldown: 30
                    }
                },
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 17
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 17
                    },
                    "Residual DPS": {
                        elem: "fir",
                        aps: !0,
                        coeff: 3.1,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 17
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 6.05
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 17
                    },
                    "Avatar Damage": {
                        elem: "phy",
                        pet: !0,
                        coeff: 2.8
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 17
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: 17
                    },
                    "Flurry DPS": {
                        elem: "hol",
                        coeff: 2.3,
                        total: !0
                    }
                }
            }
        },
        akaratschampion: {
            info: {
                x: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 4.6,
                        total: !0
                    },
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                b: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                c: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                d: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                },
                e: {
                    Uptime: {
                        duration: 20,
                        cooldown: "90*(set_akkhan_4pc?0.5:1)"
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {
                    ccr: 100,
                    dmgmul: 35,
                    wrathregen: 5
                };
                return ("b" === e || a.leg_akkhansaddendum) && (o.wrathregen = 10), ("d" === e || a.leg_akkhansaddendum) && (o.armor_percent = 150), "e" === e && (o.ias = 15), a.set_akkhan_2pc && (o.rcr = 50), a.set_akkhan_6pc && (o.dmgmul = {
                    list: [35, 1500]
                }, o.dmgred = 50), o
            }
        },
        heavensfury: {
            active: !0,
            activetip: "Blinded",
            activeshow: function(e, a) {
                return !(!a.leg_braceroffury && !a.leg_braceroffury_p6)
            },
            info: function(e, a) {
                var o, l = {
                    cooldown: 20,
                    cdr: a.leg_eberlicharo
                };
                switch (e) {
                    case "x":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 17.1,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 17.1,
                                total: !0
                            },
                            "Residual Damage": {
                                elem: "hol",
                                coeff: 15.5,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 27.66,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "hol",
                                coeff: 19.8,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Cooldown: l,
                            Damage: {
                                elem: "lit",
                                coeff: 17.1,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Cost: {
                                cost: 40
                            },
                            Damage: {
                                elem: "hol",
                                coeff: 9.6
                            },
                            DPS: {
                                sum: !0,
                                Damage: {
                                    speed: 1,
                                    fpa: 57.777767
                                }
                            }
                        }
                }
                if ("e" == e && (a.leg_fateofthefell || a.leg_fateofthefell_p6) && (o.DPS.Damage.count = 3), (a.leg_braceroffury || a.leg_braceroffury_p6) && this.active) {
                    var s = {};
                    s[DiabloCalc.itemById.P4_Unique_Bracer_104.name] = a.leg_braceroffury || a.leg_braceroffury_p6, o.Damage.percent = s
                }
                return o
            }
        },
        bombardment: {
            info: function(e, a) {
                var o;
                if ("d" == e && a.leg_themortaldrama) o = {
                    Damage: {
                        elem: "phy",
                        coeff: 33.2
                    },
                    "Total Damage": {
                        sum: !0,
                        Damage: {
                            count: 2
                        }
                    }
                };
                else {
                    var l = a.leg_themortaldrama ? 10 : 5;
                    switch (e) {
                        case "x":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 5.7
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "a":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 5.7
                                },
                                "Thorns Damage": {
                                    elem: "phy",
                                    coeff: 2,
                                    thorns: "full"
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    },
                                    "Thorns Damage": {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "b":
                            o = {
                                Damage: {
                                    elem: "fir",
                                    coeff: 5.7,
                                    chc: 100
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            };
                            break;
                        case "c":
                            o = {
                                Damage: {
                                    elem: "fir",
                                    coeff: 5.7
                                },
                                "Mine Damage": {
                                    elem: "fir",
                                    coeff: 1.6
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    },
                                    "Mine Damage": {
                                        count: 2 * l
                                    }
                                }
                            };
                            break;
                        case "d":
                            o = {
                                Damage: {
                                    elem: "phy",
                                    coeff: 33.2
                                }
                            };
                            break;
                        case "e":
                            o = {
                                Damage: {
                                    elem: "hol",
                                    coeff: 5.7
                                },
                                "Total Damage": {
                                    sum: !0,
                                    Damage: {
                                        count: l
                                    }
                                }
                            }
                    }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 60,
                        cdr: "passives.lordcommander?35:0"
                    }
                }, o)
            }
        }
    }, DiabloCalc.passives.crusader = {
        heavenlystrength: {
            buffs: {
                damage: -20
            }
        },
        fervor: {
            buffs: function(e) {
                if ("onehand" == e.info.mainhand.slot) return {
                    ias: 15,
                    cdr: 15
                }
            }
        },
        vigilant: {
            buffs: {
                regen: 2682,
                nonphys: 20
            }
        },
        righteousness: {
            buffs: {
                maxwrath: 30
            }
        },
        insurmountable: {},
        fanaticism: {},
        indestructible: {
            active: !1,
            buffs: {
                damage: 35
            }
        },
        holycause: {
            buffs: {
                damage: 10
            }
        },
        wrathful: {
            buffs: function(e) {
                return {
                    lifewrath: 1341 + .01 * e.healbonus
                }
            }
        },
        divinefortress: {
            buffs: function(e) {
                return {
                    armor_percent: e.baseblock
                }
            }
        },
        lordcommander: {
            buffs: {
                skill_crusader_phalanx: 20
            }
        },
        holdyourground: {
            buffs: {
                extra_block: 30
            }
        },
        longarmofthelaw: {},
        ironmaiden: {
            buffs: {
                thorns_multiply: 50
            }
        },
        renewal: {},
        finery: {
            buffs: function(e) {
                return {
                    str_percent: 1.5 * e.info.gems
                }
            }
        },
        blunt: {
            buffs: {
                skill_crusader_justice: 20,
                skill_crusader_blessedhammer: 20
            }
        },
        toweringshield: {
            buffs: {
                skill_crusader_punish: 20,
                skill_crusader_shieldbash: 20,
                skill_crusader_blessedshield: 20
            }
        }
    }, DiabloCalc.partybuffs.crusader = {
        shieldglare: {
            runelist: "a"
        },
        judgment: {
            runelist: "d"
        },
        lawsofvalor: {
            runelist: "*",
            addpassive: !0,
            buffs: {
                x: {
                    ias: 7
                },
                a: {
                    ias: 7,
                    lph: 21457
                },
                b: {
                    ias: 7
                },
                c: {
                    ias: 7,
                    chd: 50
                },
                d: {
                    ias: 7
                },
                e: {
                    ias: 7
                }
            }
        },
        lawsofjustice: {
            runelist: "*",
            addpassive: !0
        },
        lawsofhope: {
            runelist: "*",
            addpassive: !0
        }
    };
}

function hellcat_param(e) {
    return {
        min: 0,
        max: "leg_hellcatwaistguard",
        val: 0,
        name: "Bounces",
        buffs: !1,
        show: function(a, n) {
            return !!n.leg_hellcatwaistguard && (!e || e.indexOf(a) >= 0)
        }
    }
}

function hellcat_percent(e, a) {
    if (e.leg_hellcatwaistguard && a) {
        var n = {};
        return n[DiabloCalc.itemById.P43_Unique_Belt_005_x1.name] = a >= e.leg_hellcatwaistguard ? 800 : 50 * a, n
    }
}
DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.demonhunter = {
    varSpeed: function(e) {
        switch (e.info.weaponClass) {
            case "bow":
                return 57.777767;
            case "crossbow":
                return 57.391285;
            case "handcrossbow":
                return 56.842083;
            case "dualwield":
                return 56.842075;
            default:
                return 57.692299
        }
    }
}, DiabloCalc.skills.demonhunter = {
    hungeringarrow: {
        info: function(e, a) {
            var n, r = DiabloCalc.demonhunter.varSpeed(a),
                o = a.leg_theninthcirrisatchel_p69 ? 100 : 35 + (a.leg_theninthcirrisatchel || 0);
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 1.55
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 1.55
                        },
                        "Pierce Chance": Math.min(100, o + 15) + "%"
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 1.55
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 1.55
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 1.55
                        },
                        "Damage Increase per Pierce": {
                            sum: !0,
                            Damage: {
                                factor: .7
                            }
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 1.55
                        }
                    }
            }
            return $.extend({
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: a.leg_hunterswrath || a.leg_hunterswrath_p69 ? 30 : 0,
                        fpa: r,
                        round: "up"
                    }
                },
                Damage: {},
                "Pierce Chance": o + "%"
            }, n)
        }
    },
    entanglingshot: {
        info: function(e, a) {
            var n, r = DiabloCalc.demonhunter.varSpeed(a);
            switch (e) {
                case "x":
                case "b":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 2
                        },
                        "Entangle Damage": {
                            elem: "lit",
                            coeff: .8
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 2
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 2
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        }
                    }
            }
            return $.extend({
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: a.leg_hunterswrath || a.leg_hunterswrath_p69 ? 30 : 0,
                        fpa: r,
                        round: "up"
                    }
                }
            }, n)
        }
    },
    bolas: {
        info: {
            "*": {
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: "(leg_hunterswrath||leg_hunterswrath_p69)?30:0",
                        fpa: 56.666666,
                        round: "up"
                    }
                }
            },
            x: {
                Damage: {
                    elem: "fir",
                    coeff: 1.6
                },
                "Secondary Damage": {
                    elem: "fir",
                    coeff: 1.1
                }
            },
            a: {
                Damage: {
                    elem: "fir",
                    coeff: 1.6
                },
                "Secondary Damage": {
                    elem: "fir",
                    coeff: 1.1
                }
            },
            c: {
                Damage: {
                    elem: "lit",
                    coeff: 1.6
                },
                "Secondary Damage": {
                    elem: "lit",
                    coeff: 1.1
                }
            },
            b: {
                Damage: {
                    elem: "col",
                    coeff: 1.6
                }
            },
            d: {
                Damage: {
                    elem: "lit",
                    coeff: 1.6
                },
                "Secondary Damage": {
                    elem: "lit",
                    coeff: 1.1
                }
            },
            e: {
                Damage: {
                    elem: "fir",
                    coeff: 2.16
                },
                "Secondary Damage": {
                    elem: "fir",
                    coeff: 1.49
                }
            }
        }
    },
    evasivefire: {
        info: function(e, a) {
            var n, r = DiabloCalc.demonhunter.varSpeed(a);
            switch (e) {
                case "x":
                case "a":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        },
                        "Secondary Damage": {
                            elem: "phy",
                            coeff: 1
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 2
                        },
                        "Secondary Damage": {
                            elem: "phy",
                            coeff: 1
                        },
                        "Bomb Damage": {
                            elem: "phy",
                            coeff: 1.5
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 2
                        },
                        "Secondary Damage": {
                            elem: "fir",
                            coeff: 2
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 2
                        },
                        "Secondary Damage": {
                            elem: "col",
                            coeff: 1
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 2
                        },
                        "Secondary Damage": {
                            elem: "lit",
                            coeff: 1
                        }
                    }
            }
            return $.extend({
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: a.leg_hunterswrath || a.leg_hunterswrath_p69 ? 30 : 0,
                        fpa: r,
                        round: "up"
                    }
                }
            }, n)
        },
        active: !1,
        buffs: {
            a: {
                armor_percent: 25
            }
        }
    },
    grenade: {
        params: [hellcat_param()],
        info: function(e, a) {
            var n = {
                DPS: {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        ias: "(leg_hunterswrath||leg_hunterswrath_p69)?30:0",
                        fpa: 56.470554
                    }
                },
                Damage: {
                    elem: "fir",
                    coeff: 1.6,
                    passives: {
                        grenadier: 10
                    }
                }
            };
            return "b" === e ? n.Damage.coeff = 2 : "e" === e ? n.Damage.elem = "lit" : "a" === e && (n.Damage.elem = "col", n["Cloud Damage"] = {
                elem: "col",
                coeff: 1.2,
                passives: {
                    grenadier: 10
                },
                total: !0
            }), n.Damage.percent = hellcat_percent(a, this.params[0].val), n
        }
    },
    impale: {
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                case "b":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 7.5
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 7.5
                        },
                        "Burn Damage": {
                            elem: "fir",
                            coeff: 5,
                            total: !0
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 7.5
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 7.5
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 7.5,
                            chd: 330
                        }
                    }
            }
            n = $.extend({
                Cost: {
                    cost: 20
                }
            }, n);
            var r = a.skills.sentry || a.leg_helltrapper ? DiabloCalc.skills.demonhunter.sentry.params[0].val : 0;
            if (a.set_marauder_4pc && r) {
                var o = {
                    pet: !0,
                    weapon: "mainhand",
                    percent: {
                        "Sentry %": a.skill_demonhunter_sentry
                    }
                };
                o.percent[DiabloCalc.itemSets.marauder.name] = 400, n["Sentry Damage"] = $.extend({}, n.Damage, o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Damage"], a), n["Burn Damage"] && (n["Sentry Burn Damage"] = $.extend({}, n["Burn Damage"], o))
            }
            a.set_shadow_6pc && (n["First Target Bonus"] = {
                elem: n.Damage.elem,
                coeff: 750
            });
            var t = {};
            if (n["Sentry Damage"] && (t["Sentry Damage"] = {
                    count: r
                }), n["Burn Damage"] && (t["Burn Damage"] = {}), n["Sentry Burn Damage"] && (t["Sentry Burn Damage"] = {
                    count: r
                }), !$.isEmptyObject(t) || a.leg_holypointshot || a.leg_holypointshot_p69) {
                if (t.Damage = {}, a.leg_holypointshot || a.leg_holypointshot_p69)
                    for (var s in t) t[s].count = 3 * (t[s].count || 1);
                t.sum = !0, n["Total Damage"] = t, n.DPS = {
                    sum: !0,
                    "Total Damage": {
                        speed: 1,
                        fpa: 58.06451,
                        round: "up"
                    }
                }
            } else n.DPS = {
                sum: !0,
                Damage: {
                    speed: 1,
                    fpa: 58.06451,
                    round: "up"
                }
            };
            return n
        }
    },
    rapidfire: {
        active: !0,
        activeshow: function() {
            return !1
        },
        params: [{
            min: 0,
            max: "leg_wojahnniassaulter_p65?30:4",
            name: "Channeled for",
            buffs: !1,
            show: function(e, a) {
                return a.leg_wojahnniassaulter || a.leg_wojahnniassaulter_p2 || a.leg_wojahnniassaulter_p65
            }
        }, hellcat_param("a")],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 6.85
                        }
                    };
                    break;
                case "d":
                    n = {
                        "Tick Damage": {
                            elem: "fir",
                            coeff: 6.85
                        }
                    };
                    break;
                case "e":
                    n = {
                        "Tick Damage": {
                            elem: "col",
                            coeff: 6.85
                        }
                    };
                    break;
                case "c":
                    n = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 6.85
                        },
                        "Rocket Damage": {
                            elem: "phy",
                            coeff: 1.45,
                            passives: {
                                ballistics: 100
                            }
                        }
                    };
                    break;
                case "b":
                    n = {
                        "Tick Damage": {
                            elem: "lit",
                            coeff: 6.85
                        }
                    };
                    break;
                case "a":
                    n = {
                        "Tick Damage": {
                            elem: "fir",
                            coeff: 5.45,
                            passives: {
                                grenadier: 10
                            },
                            percent: hellcat_percent(a, this.params[1].val)
                        }
                    }
            }
            var r = {
                Cost: {
                    cost: "d" === e ? 10 : 20
                }
            };
            return a.leg_sinseekers || a.leg_sinseekers_p65 || (r["Channeling Cost"] = {
                cost: 6,
                slowest: !0,
                fpa: "a" === e ? 20 : 10
            }), n = $.extend(r, n), n["Tick Damage"].divide = {
                "Base Speed": "a" === e ? 3 : 6
            }, n.DPS = {
                sum: !0,
                tip: ["Snapshots the speed of your current weapon", "Calculations are based on your slowest weapon"],
                "Tick Damage": {
                    speed: 1,
                    slowest: !0,
                    fpa: "a" === e ? 20 : 10
                }
            }, "c" === e && (n.DPS["Rocket Damage"] = {
                aps: 1,
                count: 2
            }), n
        },
        buffs: function(e, a) {
            if ((a.leg_wojahnniassaulter || a.leg_wojahnniassaulter_p2 || a.leg_wojahnniassaulter_p65) && this.params[0].val) return {
                skill_demonhunter_rapidfire: this.params[0].val * (a.leg_wojahnniassaulter || a.leg_wojahnniassaulter_p2 || a.leg_wojahnniassaulter_p65)
            }
        }
    },
    chakram: {
        params: [{
            min: 0,
            max: "maxhatred",
            name: "Hatred",
            show: function(e, a) {
                return !!a.leg_swordofillwill
            }
        }],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.8
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 2.2
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 5
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.8
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 4
                        }
                    };
                    break;
                case "e":
                    n = {
                        DPS: {
                            elem: "phy",
                            coeff: 2,
                            total: !0
                        }
                    }
            }
            if (a.leg_spinesofseethinghatred || (n = $.extend({
                    Cost: {
                        cost: 10
                    }
                }, n)), a.leg_swordofillwill) {
                var r = {};
                r[DiabloCalc.itemById.P4_Unique_Sword_1H_01.name] = a.leg_swordofillwill * this.params[0].val, n.Damage && (n.Damage.percent = r), n.DPS && (n.DPS.percent = r)
            }
            if ("e" !== e) {
                var o = a.skills.sentry || a.leg_helltrapper ? DiabloCalc.skills.demonhunter.sentry.params[0].val : 0;
                if (a.set_marauder_4pc && o) {
                    var t = {
                        pet: !0,
                        weapon: "mainhand",
                        percent: {
                            "Sentry %": a.skill_demonhunter_sentry
                        }
                    };
                    t.percent[DiabloCalc.itemSets.marauder.name] = 400, n["Sentry Damage"] = $.extend({}, n.Damage, t), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Damage"], a)
                }
                var s = {};
                n["Sentry Damage"] && (s["Sentry Damage"] = {
                    count: o
                }), $.isEmptyObject(s) && "a" !== e || (s.sum = !0, s.Damage = {}, n["Total Damage"] = s), "a" == e && (s.Damage.factor = 2, s["Sentry Damage"] && (s["Sentry Damage"].factor = 2))
            }
            return n
        }
    },
    elementalarrow: {
        params: [{
            rune: "b",
            min: 2,
            max: 4,
            val: 3,
            name: "Target Size",
            buffs: !1
        }],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 3
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 1.5
                        },
                        "Average Damage": {
                            sum: !0,
                            Damage: {
                                factor: 100 * this.params[0].val / (a.leg_augustinespanacea && 30 || a.leg_meticulousbolts || 100)
                            }
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 3.3
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 3
                        },
                        "Explosion Damage": {
                            elem: "fir",
                            coeff: 3.15,
                            total: !0
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 3
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 3
                        }
                    }
            }
            if (a.leg_augustinespanacea) {
                var r = {};
                r[DiabloCalc.itemById.P41_Unique_Quiver_001.name] = a.leg_augustinespanacea, "a" === e && (n.Damage.percent = r), "c" === e && (n["Explosion Damage"].percent = r), "e" === e && (n.Damage.percent = r), "d" === e && (n.Damage.percent = r)
            }
            a.leg_kridershot || (n = $.extend({
                Cost: {
                    cost: 10
                }
            }, n));
            var o = a.skills.sentry || a.leg_helltrapper ? DiabloCalc.skills.demonhunter.sentry.params[0].val : 0;
            if (a.set_marauder_4pc && o) {
                var t = {
                    pet: !0,
                    weapon: "mainhand",
                    percent: {
                        "Sentry %": a.skill_demonhunter_sentry
                    }
                };
                t.percent[DiabloCalc.itemSets.marauder.name] = 400, n["Sentry Damage"] = $.extend(!0, {}, n.Damage, t), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Damage"], a), n["Explosion Damage"] && (n["Sentry Explosion Damage"] = $.extend(!0, {}, n["Explosion Damage"], t), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Explosion Damage"], a)), "b" === e && (n["Average Sentry Damage"] = {
                    sum: !0,
                    "Sentry Damage": {
                        factor: n["Average Damage"].Damage.factor
                    }
                })
            }
            var s = {};
            return n["Average Sentry Damage"] ? s["Average Sentry Damage"] = {
                count: o
            } : n["Sentry Damage"] && (s["Sentry Damage"] = {
                count: o
            }), n["Explosion Damage"] && (s["Explosion Damage"] = {}), n["Sentry Explosion Damage"] && (s["Sentry Explosion Damage"] = {
                count: o
            }), $.isEmptyObject(s) ? a.leg_kridershot && (n.DPS = {
                sum: !0
            }, n.DPS["b" === e ? "Average Damage" : "Damage"] = {
                speed: 1,
                fpa: 56.666666,
                round: "up"
            }) : (s.sum = !0, s["b" === e ? "Average Damage" : "Damage"] = {}, n["Total Damage"] = s, a.leg_kridershot && (n.DPS = {
                sum: !0,
                "Total Damage": {
                    speed: 1,
                    fpa: 56.666666,
                    round: "up"
                }
            })), n
        }
    },
    caltrops: {
        info: {
            "*": {
                Cost: {
                    cost: 6,
                    resource: "disc"
                }
            },
            a: {
                Damage: {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: 2.7,
                    total: !0
                },
                "Offhand Damage": {
                    elem: "phy",
                    weapon: "offhand",
                    coeff: 2.7,
                    total: !0
                }
            },
            d: {
                Cost: {
                    cost: 3,
                    resource: "disc"
                }
            }
        },
        active: !0,
        buffs: {
            e: {
                chc: 10
            }
        }
    },
    smokescreen: {
        info: {
            x: {
                Cost: {
                    cost: 14,
                    resource: "disc"
                },
                Uptime: {
                    cooldown: 1.5,
                    duration: 1,
                    after: !0
                }
            },
            e: {
                Cost: {
                    cost: 14,
                    resource: "disc"
                },
                Uptime: {
                    cooldown: 1.5,
                    duration: 1,
                    after: !0
                }
            },
            b: {
                Cost: {
                    cost: 14,
                    resource: "disc"
                },
                Uptime: {
                    cooldown: 1.5,
                    duration: 1.5,
                    after: !0
                }
            },
            c: {
                Cost: {
                    cost: 14,
                    resource: "disc"
                },
                Uptime: {
                    cooldown: 1.5,
                    duration: 1,
                    after: !0
                }
            },
            d: {
                Cost: {
                    cost: 8,
                    resource: "disc"
                },
                Uptime: {
                    cooldown: 1.5,
                    duration: 1,
                    after: !0
                }
            },
            a: {
                Uptime: {
                    cooldown: 6,
                    duration: 1,
                    after: !0
                }
            }
        },
        active: !1,
        buffs: {
            e: {
                extrams: 100
            }
        }
    },
    shadowpower: {
        info: function(e, a) {
            if (!a.set_shadow_4pc) return {
                Cost: {
                    cost: "d" === e ? 8 : 14,
                    resource: "disc"
                }
            }
        },
        active: !0,
        buffs: function(e, a) {
            var n = 26821 + .25 * (a.laek || 0);
            if (a.set_shadow_4pc) return {
                lph: 2 * n,
                dmgred: 35,
                extrams: 30
            };
            switch (e) {
                case "x":
                case "a":
                    return {
                        lph: n
                    };
                case "e":
                    return {
                        lph: 2 * n
                    };
                case "d":
                    return {
                        lph: n
                    };
                case "c":
                    return {
                        lph: n,
                        dmgred: 35
                    };
                case "b":
                    return {
                        lph: n,
                        extrams: 30
                    }
            }
        }
    },
    vault: {
        info: function(e, a) {
            var n = {
                Cost: {
                    cost: 8,
                    resource: a.set_danetta_2pc ? "hatred" : "disc"
                }
            };
            return "b" === e && (delete n.Cost, n.Cooldown = {
                cooldown: 6
            }), "d" === e && (n["Tumble Cost"] = {
                cost: 4,
                resource: n.Cost.resource
            }), "c" === e && (n.Damage = {
                elem: "phy",
                weapon: "mainhand",
                coeff: .75,
                chc: 100
            }), "a" === e && (n.Damage = {
                elem: "fir",
                weapon: "mainhand",
                coeff: 3,
                total: !0
            }), n
        }
    },
    preparation: {
        info: {
            x: {
                Cooldown: {
                    cooldown: 45
                }
            },
            b: {
                Cooldown: {
                    cooldown: 45
                }
            },
            a: {
                Cooldown: {
                    cooldown: 20
                }
            },
            d: {
                Cooldown: {
                    cooldown: 45
                }
            },
            c: {
                Uptime: {
                    cooldown: 45,
                    duration: 15
                }
            },
            e: {
                Cooldown: {
                    cooldown: 45
                }
            }
        },
        passive: {
            b: {
                maxdisc: 20
            }
        }
    },
    companion: {
        info: function(e, a) {
            var n = "e" == e ? 2 : 1;
            a.set_marauder_2pc && (n = 7), a.leg_thecloakofgarwulf && ("c" == e || a.set_marauder_2pc) && (n += 2);
            var r = {
                DPS: {
                    sum: !0,
                    Damage: {
                        pet: 60,
                        count: n
                    }
                },
                Damage: {
                    elem: "phy",
                    pet: !0,
                    aps: !0,
                    coeff: 1
                }
            };
            return "c" == e || a.set_marauder_2pc ? r.Uptime = {
                duration: 10,
                cooldown: 30
            } : r.Cooldown = {
                cooldown: 30
            }, r
        },
        active: !1,
        buffs: function(e, a) {
            if ("c" == e || a.set_marauder_2pc) return {
                dmgmul: 15
            }
        },
        passive: function(e, a) {
            if (a.set_marauder_2pc) return {
                hatredregen: 1,
                regen: 5364,
                resist_percent: 20,
                gf: 10,
                extrams: 10
            };
            switch (e) {
                case "d":
                    return {
                        hatredregen: 1
                    };
                case "b":
                    return {
                        regen: 5364,
                        resist_percent: 20
                    };
                case "e":
                    return {
                        gf: 10,
                        ms: 10
                    }
            }
        }
    },
    markedfordeath: {
        info: {
            "*": {
                Cost: {
                    cost: 3,
                    resource: "disc"
                }
            }
        },
        active: !0,
        buffs: {
            x: {
                dmgtaken: 15
            },
            b: {
                dmgtaken: 15
            },
            c: {
                dmgtaken: 15
            },
            a: {
                dmgtaken: 15
            },
            d: {
                dmgtaken: 15
            },
            e: {
                dmgtaken: 15
            }
        }
    },
    fanofknives: {
        info: {
            x: {
                Cooldown: {
                    cooldown: 10
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 6.2
                }
            },
            d: {
                Cooldown: {
                    cooldown: 15
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "lit",
                    coeff: 16
                }
            },
            e: {
                Uptime: {
                    cooldown: 10,
                    duration: 6
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "col",
                    coeff: 6.2
                }
            },
            a: {
                Cost: {
                    cost: 30
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 6.2
                }
            },
            c: {
                Cooldown: {
                    cooldown: 10
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "fir",
                    coeff: 6.2
                }
            },
            b: {
                Cooldown: {
                    cooldown: 10
                },
                Damage: {
                    weapon: "mainhand",
                    elem: "phy",
                    coeff: 6.2
                }
            }
        },
        active: !1,
        buffs: {
            e: {
                armor_percent: 40
            }
        }
    },
    spiketrap: {
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 11.6
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 20.2
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 19
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 19.3
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 67
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 11.6
                        }
                    }
            }
            if (a.leg_thedemonsdemise_p2 || "d" === e) {
                var r = a.leg_thedemonsdemise_p2 && "d" === e ? 4 : 2;
                n["Total Damage"] = {
                    sum: !0,
                    Damage: {
                        count: r
                    }
                }
            }
            return $.extend({
                Cost: {
                    cost: 15
                }
            }, n)
        }
    },
    sentry: {
        params: [{
            min: 0,
            max: "2+(passives.customengineering?1:0)+(leg_bombadiersrucksack?2:0)",
            name: "Count",
            buffs: !1
        }, {
            min: 0,
            max: 50,
            val: 30,
            name: "Distance",
            buffs: !1,
            show: function(e, a) {
                return "a" === e || void 0 !== a.gems.zei
            }
        }],
        fixdmg: function(e, a) {
            void 0 !== a.gems.zei && (e.exclude = ["zei"], e.percent = e.percent || {}, e.percent[DiabloCalc.legendaryGems.zei.name] = this.params[1].val * (4 + .08 * a.gems.zei) / 10)
        },
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "phy",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        },
                        "Rocket Damage": {
                            elem: "fir",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 1.2,
                            passives: {
                                ballistics: 100
                            }
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "lit",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "phy",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "col",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "phy",
                            weapon: "mainhand",
                            pet: !0,
                            coeff: 2.8
                        }
                    }
            }
            for (var r in n) this.fixdmg(n[r], a);
            n = $.extend({
                Cost: {
                    cost: 20
                }
            }, n);
            var o = this.params[0].val;
            return n.DPS = {
                sum: !0,
                Damage: {
                    pet: 54,
                    speed: 1
                }
            }, n["Rocket Damage"] && (n.DPS["Rocket Damage"] = {
                pet: 54,
                speed: 1
            }), n["Total DPS"] = {
                sum: !0,
                DPS: {
                    count: o
                }
            }, "a" == e && (n["Chain DPS"] = {
                elem: "phy",
                pet: !0,
                aps: !0,
                coeff: 3,
                total: !0
            }), n
        },
        active: !0,
        buffs: {
            e: {
                dmgred: 25
            }
        }
    },
    vengeance: {
        info: {
            "*": {
                Uptime: {
                    duration: 20,
                    cooldown: 90,
                    cdr: "leg_dawn"
                }
            },
            x: {
                "Side Guns Damage": {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: .6
                },
                "Homing Rockets Damage": {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: .4,
                    passives: {
                        ballistics: 100
                    }
                },
                "Total Damage per Attack": {
                    sum: !0,
                    "Side Guns Damage": {
                        count: 4
                    },
                    "Homing Rockets Damage": {
                        count: 4
                    }
                }
            },
            c: {
                "Side Guns Damage": {
                    elem: "fir",
                    weapon: "mainhand",
                    coeff: .6
                },
                "Grenades Damage": {
                    elem: "fir",
                    weapon: "mainhand",
                    coeff: 1.5,
                    passives: {
                        grenadier: 10
                    }
                },
                "Total Damage per Attack": {
                    sum: !0,
                    "Side Guns Damage": {
                        count: 4
                    },
                    "Grenades Damage": {
                        count: 2
                    }
                }
            },
            b: {
                "Side Guns Damage": {
                    elem: "lit",
                    weapon: "mainhand",
                    coeff: .6
                },
                "Homing Rockets Damage": {
                    elem: "lit",
                    weapon: "mainhand",
                    coeff: .4,
                    passives: {
                        ballistics: 100
                    }
                },
                "Total Damage per Attack": {
                    sum: !0,
                    "Side Guns Damage": {
                        count: 4
                    },
                    "Homing Rockets Damage": {
                        count: 4
                    }
                }
            },
            d: {
                "Cannon Damage": {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: 2.25
                }
            },
            e: {
                "Side Guns Damage": {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: .6
                },
                "Homing Rockets Damage": {
                    elem: "phy",
                    weapon: "mainhand",
                    coeff: .4,
                    passives: {
                        ballistics: 100
                    }
                },
                "Total Damage per Attack": {
                    sum: !0,
                    "Side Guns Damage": {
                        count: 4
                    },
                    "Homing Rockets Damage": {
                        count: 4
                    }
                }
            },
            a: {
                "Side Guns Damage": {
                    elem: "col",
                    weapon: "mainhand",
                    coeff: .6
                },
                "Shadow Clone Damage": {
                    elem: "col",
                    weapon: "mainhand",
                    coeff: 1.2
                },
                "Total Damage per Attack": {
                    sum: !0,
                    "Side Guns Damage": {
                        count: 4
                    },
                    "Shadow Clone Damage": {}
                }
            }
        },
        active: !1,
        buffs: function(e, a) {
            var n = {
                ccr: 100,
                dmgmul: 40
            };
            return ("b" === e || a.leg_visageofgunes) && (n.dmgred = 50), "e" === e && (n.hatredregen = 10), n
        }
    },
    strafe: {
        params: [hellcat_param("a")],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 6.75
                        }
                    };
                    break;
                case "b":
                    n = {
                        "Tick Damage": {
                            elem: "col",
                            coeff: 6.75
                        },
                        "Trail DPS": {
                            elem: "col",
                            coeff: 1,
                            total: !0
                        }
                    };
                    break;
                case "d":
                    n = {
                        "Tick Damage": {
                            elem: "lit",
                            coeff: 6.75
                        }
                    };
                    break;
                case "e":
                    n = {
                        "Tick Damage": {
                            elem: "phy",
                            coeff: 6.75,
                            chd: 140
                        }
                    };
                    break;
                case "c":
                    n = {
                        "Tick Damage": {
                            elem: "fir",
                            coeff: 6.75
                        },
                        "Rocket Damage": {
                            elem: "fir",
                            coeff: 1.3,
                            passives: {
                                ballistics: 100
                            }
                        }
                    };
                    break;
                case "a":
                    n = {
                        "Grenade Damage": {
                            elem: "fir",
                            coeff: 4.6,
                            passives: {
                                grenadier: 10
                            },
                            percent: hellcat_percent(a, this.params[0].val)
                        }
                    }
            }
            return (n = $.extend({
                Cost: {
                    cost: 12,
                    slowest: !0,
                    fpa: "a" === e ? 30 : 15
                }
            }, n))["Tick Damage"] && (n["Tick Damage"].divide = {
                "Base Speed": 4
            }), n.DPS = {
                sum: !0,
                tip: ["Snapshots the speed of your current weapon", "Calculations are based on your slowest weapon"]
            }, n["Tick Damage"] && (n.DPS["Tick Damage"] = {
                speed: 1,
                slowest: !0,
                fpa: 15
            }), n["Rocket Damage"] && (n.DPS["Rocket Damage"] = {
                speed: 1,
                slowest: !0,
                fpa: 30
            }), n["Grenade Damage"] && (n.DPS["Grenade Damage"] = {
                speed: 1,
                slowest: !0,
                fpa: 30
            }), n
        },
        active: !0,
        buffs: function(e, a) {
            if (a.set_dreadlands_4pc) return {
                extrams: 8 * DiabloCalc.itemaffixes.set_dreadlands_2pc.params[0].val,
                dmgred: 60
            }
        }
    },
    multishot: {
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.6
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 3.6
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 3.6
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 3.6
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 5
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 3.6
                        },
                        "Rocket Damage": {
                            elem: "fir",
                            coeff: 3,
                            passives: {
                                ballistics: 100
                            }
                        }
                    }
            }
            n = $.extend({
                Cost: {
                    cost: "d" === e ? 18 : 25
                }
            }, n);
            var r = a.skills.sentry || a.leg_helltrapper ? DiabloCalc.skills.demonhunter.sentry.params[0].val : 0;
            if (a.set_marauder_4pc && r) {
                var o = {
                    pet: !0,
                    weapon: "mainhand",
                    percent: {
                        "Sentry %": a.skill_demonhunter_sentry
                    }
                };
                o.percent[DiabloCalc.itemSets.marauder.name] = 400, n["Sentry Damage"] = $.extend({}, n.Damage, o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Damage"], a), n["Rocket Damage"] && (n["Sentry Rocket Damage"] = $.extend({}, n["Rocket Damage"], o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Rocket Damage"], a))
            }
            var t = {};
            return n["Sentry Damage"] && (t["Sentry Damage"] = {
                count: r
            }), n["Rocket Damage"] && (t["Rocket Damage"] = {}), n["Sentry Rocket Damage"] && (t["Sentry Rocket Damage"] = {
                count: r
            }), $.isEmptyObject(t) ? n.DPS = {
                sum: !0,
                Damage: {
                    speed: 1,
                    ias: a.leg_yangsrecurve || a.leg_yangsrecurve_p6 ? 50 : 0,
                    fpa: 56.666664,
                    round: "up"
                }
            } : (t.sum = !0, t.Damage = {}, n["Total Damage"] = t, n.DPS = {
                sum: !0,
                "Total Damage": {
                    speed: 1,
                    ias: a.leg_yangsrecurve || a.leg_yangsrecurve_p6 ? 50 : 0,
                    fpa: 56.666664,
                    round: "up"
                }
            }), n
        },
        active: !0,
        buffs: {
            b: {
                chc_taken: 8
            }
        }
    },
    clusterarrow: {
        params: [hellcat_param("xeca")],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 6.5
                        },
                        "Grenade Damage": {
                            elem: "fir",
                            coeff: 2.5,
                            passives: {
                                grenadier: 10
                            }
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "lit",
                            coeff: 6.5
                        },
                        "Grenade Damage": {
                            elem: "lit",
                            coeff: 2.5,
                            passives: {
                                grenadier: 10
                            }
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "phy",
                            coeff: 6.5
                        },
                        "Rocket Damage": {
                            elem: "phy",
                            coeff: 6,
                            passives: {
                                ballistics: 100
                            }
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "col",
                            coeff: 6.5
                        },
                        "Rocket Damage": {
                            elem: "col",
                            coeff: 4.5,
                            passives: {
                                ballistics: 100
                            }
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 6.5
                        },
                        "Grenade Damage": {
                            elem: "fir",
                            coeff: 6.5,
                            passives: {
                                grenadier: 10
                            }
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "fir",
                            coeff: 8.5
                        },
                        "Grenade Damage": {
                            elem: "fir",
                            coeff: 2.5,
                            passives: {
                                grenadier: 10
                            }
                        }
                    }
            }
            n = $.extend({
                Cost: {
                    cost: 40
                }
            }, n), a.leg_manticore_p6 && (n.Cost.rcr = {
                leg_manticore_p6: 50
            }), a.leg_manticore && (n.Cost.rcr = {
                leg_manticore: a.leg_manticore
            }), n["Grenade Damage"] && (n["Grenade Damage"].percent = hellcat_percent(a, this.params[0].val));
            var r = a.skills.sentry || a.leg_helltrapper ? DiabloCalc.skills.demonhunter.sentry.params[0].val : 0;
            if (a.set_marauder_4pc && r) {
                var o = {
                    pet: !0,
                    weapon: "mainhand",
                    percent: {
                        "Sentry %": a.skill_demonhunter_sentry
                    }
                };
                o.percent[DiabloCalc.itemSets.marauder.name] = 400, n["Sentry Damage"] = $.extend({}, n.Damage, o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Damage"], a), n["Grenade Damage"] && (n["Sentry Grenade Damage"] = $.extend(!0, {}, n["Grenade Damage"], o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Grenade Damage"], a)), n["Rocket Damage"] && (n["Sentry Rocket Damage"] = $.extend({}, n["Rocket Damage"], o), DiabloCalc.skills.demonhunter.sentry.fixdmg(n["Sentry Rocket Damage"], a))
            }
            var t = {
                sum: !0,
                Damage: {}
            };
            return n["Sentry Damage"] && (t["Sentry Damage"] = {
                count: r
            }), n["Grenade Damage"] && (t["Grenade Damage"] = {
                count: "c" == e ? 5 : 4
            }), n["Sentry Grenade Damage"] && (t["Sentry Grenade Damage"] = {
                count: r * ("c" == e ? 6 : 4)
            }), n["Rocket Damage"] && (t["Rocket Damage"] = {}), n["Sentry Rocket Damage"] && (t["Sentry Rocket Damage"] = {
                count: r
            }), n["Total Damage"] = t, n
        }
    },
    rainofvengeance: {
        params: [hellcat_param("c")],
        info: function(e, a) {
            var n;
            switch (e) {
                case "x":
                    n = {
                        Damage: {
                            elem: "phy",
                            weapon: "mainhand",
                            coeff: 15,
                            total: !0
                        }
                    };
                    break;
                case "b":
                    n = {
                        Damage: {
                            elem: "phy",
                            weapon: "mainhand",
                            coeff: 35,
                            total: !0
                        }
                    };
                    break;
                case "a":
                    n = {
                        Damage: {
                            elem: "lit",
                            weapon: "mainhand",
                            coeff: 28,
                            total: !0
                        }
                    };
                    break;
                case "e":
                    n = {
                        Damage: {
                            elem: "fir",
                            weapon: "mainhand",
                            coeff: 46,
                            total: !0
                        }
                    };
                    break;
                case "c":
                    n = {
                        Damage: {
                            elem: "fir",
                            weapon: "mainhand",
                            coeff: 58,
                            passives: {
                                grenadier: 10
                            },
                            total: !0,
                            percent: hellcat_percent(a, this.params[0].val)
                        }
                    };
                    break;
                case "d":
                    n = {
                        Damage: {
                            elem: "col",
                            weapon: "mainhand",
                            coeff: 38,
                            total: !0
                        }
                    }
            }
            if (n = $.extend({
                    Cooldown: {
                        cooldown: 30
                    }
                }, n), a.leg_crashingrain && (n["Crashing Beast Damage"] = {
                    elem: n.Damage.elem,
                    weapon: "mainhand",
                    coeff: a.leg_crashingrain / 100
                }), a.set_natalya_2pc) {
                var r;
                if (a.skills.strafe) {
                    s = 4;
                    if (a.skills.evasivefire) {
                        var o = DiabloCalc.demonhunter.varSpeed(a);
                        s += 240 / DiabloCalc.calcFrames(o, void 0, void 0, "up")
                    }
                    c = 30 * (1 - .01 * (a.cdr || 0)) / (s + 1);
                    n["Effective Cooldown (Strafe)"] = parseFloat(c.toFixed(2)) + " seconds", r = r ? Math.min(r, c) : c
                }
                if (a.skills.rapidfire) {
                    var t = "a" === a.skills.rapidfire ? 20 : 10,
                        s = 4 * t / DiabloCalc.calcFrames(t, void 0, !0),
                        c = 30 * (1 - .01 * (a.cdr || 0)) / (s + 1);
                    n["Effective Cooldown (Rapid Fire)"] = parseFloat(c.toFixed(2)) + " seconds", r = r ? Math.min(r, c) : c
                }
                r && (n["Effective DPS"] = {
                    sum: !0,
                    Damage: {
                        aps: 1 / r
                    }
                }, a.leg_crashingrain && (n["Effective DPS"]["Crashing Beast Damage"] = {
                    aps: 1 / r
                }))
            }
            return n
        }
    }
}, DiabloCalc.passives.demonhunter = {
    thrillofthehunt: {},
    tacticaladvantage: {},
    bloodvengeance: {
        buffs: {
            maxhatred: 25
        }
    },
    steadyaim: {
        active: !0,
        buffs: {
            dmgmul: 20
        }
    },
    culltheweak: {
        active: !0,
        buffs: {
            dmgmul: 20
        }
    },
    nightstalker: {},
    brooding: {
        active: !1,
        params: [{
            min: 0,
            max: 3,
            name: "Stacks"
        }],
        buffs: function(e) {
            return {
                regen_percent: 3 * this.params[0].val
            }
        }
    },
    hotpursuit: {},
    archery: {
        buffs: function(e) {
            var a = {};
            switch (e.info.mainhand.type) {
                case "bow":
                    a.damage = 8;
                    break;
                case "crossbow":
                    a.chd = 50;
                    break;
                case "handcrossbow":
                    a.chc = 5
            }
            return e.info.offhand && "handcrossbow" == e.info.offhand.type && (a.hatredregen = 1), a
        }
    },
    numbingtraps: {},
    perfectionist: {
        buffs: {
            armor_percent: 10,
            resist_percent: 10,
            rcr_disc: 10
        }
    },
    customengineering: {},
    grenadier: {
        info: {
            "Grenade Damage": {
                elem: "fir",
                coeff: 10,
                passives: {
                    grenadier: 10
                }
            }
        }
    },
    sharpshooter: {
        active: !1,
        params: [{
            min: 0,
            max: 100,
            step: 4,
            name: "Bonus"
        }],
        buffs: function(e) {
            return {
                extrachc: this.params[0].val
            }
        }
    },
    ballistics: {
        info: {
            "Rocket Damage": {
                elem: "phy",
                coeff: 1.5,
                passives: {
                    ballistics: 100
                }
            }
        }
    },
    leech: {
        buffs: function(e) {
            return {
                lph: 18506.5245 + .75 * (e.laek || 0)
            }
        }
    },
    ambush: {
        active: !1,
        buffs: {
            dmgmul: 40
        }
    },
    awareness: {},
    singleout: {
        active: !1,
        buffs: {
            chctaken: 25
        }
    }
}, DiabloCalc.partybuffs.demonhunter = {
    companion: {
        runelist: "bc",
        multiple: !0,
        buffs: function(e) {
            var a = {};
            return this.runevals.b && (a.regen = 5364, a.resist_percent = 20), this.runevals.c && (a.dmgmul = 15), a
        }
    },
    sentry: {
        runelist: "e"
    },
    multishot: {
        runelist: "b"
    },
    markedfordeath: {
        runelist: "*"
    }
};
if (DiabloCalc.ptr) {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.monk = {
        spirit: [{
            min: 0,
            max: "maxspirit",
            name: "Spirit",
            buffs: !1,
            show: function(e, a) {
                return !!a.set_shenlong_2pc
            }
        }]
    }, DiabloCalc.skills.monk = {
        fistsofthunder: {
            params: DiabloCalc.monk.spirit,
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            },
                            "Shockwave Damage": {
                                elem: "lit",
                                coeff: 1.2
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "col",
                                coeff: 4
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            },
                            "Static Charge Damage": {
                                elem: "lit",
                                coeff: .3
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "phy",
                                coeff: 4
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "hol",
                                coeff: 4
                            },
                            "Arc Damage": {
                                elem: "hol",
                                coeff: 2.4
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.55 * o,
                        round: "up",
                        fpa: 57
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.55 * o,
                        round: "up",
                        fpa: 57.391289
                    },
                    "Third Hit": {
                        src: "Third Hit Damage",
                        speed: o,
                        round: "up",
                        fpa: 58.06451
                    }
                }, t["Shockwave Damage"] && (t.DPS["Shockwave Damage"] = {
                    count: 3
                }), t["Arc Damage"] && (t.DPS["Arc Damage"] = {});
                var n = "d" === e ? 20 : 14;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            }
        },
        deadlyreach: {
            params: DiabloCalc.monk.spirit,
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "b":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.5
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.6
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 1.5
                            },
                            "Blast Damage": {
                                elem: "lit",
                                coeff: 2.15
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.5
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.5
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.5 * o,
                        round: "up",
                        fpa: 55.384609
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.5 * o,
                        round: "up",
                        fpa: 57.3913
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: "c" === e ? 57.857132 : 58.06451
                    }
                };
                var n = 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !1,
            buffs: {
                a: {
                    damage: 15
                }
            }
        },
        cripplingwave: {
            params: [DiabloCalc.monk.spirit[0], {
                rune: "d",
                min: 0,
                max: 10,
                val: 1,
                name: "Enemies Hit",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.55
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.45 * o,
                        round: "up",
                        fpa: 56.842102
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.45 * o,
                        round: "up",
                        fpa: 56.842102
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: 58
                    }
                };
                var n = "d" === e ? 12 + 2.5 * this.params[1].val : 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !0,
            buffs: {
                e: {
                    dmgtaken: 10
                }
            }
        },
        wayofthehundredfists: {
            params: [DiabloCalc.monk.spirit[0], {
                rune: "c",
                min: 0,
                max: 3,
                val: 0,
                name: "Stacks"
            }, {
                rune: "d",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks",
                inf: !0
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 1.9
                            },
                            "Second Hit Damage": {
                                elem: "lit",
                                coeff: 4.23,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 1.9
                            },
                            "Extra Damage": {
                                elem: "hol",
                                coeff: .6,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.9
                            },
                            "Wave Damage": {
                                elem: "col",
                                coeff: 5
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.275 * o,
                        round: "up",
                        fpa: 57
                    },
                    "Second Hit": {
                        src: "b" === e ? "Second Hit Damage" : "Damage",
                        speed: 1.175 * o,
                        round: "up",
                        fpa: 42
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: 57.599998
                    }
                }, t["Dash Damage"] && (t.DPS["Dash Damage"] = {}), t["Wave Damage"] && (t.DPS["Wave Damage"] = {});
                var n = 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !0,
            buffs: function(e, a) {
                return "c" === e ? {
                    ias: 5 * this.params[1].val,
                    extrams: 5 * this.params[1].val
                } : "d" === e ? {
                    damage: 5 * this.params[2].val
                } : void 0
            }
        },
        lashingtailkick: {
            active: !0,
            activetip: "First 5-7 enemies",
            activeshow: function(e, a) {
                return !(!a.leg_scarbringer && !a.leg_scarbringer_p6)
            },
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7.55
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 2.3,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 8.25
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 7.55
                            }
                        }
                }
                return a.leg_gyananakashu && (t["Fireball Damage"] = {
                    elem: "fir",
                    coeff: .01 * a.leg_gyananakashu
                }), this.active && (a.leg_scarbringer || a.leg_scarbringer_p6) && (t.Damage.percent = {}, t.Damage.percent[DiabloCalc.itemById.P42_Unique_Fist_013_x1.name] = a.leg_scarbringer_p6 || 300, t["Burn Damage"] && (t["Burn Damage"].percent = t.Damage.percent)), (t = $.extend({
                    Cost: {
                        cost: 50
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            fpa: 57.3913,
                            speed: a.leg_riveradancers ? 1.5 : 1
                        }
                    }
                }, t))["Fireball Damage"] && (t.DPS["Fireball Damage"] = {
                    fpa: 57.3913,
                    speed: a.leg_riveradancers ? 1.5 : 1,
                    nobp: !0
                }), t["Burn Damage"] && (t.DPS["Burn Damage"] = {
                    fpa: 57.3913,
                    speed: a.leg_riveradancers ? 1.5 : 1,
                    nobp: !0
                }), t
            }
        },
        tempestrush: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !(!a.leg_balance && !a.leg_balance_p6)
            },
            params: [{
                rune: "e",
                min: 1,
                max: 100,
                name: "Flurry Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            "Tick Damage": {
                                elem: "phy",
                                aps: !0,
                                coeff: 3.9
                            }
                        };
                        break;
                    case "d":
                        t = {
                            "Tick Damage": {
                                elem: "hol",
                                aps: !0,
                                coeff: 5
                            }
                        };
                        break;
                    case "b":
                        t = {
                            "Tick Damage": {
                                elem: "phy",
                                aps: !0,
                                coeff: 3.9
                            }
                        };
                        break;
                    case "e":
                        t = {
                            "Tick Damage": {
                                elem: "col",
                                aps: !0,
                                coeff: 3.9
                            },
                            "Flurry Damage": {
                                elem: "col",
                                coeff: .9,
                                aps: !0,
                                addcoeff: [
                                    [.9, this.params[0].val]
                                ]
                            }
                        };
                        break;
                    case "c":
                        t = {
                            "Tick Damage": {
                                elem: "lit",
                                aps: !0,
                                coeff: 3.9
                            },
                            "Field DPS": {
                                elem: "lit",
                                coeff: 1.35,
                                aps: !0,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                aps: !0,
                                coeff: 3.9
                            }
                        }
                }
                return t["Tick Damage"].divide = {
                    "Speed Factor": 5
                }, (a.leg_balance || a.leg_balance_p6) && this.active && (t["Tick Damage"].chc = 100), $.extend({
                    Cost: {
                        cost: "d" === e ? 25 : 30,
                        speed: 1
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            aps: 5
                        }
                    }
                }, t)
            }
        },
        waveoflight: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!a.leg_kyoshirosblade
            },
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 8.35
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 8.35
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 8.3
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 10.45
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 8.35
                            },
                            "Wave Damage": {
                                elem: "col",
                                coeff: 8.2
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 6.35
                            },
                            "Residual Damage": {
                                elem: "lit",
                                coeff: 7.85,
                                total: !0
                            }
                        }
                }
                if (a.leg_kyoshirosblade) {
                    var s = {};
                    s[DiabloCalc.itemById.P4_Unique_Fist_102.name] = this.active ? a.leg_kyoshirosblade : 150;
                    for (var i in t) t[i].percent = s
                }
                t.DPS = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 58.823528,
                        round: "up"
                    }
                }, t["Wave Damage"] && (t.DPS["Wave Damage"] = $.extend({}, t.DPS.Damage)), t["Residual Damage"] && (t.DPS["Residual Damage"] = $.extend({}, t.DPS.Damage));
                var o = {};
                return a.leg_incensetorchofthegrandtemple_p6 ? o.leg_incensetorchofthegrandtemple_p6 = 50 : a.leg_incensetorchofthegrandtemple && (o.leg_incensetorchofthegrandtemple = a.leg_incensetorchofthegrandtemple), $.extend({
                    Cost: {
                        cost: 75,
                        rcr: o
                    }
                }, t)
            }
        },
        blindingflash: {
            info: {
                x: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 15
                    }
                },
                c: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                b: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                e: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                a: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("a" === e) return {
                    damage: 29
                }
            }
        },
        breathofheaven: {
            info: {
                x: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                a: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    },
                    Damage: {
                        elem: "hol",
                        coeff: 5.05
                    }
                },
                b: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                c: {
                    Uptime: {
                        duration: 9,
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                d: {
                    Uptime: {
                        duration: 5,
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                e: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                }
            },
            active: !0,
            buffs: {
                c: {
                    damage: 10
                },
                d: {}
            }
        },
        serenity: {
            info: {
                x: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                a: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                e: {
                    DPS: {
                        elem: "phy",
                        coeff: 4.38,
                        total: !0
                    },
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                d: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                c: {
                    Uptime: {
                        duration: 4,
                        cooldown: 16,
                        after: !0
                    }
                },
                b: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                }
            }
        },
        innersanctuary: {
            info: {
                x: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 8,
                        cooldown: 20
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var t = {
                    dmgred: 55
                };
                return "d" === e && (t.regen = 35779 + .07 * (a.regen || 0)), t
            }
        },
        dashingstrike: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.7
                            },
                            "Barrage Damage": {
                                elem: "phy",
                                coeff: 9.75,
                                total: !0
                            }
                        }
                }
                return a.set_storms_4pc && (t.Cost = {
                    cost: 75
                }), a.set_storms_6pc && DiabloCalc.itemaffixes.set_storms_6pc.active && (t.Damage.coeff = 600), $.extend({
                    Cooldown: {
                        cooldown: 8
                    }
                }, t)
            },
            active: !1,
            buffs: {
                b: {
                    extrams: 20
                },
                c: {
                    dodge: 40
                },
                e: {
                    ias: 15
                }
            }
        },
        explodingpalm: {
            info: function(e, a) {
                var t = {};
                a.leg_thefistofazturrasq && (t[DiabloCalc.itemById.Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq), a.leg_thefistofazturrasq_p2 && (t[DiabloCalc.itemById.P4_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p2), a.leg_thefistofazturrasq_p6 && (t[DiabloCalc.itemById.P61_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p6);
                var s;
                switch (e) {
                    case "x":
                    case "c":
                        s = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "phy",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "d":
                        s = {
                            Damage: {
                                elem: "hol",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "hol",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "b":
                        s = {
                            "Explosion Damage": {
                                elem: "col",
                                coeff: 63.05,
                                percent: t
                            }
                        };
                        break;
                    case "a":
                        s = {
                            Damage: {
                                elem: "lit",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "lit",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "e":
                        s = {
                            Damage: {
                                elem: "fir",
                                coeff: 18.75,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "fir",
                                coeff: 32.6,
                                percent: t,
                                total: !0
                            }
                        }
                }
                return $.extend({
                    Cost: {
                        cost: 40
                    }
                }, s)
            },
            active: !1,
            buffs: {
                c: {
                    dmgtaken: 15
                }
            }
        },
        sweepingwind: {
            params: [{
                min: 0,
                max: "3+(leg_vengefulwind?3:0)+leg_vengefulwind_p2+(leg_vengefulwind_p67?10:0)",
                name: "Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                var t = {
                    Cost: {
                        cost: 75
                    },
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 1.05,
                        factors: {
                            Stacks: this.params[0].val
                        },
                        total: !0
                    }
                };
                return "e" === e && (t.DPS.elem = "col"), ("a" === e || a.set_justice_2pc) && (t.DPS.coeff = 1.45), "b" === e && (t.DPS.elem = "fir"), "d" === e && (t.DPS.elem = "hol"), "c" === e && (t.DPS.elem = "lit"), ("c" === e || a.set_justice_2pc) && (t["Tornado Damage"] = {
                    elem: "lit",
                    coeff: .95
                }), this.params[0].val || delete t.DPS, t
            },
            passive: function(e, a) {
                var t = {};
                return ("d" === e || a.set_justice_2pc) && this.params[0].val >= 3 && (t.spiritregen = 8), a.set_sunwuko_6pc && this.params[0].val && (t.dmgmul = {
                    skills: ["lashingtailkick", "tempestrush", "waveoflight"],
                    percent: 1500 * this.params[0].val
                }), a.set_justice_2pc && (t.extrams = 5 * this.params[0].val), t
            }
        },
        cyclonestrike: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 4.54
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            },
                            Healing: DiabloCalc.formatNumber(31036 + .17 * (a.healbonus || 0), 0, 1e3)
                        }
                }
                return $.extend({
                    Cost: {
                        cost: "d" === e ? 26 : 50
                    }
                }, t)
            }
        },
        sevensidedstrike: {
            info: function(e, a) {
                var t, s = 7 + (a.leg_lionsclaw ? 7 : 0);
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 82.85,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 6.3,
                                total: !0
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: 7
                                },
                                "Burn Damage": {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 8.77
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        }
                }
                if (a.set_uliana_4pc && (t.Damage.factors = {}, t.Damage.factors[DiabloCalc.itemSets.uliana.name] = 7.77 * s), (a.leg_gungdogear || a.leg_gungdogear_p610) && a.set_uliana_6pc) {
                    var i = a.skills.explodingpalm || "x",
                        o = DiabloCalc.skills.monk.explodingpalm.info(i, a);
                    o = DiabloCalc.skill_processInfo(o, {
                        skill: ["explodingpalm", i]
                    }), t["Exploding Palm Damage"] = {
                        sum: !0
                    }, t["Exploding Palm Damage"][DiabloCalc.skills.monk.explodingpalm.name] = {
                        value: o["Explosion Damage"].value,
                        count: a.leg_lionsclaw ? 14 : 7
                    }
                }
                var n = {
                    Cooldown: {
                        cooldown: "d" === e ? 14 : 30,
                        cdr: "leg_theflowofeternity+leg_theflowofeternity_p2"
                    }
                };
                return "c" !== e && (n.Cost = {
                    cost: 50
                }), $.extend(n, t)
            },
            active: !0,
            buffs: function(e, a) {
                if (a.leg_bindingofthelost || a.leg_bindingofthelost_p6) return {
                    dmgred: (a.leg_bindingofthelost || a.leg_bindingofthelost_p6) * (7 + (a.leg_lionsclaw ? 7 : 0))
                }
            }
        },
        mystically: {
            info: function(e, a) {
                var t = {
                        Cooldown: {
                            cooldown: 30
                        }
                    },
                    s = this.runes;
                a.set_inna_6pc || ((s = {})[e] = "Damage");
                a.set_inna_2pc && ({}[DiabloCalc.itemSets.inna.name] = 100);
                var i = a.leg_thecrudestboots ? 2 : 1,
                    o = !1,
                    n = void 0,
                    r = 0,
                    c = {
                        sum: !0
                    };
                for (var l in s) {
                    var f = {};
                    f[s[l]] = {
                        elem: DiabloCalc.skilltips.monk.mystically.elements[l],
                        pet: !0,
                        aps: !0,
                        coeff: 1.3
                    };
                    var m = DiabloCalc.skill_processInfo(f, {
                        skill: ["mystically", l]
                    })[s[l]];
                    c[s[l]] = {
                        pet: 40,
                        speed: 1,
                        count: i,
                        value: m.value,
                        nobp: o
                    }, o = !0, m.value > r && (n = f[s[l]], r = m.value)
                }
                return n && (t[a.set_inna_6pc ? "Damage (highest)" : "Damage"] = n), t.DPS = c, "b" in s && (t["Wave Damage"] = {
                    elem: "col",
                    pet: !0,
                    aps: !0,
                    coeff: 6.25,
                    factors: {
                        Count: 7 * i
                    }
                }), "a" in s && (t["Explosion Damage"] = {
                    elem: "fir",
                    pet: !0,
                    coeff: 4.8,
                    factors: {
                        Count: 5 * i
                    }
                }), "c" in s && (t["Boulder DPS"] = {
                    elem: "phy",
                    pet: !0,
                    aps: !0,
                    coeff: 3.8,
                    total: !0,
                    factors: {
                        Count: i
                    }
                }), t
            },
            passive: function(e, a) {
                var t = (a.leg_thecrudestboots ? 2 : 1) * (a.set_inna_2pc ? 2 : 1),
                    s = {};
                return ("a" === e || a.set_inna_6pc) && (s.damage = 10 * t), ("d" === e || a.set_inna_6pc) && (s.spiritregen = 4 * t), ("e" === e || a.set_inna_6pc) && (s.regen = (10728.42 + .07 * a.regen) * t), ("c" === e || a.set_inna_6pc) && (s.life = 20 * t), s
            }
        },
        epiphany: {
            info: {
                "*": {
                    Uptime: {
                        duration: 15,
                        cooldown: 60
                    }
                },
                b: {
                    Healing: "@16093+0.04*healbonus"
                },
                d: {
                    "Extra Damage": {
                        elem: "fir",
                        coeff: 3.53
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ccr: 100,
                    spiritregen: 20
                },
                a: {
                    ccr: 100,
                    spiritregen: 20,
                    dmgred: 50
                },
                e: {
                    ccr: 100,
                    spiritregen: 20
                },
                b: {
                    ccr: 100,
                    spiritregen: 20
                },
                c: {
                    ccr: 100,
                    spiritregen: 45
                },
                d: {
                    ccr: 100,
                    spiritregen: 20
                }
            }
        },
        mantraofsalvation: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    resist_percent: 20
                },
                c: {
                    resist_percent: 20
                },
                e: {
                    resist_percent: 20
                },
                d: {
                    resist_percent: 20
                },
                b: {
                    resist_percent: 20
                },
                a: {
                    resist_percent: 20
                }
            },
            passive: function(e, a) {
                var t = 20 * (a.set_inna_2pc ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            resist_percent: t
                        };
                    case "c":
                        return {
                            resist_percent: t,
                            armor_percent: 20
                        };
                    case "e":
                        return {
                            resist_percent: t
                        };
                    case "d":
                        return {
                            resist_percent: t,
                            extrams: 10
                        };
                    case "b":
                        return {
                            resist_percent: t + 20
                        };
                    case "a":
                        return {
                            resist_percent: t,
                            dodge: 35
                        }
                }
            }
        },
        mantraofretribution: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: "1.01*(set_inna_2pc?2:1)+1.01"
                    },
                    "Activated Damage": {
                        elem: "fir",
                        coeff: "1.01*(set_inna_2pc?2:1)*2+2.02"
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                }
            },
            passive: function(e, a) {
                if ("b" === e) return {
                    ias: 10
                }
            }
        },
        mantraofhealing: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    },
                    Shield: "@62064+healbonus*0.15"
                }
            },
            passive: function(e, a) {
                var t = 10728.42;
                switch (t += .07 * (a.regen || 0), t *= a.set_inna_2pc ? 2 : 1, e) {
                    case "x":
                        return {
                            regen: t
                        };
                    case "a":
                        return {
                            regen: 2 * t
                        };
                    case "d":
                        return {
                            regen: t,
                            spiritregen: 3
                        };
                    case "b":
                        return {
                            regen: t,
                            lph: 3576 + .2 * (a.lph || 0)
                        };
                    case "c":
                        return {
                            regen: t,
                            life: 20
                        };
                    case "e":
                        return {
                            regen: t
                        }
                }
            }
        },
        mantraofconviction: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                },
                b: {
                    DPS: {
                        elem: "hol",
                        weapon: "mainhand",
                        coeff: .38,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    dmgtaken: 8
                },
                a: {
                    dmgtaken: 8
                },
                e: {
                    dmgtaken: 8
                },
                c: {
                    dmgtaken: 8
                },
                d: {
                    dmgtaken: 8
                },
                b: {
                    dmgtaken: 8
                }
            },
            passive: function(e, a) {
                var t = 8 * (a.set_inna_2pc ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            dmgtaken: t
                        };
                    case "a":
                        return {
                            dmgtaken: t + 4
                        };
                    case "e":
                    case "c":
                    case "d":
                    case "b":
                        return {
                            dmgtaken: t
                        }
                }
            }
        }
    }, DiabloCalc.passives.monk = {
        resolve: {},
        fleetfooted: {
            buffs: {
                extrams: 10
            }
        },
        exaltedsoul: {
            buffs: {
                maxspirit: 50,
                spiritregen: 4
            }
        },
        transcendence: {
            buffs: function(e) {
                return {
                    lifespirit: 429 + .004 * e.healbonus
                }
            }
        },
        chantofresonance: {
            buffs: function(e) {
                if (e.skills.mantraofsalvation || e.skills.mantraofretribution || e.skills.mantraofhealing || e.skills.mantraofconviction) return {
                    spiritregen: 4
                }
            }
        },
        seizetheinitiative: {
            active: !1,
            buffs: {
                ias: 30
            }
        },
        theguardianspath: {
            buffs: function(e) {
                return "onehand" == e.info.mainhand.slot && e.info.offhand && "onehand" == e.info.offhand.slot ? {
                    dodge: 35
                } : "twohand" == e.info.mainhand.slot ? {
                    resourcegen: 15
                } : void 0
            }
        },
        sixthsense: {
            buffs: {
                nonphys: 25
            }
        },
        determination: {
            params: [{
                min: 0,
                max: 5,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    damage: 4 * this.params[0].val
                }
            }
        },
        relentlessassault: {
            active: !0,
            buffs: {
                dmgmul: 20
            }
        },
        beaconofytar: {
            buffs: {
                cdr: 20
            }
        },
        alacrity: {},
        harmony: {
            buffs: function(e) {
                var a = (e.resphy || 0) + (e.resfir || 0) + (e.rescol || 0) + (e.respsn || 0) + (e.resarc || 0) + (e.reslit || 0);
                return a *= .4, {
                    resphy: a - .4 * (e.resphy || 0),
                    resfir: a - .4 * (e.resfir || 0),
                    rescol: a - .4 * (e.rescol || 0),
                    respsn: a - .4 * (e.respsn || 0),
                    resarc: a - .4 * (e.resarc || 0),
                    reslit: a - .4 * (e.reslit || 0)
                }
            }
        },
        combinationstrike: {
            params: [{
                min: 0,
                max: 4,
                val: 1,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: 10 * this.params[0].val
                }
            }
        },
        neardeathexperience: {},
        unity: {
            params: [{
                min: 0,
                max: 4,
                val: 1,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: 5 * this.params[0].val
                }
            }
        },
        momentum: {
            active: !0,
            buffs: {
                damage: 20
            }
        },
        mythicrhythm: {
            active: !1,
            buffs: {
                dmgmul: {
                    skills: ["lashingtailkick", "tempestrush", "waveoflight", "dashingstrike", "explodingpalm", "sweepingwind", "cyclonestrike", "sevensidedstrike"],
                    percent: 40
                }
            }
        }
    }, DiabloCalc.partybuffs.monk = {
        cripplingwave: {
            runelist: "e"
        },
        innersanctuary: {
            runelist: "*"
        },
        explodingpalm: {
            runelist: "c"
        },
        mantraofsalvation: {
            runelist: "*",
            boxnames: ["Activated", "Inna's Mantra"],
            buffs: function(e, a) {
                var t = {
                    resist_percent: 20 * (this.boxvals[1] ? 2 : 1) + (this.boxvals[0] ? 20 : 0)
                };
                return "c" === e && (t.armor_percent = 20), "d" === e && (t.extrams = 10), "b" === e && (t.resist_percent += 20), "a" === e && (t.dodge = 35), t
            }
        },
        mantraofretribution: {
            runelist: "b",
            boxnames: ["Inna's Mantra"],
            buffs: function(e, a) {
                if ("b" === e) return {
                    ias: 10 * (this.boxvals[0] ? 2 : 1)
                }
            }
        },
        mantraofhealing: {
            runelist: "*",
            boxnames: ["Inna's Mantra"],
            buffs: function(e, a) {
                var t = 10728.42 * (this.boxvals[0] ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            regen: t
                        };
                    case "a":
                        return {
                            regen: t + 10728.42
                        };
                    case "d":
                        return {
                            regen: t,
                            spiritregen: 3
                        };
                    case "b":
                        return {
                            regen: t
                        };
                    case "c":
                        return {
                            regen: t,
                            life: 20
                        };
                    case "e":
                        return {
                            regen: t
                        }
                }
            }
        },
        mantraofconviction: {
            runelist: "*",
            boxnames: ["Activated", "Inna's Mantra"],
            buffs: function(e, a) {
                var t = {
                    dmgtaken: 10 * (this.boxvals[1] ? 2 : 1)
                };
                return "a" === e && (t.dmgtaken += 6), this.boxvals[0] && (t.dmgtaken += "a" === e ? 8 : 10), t
            }
        },
        unity: {
            buffs: {
                damage: 5
            }
        }
    };
} else {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.monk = {
        spirit: [{
            min: 0,
            max: "maxspirit",
            name: "Spirit",
            buffs: !1,
            show: function(e, a) {
                return !!a.set_shenlong_2pc
            }
        }]
    }, DiabloCalc.skills.monk = {
        fistsofthunder: {
            params: DiabloCalc.monk.spirit,
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            },
                            "Shockwave Damage": {
                                elem: "lit",
                                coeff: 1.2
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "col",
                                coeff: 4
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "lit",
                                coeff: 4
                            },
                            "Static Charge Damage": {
                                elem: "lit",
                                coeff: .3
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "phy",
                                coeff: 4
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2
                            },
                            "Third Hit Damage": {
                                elem: "hol",
                                coeff: 4
                            },
                            "Arc Damage": {
                                elem: "hol",
                                coeff: 2.4
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.55 * o,
                        round: "up",
                        fpa: 57
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.55 * o,
                        round: "up",
                        fpa: 57.391289
                    },
                    "Third Hit": {
                        src: "Third Hit Damage",
                        speed: o,
                        round: "up",
                        fpa: 58.06451
                    }
                }, t["Shockwave Damage"] && (t.DPS["Shockwave Damage"] = {
                    count: 3
                }), t["Arc Damage"] && (t.DPS["Arc Damage"] = {});
                var n = "d" === e ? 20 : 14;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            }
        },
        deadlyreach: {
            params: DiabloCalc.monk.spirit,
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "b":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.5
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.6
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 1.5
                            },
                            "Blast Damage": {
                                elem: "lit",
                                coeff: 2.15
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.5
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.5
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.5 * o,
                        round: "up",
                        fpa: 55.384609
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.5 * o,
                        round: "up",
                        fpa: 57.3913
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: "c" === e ? 57.857132 : 58.06451
                    }
                };
                var n = 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !1,
            buffs: {
                a: {
                    damage: 15
                }
            }
        },
        cripplingwave: {
            params: [DiabloCalc.monk.spirit[0], {
                rune: "d",
                min: 0,
                max: 10,
                val: 1,
                name: "Enemies Hit",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.55
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.55
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.55
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.45 * o,
                        round: "up",
                        fpa: 56.842102
                    },
                    "Second Hit": {
                        src: "Damage",
                        speed: 1.45 * o,
                        round: "up",
                        fpa: 56.842102
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: 58
                    }
                };
                var n = "d" === e ? 12 + 2.5 * this.params[1].val : 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !0,
            buffs: {
                e: {
                    dmgtaken: 10
                }
            }
        },
        wayofthehundredfists: {
            params: [DiabloCalc.monk.spirit[0], {
                rune: "c",
                min: 0,
                max: 3,
                val: 0,
                name: "Stacks"
            }, {
                rune: "d",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks",
                inf: !0
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 1.9
                            },
                            "Second Hit Damage": {
                                elem: "lit",
                                coeff: 4.23,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 1.9
                            },
                            "Extra Damage": {
                                elem: "hol",
                                coeff: .6,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.9
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.9
                            },
                            "Wave Damage": {
                                elem: "col",
                                coeff: 5
                            }
                        }
                }
                if (a.set_shenlong_2pc) {
                    var s = {};
                    s[DiabloCalc.itemSets.shenlong.name] = 2 * this.params[0].val;
                    for (var i in t) t[i].percent = s
                }
                var o = (a.passives.alacrity ? 1.15 : 1) * (a.set_storms_2pc ? 1.25 : 1);
                t.DPS = {
                    sum: "sequence",
                    "First Hit": {
                        src: "Damage",
                        speed: 1.275 * o,
                        round: "up",
                        fpa: 57
                    },
                    "Second Hit": {
                        src: "b" === e ? "Second Hit Damage" : "Damage",
                        speed: 1.175 * o,
                        round: "up",
                        fpa: 42
                    },
                    "Third Hit": {
                        src: "Damage",
                        speed: o,
                        round: "up",
                        fpa: 57.599998
                    }
                }, t["Dash Damage"] && (t.DPS["Dash Damage"] = {}), t["Wave Damage"] && (t.DPS["Wave Damage"] = {});
                var n = 12;
                return "d" === a.skills.breathofheaven && DiabloCalc.isSkillActive("breathofheaven") && (n += 14), n *= (1 + .01 * (a.leg_bandofruechambers || 0)) * (1 + .01 * (a.resourcegen || 0)), t["Spirit/sec"] = {
                    sum: !0,
                    "Spirit per Hit": {
                        value: n,
                        refspeed: "DPS",
                        count: 3
                    }
                }, t
            },
            active: !0,
            buffs: function(e, a) {
                return "c" === e ? {
                    ias: 5 * this.params[1].val,
                    extrams: 5 * this.params[1].val
                } : "d" === e ? {
                    damage: 5 * this.params[2].val
                } : void 0
            }
        },
        lashingtailkick: {
            active: !0,
            activetip: "First 5-7 enemies",
            activeshow: function(e, a) {
                return !(!a.leg_scarbringer && !a.leg_scarbringer_p6)
            },
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7.55
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 2.3,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 8.25
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 7.55
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 7.55
                            }
                        }
                }
                return a.leg_gyananakashu && (t["Fireball Damage"] = {
                    elem: "fir",
                    coeff: .01 * a.leg_gyananakashu
                }), this.active && (a.leg_scarbringer || a.leg_scarbringer_p6) && (t.Damage.percent = {}, t.Damage.percent[DiabloCalc.itemById.P42_Unique_Fist_013_x1.name] = a.leg_scarbringer_p6 || 300, t["Burn Damage"] && (t["Burn Damage"].percent = t.Damage.percent)), (t = $.extend({
                    Cost: {
                        cost: 50
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            fpa: 57.3913,
                            speed: a.leg_riveradancers ? 1.5 : 1
                        }
                    }
                }, t))["Fireball Damage"] && (t.DPS["Fireball Damage"] = {
                    fpa: 57.3913,
                    speed: a.leg_riveradancers ? 1.5 : 1,
                    nobp: !0
                }), t["Burn Damage"] && (t.DPS["Burn Damage"] = {
                    fpa: 57.3913,
                    speed: a.leg_riveradancers ? 1.5 : 1,
                    nobp: !0
                }), t
            }
        },
        tempestrush: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !(!a.leg_balance && !a.leg_balance_p6)
            },
            params: [{
                rune: "e",
                min: 1,
                max: 100,
                name: "Flurry Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            "Tick Damage": {
                                elem: "phy",
                                aps: !0,
                                coeff: 3.9
                            }
                        };
                        break;
                    case "d":
                        t = {
                            "Tick Damage": {
                                elem: "hol",
                                aps: !0,
                                coeff: 5
                            }
                        };
                        break;
                    case "b":
                        t = {
                            "Tick Damage": {
                                elem: "phy",
                                aps: !0,
                                coeff: 3.9
                            }
                        };
                        break;
                    case "e":
                        t = {
                            "Tick Damage": {
                                elem: "col",
                                aps: !0,
                                coeff: 3.9
                            },
                            "Flurry Damage": {
                                elem: "col",
                                coeff: .9,
                                aps: !0,
                                addcoeff: [
                                    [.9, this.params[0].val]
                                ]
                            }
                        };
                        break;
                    case "c":
                        t = {
                            "Tick Damage": {
                                elem: "lit",
                                aps: !0,
                                coeff: 3.9
                            },
                            "Field DPS": {
                                elem: "lit",
                                coeff: 1.35,
                                aps: !0,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                aps: !0,
                                coeff: 3.9
                            }
                        }
                }
                return t["Tick Damage"].divide = {
                    "Speed Factor": 5
                }, (a.leg_balance || a.leg_balance_p6) && this.active && (t["Tick Damage"].chc = 100), $.extend({
                    Cost: {
                        cost: "d" === e ? 25 : 30,
                        speed: 1
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            aps: 5
                        }
                    }
                }, t)
            }
        },
        waveoflight: {
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!a.leg_kyoshirosblade
            },
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 8.35
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 8.35
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 8.3
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 10.45
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 8.35
                            },
                            "Wave Damage": {
                                elem: "col",
                                coeff: 8.2
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 6.35
                            },
                            "Residual Damage": {
                                elem: "lit",
                                coeff: 7.85,
                                total: !0
                            }
                        }
                }
                if (a.leg_kyoshirosblade) {
                    var s = {};
                    s[DiabloCalc.itemById.P4_Unique_Fist_102.name] = this.active ? a.leg_kyoshirosblade : 150;
                    for (var i in t) t[i].percent = s
                }
                t.DPS = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 58.823528,
                        round: "up"
                    }
                }, t["Wave Damage"] && (t.DPS["Wave Damage"] = $.extend({}, t.DPS.Damage)), t["Residual Damage"] && (t.DPS["Residual Damage"] = $.extend({}, t.DPS.Damage));
                var o = {};
                return a.leg_incensetorchofthegrandtemple_p6 ? o.leg_incensetorchofthegrandtemple_p6 = 50 : a.leg_incensetorchofthegrandtemple && (o.leg_incensetorchofthegrandtemple = a.leg_incensetorchofthegrandtemple), $.extend({
                    Cost: {
                        cost: 75,
                        rcr: o
                    }
                }, t)
            }
        },
        blindingflash: {
            info: {
                x: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 15
                    }
                },
                c: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                b: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                e: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                },
                a: {
                    Uptime: {
                        duration: 3,
                        cooldown: 15
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("a" === e) return {
                    damage: 29
                }
            }
        },
        breathofheaven: {
            info: {
                x: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                a: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    },
                    Damage: {
                        elem: "hol",
                        coeff: 5.05
                    }
                },
                b: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                c: {
                    Uptime: {
                        duration: 9,
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                d: {
                    Uptime: {
                        duration: 5,
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                },
                e: {
                    Cooldown: {
                        cooldown: 15,
                        cdr: "leg_eyeofpeshkov"
                    }
                }
            },
            active: !0,
            buffs: {
                c: {
                    damage: 10
                },
                d: {}
            }
        },
        serenity: {
            info: {
                x: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                a: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                e: {
                    DPS: {
                        elem: "phy",
                        coeff: 4.38,
                        total: !0
                    },
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                d: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                },
                c: {
                    Uptime: {
                        duration: 4,
                        cooldown: 16,
                        after: !0
                    }
                },
                b: {
                    Uptime: {
                        duration: 3,
                        cooldown: 16,
                        after: !0
                    }
                }
            }
        },
        innersanctuary: {
            info: {
                x: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                b: {
                    Uptime: {
                        duration: 8,
                        cooldown: 20
                    }
                },
                d: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                c: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                a: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                },
                e: {
                    Uptime: {
                        duration: 6,
                        cooldown: 20
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var t = {
                    dmgred: 55
                };
                return "d" === e && (t.regen = 35779 + .07 * (a.regen || 0)), t
            }
        },
        dashingstrike: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 3.7
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 3.7
                            },
                            "Barrage Damage": {
                                elem: "phy",
                                coeff: 9.75,
                                total: !0
                            }
                        }
                }
                return a.set_storms_4pc && (t.Cost = {
                    cost: 75
                }), a.set_storms_6pc && DiabloCalc.itemaffixes.set_storms_6pc.active && (t.Damage.coeff = 600), $.extend({
                    Cooldown: {
                        cooldown: 8
                    }
                }, t)
            },
            active: !1,
            buffs: {
                b: {
                    extrams: 20
                },
                c: {
                    dodge: 40
                },
                e: {
                    ias: 15
                }
            }
        },
        explodingpalm: {
            info: function(e, a) {
                var t = {};
                a.leg_thefistofazturrasq && (t[DiabloCalc.itemById.Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq), a.leg_thefistofazturrasq_p2 && (t[DiabloCalc.itemById.P4_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p2), a.leg_thefistofazturrasq_p6 && (t[DiabloCalc.itemById.P61_Unique_Fist_009_x1.name] = a.leg_thefistofazturrasq_p6);
                var s;
                switch (e) {
                    case "x":
                    case "c":
                        s = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "phy",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "d":
                        s = {
                            Damage: {
                                elem: "hol",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "hol",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "b":
                        s = {
                            "Explosion Damage": {
                                elem: "col",
                                coeff: 63.05,
                                percent: t
                            }
                        };
                        break;
                    case "a":
                        s = {
                            Damage: {
                                elem: "lit",
                                coeff: 12,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "lit",
                                coeff: 27.7,
                                percent: t
                            }
                        };
                        break;
                    case "e":
                        s = {
                            Damage: {
                                elem: "fir",
                                coeff: 18.75,
                                total: !0
                            },
                            "Explosion Damage": {
                                elem: "fir",
                                coeff: 32.6,
                                percent: t,
                                total: !0
                            }
                        }
                }
                return $.extend({
                    Cost: {
                        cost: 40
                    }
                }, s)
            },
            active: !1,
            buffs: {
                c: {
                    dmgtaken: 15
                }
            }
        },
        sweepingwind: {
            params: [{
                min: 0,
                max: "3+(leg_vengefulwind?3:0)+leg_vengefulwind_p2+(leg_vengefulwind_p67?10:0)",
                name: "Stacks",
                buffs: !1
            }],
            info: function(e, a) {
                var t = {
                    Cost: {
                        cost: 75
                    },
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 1.05,
                        factors: {
                            Stacks: this.params[0].val
                        },
                        total: !0
                    }
                };
                return "e" === e && (t.DPS.elem = "col"), ("a" === e || a.set_justice_2pc) && (t.DPS.coeff = 1.45), "b" === e && (t.DPS.elem = "fir"), "d" === e && (t.DPS.elem = "hol"), "c" === e && (t.DPS.elem = "lit"), ("c" === e || a.set_justice_2pc) && (t["Tornado Damage"] = {
                    elem: "lit",
                    coeff: .95
                }), this.params[0].val || delete t.DPS, t
            },
            passive: function(e, a) {
                var t = {};
                return ("d" === e || a.set_justice_2pc) && this.params[0].val >= 3 && (t.spiritregen = 8), a.set_sunwuko_6pc && this.params[0].val && (t.dmgmul = {
                    skills: ["lashingtailkick", "tempestrush", "waveoflight"],
                    percent: 1500 * this.params[0].val
                }), a.set_justice_2pc && (t.extrams = 5 * this.params[0].val), t
            }
        },
        cyclonestrike: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 4.54
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 2.61
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 2.61
                            },
                            Healing: DiabloCalc.formatNumber(31036 + .17 * (a.healbonus || 0), 0, 1e3)
                        }
                }
                return $.extend({
                    Cost: {
                        cost: "d" === e ? 26 : 50
                    }
                }, t)
            }
        },
        sevensidedstrike: {
            info: function(e, a) {
                var t, s = 7 + (a.leg_lionsclaw ? 7 : 0);
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "lit",
                                coeff: 82.85,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 6.3,
                                total: !0
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: 7
                                },
                                "Burn Damage": {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 56.77,
                                divide: {
                                    "Base Hits": 7
                                }
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "hol",
                                coeff: 8.77
                            },
                            "Total Damage": {
                                sum: !0,
                                Damage: {
                                    count: s
                                }
                            }
                        }
                }
                if (a.set_uliana_4pc && (t.Damage.factors = {}, t.Damage.factors[DiabloCalc.itemSets.uliana.name] = 7.77 * s), a.leg_gungdogear && a.set_uliana_6pc) {
                    var i = a.skills.explodingpalm || "x",
                        o = DiabloCalc.skills.monk.explodingpalm.info(i, a);
                    o = DiabloCalc.skill_processInfo(o, {
                        skill: ["explodingpalm", i]
                    }), t["Exploding Palm Damage"] = {
                        sum: !0
                    }, t["Exploding Palm Damage"][DiabloCalc.skills.monk.explodingpalm.name] = {
                        value: o["Explosion Damage"].value,
                        count: a.leg_lionsclaw ? 14 : 7
                    }
                }
                var n = {
                    Cooldown: {
                        cooldown: "d" === e ? 14 : 30,
                        cdr: "leg_theflowofeternity+leg_theflowofeternity_p2"
                    }
                };
                return "c" !== e && (n.Cost = {
                    cost: 50
                }), $.extend(n, t)
            },
            active: !0,
            buffs: function(e, a) {
                if (a.leg_bindingofthelost || a.leg_bindingofthelost_p6) return {
                    dmgred: (a.leg_bindingofthelost || a.leg_bindingofthelost_p6) * (7 + (a.leg_lionsclaw ? 7 : 0))
                }
            }
        },
        mystically: {
            info: function(e, a) {
                var t = {
                        Cooldown: {
                            cooldown: 30
                        }
                    },
                    s = this.runes;
                a.set_inna_6pc || ((s = {})[e] = "Damage");
                a.set_inna_2pc && ({}[DiabloCalc.itemSets.inna.name] = 100);
                var i = a.leg_thecrudestboots ? 2 : 1,
                    o = !1,
                    n = void 0,
                    r = 0,
                    c = {
                        sum: !0
                    };
                for (var l in s) {
                    var f = {};
                    f[s[l]] = {
                        elem: DiabloCalc.skilltips.monk.mystically.elements[l],
                        pet: !0,
                        aps: !0,
                        coeff: 1.3
                    };
                    var m = DiabloCalc.skill_processInfo(f, {
                        skill: ["mystically", l]
                    })[s[l]];
                    c[s[l]] = {
                        pet: 40,
                        speed: 1,
                        count: i,
                        value: m.value,
                        nobp: o
                    }, o = !0, m.value > r && (n = f[s[l]], r = m.value)
                }
                return n && (t[a.set_inna_6pc ? "Damage (highest)" : "Damage"] = n), t.DPS = c, "b" in s && (t["Wave Damage"] = {
                    elem: "col",
                    pet: !0,
                    aps: !0,
                    coeff: 6.25,
                    factors: {
                        Count: 7 * i
                    }
                }), "a" in s && (t["Explosion Damage"] = {
                    elem: "fir",
                    pet: !0,
                    coeff: 4.8,
                    factors: {
                        Count: 5 * i
                    }
                }), "c" in s && (t["Boulder DPS"] = {
                    elem: "phy",
                    pet: !0,
                    aps: !0,
                    coeff: 3.8,
                    total: !0,
                    factors: {
                        Count: i
                    }
                }), t
            },
            passive: function(e, a) {
                var t = (a.leg_thecrudestboots ? 2 : 1) * (a.set_inna_2pc ? 2 : 1),
                    s = {};
                return ("a" === e || a.set_inna_6pc) && (s.damage = 10 * t), ("d" === e || a.set_inna_6pc) && (s.spiritregen = 4 * t), ("e" === e || a.set_inna_6pc) && (s.regen = (10728.42 + .07 * a.regen) * t), ("c" === e || a.set_inna_6pc) && (s.life = 20 * t), s
            }
        },
        epiphany: {
            info: {
                "*": {
                    Uptime: {
                        duration: 15,
                        cooldown: 60
                    }
                },
                b: {
                    Healing: "@16093+0.04*healbonus"
                },
                d: {
                    "Extra Damage": {
                        elem: "fir",
                        coeff: 3.53
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ccr: 100,
                    spiritregen: 20
                },
                a: {
                    ccr: 100,
                    spiritregen: 20,
                    dmgred: 50
                },
                e: {
                    ccr: 100,
                    spiritregen: 20
                },
                b: {
                    ccr: 100,
                    spiritregen: 20
                },
                c: {
                    ccr: 100,
                    spiritregen: 45
                },
                d: {
                    ccr: 100,
                    spiritregen: 20
                }
            }
        },
        mantraofsalvation: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    resist_percent: 20
                },
                c: {
                    resist_percent: 20
                },
                e: {
                    resist_percent: 20
                },
                d: {
                    resist_percent: 20
                },
                b: {
                    resist_percent: 20
                },
                a: {
                    resist_percent: 20
                }
            },
            passive: function(e, a) {
                var t = 20 * (a.set_inna_2pc ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            resist_percent: t
                        };
                    case "c":
                        return {
                            resist_percent: t,
                            armor_percent: 20
                        };
                    case "e":
                        return {
                            resist_percent: t
                        };
                    case "d":
                        return {
                            resist_percent: t,
                            extrams: 10
                        };
                    case "b":
                        return {
                            resist_percent: t + 20
                        };
                    case "a":
                        return {
                            resist_percent: t,
                            dodge: 35
                        }
                }
            }
        },
        mantraofretribution: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: "1.01*(set_inna_2pc?2:1)+1.01"
                    },
                    "Activated Damage": {
                        elem: "fir",
                        coeff: "1.01*(set_inna_2pc?2:1)*2+2.02"
                    }
                },
                b: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                c: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                d: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                },
                e: {
                    Damage: {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)"
                    },
                    "Activated Damage": {
                        elem: "hol",
                        coeff: "1.01*(set_inna_2pc?2:1)*2"
                    }
                }
            },
            passive: function(e, a) {
                if ("b" === e) return {
                    ias: 10
                }
            }
        },
        mantraofhealing: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    },
                    Shield: "@62064+healbonus*0.15"
                }
            },
            passive: function(e, a) {
                var t = 10728.42;
                switch (t += .07 * (a.regen || 0), t *= a.set_inna_2pc ? 2 : 1, e) {
                    case "x":
                        return {
                            regen: t
                        };
                    case "a":
                        return {
                            regen: 2 * t
                        };
                    case "d":
                        return {
                            regen: t,
                            spiritregen: 3
                        };
                    case "b":
                        return {
                            regen: t,
                            lph: 3576 + .2 * (a.lph || 0)
                        };
                    case "c":
                        return {
                            regen: t,
                            life: 20
                        };
                    case "e":
                        return {
                            regen: t
                        }
                }
            }
        },
        mantraofconviction: {
            info: {
                "*": {
                    Cost: {
                        cost: 50,
                        rcr: {
                            chantofresonance: "passives.chantofresonance?50:0"
                        }
                    }
                },
                b: {
                    DPS: {
                        elem: "hol",
                        weapon: "mainhand",
                        coeff: .38,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    dmgtaken: 8
                },
                a: {
                    dmgtaken: 8
                },
                e: {
                    dmgtaken: 8
                },
                c: {
                    dmgtaken: 8
                },
                d: {
                    dmgtaken: 8
                },
                b: {
                    dmgtaken: 8
                }
            },
            passive: function(e, a) {
                var t = 8 * (a.set_inna_2pc ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            dmgtaken: t
                        };
                    case "a":
                        return {
                            dmgtaken: t + 4
                        };
                    case "e":
                    case "c":
                    case "d":
                    case "b":
                        return {
                            dmgtaken: t
                        }
                }
            }
        }
    }, DiabloCalc.passives.monk = {
        resolve: {},
        fleetfooted: {
            buffs: {
                extrams: 10
            }
        },
        exaltedsoul: {
            buffs: {
                maxspirit: 50,
                spiritregen: 4
            }
        },
        transcendence: {
            buffs: function(e) {
                return {
                    lifespirit: 429 + .004 * e.healbonus
                }
            }
        },
        chantofresonance: {
            buffs: function(e) {
                if (e.skills.mantraofsalvation || e.skills.mantraofretribution || e.skills.mantraofhealing || e.skills.mantraofconviction) return {
                    spiritregen: 4
                }
            }
        },
        seizetheinitiative: {
            active: !1,
            buffs: {
                ias: 30
            }
        },
        theguardianspath: {
            buffs: function(e) {
                return "onehand" == e.info.mainhand.slot && e.info.offhand && "onehand" == e.info.offhand.slot ? {
                    dodge: 35
                } : "twohand" == e.info.mainhand.slot ? {
                    resourcegen: 15
                } : void 0
            }
        },
        sixthsense: {
            buffs: {
                nonphys: 25
            }
        },
        determination: {
            params: [{
                min: 0,
                max: 5,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    damage: 4 * this.params[0].val
                }
            }
        },
        relentlessassault: {
            active: !0,
            buffs: {
                dmgmul: 20
            }
        },
        beaconofytar: {
            buffs: {
                cdr: 20
            }
        },
        alacrity: {},
        harmony: {
            buffs: function(e) {
                var a = (e.resphy || 0) + (e.resfir || 0) + (e.rescol || 0) + (e.respsn || 0) + (e.resarc || 0) + (e.reslit || 0);
                return a *= .4, {
                    resphy: a - .4 * (e.resphy || 0),
                    resfir: a - .4 * (e.resfir || 0),
                    rescol: a - .4 * (e.rescol || 0),
                    respsn: a - .4 * (e.respsn || 0),
                    resarc: a - .4 * (e.resarc || 0),
                    reslit: a - .4 * (e.reslit || 0)
                }
            }
        },
        combinationstrike: {
            params: [{
                min: 0,
                max: 4,
                val: 1,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: 10 * this.params[0].val
                }
            }
        },
        neardeathexperience: {},
        unity: {
            params: [{
                min: 0,
                max: 4,
                val: 1,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: 5 * this.params[0].val
                }
            }
        },
        momentum: {
            active: !0,
            buffs: {
                damage: 20
            }
        },
        mythicrhythm: {
            active: !1,
            buffs: {
                dmgmul: {
                    skills: ["lashingtailkick", "tempestrush", "waveoflight", "dashingstrike", "explodingpalm", "sweepingwind", "cyclonestrike", "sevensidedstrike"],
                    percent: 40
                }
            }
        }
    }, DiabloCalc.partybuffs.monk = {
        cripplingwave: {
            runelist: "e"
        },
        innersanctuary: {
            runelist: "*"
        },
        explodingpalm: {
            runelist: "c"
        },
        mantraofsalvation: {
            runelist: "*",
            boxnames: ["Activated", "Inna's Mantra"],
            buffs: function(e, a) {
                var t = {
                    resist_percent: 20 * (this.boxvals[1] ? 2 : 1) + (this.boxvals[0] ? 20 : 0)
                };
                return "c" === e && (t.armor_percent = 20), "d" === e && (t.extrams = 10), "b" === e && (t.resist_percent += 20), "a" === e && (t.dodge = 35), t
            }
        },
        mantraofretribution: {
            runelist: "b",
            boxnames: ["Inna's Mantra"],
            buffs: function(e, a) {
                if ("b" === e) return {
                    ias: 10 * (this.boxvals[0] ? 2 : 1)
                }
            }
        },
        mantraofhealing: {
            runelist: "*",
            boxnames: ["Inna's Mantra"],
            buffs: function(e, a) {
                var t = 10728.42 * (this.boxvals[0] ? 2 : 1);
                switch (e) {
                    case "x":
                        return {
                            regen: t
                        };
                    case "a":
                        return {
                            regen: t + 10728.42
                        };
                    case "d":
                        return {
                            regen: t,
                            spiritregen: 3
                        };
                    case "b":
                        return {
                            regen: t
                        };
                    case "c":
                        return {
                            regen: t,
                            life: 20
                        };
                    case "e":
                        return {
                            regen: t
                        }
                }
            }
        },
        mantraofconviction: {
            runelist: "*",
            boxnames: ["Activated", "Inna's Mantra"],
            buffs: function(e, a) {
                var t = {
                    dmgtaken: 10 * (this.boxvals[1] ? 2 : 1)
                };
                return "a" === e && (t.dmgtaken += 6), this.boxvals[0] && (t.dmgtaken += "a" === e ? 8 : 10), t
            }
        },
        unity: {
            buffs: {
                damage: 5
            }
        }
    };
}
if (DiabloCalc.ptr) {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.necromancer = {
        bonespikes: {
            params: [{
                rune: "b",
                min: 8,
                max: 80,
                name: "Distance"
            }],
            info: {
                "*": {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 60,
                            round: "up"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.8
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 1.2
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: "0.8+0.8*($1-8)/72"
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    },
                    "Bleed Damage": {
                        elem: "phy",
                        coeff: .5
                    }
                }
            }
        },
        grimscythe: {
            params: [{
                rune: "c",
                name: "Stacks",
                min: 0,
                max: 15,
                val: 0
            }, {
                min: 0,
                max: "0.999+maxessence/(12*(1+0.01*resourcegen))",
                name: "Enemies Hit",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_legersdisdain && !a.leg_legersdisdain_p6)
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 1.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                };
                if ("e" === e && (s.Damage.elem = "psn"), "c" === e && (s.Damage.elem = "col"), a.leg_legersdisdain || a.leg_legersdisdain_p6) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Unique_Phylactery_03.name] = (a.leg_legersdisdain || a.leg_legersdisdain_p6) * Math.min(a.maxessence, 12 * this.params[1].val * (1 + .01 * (a.resourcegen || 0))), s.Damage.percent = n
                }
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && a.leg_hauntedvisions_p69 && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), s
            },
            active: !0,
            buffs: function(e, a) {
                if ("c" === e) return {
                    ias: this.params[0].val
                }
            }
        },
        siphonblood: {
            params: [{
                rune: "d",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks",
                buffs: !1
            }],
            info: {
                "*": {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                e: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                a: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                d: {
                    DPS: {
                        elem: "psn",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        },
                        percent: {
                            Stacks: "10*$1"
                        }
                    }
                },
                b: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                c: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                }
            }
        },
        bonespear: {
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                inf: !0,
                val: 0,
                name: "Enemies Hit",
                buffs: !1
            }, {
                rune: "a",
                min: 0,
                max: 10,
                val: 0,
                name: "Enemies Hit"
            }],
            info: function(e, a) {
                var s = {
                    Cost: {
                        cost: 20
                    },
                    Damage: {
                        elem: "phy",
                        coeff: 5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                };
                return a.leg_maltoriuspetrifiedspike && (s.Cost.cost = 40), "c" === e && (s.Damage.elem = "psn", s.Damage.percent = {
                    Bonus: 15 * this.params[0].val
                }), "e" === e && (s.Damage.coeff = 3), "a" === e && (s.Damage.elem = "col"), "d" === e && (s.Damage.coeff = 6.5), a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), a.set_masquerade_6pc && (s.Damage.percent = s.Damage.percent || {}, s.Damage.percent[DiabloCalc.itemSets.masquerade.name] = 1e4, a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s["Simulacrum Damage"] = $.extend(!0, {}, s.Damage), s["Simulacrum Damage"].percent[DiabloCalc.itemSets.masquerade.name] = 3e4, a.leg_gelmindorsmarrowguards && (s["Simulacrum Damage"].percent[DiabloCalc.itemById.P610_Unique_Bracer_22.name] = a.leg_gelmindorsmarrowguards), s.DPS["Simulacrum Damage"] = $.extend({}, s.DPS.Damage), s.DPS["Simulacrum Damage"].count -= 1, s.DPS["Simulacrum Damage"].nobp = !0, delete s.DPS.Damage.count)), s
            },
            buffs: function(e, a) {
                if ("a" === e) return {
                    weaponaps: .03 * this.params[1].val
                }
            }
        },
        skeletalmage: {
            params: [{
                min: 0,
                max: 10,
                val: 1,
                name: "Count",
                buffs: !1
            }, {
                rune: "e",
                min: 0,
                max: 10,
                name: "Stacks"
            }, {
                rune: "b",
                min: "40*(1-0.01*rcr_essence)-rcrint",
                max: "maxessence",
                name: "Essence",
                buffs: !1
            }],
            info: function(e, a) {
                var s = {
                    Cost: {
                        cost: 40
                    },
                    Duration: {
                        duration: (("c" === e ? 8 : 6) + (a.leg_circleofnailujsevol || 0)) * (a.passives.extendedservitude ? 1.25 : 1)
                    },
                    Damage: {
                        elem: "phy",
                        pet: !0,
                        aps: !0,
                        coeff: 2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            pet: 30,
                            nobp: !0
                        }
                    },
                    "Total DPS": {
                        sum: !0,
                        DPS: {
                            count: this.params[0].val
                        }
                    }
                };
                if ("d" === e && (s.Damage.elem = "psn", s["Aura DPS"] = {
                        elem: "psn",
                        total: !0,
                        aps: !0,
                        coeff: 1
                    }, s.DPS["Aura DPS"] = {}), "e" === e && (s.Damage.elem = "col", s.Damage.coeff = 4, s.DPS.Damage.pet = 60), "b" === e || a.leg_razethsvolition_p69) {
                    var n = this.params[2].val - 40 * (1 - .01 * (a.rcr_essence || 0)) + (a.rcrint || 0);
                    n > 0 && (s.Damage.percent = {
                        "Essence Consumed": 3 * n
                    })
                }
                return s
            },
            active: !0,
            buffs: function(e, a) {
                if ("e" === e) return {
                    weaponaps: .03 * this.params[1].val
                }
            }
        },
        deathnova: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "psn",
                        coeff: 3.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58.0645,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 20
                    }
                };
                return "a" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 2.25
                }), "b" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 4.75
                }), "c" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 4.5
                }), a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), s
            }
        },
        corpseexplosion: {
            info: {
                "*": {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 15.75
                    }
                },
                a: {
                    Damage: {
                        elem: "psn",
                        coeff: 10.5
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 10.5
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                }
            }
        },
        corpselance: {
            params: [{
                rune: "b",
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }, {
                min: 0,
                max: 20,
                name: "Corpses Consumed",
                buffs: !1,
                show: function(e, a) {
                    return !!a.leg_corpsewhisperpauldrons
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 17.5
                    }
                };
                if ("e" === e && (s.Damage.elem = "psn"), "b" === e && (s.Damage.elem = "col"), "a" === e && (s.Damage.elem = "psn"), "c" === e && (s["Additional Damage"] = {
                        elem: "phy",
                        coeff: 5.25
                    }), a.leg_corpsewhisperpauldrons) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Necro_Unique_Shoulders_21.name] = a.leg_corpsewhisperpauldrons * this.params[1].val, s.Damage.percent = n, s["Additional Damage"] && (s["Additional Damage"].percent = n)
                }
                return s.DPS = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 12
                    }
                }, s["Additional Damage"] && (s.DPS["Additional Damage"] = {
                    speed: 1,
                    fpa: 12,
                    nobp: !0
                }), s
            },
            active: !0,
            buffs: function(e, a) {
                if ("b" === e) return {
                    chctaken: 5 * this.params[0].val
                }
            }
        },
        devour: {
            active: !0,
            params: [{
                rune: "ec",
                min: 0,
                max: 25,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "e" === e ? {
                    life: 2 * this.params[0].val
                } : "c" === e ? {
                    rcr: 2 * this.params[0].val
                } : void 0
            }
        },
        revive: {
            active: !0,
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("c" === e) return {
                    dmgred: this.params[0].val
                }
            }
        },
        commandskeletons: {
            params: [{
                min: 1,
                max: 7,
                name: "Skeletons",
                buffs: !1
            }, {
                min: 0,
                max: 60,
                name: "Active Time",
                buffs: !1,
                show: function(e, a) {
                    return !!a.leg_boneringer
                }
            }],
            info: function(e, a) {
                var s = {
                        Cost: {
                            cost: 50,
                            rcr: {
                                commanderoftherisendead: a.passives.commanderoftherisendead ? 30 : 0
                            }
                        },
                        Damage: {
                            elem: "phy",
                            pet: !0,
                            coeff: .5
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                pet: 50,
                                speed: 1,
                                count: this.params[0].val
                            }
                        }
                    },
                    n = !1;
                if (a.leg_bloodsongmail && a.skills.landofthedead && DiabloCalc.skills.necromancer.landofthedead.active && (n = !0), (n || "a" === e) && (s.Cost.cost = 25), (n || "e" === e) && this.active && (s.DPS.Damage.pet = 40), "c" === e && (s.Damage.elem = "col"), "d" === e && (s.Damage.elem = "psn"), (n || "d" === e) && (s["Explosion Damage"] = {
                        elem: s.Damage.elem,
                        pet: !0,
                        coeff: 2.15
                    }, s["Total Explosion Damage"] = {
                        sum: !0,
                        "Explosion Damage": {
                            count: this.params[0].val
                        }
                    }), a.leg_boneringer) {
                    var m = {};
                    m[DiabloCalc.itemById.P6_Unique_Phylactery_02.name] = a.leg_boneringer * this.params[1].val, s.Damage.percent = m, s["Explosion Damage"] && (s["Explosion Damage"].percent = m)
                }
                return s
            },
            active: !1,
            buffs: function(e, a) {
                var s = {
                    dmgmul: {
                        list: [{
                            skills: ["commandskeletons"],
                            percent: 50
                        }]
                    }
                };
                return a.set_jesseth_2pc && s.dmgmul.list.push({
                    source: "set_jesseth_2pc",
                    value: {
                        percent: 400
                    }
                }), s
            }
        },
        commandgolem: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        pet: !0,
                        coeff: 4.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            pet: 90,
                            speed: 1
                        }
                    },
                    Cooldown: {
                        cooldown: 45,
                        cdr: a.passives.commanderoftherisendead ? 30 : 0
                    }
                };
                switch (a.leg_golemskinbreeches_p6 && (s.Cooldown.cooldown -= a.leg_golemskinbreeches_p6), e) {
                    case "e":
                        s.Damage.elem = "col";
                        break;
                    case "a":
                        s["Activation Damage"] = {
                            elem: "phy",
                            pet: !0,
                            coeff: 20,
                            total: !0
                        };
                        break;
                    case "c":
                        s.Damage.elem = "psn"
                }
                return s
            },
            active: !1,
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                val: 0,
                name: "Corpses Consumed"
            }],
            buffs: function(e, a) {
                var s = {};
                return "e" === e && (s.chctaken = 10), "c" === e && (s.dmgmul = {
                    skills: ["commandgolem"],
                    percent: 30 * this.params[0].val
                }), a.leg_golemskinbreeches && (s.dmgred = 30), s
            }
        },
        armyofthedead: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 120,
                        total: !0
                    },
                    Cooldown: {
                        cooldown: 120
                    }
                };
                return a.leg_fatesvow || a.leg_fatesvow_p6 || "c" === e ? s.Damage.coeff = 500 : "a" === e ? s.Damage.coeff = 140 : "e" === e && (s.Damage.coeff = 155), "a" === e && (s.Damage.elem = "psn"), "b" === e && (s.Damage.elem = "col"), s
            }
        },
        landofthedead: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 120
                    }
                },
                c: {
                    DPS: {
                        elem: "psn",
                        coeff: 1,
                        total: !0
                    },
                    "Total Damage": {
                        elem: "psn",
                        coeff: 100,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var s = {};
                return a.leg_bloodsongmail && (s.dmgmul = {
                    skills: ["commandskeletons"],
                    percent: a.leg_bloodsongmail
                }), "a" === e && (s.rcr_essence = 100), s
            }
        },
        decrepify: {
            active: !1,
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                }
            },
            params: [{
                rune: "b",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }, {
                rune: "c",
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = {};
                return "b" === e && (s.extrams = 3 * this.params[0].val), "c" === e && (s.cdr = this.params[1].val), a.leg_daynteesbinding && (s.dmgred = a.leg_daynteesbinding), s
            }
        },
        leech: {
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                }
            },
            active: !1,
            params: [{
                rune: "ad",
                min: 0,
                max: 20,
                val: 0,
                name: "Enemies Hit"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    regen: 751 * this.params[0].val
                } : "d" === e ? {
                    regen_percent: this.params[0].val
                } : void 0
            }
        },
        frailty: {
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 1
                    }
                },
                e: {
                    Range: "@15+pickup*0.5",
                    Cost: null
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("d" === e) return {
                    dmgtaken: {
                        pet: !0,
                        percent: 15
                    }
                }
            }
        },
        bonearmor: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 1.25
                    },
                    Cooldown: {
                        cooldown: 10
                    }
                };
                return "a" === e && (s.Damage.coeff = 1.45), "c" === e && (s.Damage.elem = "psn"), "b" === e && (s.Cooldown.cooldown = 45), "e" === e && (s.Damage.elem = "col"), a.set_inarius_6pc && (s.DPS = {
                    elem: s.Damage.elem,
                    coeff: 10,
                    total: !0
                }), s
            },
            active: !1,
            params: [{
                min: 1,
                max: "10+(leg_wisdomofkalan?5:0)",
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if (this.params[0].val) {
                    var s = {
                        dmgred: (a.set_inarius_4pc ? 6 : 3) * this.params[0].val
                    };
                    return "e" === e && (s.extrams = this.params[0].val), "d" === e && (s.regen_bonus = 10 * this.params[0].val), s.dmgmul = {
                        list: []
                    }, a.leg_scytheofthecycle && s.dmgmul.list.push({
                        source: "P6_Unique_Scythe1H_03",
                        value: {
                            skills: ["bonespear", "skeletalmage", "deathnova"],
                            percent: a.leg_scytheofthecycle
                        }
                    }), a.leg_scytheofthecycle_p6 && s.dmgmul.list.push({
                        source: "P61_Unique_Scythe1H_03",
                        value: {
                            skills: ["bonespear", "skeletalmage", "deathnova"],
                            percent: a.leg_scytheofthecycle_p6
                        }
                    }), a.set_inarius_6pc && s.dmgmul.list.push({
                        source: "set_inarius_6pc",
                        value: 1e4
                    }), s
                }
            }
        },
        bonespirit: {
            params: [{
                rune: "e",
                min: 0,
                max: 10,
                inf: !0,
                val: 0,
                name: "Enemies Hit",
                buffs: !1
            }, {
                min: 0,
                max: 30,
                name: "Active Time",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_defilercuisses && !a.leg_defilercuisses_p6)
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 40
                    },
                    Cooldown: {
                        cooldown: 15
                    }
                };
                if ("e" === e && (s.Damage = {
                        elem: "col",
                        coeff: 40,
                        percent: {
                            Bonus: 15 * this.params[0].val
                        }
                    }), "b" === e && (s.Damage.elem = "psn"), "d" === e && (s.Damage = {
                        elem: "col",
                        coeff: 12.5
                    }), a.leg_defilercuisses || a.leg_defilercuisses_p6) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Necro_Unique_Pants_22.name] = (a.leg_defilercuisses || a.leg_defilercuisses_p6) * this.params[1].val, s.Damage.percent = n
                }
                return s
            }
        },
        bloodrush: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 5
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("d" === e || a.set_trangoul_2pc) return {
                    armor_percent: 100
                }
            }
        },
        simulacrum: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 120
                    }
                }
            },
            active: !1,
            activeshow: function(e, a) {
                return !0
            },
            buffs: function(e, a) {
                var s = {};
                return ("a" === e || a.set_masquerade_2pc) && (s.maxessence_percent = 100), a.set_masquerade_4pc && (s.dmgred = 100 * (1 - .5 / 3)), s
            }
        }
    }, DiabloCalc.passives.necromancer = {
        lifefromdeath: {},
        fueledbydeath: {
            active: !0,
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    extrams: 3 * this.params[0].val
                }
            }
        },
        standalone: {
            active: !0,
            params: [{
                min: 0,
                max: 10,
                name: "Minions"
            }],
            buffs: function(e) {
                return {
                    armor_percent: 100 - 10 * this.params[0].val
                }
            }
        },
        boneprison: {},
        swiftharvesting: {},
        commanderoftherisendead: {},
        extendedservitude: {},
        rigormortis: {},
        overwhelmingessence: {
            buffs: {
                maxessence: 40
            }
        },
        darkreaping: {},
        spreadingmalediction: {
            active: !0,
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: this.params[0].val
                }
            }
        },
        eternaltorment: {},
        finalservice: {},
        grislytribute: {},
        drawlife: {
            active: !0,
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    regen_bonus: 10 * this.params[0].val
                }
            }
        },
        serration: {
            active: !0,
            params: [{
                min: 0,
                max: 30,
                step: 1.5,
                name: "Distance"
            }],
            buffs: function(e) {
                return {
                    dmgmul: {
                        skills: ["bonespikes", "bonespear", "bonespirit"],
                        percent: this.params[0].val / 1.5
                    }
                }
            }
        },
        aberrantanimator: {},
        bloodforblood: {},
        bloodispower: {},
        rathmasshield: {}
    }, DiabloCalc.partybuffs.necromancer = {
        corpselance: {
            runelist: "b",
            params: [{
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    chctaken: 5 * this.params[0].val
                }
            }
        },
        commandgolem: {
            runelist: "e"
        }
    };
} else {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.necromancer = {
        bonespikes: {
            params: [{
                rune: "b",
                min: 8,
                max: 80,
                name: "Distance"
            }],
            info: {
                "*": {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 60,
                            round: "up"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.8
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 1.2
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: "0.8+0.8*($1-8)/72"
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.2
                    },
                    "Bleed Damage": {
                        elem: "phy",
                        coeff: .5
                    }
                }
            }
        },
        grimscythe: {
            params: [{
                rune: "c",
                name: "Stacks",
                min: 0,
                max: 15,
                val: 0
            }, {
                min: 0,
                max: "0.999+maxessence/(12*(1+0.01*resourcegen))",
                name: "Enemies Hit",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_legersdisdain && !a.leg_legersdisdain_p6)
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 1.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "passives.swiftharvesting?1.15:1",
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                };
                if ("e" === e && (s.Damage.elem = "psn"), "c" === e && (s.Damage.elem = "col"), a.leg_legersdisdain || a.leg_legersdisdain_p6) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Unique_Phylactery_03.name] = (a.leg_legersdisdain || a.leg_legersdisdain_p6) * Math.min(a.maxessence, 12 * this.params[1].val * (1 + .01 * (a.resourcegen || 0))), s.Damage.percent = n
                }
                return a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && a.leg_hauntedvisions_p69 && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), s
            },
            active: !0,
            buffs: function(e, a) {
                if ("c" === e) return {
                    ias: this.params[0].val
                }
            }
        },
        siphonblood: {
            params: [{
                rune: "d",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks",
                buffs: !1
            }],
            info: {
                "*": {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                e: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                a: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                d: {
                    DPS: {
                        elem: "psn",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        },
                        percent: {
                            Stacks: "10*$1"
                        }
                    }
                },
                b: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                },
                c: {
                    DPS: {
                        elem: "phy",
                        aps: !0,
                        coeff: 3,
                        total: !0,
                        passives: {
                            swiftharvesting: 15
                        }
                    }
                }
            }
        },
        bonespear: {
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                inf: !0,
                val: 0,
                name: "Enemies Hit",
                buffs: !1
            }, {
                rune: "a",
                min: 0,
                max: 10,
                val: 0,
                name: "Enemies Hit"
            }],
            info: function(e, a) {
                var s = {
                    Cost: {
                        cost: 20
                    },
                    Damage: {
                        elem: "phy",
                        coeff: 5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58.0645,
                            round: "up"
                        }
                    }
                };
                return a.leg_maltoriuspetrifiedspike && (s.Cost.cost = 40), "c" === e && (s.Damage.elem = "psn", s.Damage.percent = {
                    Bonus: 15 * this.params[0].val
                }), "e" === e && (s.Damage.coeff = 3), "a" === e && (s.Damage.elem = "col"), "d" === e && (s.Damage.coeff = 6.5), a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), a.set_masquerade_6pc && (s.Damage.percent = s.Damage.percent || {}, s.Damage.percent[DiabloCalc.itemSets.masquerade.name] = 1e4, a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s["Simulacrum Damage"] = $.extend(!0, {}, s.Damage), s["Simulacrum Damage"].percent[DiabloCalc.itemSets.masquerade.name] = 3e4, s.DPS["Simulacrum Damage"] = $.extend({}, s.DPS.Damage), s.DPS["Simulacrum Damage"].count -= 1, s.DPS["Simulacrum Damage"].nobp = !0, delete s.DPS.Damage.count)), s
            },
            buffs: function(e, a) {
                if ("a" === e) return {
                    weaponaps: .03 * this.params[1].val
                }
            }
        },
        skeletalmage: {
            params: [{
                min: 0,
                max: 10,
                val: 1,
                name: "Count",
                buffs: !1
            }, {
                rune: "e",
                min: 0,
                max: 10,
                name: "Stacks"
            }, {
                rune: "b",
                min: "40*(1-0.01*rcr_essence)-rcrint",
                max: "maxessence",
                name: "Essence",
                buffs: !1
            }],
            info: function(e, a) {
                var s = {
                    Cost: {
                        cost: 40
                    },
                    Duration: {
                        duration: (("c" === e ? 8 : 6) + (a.leg_circleofnailujsevol || 0)) * (a.passives.extendedservitude ? 1.25 : 1)
                    },
                    Damage: {
                        elem: "phy",
                        pet: !0,
                        aps: !0,
                        coeff: 2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            pet: 30,
                            nobp: !0
                        }
                    },
                    "Total DPS": {
                        sum: !0,
                        DPS: {
                            count: this.params[0].val
                        }
                    }
                };
                if ("d" === e && (s.Damage.elem = "psn", s["Aura DPS"] = {
                        elem: "psn",
                        total: !0,
                        aps: !0,
                        coeff: 1
                    }, s.DPS["Aura DPS"] = {}), "e" === e && (s.Damage.elem = "col", s.Damage.coeff = 4, s.DPS.Damage.pet = 60), "b" === e || a.leg_razethsvolition_p69) {
                    var n = this.params[2].val - 40 * (1 - .01 * (a.rcr_essence || 0)) + (a.rcrint || 0);
                    n > 0 && (s.Damage.percent = {
                        "Essence Consumed": 3 * n
                    })
                }
                return s
            },
            active: !0,
            buffs: function(e, a) {
                if ("e" === e) return {
                    weaponaps: .03 * this.params[1].val
                }
            }
        },
        deathnova: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "psn",
                        coeff: 3.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58.0645,
                            round: "up"
                        }
                    },
                    Cost: {
                        cost: 20
                    }
                };
                return "a" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 2.25
                }), "b" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 4.75
                }), "c" === e && (s.Damage = {
                    elem: "phy",
                    coeff: 4.5
                }), a.skills.simulacrum && DiabloCalc.skills.necromancer.simulacrum.active && (s.DPS.Damage.count = "d" === a.skills.simulacrum || a.set_masquerade_2pc ? 3 : 2), s
            }
        },
        corpseexplosion: {
            info: {
                "*": {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 15.75
                    }
                },
                a: {
                    Damage: {
                        elem: "psn",
                        coeff: 10.5
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 10.5
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.5
                    }
                }
            }
        },
        corpselance: {
            params: [{
                rune: "b",
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }, {
                min: 0,
                max: 20,
                name: "Corpses Consumed",
                buffs: !1,
                show: function(e, a) {
                    return !!a.leg_corpsewhisperpauldrons
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 17.5
                    }
                };
                if ("e" === e && (s.Damage.elem = "psn"), "b" === e && (s.Damage.elem = "col"), "a" === e && (s.Damage.elem = "psn"), "c" === e && (s["Additional Damage"] = {
                        elem: "phy",
                        coeff: 5.25
                    }), a.leg_corpsewhisperpauldrons) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Necro_Unique_Shoulders_21.name] = a.leg_corpsewhisperpauldrons * this.params[1].val, s.Damage.percent = n, s["Additional Damage"] && (s["Additional Damage"].percent = n)
                }
                return s.DPS = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 12
                    }
                }, s["Additional Damage"] && (s.DPS["Additional Damage"] = {
                    speed: 1,
                    fpa: 12,
                    nobp: !0
                }), s
            },
            active: !0,
            buffs: function(e, a) {
                if ("b" === e) return {
                    chctaken: 5 * this.params[0].val
                }
            }
        },
        devour: {
            active: !0,
            params: [{
                rune: "ec",
                min: 0,
                max: 25,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                return "e" === e ? {
                    life: 2 * this.params[0].val
                } : "c" === e ? {
                    rcr: 2 * this.params[0].val
                } : void 0
            }
        },
        revive: {
            active: !0,
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("c" === e) return {
                    dmgred: this.params[0].val
                }
            }
        },
        commandskeletons: {
            params: [{
                min: 1,
                max: 7,
                name: "Skeletons",
                buffs: !1
            }, {
                min: 0,
                max: 60,
                name: "Active Time",
                buffs: !1,
                show: function(e, a) {
                    return !!a.leg_boneringer
                }
            }],
            info: function(e, a) {
                var s = {
                        Cost: {
                            cost: 50,
                            rcr: {
                                commanderoftherisendead: a.passives.commanderoftherisendead ? 30 : 0
                            }
                        },
                        Damage: {
                            elem: "phy",
                            pet: !0,
                            coeff: .5
                        },
                        DPS: {
                            sum: !0,
                            Damage: {
                                pet: 50,
                                speed: 1,
                                count: this.params[0].val
                            }
                        }
                    },
                    n = !1;
                if (a.leg_bloodsongmail && a.skills.landofthedead && DiabloCalc.skills.necromancer.landofthedead.active && (n = !0), (n || "a" === e) && (s.Cost.cost = 25), (n || "e" === e) && this.active && (s.DPS.Damage.pet = 40), "c" === e && (s.Damage.elem = "col"), "d" === e && (s.Damage.elem = "psn"), (n || "d" === e) && (s["Explosion Damage"] = {
                        elem: s.Damage.elem,
                        pet: !0,
                        coeff: 2.15
                    }, s["Total Explosion Damage"] = {
                        sum: !0,
                        "Explosion Damage": {
                            count: this.params[0].val
                        }
                    }), a.leg_boneringer) {
                    var m = {};
                    m[DiabloCalc.itemById.P6_Unique_Phylactery_02.name] = a.leg_boneringer * this.params[1].val, s.Damage.percent = m, s["Explosion Damage"] && (s["Explosion Damage"].percent = m)
                }
                return s
            },
            active: !1,
            buffs: function(e, a) {
                var s = {
                    dmgmul: {
                        list: [{
                            skills: ["commandskeletons"],
                            percent: 50
                        }]
                    }
                };
                return a.set_jesseth_2pc && s.dmgmul.list.push({
                    source: "set_jesseth_2pc",
                    value: {
                        percent: 400
                    }
                }), s
            }
        },
        commandgolem: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        pet: !0,
                        coeff: 4.5
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            pet: 90,
                            speed: 1
                        }
                    },
                    Cooldown: {
                        cooldown: 45,
                        cdr: a.passives.commanderoftherisendead ? 30 : 0
                    }
                };
                switch (a.leg_golemskinbreeches_p6 && (s.Cooldown.cooldown -= a.leg_golemskinbreeches_p6), e) {
                    case "e":
                        s.Damage.elem = "col";
                        break;
                    case "a":
                        s["Activation Damage"] = {
                            elem: "phy",
                            pet: !0,
                            coeff: 20,
                            total: !0
                        };
                        break;
                    case "c":
                        s.Damage.elem = "psn"
                }
                return s
            },
            active: !1,
            params: [{
                rune: "c",
                min: 0,
                max: 10,
                val: 0,
                name: "Corpses Consumed"
            }],
            buffs: function(e, a) {
                var s = {};
                return "e" === e && (s.chctaken = 10), "c" === e && (s.dmgmul = {
                    skills: ["commandgolem"],
                    percent: 30 * this.params[0].val
                }), a.leg_golemskinbreeches && (s.dmgred = 30), s
            }
        },
        armyofthedead: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 120,
                        total: !0
                    },
                    Cooldown: {
                        cooldown: 120
                    }
                };
                return a.leg_fatesvow || a.leg_fatesvow_p6 || "c" === e ? s.Damage.coeff = 500 : "a" === e ? s.Damage.coeff = 140 : "e" === e && (s.Damage.coeff = 155), "a" === e && (s.Damage.elem = "psn"), "b" === e && (s.Damage.elem = "col"), s
            }
        },
        landofthedead: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 120
                    }
                },
                c: {
                    DPS: {
                        elem: "psn",
                        coeff: 1,
                        total: !0
                    },
                    "Total Damage": {
                        elem: "psn",
                        coeff: 100,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var s = {};
                return a.leg_bloodsongmail && (s.dmgmul = {
                    skills: ["commandskeletons"],
                    percent: a.leg_bloodsongmail
                }), "a" === e && (s.rcr_essence = 100), s
            }
        },
        decrepify: {
            active: !1,
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                }
            },
            params: [{
                rune: "b",
                min: 0,
                max: 10,
                val: 0,
                name: "Stacks"
            }, {
                rune: "c",
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var s = {};
                return "b" === e && (s.extrams = 3 * this.params[0].val), "c" === e && (s.cdr = this.params[1].val), a.leg_daynteesbinding && (s.dmgred = a.leg_daynteesbinding), s
            }
        },
        leech: {
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                }
            },
            active: !1,
            params: [{
                rune: "ad",
                min: 0,
                max: 20,
                val: 0,
                name: "Enemies Hit"
            }],
            buffs: function(e, a) {
                return "a" === e ? {
                    regen: 751 * this.params[0].val
                } : "d" === e ? {
                    regen_percent: this.params[0].val
                } : void 0
            }
        },
        frailty: {
            info: {
                "*": {
                    Cost: {
                        cost: 10,
                        rcr: {
                            eternaltorment: "passives.eternaltorment?50:0"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 1
                    }
                },
                e: {
                    Range: "@15+pickup*0.5",
                    Cost: null
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("d" === e) return {
                    dmgtaken: {
                        pet: !0,
                        percent: 15
                    }
                }
            }
        },
        bonearmor: {
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 1.25
                    },
                    Cooldown: {
                        cooldown: 10
                    }
                };
                return "a" === e && (s.Damage.coeff = 1.45), "c" === e && (s.Damage.elem = "psn"), "b" === e && (s.Cooldown.cooldown = 45), "e" === e && (s.Damage.elem = "col"), a.set_inarius_6pc && (s.DPS = {
                    elem: s.Damage.elem,
                    coeff: 10,
                    total: !0
                }), s
            },
            active: !1,
            params: [{
                min: 1,
                max: "10+(leg_wisdomofkalan?5:0)",
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if (this.params[0].val) {
                    var s = {
                        dmgred: (a.set_inarius_4pc ? 6 : 3) * this.params[0].val
                    };
                    return "e" === e && (s.extrams = this.params[0].val), "d" === e && (s.regen_bonus = 10 * this.params[0].val), s.dmgmul = {
                        list: []
                    }, a.leg_scytheofthecycle && s.dmgmul.list.push({
                        source: "P6_Unique_Scythe1H_03",
                        value: {
                            skills: ["bonespear", "skeletalmage", "deathnova"],
                            percent: a.leg_scytheofthecycle
                        }
                    }), a.leg_scytheofthecycle_p6 && s.dmgmul.list.push({
                        source: "P61_Unique_Scythe1H_03",
                        value: {
                            skills: ["bonespear", "skeletalmage", "deathnova"],
                            percent: a.leg_scytheofthecycle_p6
                        }
                    }), a.set_inarius_6pc && s.dmgmul.list.push({
                        source: "set_inarius_6pc",
                        value: 1e4
                    }), s
                }
            }
        },
        bonespirit: {
            params: [{
                rune: "e",
                min: 0,
                max: 10,
                inf: !0,
                val: 0,
                name: "Enemies Hit",
                buffs: !1
            }, {
                min: 0,
                max: 30,
                name: "Active Time",
                buffs: !1,
                show: function(e, a) {
                    return !(!a.leg_defilercuisses && !a.leg_defilercuisses_p6)
                }
            }],
            info: function(e, a) {
                var s = {
                    Damage: {
                        elem: "phy",
                        coeff: 40
                    },
                    Cooldown: {
                        cooldown: 15
                    }
                };
                if ("e" === e && (s.Damage = {
                        elem: "col",
                        coeff: 40,
                        percent: {
                            Bonus: 15 * this.params[0].val
                        }
                    }), "b" === e && (s.Damage.elem = "psn"), "d" === e && (s.Damage = {
                        elem: "col",
                        coeff: 12.5
                    }), a.leg_defilercuisses || a.leg_defilercuisses_p6) {
                    var n = {};
                    n[DiabloCalc.itemById.P6_Necro_Unique_Pants_22.name] = (a.leg_defilercuisses || a.leg_defilercuisses_p6) * this.params[1].val, s.Damage.percent = n
                }
                return s
            }
        },
        bloodrush: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 5
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                if ("d" === e || a.set_trangoul_2pc) return {
                    armor_percent: 100
                }
            }
        },
        simulacrum: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 120
                    }
                }
            },
            active: !1,
            activeshow: function(e, a) {
                return !0
            },
            buffs: function(e, a) {
                var s = {};
                return ("a" === e || a.set_masquerade_2pc) && (s.maxessence_percent = 100), a.set_masquerade_4pc && (s.dmgred = 100 * (1 - .5 / 3)), s
            }
        }
    }, DiabloCalc.passives.necromancer = {
        lifefromdeath: {},
        fueledbydeath: {
            active: !0,
            params: [{
                min: 0,
                max: 10,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    extrams: 3 * this.params[0].val
                }
            }
        },
        standalone: {
            active: !0,
            params: [{
                min: 0,
                max: 10,
                name: "Minions"
            }],
            buffs: function(e) {
                return {
                    armor_percent: 100 - 10 * this.params[0].val
                }
            }
        },
        boneprison: {},
        swiftharvesting: {},
        commanderoftherisendead: {},
        extendedservitude: {},
        rigormortis: {},
        overwhelmingessence: {
            buffs: {
                maxessence: 40
            }
        },
        darkreaping: {},
        spreadingmalediction: {
            active: !0,
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    damage: this.params[0].val
                }
            }
        },
        eternaltorment: {},
        finalservice: {},
        grislytribute: {},
        drawlife: {
            active: !0,
            params: [{
                min: 0,
                max: 20,
                inf: !0,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    regen_bonus: 10 * this.params[0].val
                }
            }
        },
        serration: {
            active: !0,
            params: [{
                min: 0,
                max: 30,
                step: 1.5,
                name: "Distance"
            }],
            buffs: function(e) {
                return {
                    dmgmul: {
                        skills: ["bonespikes", "bonespear", "bonespirit"],
                        percent: this.params[0].val / 1.5
                    }
                }
            }
        },
        aberrantanimator: {},
        bloodforblood: {},
        bloodispower: {},
        rathmasshield: {}
    }, DiabloCalc.partybuffs.necromancer = {
        corpselance: {
            runelist: "b",
            params: [{
                min: 0,
                max: 20,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    chctaken: 5 * this.params[0].val
                }
            }
        },
        commandgolem: {
            runelist: "e"
        }
    };
}
if (DiabloCalc.ptr) {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.extraskills || (DiabloCalc.extraskills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.witchdoctor = {
        poisondart: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "psn",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.1
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "col",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "phy",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 5.65,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "psn",
                                coeff: .4,
                                total: !0
                            }
                        }
                }
                var o = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 58,
                        round: "up",
                        count: "b" == e ? 3 : 1
                    }
                };
                if (t["Dot Damage"] && (o["Dot Damage"] = 1), (a.leg_carnevil || a.leg_carnevil_p65) && (a.skills.fetisharmy || a.passives.fetishsycophants || a.leg_beltoftranscendence)) {
                    var s = {
                        elem: "psn",
                        pet: !0,
                        aps: !0,
                        coeff: 1.3,
                        percent: {}
                    };
                    if (s.percent[DiabloCalc.itemById.Unique_VoodooMask_101_x1.name] = 250, a.skills.fetisharmy || a.passives.fetishsycophants || a.leg_beltoftranscendence) {
                        var l = 0;
                        a.skills.fetisharmy && (l += {
                            x: 5,
                            a: 5,
                            d: 5,
                            b: 8,
                            c: 7,
                            e: 7
                        }[a.skills.fetisharmy] || 0), (a.passives.fetishsycophants || a.leg_beltoftranscendence) && (l += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), l = Math.min(l, (a.leg_carnevil_p65, 10)), t["Fetish Damage"] = $.extend(!0, {
                            percent: {
                                "Army %": a.skill_witchdoctor_fetisharmy
                            }
                        }, s), o["Fetish Damage"] = {
                            speed: 1,
                            fpa: 58,
                            round: "up",
                            nobp: !0,
                            count: l
                        }
                    }
                    t["Total DPS"] = o
                } else t.DPS = o;
                return t
            }
        },
        corpsespiders: {
            info: {
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 6.45,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 26.25,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            factor: 1 / 15
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 7,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                }
            }
        },
        plagueoftoads: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            count: 4,
                            fpa: 57.5,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.9
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.45
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.3
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.3,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1.4,
                            fpa: 55.384609,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.9
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 1.9
                    }
                }
            }
        },
        firebomb: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    },
                    "Pool Damage": {
                        elem: "fir",
                        coeff: .6,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "fir",
                        coeff: 8.8,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            factor: 3,
                            divide: 6
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    },
                    "Blast Damage": {
                        elem: "col",
                        coeff: .3
                    }
                }
            }
        },
        graspofthedead: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 7.6,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 5.6,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 13.6,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                    case "d":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 5.6,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 5.6,
                                total: !0
                            },
                            "Corpse Damage": {
                                elem: "phy",
                                coeff: 4.2,
                                total: !0
                            }
                        }
                }
                a.leg_deadlyrebirth && "b" !== e && (t["Corpse Damage"] = {
                    elem: t.Damage.elem,
                    coeff: 4.2,
                    total: !0
                });
                var o = {};
                return "c" !== e && (o.Cost = {
                    cost: 150
                }), a.leg_wilkensreach || (o.Cooldown = {
                    cooldown: "d" === e ? 4 : 8
                }), $.extend(o, t)
            }
        },
        firebats: {
            range: {
                x: 28,
                a: 28,
                d: 28,
                c: 28,
                b: 60,
                e: 15
            },
            params: [{
                rune: "e",
                min: 0,
                max: 5,
                val: 5,
                step: .5,
                name: "Channeled for",
                buffs: !1
            }, {
                rune: "c",
                min: 0,
                max: 3,
                val: 3,
                step: .5,
                name: "Channeled for",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                }
                            }
                        };
                        break;
                    case "a":
                        t = {
                            "Channeling Cost": {
                                cost: 125,
                                fpa: 60
                            },
                            DPS: {
                                sum: !0,
                                "Tick Damage": {
                                    speed: 1,
                                    fpa: 60
                                }
                            },
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 5
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Cost: {
                                cost: 250
                            },
                            "Channeling Cost": null,
                            "Tick Damage": {
                                elem: "phy",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                }
                            },
                            Cost: {
                                cost: 225
                            },
                            "Channeling Cost": null
                        };
                        break;
                    case "c":
                        t = {
                            "Tick Damage": {
                                elem: "psn",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                },
                                percent: {
                                    Channeling: "$2*51.5/3"
                                }
                            }
                        };
                        break;
                    case "b":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 7.5,
                                divide: {
                                    "Base Speed": 2
                                }
                            }
                        };
                        break;
                    case "e":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 4.25,
                                divide: {
                                    "Base Speed": 2
                                },
                                percent: {
                                    Channeling: "$1*20"
                                }
                            }
                        }
                }
                if (t = $.extend({
                        Cost: null,
                        "Channeling Cost": {
                            cost: 125,
                            fpa: 30
                        },
                        DPS: {
                            sum: !0,
                            "Tick Damage": {
                                speed: 1,
                                fpa: 30
                            }
                        }
                    }, t), a.leg_staffofchiroptera || a.leg_staffofchiroptera_p6) {
                    t.DPS["Tick Damage"].speed *= 2;
                    var o = {};
                    a.leg_staffofchiroptera_p6 ? o.leg_staffofchiroptera_p6 = 75 : a.leg_staffofchiroptera && (o.leg_staffofchiroptera = a.leg_staffofchiroptera), t.Cost && (t.Cost.rcr = o), t["Channeling Cost"] && (t["Channeling Cost"].rcr = o)
                }
                return t
            },
            active: !0,
            buffs: function(e, a) {
                if (a.leg_coilsofthefirstspider) return {
                    lph: a.leg_coilsofthefirstspider,
                    dmgred: 30
                }
            }
        },
        haunt: {
            info: function(e, a) {
                var t, o = {
                    elem: "c" == e ? "psn" : "a" == e ? "fir" : "d" === e ? "phy" : "col",
                    coeff: 40,
                    total: !0
                };
                return a.passives.creepingdeath ? (o.divide = {
                    "Base Duration": a.leg_quetzalcoatl ? 6 : 12
                }, t = {
                    DPS: o
                }) : t = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: a.leg_quetzalcoatl ? 6 : 12
                        }
                    },
                    Damage: o
                }, a.set_jadeharvester_2pc && (t["Reapplication Damage"] = {
                    elem: o.elem,
                    coeff: 40,
                    divide: {
                        "Base Duration": a.leg_quetzalcoatl ? 6 : 12
                    },
                    factors: {
                        Duration: 3500
                    }
                }, t["Spam DPS"] = {
                    sum: !0,
                    DPS: {},
                    "Reapplication Damage": {
                        speed: 1,
                        fpa: 57.5,
                        round: "up"
                    }
                }), $.extend({
                    Cost: {
                        cost: 50
                    }
                }, t)
            },
            active: !0,
            buffs: {
                c: {
                    dmgtaken: 20
                }
            }
        },
        locustswarm: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "a":
                        t = {
                            elem: "fir",
                            coeff: 14.8,
                            total: !0
                        };
                        break;
                    case "c":
                        t = {
                            elem: "phy",
                            coeff: 10.4,
                            total: !0
                        };
                        break;
                    default:
                        t = {
                            elem: "psn",
                            coeff: 10.4,
                            total: !0
                        }
                }
                var o, s = 8 * (a.leg_quetzalcoatl ? .5 : 1);
                return a.passives.creepingdeath ? (t.divide = {
                    "Base Duration": s
                }, o = {
                    DPS: t
                }) : o = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: s
                        }
                    },
                    Damage: t
                }, "e" == e && (o["Cloud Damage"] = {
                    elem: "psn",
                    coeff: 7.5,
                    total: !0
                }), $.extend({
                    Cost: {
                        cost: 300
                    }
                }, o)
            }
        },
        summonzombiedogs: {
            info: function(e, a) {
                var t = 3 + (a.passives.zombiehandler ? 1 : 0) + (a.passives.fierceloyalty ? 1 : 0) + (a.passives.midnightfeast ? 1 : 0),
                    o = {
                        pet: !0,
                        aps: !0
                    },
                    s = 1;
                a.leg_thetallmansfinger && (o.percent = {}, o.percent[DiabloCalc.itemById.Unique_Ring_101_x1.name] = 800 * t, s = 8 * t + 1, t = 1);
                var l;
                switch (e) {
                    case "x":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "c":
                        l = {
                            Damage: $.extend({
                                elem: "psn",
                                coeff: 1.2
                            }, o),
                            "Poison Damage": $.extend({
                                elem: "psn",
                                coeff: 1.2,
                                total: !0
                            }, o)
                        };
                        break;
                    case "d":
                        l = {
                            Damage: $.extend({
                                elem: "col",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "b":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "a":
                        l = {
                            Damage: $.extend({
                                elem: "fir",
                                coeff: 1.2
                            }, o),
                            "Burn DPS": $.extend({
                                elem: "fir",
                                coeff: .4,
                                total: !0
                            }, o)
                        };
                        break;
                    case "e":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o),
                            Healing: DiabloCalc.formatNumber(a.lph * (1 + .01 * (a.petias || 0)) * s * t, 0, 1e3)
                        }
                }
                return l.DPS = {
                    sum: !0,
                    Damage: {
                        pet: 60,
                        count: t
                    }
                }, "c" === e && (l.DPS["Poison Damage"] = {
                    pet: 60,
                    count: t
                }), "a" === e && (l.DPS["Burn DPS"] = {
                    count: t
                }), $.extend({
                    Cooldown: {
                        cooldown: 45 * (a.passives.tribalrites ? .75 : 1)
                    }
                }, l)
            },
            active: !0,
            buffs: {
                b: {
                    dmgred: 10
                }
            }
        },
        horrify: {
            info: function(e, a) {
                var t = {};
                if (a.leg_tiklandianvisage && (t["Fear Uptime"] = {
                        cooldown: 10,
                        duration: a.leg_tiklandianvisage
                    }), "e" === e && (t["Speed Uptime"] = {
                        cooldown: 10,
                        duration: 4
                    }), "a" === e && (t["Armor Uptime"] = {
                        cooldown: 10,
                        duration: 8
                    }), !$.isEmptyObject(t)) return t
            },
            active: !1,
            buffs: {
                a: {
                    armor_percent: 50
                },
                e: {
                    extrams: 20
                }
            }
        },
        spiritwalk: {
            info: {
                "*": {
                    Uptime: {
                        cooldown: 10,
                        duration: 2,
                        after: !0
                    }
                },
                b: {
                    Uptime: {
                        cooldown: 10,
                        duration: 3,
                        after: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 7.5
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    extrams: 50
                },
                b: {
                    extrams: 50
                },
                d: {
                    extrams: 50
                },
                c: {
                    extrams: 50
                },
                a: {
                    extrams: 150
                },
                e: {
                    extrams: 50
                }
            }
        },
        hex: {
            info: function(e, a) {
                var t = {
                    Uptime: {
                        cooldown: 15 * (a.passives.tribalrites ? .75 : 1),
                        duration: 12
                    }
                };
                switch (e) {
                    case "b":
                        return t = {
                            Cooldown: {
                                cooldown: 15 * (a.passives.tribalrites ? .75 : 1)
                            },
                            "Explosion Damage": {
                                elem: "psn",
                                coeff: 13.5
                            }
                        }, a.set_manajuma_2pc && (t["Explosion Damage"].percent = {}, t["Explosion Damage"].percent[DiabloCalc.itemSets.manajuma.name] = 2e3), t;
                    case "a":
                        return {
                            Cooldown: {
                                cooldown: 15 * (a.passives.tribalrites ? .75 : 1)
                            },
                            Damage: {
                                elem: "psn",
                                coeff: 7.5,
                                total: !0
                            }
                        };
                    case "c":
                        t["Explosion Damage"] = {
                            elem: "fir",
                            coeff: 5
                        }
                }
                return t
            },
            active: !1,
            buffs: function(e, a) {
                var t;
                switch (e) {
                    case "e":
                        t = {
                            dmgtaken: 15
                        };
                        break;
                    case "b":
                        t = {
                            extrams: 50 + (a.set_manajuma_2pc ? 100 : 0)
                        };
                        break;
                    case "a":
                        t = {
                            dmgtaken: 15
                        }
                }
                return a.set_arachyr_4pc && (t.dmgtaken = Math.max(t.dmgtaken || 0, 25), t.dmgred = 50), t
            }
        },
        soulharvest: {
            info: function(e, a) {
                var t = {};
                if (("e" == e || a.set_jadeharvester_4pc) && (t.Damage = {
                        elem: "phy",
                        coeff: 6.3
                    }), a.set_jadeharvester_6pc) {
                    var o, s, l = a.skills.haunt;
                    if (l) {
                        var i = DiabloCalc.skills.witchdoctor.haunt.info(l, a);
                        s = a.passives.creepingdeath ? 1e4 : i.DPS.Damage.divide, o = (i = DiabloCalc.skill_processInfo(i, {
                            skill: ["haunt", l]
                        })).DPS.value
                    }
                    var c = a.skills.locustswarm;
                    !c && a.leg_wormwood && (c = "x");
                    var r, m;
                    if (c) {
                        var n = DiabloCalc.skills.witchdoctor.locustswarm.info(c, a);
                        m = a.passives.creepingdeath ? 1e4 : n.DPS.Damage.divide, r = (n = DiabloCalc.skill_processInfo(n, {
                            skill: ["locustswarm", c]
                        })).DPS.value
                    }
                    if (o || r) {
                        var f = {
                            sum: !0
                        };
                        o && (f["Haunt Damage"] = {
                            value: o,
                            factor: s
                        }), r && (f["Locust Swarm Damage"] = {
                            value: r,
                            factor: m
                        }), t["Jade Harvester Damage"] = f
                    }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 12
                    }
                }, t)
            },
            active: !1,
            params: [{
                min: 0,
                max: "leg_sacredharvester?10:5",
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var t = this.params[0].val,
                    o = {
                        int_percent: 3 * t
                    };
                return a.leg_lakumbasornament && (o.dmgred = 6 * t), ("d" === e || a.set_jadeharvester_4pc) && (o.maxmana = 750 * (t > 5 ? 5 : t) * .05), ("c" === e || a.set_jadeharvester_4pc) && (o.armor_percent = 10 * t), ("b" === e || a.set_jadeharvester_4pc) && (o.extrams = 5 * t), o
            }
        },
        sacrifice: {
            info: {
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: 13,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("a" === e) return {
                    damage: 20 * this.params[0].val
                }
            }
        },
        massconfusion: {
            info: {
                x: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                d: {
                    Uptime: {
                        duration: 12,
                        cooldown: "30*(passives.tribalrites?0.75:1)"
                    }
                },
                e: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                b: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                a: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                c: {
                    DPS: {
                        elem: "phy",
                        coeff: 4,
                        total: !0
                    },
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                }
            },
            active: !1
        },
        zombiecharger: {
            info: {
                "*": {
                    Cost: {
                        cost: 150,
                        rcr: {
                            leg_scrimshaw: "leg_scrimshaw",
                            leg_scrimshaw_p610: "leg_scrimshaw_p610?75:0"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.6
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 8.8
                    }
                },
                d: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.6
                    },
                    "Reanimate Damage": {
                        elem: "psn",
                        coeff: 4.8
                    }
                },
                b: {
                    Damage: {
                        elem: "col",
                        coeff: 2.8,
                        factors: {
                            Zombies: 7
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 6.8
                    }
                },
                a: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.2,
                        factors: {
                            Bears: 3
                        }
                    }
                }
            }
        },
        spiritbarrage: {
            params: [{
                min: 0,
                max: 3,
                name: "Phantasms",
                buffs: !1,
                show: function(e, a) {
                    return a.leg_gazingdemise || a.leg_gazingdemise_p68
                }
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 6,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 6,
                                total: !0
                            },
                            "Spirit Damage": {
                                elem: "fir",
                                coeff: .65
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 7.5,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 6,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 60,
                                total: !0
                            }
                        }
                }
                if ("c" === e ? t.DPS = {
                        sum: !0,
                        Damage: {
                            count: 3,
                            divide: 5
                        }
                    } : "e" === e ? t.DPS = {
                        sum: !0,
                        Damage: {
                            divide: 20
                        }
                    } : (t.DPS = {
                        sum: !0,
                        Damage: {
                            speed: 1.2,
                            fpa: 57.142834,
                            round: "up"
                        }
                    }, t["Spirit Damage"] && (t.DPS["Spirit Damage"] = {
                        speed: 1.2,
                        count: 3,
                        fpa: 57.142834,
                        round: "up",
                        nobp: !0
                    })), (a.leg_gazingdemise || a.leg_gazingdemise_p68) && this.params[0].val) {
                    var o = {};
                    o[DiabloCalc.itemById.P42_Unique_Mojo_003_x1.name] = this.params[0].val * (a.leg_gazingdemise || a.leg_gazingdemise_p68), t.Damage.percent = o, t["Spirit Damage"] && (t["Spirit Damage"].percent = o), "c" !== e && (t["Phantasm Damage"] = {
                        elem: t.Damage.elem,
                        coeff: 7.5,
                        total: !0,
                        percent: o
                    }, t.DPS["Phantasm Damage"] = {
                        count: this.params[0].val,
                        divide: 5
                    })
                }
                return $.extend({
                    Cost: {
                        cost: 100
                    }
                }, t)
            }
        },
        acidcloud: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3,
                                addcoeff: [3.6],
                                total: 0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3,
                                addcoeff: [6],
                                total: 0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 3,
                                addcoeff: [7.2],
                                total: 0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3.33,
                                addcoeff: [4],
                                total: 0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7
                            }
                        }
                }
                return "c" !== e && a.leg_suwongdiviner && (t["Blob Damage"] = {
                    elem: "psn",
                    coeff: 6,
                    total: !0
                }), $.extend({
                    Cost: {
                        cost: 175
                    }
                }, t)
            }
        },
        wallofdeath: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12.5,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 11,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 12,
                                total: !0
                            }
                        }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 8
                    }
                }, t)
            }
        },
        piranhas: {
            info: {
                "*": {
                    Cost: {
                        cost: 250
                    },
                    Cooldown: {
                        cooldown: 8
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 4,
                        total: !0
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 4,
                        total: !0
                    },
                    "Bogadile Damage": {
                        elem: "phy",
                        coeff: 11
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 4,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 2,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "psn",
                        coeff: 4.75,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 4,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    dmgtaken: 15
                },
                a: {
                    dmgtaken: 15
                },
                b: {
                    dmgtaken: 15
                },
                c: {
                    dmgtaken: 15
                },
                d: {
                    dmgtaken: 15
                },
                e: {
                    dmgtaken: 15
                }
            }
        },
        gargantuan: {
            info: function(e, a) {
                var t = 1,
                    o = {
                        pet: !0,
                        aps: !0
                    };
                (a.leg_theshortmansfinger || a.leg_theshortmansfinger_p6) && (t = 3);
                var s;
                switch (e) {
                    case "x":
                        s = {
                            Damage: $.extend(o, {
                                elem: "phy",
                                coeff: 4.5
                            })
                        };
                        break;
                    case "b":
                        s = {
                            Damage: $.extend(o, {
                                elem: "col",
                                coeff: 5.85
                            })
                        };
                        break;
                    case "a":
                        s = {
                            Damage: $.extend(!0, o, {
                                elem: "phy",
                                coeff: 4.5,
                                percent: {
                                    Enrage: 200
                                }
                            })
                        };
                        break;
                    case "d":
                        s = {
                            Damage: $.extend(o, {
                                elem: "fir",
                                coeff: 5.75
                            })
                        };
                        break;
                    case "c":
                        s = {
                            Damage: $.extend(o, {
                                elem: "psn",
                                coeff: 4.5
                            }),
                            "Poison DPS": $.extend(o, {
                                elem: "psn",
                                coeff: 1.35,
                                total: !0
                            })
                        };
                        break;
                    case "e":
                        s = {
                            Damage: $.extend(o, {
                                elem: "fir",
                                coeff: 4.5
                            }),
                            "Slam Damage": $.extend(o, {
                                elem: "fir",
                                coeff: 2
                            })
                        }
                }
                return s.DPS = {
                    sum: !0,
                    Damage: {
                        pet: 84,
                        count: t
                    }
                }, "a" === e && (s.DPS.Damage.ias = 35), "c" === e && (s.DPS["Poison DPS"] = {
                    count: t
                }), $.extend({
                    Cooldown: {
                        cooldown: 60 * (a.passives.tribalrites ? .75 : 1)
                    }
                }, s)
            }
        },
        bigbadvoodoo: {
            info: function(e, a) {
                if (!a.leg_starmetalkukri) return {
                    Uptime: {
                        duration: ("b" == e ? 30 : 20) * (a.set_mundunugu_2pc ? 2 : 1),
                        cooldown: 120 * (a.passives.tribalrites ? .75 : 1)
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ias: 15,
                    extrams: 15
                },
                b: {
                    ias: 15,
                    extrams: 15
                },
                d: {
                    ias: 15,
                    extrams: 15,
                    manaregen: 250
                },
                a: {
                    ias: 15,
                    extrams: 15,
                    damage: 15
                },
                c: {
                    ias: 15,
                    extrams: 15,
                    dmgred: 20
                },
                e: {
                    ias: 15,
                    extrams: 15
                }
            }
        },
        fetisharmy: {
            info: function(e, a) {
                var t = DiabloCalc.skilltips.witchdoctor.fetisharmy.elements[e],
                    o = {
                        Cooldown: {
                            cooldown: "d" === e ? 90 : 120
                        },
                        "Dagger Damage": {
                            elem: t,
                            pet: !0,
                            aps: !0,
                            coeff: 1.8
                        }
                    };
                a.passives.tribalrites && (o.Cooldown.cooldown *= .75), a.set_zunimassa_2pc && (o.Cooldown.cooldown *= .2);
                var s = 5;
                switch (e) {
                    case "a":
                        o["Explosion Damage"] = {
                            elem: "col",
                            coeff: 6.8
                        };
                        break;
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        o["Torcher Damage"] = {
                            elem: "fir",
                            pet: !0,
                            aps: !0,
                            coeff: .85
                        };
                        break;
                    case "e":
                        o["Dart Damage"] = {
                            elem: "psn",
                            pet: !0,
                            aps: !0,
                            coeff: 1.3
                        }
                }
                return o["Total DPS"] = {
                    sum: !0,
                    "Dagger Damage": {
                        pet: 48,
                        count: s
                    }
                }, "c" === e && (o["Total DPS"]["Torcher Damage"] = {
                    pet: 42,
                    count: 2
                }), "e" === e && (o["Total DPS"]["Dart Damage"] = {
                    pet: 42,
                    count: 2
                }), o
            }
        }
    }, DiabloCalc.passives.witchdoctor = {
        junglefortitude: {
            buffs: {
                dmgred: 15
            }
        },
        circleoflife: {},
        spiritualattunement: {
            buffs: {
                maxmana_percent: 10,
                manaregen_percent: 2
            }
        },
        gruesomefeast: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    int_percent: 10 * this.params[0].val
                }
            }
        },
        bloodritual: {
            buffs: {
                rcr: 20,
                regen_percent: 1
            }
        },
        badmedicine: {},
        zombiehandler: {
            buffs: {
                life: 20
            }
        },
        piercetheveil: {
            buffs: {
                damage: 20,
                rcr: -30
            }
        },
        spiritvessel: {},
        fetishsycophants: {
            params: DiabloCalc.itemaffixes && DiabloCalc.itemaffixes.leg_beltoftranscendence.params || [{
                min: 0,
                max: 15,
                name: "Count",
                buffs: !1,
                show: function(e) {
                    return !!this.id || !e.passives.fetishsycophants
                }
            }],
            info: function(e) {
                return {
                    "Fetish Damage": {
                        elem: "max",
                        pet: !0,
                        aps: !0,
                        coeff: 1.8,
                        percent: {
                            "Army %": e.skill_witchdoctor_fetisharmy
                        }
                    },
                    "Fetish DPS": {
                        sum: !0,
                        "Fetish Damage": {
                            pet: 48
                        }
                    },
                    "Total DPS": {
                        sum: !0,
                        "Fetish DPS": {
                            count: this.params[0].val
                        }
                    }
                }
            }
        },
        rushofessence: {},
        visionquest: {
            active: !0,
            buffs: {
                resourcegen: 40
            }
        },
        fierceloyalty: {
            buffs: {
                extrams: 15
            }
        },
        graveinjustice: {},
        tribalrites: {},
        confidenceritual: {
            active: !0,
            buffs: {
                dmgmul: 25
            }
        },
        creepingdeath: {},
        swamplandattunement: {
            params: [{
                min: 0,
                max: 25,
                val: 0,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    resphy: 120 * this.params[0].val,
                    respsn: 120 * this.params[0].val,
                    resfir: 120 * this.params[0].val,
                    rescol: 120 * this.params[0].val
                }
            }
        },
        midnightfeast: {
            buffs: {
                dmgmul: {
                    skills: ["summonzombiedogs", "gargantuan"],
                    percent: 50
                }
            }
        }
    }, DiabloCalc.partybuffs.witchdoctor = {
        summonzombiedogs: {
            runelist: "d"
        },
        hex: {
            runelist: "ae"
        },
        piranhas: {
            runelist: "x",
            buffs: function(e) {
                return {
                    dmgtaken: 15
                }
            }
        },
        bigbadvoodoo: {
            runelist: "*"
        }
    }, DiabloCalc.extraskills.witchdoctor = {
        hex_explode: {
            required: function(e) {
                return "b" === e.skills.hex
            }
        }
    };
} else {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.extraskills || (DiabloCalc.extraskills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.witchdoctor = {
        poisondart: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "psn",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.1
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "col",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "phy",
                                coeff: .4,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 5.65,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 1.85
                            },
                            "Dot Damage": {
                                elem: "psn",
                                coeff: .4,
                                total: !0
                            }
                        }
                }
                var o = {
                    sum: !0,
                    Damage: {
                        speed: 1,
                        fpa: 58,
                        round: "up",
                        count: "b" == e ? 3 : 1
                    }
                };
                if (t["Dot Damage"] && (o["Dot Damage"] = 1), (a.leg_carnevil || a.leg_carnevil_p65) && (a.skills.fetisharmy || a.passives.fetishsycophants || a.leg_beltoftranscendence)) {
                    var s = {
                        elem: "psn",
                        pet: !0,
                        aps: !0,
                        coeff: 1.3,
                        percent: {}
                    };
                    if (s.percent[DiabloCalc.itemById.Unique_VoodooMask_101_x1.name] = 250, a.skills.fetisharmy || a.passives.fetishsycophants || a.leg_beltoftranscendence) {
                        var l = 0;
                        a.skills.fetisharmy && (l += {
                            x: 5,
                            a: 5,
                            d: 5,
                            b: 8,
                            c: 7,
                            e: 7
                        }[a.skills.fetisharmy] || 0), (a.passives.fetishsycophants || a.leg_beltoftranscendence) && (l += DiabloCalc.passives.witchdoctor.fetishsycophants.params[0].val), l = Math.min(l, (a.leg_carnevil_p65, 10)), t["Fetish Damage"] = $.extend(!0, {
                            percent: {
                                "Army %": a.skill_witchdoctor_fetisharmy
                            }
                        }, s), o["Fetish Damage"] = {
                            speed: 1,
                            fpa: 58,
                            round: "up",
                            nobp: !0,
                            count: l
                        }
                    }
                    t["Total DPS"] = o
                } else t.DPS = o;
                return t
            }
        },
        corpsespiders: {
            info: {
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 6.45,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 26.25,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            factor: 1 / 15
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 7,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.76,
                        total: !0,
                        pet: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                }
            }
        },
        plagueoftoads: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            count: 4,
                            fpa: 57.5,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.9
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.45
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 1.3
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.3,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1.4,
                            fpa: 55.384609,
                            round: "up"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "psn",
                        coeff: 1.9
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 1.9
                    }
                }
            }
        },
        firebomb: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 58,
                            round: "up"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    },
                    "Pool Damage": {
                        elem: "fir",
                        coeff: .6,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "fir",
                        coeff: 8.8,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            factor: 3,
                            divide: 6
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.55
                    },
                    "Blast Damage": {
                        elem: "col",
                        coeff: .3
                    }
                }
            }
        },
        graspofthedead: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 7.6,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 5.6,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 13.6,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                    case "d":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 5.6,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 5.6,
                                total: !0
                            },
                            "Corpse Damage": {
                                elem: "phy",
                                coeff: 4.2,
                                total: !0
                            }
                        }
                }
                a.leg_deadlyrebirth && "b" !== e && (t["Corpse Damage"] = {
                    elem: t.Damage.elem,
                    coeff: 4.2,
                    total: !0
                });
                var o = {};
                return "c" !== e && (o.Cost = {
                    cost: 150
                }), a.leg_wilkensreach || (o.Cooldown = {
                    cooldown: "d" === e ? 4 : 8
                }), $.extend(o, t)
            }
        },
        firebats: {
            range: {
                x: 28,
                a: 28,
                d: 28,
                c: 28,
                b: 60,
                e: 15
            },
            params: [{
                rune: "e",
                min: 0,
                max: 5,
                val: 5,
                step: .5,
                name: "Channeled for",
                buffs: !1
            }, {
                rune: "c",
                min: 0,
                max: 3,
                val: 3,
                step: .5,
                name: "Channeled for",
                buffs: !1
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                }
                            }
                        };
                        break;
                    case "a":
                        t = {
                            "Channeling Cost": {
                                cost: 125,
                                fpa: 60
                            },
                            DPS: {
                                sum: !0,
                                "Tick Damage": {
                                    speed: 1,
                                    fpa: 60
                                }
                            },
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 5
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Cost: {
                                cost: 250
                            },
                            "Channeling Cost": null,
                            "Tick Damage": {
                                elem: "phy",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                }
                            },
                            Cost: {
                                cost: 225
                            },
                            "Channeling Cost": null
                        };
                        break;
                    case "c":
                        t = {
                            "Tick Damage": {
                                elem: "psn",
                                coeff: 4.75,
                                divide: {
                                    "Base Speed": 2
                                },
                                percent: {
                                    Channeling: "$2*51.5/3"
                                }
                            }
                        };
                        break;
                    case "b":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 7.5,
                                divide: {
                                    "Base Speed": 2
                                }
                            }
                        };
                        break;
                    case "e":
                        t = {
                            "Tick Damage": {
                                elem: "fir",
                                coeff: 4.25,
                                divide: {
                                    "Base Speed": 2
                                },
                                percent: {
                                    Channeling: "$1*20"
                                }
                            }
                        }
                }
                if (t = $.extend({
                        Cost: null,
                        "Channeling Cost": {
                            cost: 125,
                            fpa: 30
                        },
                        DPS: {
                            sum: !0,
                            "Tick Damage": {
                                speed: 1,
                                fpa: 30
                            }
                        }
                    }, t), a.leg_staffofchiroptera || a.leg_staffofchiroptera_p6) {
                    t.DPS["Tick Damage"].speed *= 2;
                    var o = {};
                    a.leg_staffofchiroptera_p6 ? o.leg_staffofchiroptera_p6 = 75 : a.leg_staffofchiroptera && (o.leg_staffofchiroptera = a.leg_staffofchiroptera), t.Cost && (t.Cost.rcr = o), t["Channeling Cost"] && (t["Channeling Cost"].rcr = o)
                }
                return t
            },
            active: !0,
            buffs: function(e, a) {
                if (a.leg_coilsofthefirstspider) return {
                    lph: a.leg_coilsofthefirstspider,
                    dmgred: 30
                }
            }
        },
        haunt: {
            info: function(e, a) {
                var t, o = {
                    elem: "c" == e ? "psn" : "a" == e ? "fir" : "d" === e ? "phy" : "col",
                    coeff: 40,
                    total: !0
                };
                return a.passives.creepingdeath ? (o.divide = {
                    "Base Duration": a.leg_quetzalcoatl ? 6 : 12
                }, t = {
                    DPS: o
                }) : t = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: a.leg_quetzalcoatl ? 6 : 12
                        }
                    },
                    Damage: o
                }, a.set_jadeharvester_2pc && (t["Reapplication Damage"] = {
                    elem: o.elem,
                    coeff: 40,
                    divide: {
                        "Base Duration": a.leg_quetzalcoatl ? 6 : 12
                    },
                    factors: {
                        Duration: 3500
                    }
                }, t["Spam DPS"] = {
                    sum: !0,
                    DPS: {},
                    "Reapplication Damage": {
                        speed: 1,
                        fpa: 57.5,
                        round: "up"
                    }
                }), $.extend({
                    Cost: {
                        cost: 50
                    }
                }, t)
            },
            active: !0,
            buffs: {
                c: {
                    dmgtaken: 20
                }
            }
        },
        locustswarm: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "a":
                        t = {
                            elem: "fir",
                            coeff: 14.8,
                            total: !0
                        };
                        break;
                    case "c":
                        t = {
                            elem: "phy",
                            coeff: 10.4,
                            total: !0
                        };
                        break;
                    default:
                        t = {
                            elem: "psn",
                            coeff: 10.4,
                            total: !0
                        }
                }
                var o, s = 8 * (a.leg_quetzalcoatl ? .5 : 1);
                return a.passives.creepingdeath ? (t.divide = {
                    "Base Duration": s
                }, o = {
                    DPS: t
                }) : o = {
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: s
                        }
                    },
                    Damage: t
                }, "e" == e && (o["Cloud Damage"] = {
                    elem: "psn",
                    coeff: 7.5,
                    total: !0
                }), $.extend({
                    Cost: {
                        cost: 300
                    }
                }, o)
            }
        },
        summonzombiedogs: {
            info: function(e, a) {
                var t = 3 + (a.passives.zombiehandler ? 1 : 0) + (a.passives.fierceloyalty ? 1 : 0) + (a.passives.midnightfeast ? 1 : 0),
                    o = {
                        pet: !0,
                        aps: !0
                    },
                    s = 1;
                a.leg_thetallmansfinger && (o.percent = {}, o.percent[DiabloCalc.itemById.Unique_Ring_101_x1.name] = 800 * t, s = 8 * t + 1, t = 1);
                var l;
                switch (e) {
                    case "x":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "c":
                        l = {
                            Damage: $.extend({
                                elem: "psn",
                                coeff: 1.2
                            }, o),
                            "Poison Damage": $.extend({
                                elem: "psn",
                                coeff: 1.2,
                                total: !0
                            }, o)
                        };
                        break;
                    case "d":
                        l = {
                            Damage: $.extend({
                                elem: "col",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "b":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o)
                        };
                        break;
                    case "a":
                        l = {
                            Damage: $.extend({
                                elem: "fir",
                                coeff: 1.2
                            }, o),
                            "Burn DPS": $.extend({
                                elem: "fir",
                                coeff: .4,
                                total: !0
                            }, o)
                        };
                        break;
                    case "e":
                        l = {
                            Damage: $.extend({
                                elem: "phy",
                                coeff: 1.2
                            }, o),
                            Healing: DiabloCalc.formatNumber(a.lph * (1 + .01 * (a.petias || 0)) * s * t, 0, 1e3)
                        }
                }
                return l.DPS = {
                    sum: !0,
                    Damage: {
                        pet: 60,
                        count: t
                    }
                }, "c" === e && (l.DPS["Poison Damage"] = {
                    pet: 60,
                    count: t
                }), "a" === e && (l.DPS["Burn DPS"] = {
                    count: t
                }), $.extend({
                    Cooldown: {
                        cooldown: 45 * (a.passives.tribalrites ? .75 : 1)
                    }
                }, l)
            },
            active: !0,
            buffs: {
                b: {
                    dmgred: 10
                }
            }
        },
        horrify: {
            info: function(e, a) {
                var t = {};
                if (a.leg_tiklandianvisage && (t["Fear Uptime"] = {
                        cooldown: 10,
                        duration: a.leg_tiklandianvisage
                    }), "e" === e && (t["Speed Uptime"] = {
                        cooldown: 10,
                        duration: 4
                    }), "a" === e && (t["Armor Uptime"] = {
                        cooldown: 10,
                        duration: 8
                    }), !$.isEmptyObject(t)) return t
            },
            active: !1,
            buffs: {
                a: {
                    armor_percent: 50
                },
                e: {
                    extrams: 20
                }
            }
        },
        spiritwalk: {
            info: {
                "*": {
                    Uptime: {
                        cooldown: 10,
                        duration: 2,
                        after: !0
                    }
                },
                b: {
                    Uptime: {
                        cooldown: 10,
                        duration: 3,
                        after: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 7.5
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    extrams: 50
                },
                b: {
                    extrams: 50
                },
                d: {
                    extrams: 50
                },
                c: {
                    extrams: 50
                },
                a: {
                    extrams: 150
                },
                e: {
                    extrams: 50
                }
            }
        },
        hex: {
            info: function(e, a) {
                var t = {
                    Uptime: {
                        cooldown: 15 * (a.passives.tribalrites ? .75 : 1),
                        duration: 12
                    }
                };
                switch (e) {
                    case "b":
                        return t = {
                            Cooldown: {
                                cooldown: 15 * (a.passives.tribalrites ? .75 : 1)
                            },
                            "Explosion Damage": {
                                elem: "psn",
                                coeff: 13.5
                            }
                        }, a.set_manajuma_2pc && (t["Explosion Damage"].percent = {}, t["Explosion Damage"].percent[DiabloCalc.itemSets.manajuma.name] = 400), t;
                    case "a":
                        return {
                            Cooldown: {
                                cooldown: 15 * (a.passives.tribalrites ? .75 : 1)
                            },
                            Damage: {
                                elem: "psn",
                                coeff: 7.5,
                                total: !0
                            }
                        };
                    case "c":
                        t["Explosion Damage"] = {
                            elem: "fir",
                            coeff: 5
                        }
                }
                return t
            },
            active: !1,
            buffs: function(e, a) {
                var t;
                switch (e) {
                    case "e":
                        t = {
                            dmgtaken: 15
                        };
                        break;
                    case "b":
                        t = {
                            extrams: 50 + (a.set_manajuma_2pc ? 100 : 0)
                        };
                        break;
                    case "a":
                        t = {
                            dmgtaken: 15
                        }
                }
                return a.set_arachyr_4pc && (t.dmgtaken = Math.max(t.dmgtaken || 0, 25), t.dmgred = 50), t
            }
        },
        soulharvest: {
            info: function(e, a) {
                var t = {};
                if (("e" == e || a.set_jadeharvester_4pc) && (t.Damage = {
                        elem: "phy",
                        coeff: 6.3
                    }), a.set_jadeharvester_6pc) {
                    var o, s, l = a.skills.haunt;
                    if (l) {
                        var i = DiabloCalc.skills.witchdoctor.haunt.info(l, a);
                        s = a.passives.creepingdeath ? 1e4 : i.DPS.Damage.divide, o = (i = DiabloCalc.skill_processInfo(i, {
                            skill: ["haunt", l]
                        })).DPS.value
                    }
                    var c = a.skills.locustswarm;
                    !c && a.leg_wormwood && (c = "x");
                    var r, n;
                    if (c) {
                        var f = DiabloCalc.skills.witchdoctor.locustswarm.info(c, a);
                        n = a.passives.creepingdeath ? 1e4 : f.DPS.Damage.divide, r = (f = DiabloCalc.skill_processInfo(f, {
                            skill: ["locustswarm", c]
                        })).DPS.value
                    }
                    if (o || r) {
                        var m = {
                            sum: !0
                        };
                        o && (m["Haunt Damage"] = {
                            value: o,
                            factor: s
                        }), r && (m["Locust Swarm Damage"] = {
                            value: r,
                            factor: n
                        }), t["Jade Harvester Damage"] = m
                    }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 12
                    }
                }, t)
            },
            active: !1,
            params: [{
                min: 0,
                max: "leg_sacredharvester?10:5",
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var t = this.params[0].val,
                    o = {
                        int_percent: 3 * t
                    };
                return a.leg_lakumbasornament && (o.dmgred = 6 * t), ("d" === e || a.set_jadeharvester_4pc) && (o.maxmana = 750 * (t > 5 ? 5 : t) * .05), ("c" === e || a.set_jadeharvester_4pc) && (o.armor_percent = 10 * t), ("b" === e || a.set_jadeharvester_4pc) && (o.extrams = 5 * t), o
            }
        },
        sacrifice: {
            info: {
                x: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "phy",
                        coeff: 13,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 10.9,
                        percent: {
                            "The Tall Man's Finger": "leg_thetallmansfinger?200:0"
                        }
                    }
                }
            },
            active: !1,
            params: [{
                rune: "a",
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                if ("a" === e) return {
                    damage: 20 * this.params[0].val
                }
            }
        },
        massconfusion: {
            info: {
                x: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                d: {
                    Uptime: {
                        duration: 12,
                        cooldown: "30*(passives.tribalrites?0.75:1)"
                    }
                },
                e: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                b: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                a: {
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                },
                c: {
                    DPS: {
                        elem: "phy",
                        coeff: 4,
                        total: !0
                    },
                    Uptime: {
                        duration: 12,
                        cooldown: "60*(passives.tribalrites?0.75:1)"
                    }
                }
            },
            active: !1
        },
        zombiecharger: {
            info: {
                "*": {
                    Cost: {
                        cost: 150,
                        rcr: {
                            leg_scrimshaw: "leg_scrimshaw"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.6
                    }
                },
                c: {
                    Damage: {
                        elem: "phy",
                        coeff: 8.8
                    }
                },
                d: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.6
                    },
                    "Reanimate Damage": {
                        elem: "psn",
                        coeff: 4.8
                    }
                },
                b: {
                    Damage: {
                        elem: "col",
                        coeff: 2.8,
                        factors: {
                            Zombies: 7
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 6.8
                    }
                },
                a: {
                    Damage: {
                        elem: "psn",
                        coeff: 5.2,
                        factors: {
                            Bears: 3
                        }
                    }
                }
            }
        },
        spiritbarrage: {
            params: [{
                min: 0,
                max: 3,
                name: "Phantasms",
                buffs: !1,
                show: function(e, a) {
                    return a.leg_gazingdemise || a.leg_gazingdemise_p68
                }
            }],
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 6,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 6,
                                total: !0
                            },
                            "Spirit Damage": {
                                elem: "fir",
                                coeff: .65
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 7.5,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 6,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 60,
                                total: !0
                            }
                        }
                }
                if ("c" === e ? t.DPS = {
                        sum: !0,
                        Damage: {
                            count: 3,
                            divide: 5
                        }
                    } : "e" === e ? t.DPS = {
                        sum: !0,
                        Damage: {
                            divide: 20
                        }
                    } : (t.DPS = {
                        sum: !0,
                        Damage: {
                            speed: 1.2,
                            fpa: 57.142834,
                            round: "up"
                        }
                    }, t["Spirit Damage"] && (t.DPS["Spirit Damage"] = {
                        speed: 1.2,
                        count: 3,
                        fpa: 57.142834,
                        round: "up",
                        nobp: !0
                    })), (a.leg_gazingdemise || a.leg_gazingdemise_p68) && this.params[0].val) {
                    var o = {};
                    o[DiabloCalc.itemById.P42_Unique_Mojo_003_x1.name] = this.params[0].val * (a.leg_gazingdemise || a.leg_gazingdemise_p68), t.Damage.percent = o, t["Spirit Damage"] && (t["Spirit Damage"].percent = o), "c" !== e && (t["Phantasm Damage"] = {
                        elem: t.Damage.elem,
                        coeff: 7.5,
                        total: !0,
                        percent: o
                    }, t.DPS["Phantasm Damage"] = {
                        count: this.params[0].val,
                        divide: 5
                    })
                }
                return $.extend({
                    Cost: {
                        cost: 100
                    }
                }, t)
            }
        },
        acidcloud: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3,
                                addcoeff: [3.6],
                                total: 0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3,
                                addcoeff: [6],
                                total: 0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 3,
                                addcoeff: [7.2],
                                total: 0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 3.33,
                                addcoeff: [4],
                                total: 0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 7
                            }
                        }
                }
                return "c" !== e && a.leg_suwongdiviner && (t["Blob Damage"] = {
                    elem: "psn",
                    coeff: 6,
                    total: !0
                }), $.extend({
                    Cost: {
                        cost: 175
                    }
                }, t)
            }
        },
        wallofdeath: {
            info: function(e, a) {
                var t;
                switch (e) {
                    case "x":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "b":
                        t = {
                            Damage: {
                                elem: "psn",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "d":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        t = {
                            Damage: {
                                elem: "phy",
                                coeff: 12.5,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        t = {
                            Damage: {
                                elem: "fir",
                                coeff: 11,
                                total: !0
                            }
                        };
                        break;
                    case "c":
                        t = {
                            Damage: {
                                elem: "col",
                                coeff: 12,
                                total: !0
                            }
                        }
                }
                return $.extend({
                    Cooldown: {
                        cooldown: 8
                    }
                }, t)
            }
        },
        piranhas: {
            info: {
                "*": {
                    Cost: {
                        cost: 250
                    },
                    Cooldown: {
                        cooldown: 8
                    }
                },
                x: {
                    Damage: {
                        elem: "psn",
                        coeff: 4,
                        total: !0
                    }
                },
                a: {
                    Damage: {
                        elem: "phy",
                        coeff: 4,
                        total: !0
                    },
                    "Bogadile Damage": {
                        elem: "phy",
                        coeff: 11
                    }
                },
                b: {
                    Damage: {
                        elem: "psn",
                        coeff: 4,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "psn",
                        coeff: 2,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "psn",
                        coeff: 4.75,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 4,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    dmgtaken: 15
                },
                a: {
                    dmgtaken: 15
                },
                b: {
                    dmgtaken: 15
                },
                c: {
                    dmgtaken: 15
                },
                d: {
                    dmgtaken: 15
                },
                e: {
                    dmgtaken: 15
                }
            }
        },
        gargantuan: {
            info: function(e, a) {
                var t = 1,
                    o = {
                        pet: !0,
                        aps: !0
                    };
                (a.leg_theshortmansfinger || a.leg_theshortmansfinger_p6) && (t = 3);
                var s;
                switch (e) {
                    case "x":
                        s = {
                            Damage: $.extend(o, {
                                elem: "phy",
                                coeff: 4.5
                            })
                        };
                        break;
                    case "b":
                        s = {
                            Damage: $.extend(o, {
                                elem: "col",
                                coeff: 5.85
                            })
                        };
                        break;
                    case "a":
                        s = {
                            Damage: $.extend(!0, o, {
                                elem: "phy",
                                coeff: 4.5,
                                percent: {
                                    Enrage: 200
                                }
                            })
                        };
                        break;
                    case "d":
                        s = {
                            Damage: $.extend(o, {
                                elem: "fir",
                                coeff: 5.75
                            })
                        };
                        break;
                    case "c":
                        s = {
                            Damage: $.extend(o, {
                                elem: "psn",
                                coeff: 4.5
                            }),
                            "Poison DPS": $.extend(o, {
                                elem: "psn",
                                coeff: 1.35,
                                total: !0
                            })
                        };
                        break;
                    case "e":
                        s = {
                            Damage: $.extend(o, {
                                elem: "fir",
                                coeff: 4.5
                            }),
                            "Slam Damage": $.extend(o, {
                                elem: "fir",
                                coeff: 2
                            })
                        }
                }
                return s.DPS = {
                    sum: !0,
                    Damage: {
                        pet: 84,
                        count: t
                    }
                }, "a" === e && (s.DPS.Damage.ias = 35), "c" === e && (s.DPS["Poison DPS"] = {
                    count: t
                }), $.extend({
                    Cooldown: {
                        cooldown: 60 * (a.passives.tribalrites ? .75 : 1)
                    }
                }, s)
            }
        },
        bigbadvoodoo: {
            info: function(e, a) {
                if (!a.leg_starmetalkukri) return {
                    Uptime: {
                        duration: ("b" == e ? 30 : 20) * (a.set_mundunugu_2pc ? 2 : 1),
                        cooldown: 120 * (a.passives.tribalrites ? .75 : 1)
                    }
                }
            },
            active: !1,
            buffs: {
                x: {
                    ias: 15,
                    extrams: 15
                },
                b: {
                    ias: 15,
                    extrams: 15
                },
                d: {
                    ias: 15,
                    extrams: 15,
                    manaregen: 250
                },
                a: {
                    ias: 15,
                    extrams: 15,
                    damage: 15
                },
                c: {
                    ias: 15,
                    extrams: 15,
                    dmgred: 20
                },
                e: {
                    ias: 15,
                    extrams: 15
                }
            }
        },
        fetisharmy: {
            info: function(e, a) {
                var t = DiabloCalc.skilltips.witchdoctor.fetisharmy.elements[e],
                    o = {
                        Cooldown: {
                            cooldown: "d" === e ? 90 : 120
                        },
                        "Dagger Damage": {
                            elem: t,
                            pet: !0,
                            aps: !0,
                            coeff: 1.8
                        }
                    };
                a.passives.tribalrites && (o.Cooldown.cooldown *= .75), a.set_zunimassa_2pc && (o.Cooldown.cooldown *= .2);
                var s = 5;
                switch (e) {
                    case "a":
                        o["Explosion Damage"] = {
                            elem: "col",
                            coeff: 6.8
                        };
                        break;
                    case "b":
                        s = 8;
                        break;
                    case "c":
                        o["Torcher Damage"] = {
                            elem: "fir",
                            pet: !0,
                            aps: !0,
                            coeff: .85
                        };
                        break;
                    case "e":
                        o["Dart Damage"] = {
                            elem: "psn",
                            pet: !0,
                            aps: !0,
                            coeff: 1.3
                        }
                }
                return o["Total DPS"] = {
                    sum: !0,
                    "Dagger Damage": {
                        pet: 48,
                        count: s
                    }
                }, "c" === e && (o["Total DPS"]["Torcher Damage"] = {
                    pet: 42,
                    count: 2
                }), "e" === e && (o["Total DPS"]["Dart Damage"] = {
                    pet: 42,
                    count: 2
                }), o
            }
        }
    }, DiabloCalc.passives.witchdoctor = {
        junglefortitude: {
            buffs: {
                dmgred: 15
            }
        },
        circleoflife: {},
        spiritualattunement: {
            buffs: {
                maxmana_percent: 10,
                manaregen_percent: 2
            }
        },
        gruesomefeast: {
            params: [{
                min: 0,
                max: 5,
                val: 0,
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    int_percent: 10 * this.params[0].val
                }
            }
        },
        bloodritual: {
            buffs: {
                rcr: 20,
                regen_percent: 1
            }
        },
        badmedicine: {},
        zombiehandler: {
            buffs: {
                life: 20
            }
        },
        piercetheveil: {
            buffs: {
                damage: 20,
                rcr: -30
            }
        },
        spiritvessel: {},
        fetishsycophants: {
            params: DiabloCalc.itemaffixes && DiabloCalc.itemaffixes.leg_beltoftranscendence.params || [{
                min: 0,
                max: 15,
                name: "Count",
                buffs: !1,
                show: function(e) {
                    return !!this.id || !e.passives.fetishsycophants
                }
            }],
            info: function(e) {
                return {
                    "Fetish Damage": {
                        elem: "max",
                        pet: !0,
                        aps: !0,
                        coeff: 1.8,
                        percent: {
                            "Army %": e.skill_witchdoctor_fetisharmy
                        }
                    },
                    "Fetish DPS": {
                        sum: !0,
                        "Fetish Damage": {
                            pet: 48
                        }
                    },
                    "Total DPS": {
                        sum: !0,
                        "Fetish DPS": {
                            count: this.params[0].val
                        }
                    }
                }
            }
        },
        rushofessence: {},
        visionquest: {
            active: !0,
            buffs: {
                resourcegen: 40
            }
        },
        fierceloyalty: {
            buffs: {
                extrams: 15
            }
        },
        graveinjustice: {},
        tribalrites: {},
        confidenceritual: {
            active: !0,
            buffs: {
                dmgmul: 25
            }
        },
        creepingdeath: {},
        swamplandattunement: {
            params: [{
                min: 0,
                max: 25,
                val: 0,
                name: "Nearby Enemies"
            }],
            buffs: function(e) {
                return {
                    resphy: 120 * this.params[0].val,
                    respsn: 120 * this.params[0].val,
                    resfir: 120 * this.params[0].val,
                    rescol: 120 * this.params[0].val
                }
            }
        },
        midnightfeast: {
            buffs: {
                dmgmul: {
                    skills: ["summonzombiedogs", "gargantuan"],
                    percent: 50
                }
            }
        }
    }, DiabloCalc.partybuffs.witchdoctor = {
        summonzombiedogs: {
            runelist: "d"
        },
        hex: {
            runelist: "ae"
        },
        piranhas: {
            runelist: "x",
            buffs: function(e) {
                return {
                    dmgtaken: 15
                }
            }
        },
        bigbadvoodoo: {
            runelist: "*"
        }
    }, DiabloCalc.extraskills.witchdoctor = {
        hex_explode: {
            required: function(e) {
                return "b" === e.skills.hex
            }
        }
    };
}
if (DiabloCalc.ptr) {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.extraskills || (DiabloCalc.extraskills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.wizard = {
        magicmissile: {
            info: function(e, a) {
                var o = (a.leg_mirrorball || 0) + 1,
                    r = {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 57.6,
                            round: "up",
                            count: o + ("b" === e ? 2 : 0)
                        }
                    };
                switch (a.leg_theshameofdelsere && (r.Damage.speed *= 1.5), a.leg_fragmentofdestiny_p610 && (r.Damage.speed *= 1.5), "c" === e && (r["Burn Damage"] = {
                    factor: Math.min(1, a.info.aps * r.Damage.speed * (1 + o))
                }), e) {
                    case "x":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 2.3
                            }
                        };
                    case "a":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 3.25
                            }
                        };
                    case "d":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "col",
                                coeff: 1.75
                            }
                        };
                    case "b":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: .8
                            }
                        };
                    case "e":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 2.85
                            }
                        };
                    case "c":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "fir",
                                coeff: 2.3
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 1.3,
                                total: !0
                            }
                        }
                }
            }
        },
        shockpulse: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: 3,
                            fpa: 57.142834,
                            round: "up",
                            speed: "(leg_theshameofdelsere?1.5:1)*(leg_fragmentofdestiny_p610?1.5:1)"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.94
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 1.94
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.74
                    }
                },
                c: {
                    DPS: {
                        sum: !0,
                        Damage: {
                            fpa: 57.142834,
                            round: "up",
                            speed: 1
                        }
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 2.14
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 1.94
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: .33
                    }
                }
            }
        },
        spectralblade: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: 3,
                            fpa: 56.25,
                            round: "up",
                            speed: "(leg_theshameofdelsere?1.5:1)*((leg_fragmentofdestiny||leg_fragmentofdestiny_p610)?1.5:1)"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: .56
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: .77
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: .56
                    }
                }
            },
            active: !0,
            params: [{
                rune: "a",
                name: "Stacks",
                min: 0,
                max: 30,
                val: 0
            }],
            buffs: function(e, a) {
                if ("a" === e) return {
                    dmgfir: this.params[0].val
                }
            }
        },
        electrocute: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "(leg_theshameofdelsere?1.5:1)*(leg_fragmentofdestiny_p610?1.5:1)",
                            fpa: 30
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    },
                    "Spark Damage": {
                        elem: "fir",
                        coeff: .44
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.4
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.1,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                }
            }
        },
        rayoffrost: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 16,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    },
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 4.3,
                        addcoeff: [
                            [4.05, "$1"]
                        ],
                        total: !0
                    }
                },
                d: {
                    Cost: {
                        cost: 11,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    }
                },
                e: {
                    "Patch Damage": {
                        elem: "col",
                        coeff: 16.25,
                        total: !0
                    }
                },
                b: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 3,
                        addcoeff: [
                            [2.2, "$1"]
                        ],
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["col"],
                        percent: 15
                    }
                }
            }
        },
        arcaneorb: {
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 4.35
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 7
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 2.65
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.49
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.21
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 7.34,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        o = {
                            "Explosion Damage": {
                                elem: "col",
                                coeff: 9.5
                            },
                            "Projectile Damage": {
                                elem: "col",
                                coeff: 6.35
                            },
                            "Shard Damage": {
                                elem: "col",
                                coeff: 3.15
                            }
                        }
                }
                var r = a.leg_unstablescepter || a.leg_unstablescepter_p6 ? 2 : 1;
                return o.DPS = {
                    sum: !0
                }, "e" !== e ? (o.DPS.Damage = {
                    count: r,
                    speed: 1,
                    fpa: 57.857109,
                    round: "up"
                }, "d" === e && (o.DPS["Burn Damage"] = {
                    count: 1
                })) : (o.DPS["Shard Damage"] = {
                    speed: 1,
                    fpa: 57.857109,
                    round: "up",
                    nobp: !0
                }, o.DPS["Projectile Damage"] = {
                    speed: 1,
                    fpa: 57.857109,
                    round: "up",
                    nobp: !0
                }, o.DPS["Explosion Damage"] = {
                    count: r,
                    speed: 1,
                    fpa: 57.857109,
                    round: "up"
                }), o = $.extend({
                    Cost: {
                        cost: 30
                    }
                }, o)
            },
            active: !1,
            params: [{
                rune: "b",
                min: 0,
                max: 15,
                val: 0,
                name: "Enemies Hit"
            }],
            buffs: function(e, a) {
                if ("b" === e) return {
                    dmgmul: {
                        elems: ["lit"],
                        percent: 2 * this.params[0].val
                    }
                }
            }
        },
        arcanetorrent: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 16,
                        fpa: 20,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    }
                },
                x: {
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    }
                },
                a: {
                    "Tick Damage": {
                        elem: "fir",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    }
                },
                e: {
                    Cost: {
                        cost: 16,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    },
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 12.15,
                        addcoeff: [
                            [6.4, "$1"]
                        ],
                        divide: {
                            "Base Speed": 2
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 30
                        }
                    }
                },
                c: {
                    Cost: {
                        cost: 16,
                        fpa: 40,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    },
                    Damage: {
                        elem: "arc",
                        coeff: 8.25
                    }
                },
                d: {
                    "Tick Damage": {
                        elem: "lit",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 1.5
                    }
                },
                b: {
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    },
                    "Secondary Damage": {
                        elem: "arc",
                        coeff: 5.82
                    }
                }
            },
            active: !0,
            buffs: function(e, a) {
                if ("a" === e) return {
                    dmgred: 15 + 5 * this.params[0].val
                }
            }
        },
        disintegrate: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 18,
                        fpa: 20,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    }
                },
                x: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                },
                b: {
                    DPS: {
                        elem: "fir",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                },
                e: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    },
                    "Explosion Damage": {
                        elem: "arc",
                        coeff: 7.5
                    }
                },
                c: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 4.35,
                        addcoeff: [
                            [3.4, "$1"]
                        ],
                        total: !0
                    }
                },
                d: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    },
                    "Secondary Damage": {
                        elem: "arc",
                        coeff: 1.15
                    }
                },
                a: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["arc"],
                        percent: 15
                    }
                }
            }
        },
        frostnova: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 11
                    }
                },
                d: {
                    Cooldown: {
                        cooldown: 7.5
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: 9.15,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                e: {
                    chc: 10
                },
                a: {
                    dmgtaken: 33
                }
            }
        },
        diamondskin: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 15
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 8.63
                    }
                }
            },
            active: !1,
            buffs: {
                d: {
                    rcrint: 9
                }
            }
        },
        slowtime: {
            info: function(e, a) {
                return {
                    Cooldown: {
                        cooldown: "c" === e ? 12 : 15,
                        cdr: a.leg_gestureoforpheus || a.leg_gestureoforpheus_p2 || 0
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {};
                return ("a" === e || a.leg_crownoftheprimus) && (o.dmgtaken = 15), ("e" === e || a.leg_crownoftheprimus) && (o.ias = 10), a.set_magnumopus_4pc && (o.dmgred = 60), o
            }
        },
        teleport: {
            info: function(e, a) {
                var o = a.leg_aetherwalker ? {
                    Cost: {
                        cost: 25
                    }
                } : {
                    Cooldown: {
                        cooldown: 11
                    }
                };
                return "a" === e && (o.Damage = {
                    elem: "arc",
                    coeff: 1.75
                }), o
            },
            active: !1,
            buffs: {
                c: {
                    dmgred: 25
                }
            }
        },
        waveofforce: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                a: {
                    Cooldown: {
                        cooldown: 5
                    },
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.9
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 4.75
                    }
                }
            },
            active: !1,
            params: [{
                rune: "d",
                min: 0,
                max: 20,
                val: 0,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                if ("d" === e) return {
                    dmgmul: {
                        elems: ["arc"],
                        percent: 4 * this.params[0].val
                    }
                }
            }
        },
        energytwister: {
            params: [{
                rune: "c",
                min: 1,
                max: 3,
                name: "Charges",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 35
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 15.25,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 15.25,
                        total: !0
                    },
                    Cost: {
                        cost: 25
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 15.25,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 15.25,
                        total: !0
                    },
                    "Large Tornado Damage": {
                        elem: "arc",
                        coeff: 32,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 8.35,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 15.25,
                        total: !0
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        addcoeff: [
                            [1.96, "$1"]
                        ]
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["fir"],
                        percent: 15
                    }
                }
            }
        },
        hydra: {
            params: [{
                min: 1,
                max: function(e) {
                    return ("d" === e.skills.hydra ? 1 : e.set_typhon_2pc ? 5 : 3) * (e.leg_serpentssparker || e.leg_serpentssparker_p68 ? 2 : 1)
                },
                step: function(e) {
                    return e.set_typhon_4pc ? 1 : "d" === e.skills.hydra ? 1 : e.set_typhon_2pc ? 5 : 3
                },
                name: "Hydras",
                buffs: !1
            }, {
                min: 0,
                max: 50,
                val: 5,
                name: "Distance",
                buffs: !1,
                show: function(e, a) {
                    return "d" === e || void 0 !== a.gems.zei || "b" === e && a.leg_starfire
                }
            }],
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "fir",
                                pet: !0,
                                coeff: 1.65
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "arc",
                                pet: !0,
                                coeff: 2.05
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                pet: !0,
                                coeff: 2.55
                            }
                        };
                        break;
                    case "c":
                        o = {
                            "Burn Damage": {
                                elem: "fir",
                                pet: !0,
                                coeff: 1.55,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "col",
                                pet: !0,
                                coeff: 2.55
                            }
                        };
                        break;
                    case "d":
                        o = {
                            "Tick Damage": {
                                elem: "fir",
                                pet: !0,
                                coeff: .99,
                                total: !0
                            }
                        }
                }
                if ("b" === e && a.passives.paralysis && a.leg_manaldheal && (o["Manald Heal Damage"] = {
                        elem: "lit",
                        coeff: .01 * a.leg_manaldheal,
                        pet: !0,
                        aps: !0,
                        manald: !0
                    }), "d" !== e) {
                    var r = "c" === e ? "Burn Damage" : "Damage";
                    void 0 !== a.gems.zei && (o[r].exclude = ["zei"], o[r].percent = {}, o[r].percent[DiabloCalc.legendaryGems.zei.name] = this.params[1].val * (4 + .08 * a.gems.zei) / 10), "b" === e && a.leg_starfire && (o[r].exclude = ["P42_Unique_Wand_003_x1"], o[r].percent = {}, o[r].percent[DiabloCalc.itemById.P42_Unique_Wand_003_x1.name] = this.params[1].val * a.leg_starfire / 10), o.DPS = {
                        sum: !0
                    }, o.DPS[r] = {
                        pet: "a" === e ? 86 : 76.300583,
                        area: !1,
                        speed: 1,
                        count: this.params[0].val
                    }
                } else {
                    void 0 !== a.gems.zei && (o["Tick Damage"].exclude = ["zei"], o["Tick Damage"].percent = {}, o["Tick Damage"].percent[DiabloCalc.legendaryGems.zei.name] = this.params[1].val * (4 + .08 * a.gems.zei) / 10);
                    var l = 5 - 1.8 * this.params[1].val / 50;
                    o["Layer Damage"] = {
                        sum: !0,
                        "Tick Damage": {
                            count: Math.floor(l / .3)
                        }
                    }, o.DPS = {
                        sum: !0,
                        "Layer Damage": {
                            pet: 76.595741,
                            area: !1,
                            speed: 1,
                            count: this.params[0].val
                        }
                    }
                }
                return $.extend({
                    Cost: {
                        cost: 15
                    }
                }, o)
            }
        },
        meteor: {
            params: [{
                rune: "d",
                min: "40*(1-0.01*rcr_ap)*(1-0.01*(leg_thegrandvizier_p6&&50||leg_thegrandvizier))-rcrint",
                max: "maxap",
                name: "Arcane Power",
                buffs: !1
            }],
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!(a.leg_nilfursboast || a.leg_nilfursboast_p2 || a.leg_nilfursboast_p6)
            },
            info: function(e, a) {
                var o = {
                    x: {
                        Damage: {
                            elem: "fir",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    e: {
                        Damage: {
                            elem: "lit",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    d: {
                        Damage: {
                            elem: "arc",
                            coeff: 7.4,
                            addcoeff: [
                                [.2, "$1-40*(1-0.01*rcr_ap)*(1-0.01*(leg_thegrandvizier_p6&&50||leg_thegrandvizier))+rcrint"], 2.35
                            ],
                            total: 1
                        }
                    },
                    c: {
                        Damage: {
                            elem: "col",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    b: {
                        Damage: {
                            elem: "fir",
                            coeff: 2.77,
                            addcoeff: [.7],
                            total: 0
                        },
                        "Total Damage": {
                            sum: !0,
                            Damage: {
                                count: 7
                            }
                        },
                        "Average Damage": {
                            sum: !0,
                            tip: "Small target gets hit by 2.5 meteors, on average",
                            Damage: {
                                count: 2.5
                            }
                        }
                    },
                    a: {
                        Cooldown: {
                            cooldown: 15
                        },
                        Damage: {
                            elem: "fir",
                            coeff: 16.48,
                            addcoeff: [6.25],
                            total: 0
                        }
                    }
                }[e];
                a.leg_nilfursboast_p6 ? (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P61_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p6 : 600) : a.leg_nilfursboast_p2 ? (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P41_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p2 : 200) : a.leg_nilfursboast && (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P2_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast : 100);
                var r = {};
                return a.leg_thegrandvizier_p6 ? r.leg_thegrandvizier_p6 = 50 : a.leg_thegrandvizier && (r.leg_thegrandvizier = a.leg_thegrandvizier), o = $.extend({
                    Cost: {
                        cost: 40,
                        rcr: r
                    }
                }, o), "d" === e && DiabloCalc.isSkillActive("arcanedynamo") && (o.Damage.percent = $.extend(o.Damage.percent || {}, {
                    "Arcane Dynamo (bug)": 60
                })), o
            }
        },
        blizzard: {
            info: {
                "*": {
                    Cost: {
                        cost: 40
                    }
                },
                x: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    },
                    Cost: {
                        cost: 10
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "col",
                        coeff: 18.1,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 8
                        }
                    }
                }
            },
            active: !0,
            buffs: {
                c: {
                    dmgtaken: {
                        elems: ["lit"],
                        percent: 15
                    }
                }
            }
        },
        icearmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                a: {
                    Damage: {
                        elem: "col",
                        coeff: 1.89
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: .75
                    }
                },
                c: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: .8,
                        total: !0
                    }
                }
            },
            active: !0,
            params: [{
                rune: "d",
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var o = a.leg_haloofarlyse || 12;
                switch (e) {
                    case "x":
                    case "b":
                        return {
                            meleedef: o
                        };
                    case "d":
                        return {
                            meleedef: o,
                            armor_percent: 20 * this.params[0].val
                        };
                    case "a":
                    case "e":
                    case "c":
                        return {
                            meleedef: o
                        }
                }
            }
        },
        stormarmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Thorns Damage": {
                        elem: "lit",
                        coeff: 1.89
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.15
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                e: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Electrocute Damage": {
                        elem: "lit",
                        coeff: 4.25
                    }
                }
            },
            active: !0,
            buffs: {
                d: {
                    rcrint: 3
                }
            }
        },
        magicweapon: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                b: {
                    "Zap Damage": {
                        elem: "lit",
                        coeff: .61
                    }
                },
                a: {
                    "Burn Damage": {
                        elem: "fir",
                        coeff: 3,
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                x: {
                    damage: 10
                },
                b: {
                    damage: 10
                },
                c: {
                    damage: 20
                },
                d: {
                    damage: 10
                },
                a: {
                    damage: 10
                },
                e: {
                    damage: 10
                }
            }
        },
        familiar: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.4
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: 2.4
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    damage: 10
                },
                d: {
                    apregen: 4.5
                }
            }
        },
        energyarmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                }
            },
            active: !0,
            buffs: {
                x: {
                    armor_percent: 35,
                    maxap: -20
                },
                d: {
                    armor_percent: 35,
                    maxap: -20
                },
                e: {
                    armor_percent: 35,
                    maxap: -20,
                    chc: 5
                },
                b: {
                    armor_percent: 35,
                    maxap: 20
                },
                c: {
                    armor_percent: 35,
                    maxap: -20
                },
                a: {
                    armor_percent: 35,
                    maxap: -20,
                    resist_percent: 25
                }
            }
        },
        explosiveblast: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    },
                    Cooldown: {
                        cooldown: 6
                    },
                    Damage: null,
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?4:1",
                            cd: 6,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 9.45
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 14.85
                    }
                },
                c: {
                    Cooldown: {
                        cooldown: 3
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 9.45
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?4:1",
                            cd: 3,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 9.09
                    }
                },
                b: {
                    Damage: {
                        elem: "col",
                        coeff: 9.9
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?12:3",
                            cd: 6,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                }
            }
        },
        mirrorimage: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 15
                    }
                },
                e: {
                    "Explosion Damage": {
                        elem: "arc",
                        coeff: 3.09
                    }
                }
            }
        },
        archon: {
            info: function(e, a) {
                var o = {
                        Uptime: {
                            duration: 20,
                            cooldown: "d" == e || a.set_vyr_2pc ? 100 : 120
                        }
                    },
                    r = DiabloCalc.skilltips.wizard.archon.elements[e];
                if (("e" === e || a.set_vyr_2pc) && (o["Explosion Damage"] = {
                        elem: r,
                        coeff: 36.8
                    }), a.set_vyr_2pc && (r = a.info.maxelem), o["Arcane Strike Damage"] = {
                        elem: r,
                        coeff: 7.9
                    }, o["Disintegration Wave DPS"] = {
                        elem: r,
                        aps: !0,
                        coeff: 7.79,
                        total: !0
                    }, o["Arcane Blast Damage"] = {
                        elem: r,
                        coeff: 6.04
                    }, o["Arcane Strike DPS"] = {
                        sum: !0,
                        "Arcane Strike Damage": {
                            speed: 1,
                            fpa: 57.599954,
                            round: "up"
                        }
                    }, a.set_chantodo_2pc && (o["Chantodo's DPS"] = {
                        elem: "max",
                        srcelem: DiabloCalc.skilltips.wizard.archon.elements[e],
                        coeff: 40,
                        aps: !0,
                        divide: {
                            Scaling: 1.75
                        }
                    }, this.params[1].val && (o["Chantodo's DPS"].addcoeff = [
                        [40, this.params[1].val]
                    ])), "a" === e || a.set_vyr_2pc)
                    for (var l in o) o[l].coeff && (o[l].percent = {}, o[l].percent[this.runes.a] = 50);
                return o
            },
            active: !1,
            params: [{
                min: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)",
                max: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)+50",
                val: "min",
                name: "Stacks",
                inf: !0,
                buffs: !1
            }, {
                min: 0,
                max: 20,
                val: 20,
                name: "Chantodo's",
                buffs: !1,
                show: function(e, a) {
                    return !!a.set_chantodo_2pc
                }
            }],
            buffs: function(e, a) {
                var o = this.params[0].val;
                (a.leg_theswami || a.leg_theswami_p3) && DiabloCalc.itemaffixes.leg_theswami && DiabloCalc.itemaffixes.leg_theswami.active && (o += DiabloCalc.itemaffixes.leg_theswami.params[0].val);
                var r = {
                    ccr: 100,
                    dmgmul: {
                        list: [30, 6 * o]
                    },
                    armor_percent: 150,
                    resist_percent: 150
                };
                return a.set_vyr_4pc && (r.ias = 1 * o, r.armor_percent += 1 * o, r.resist_percent += 1 * o), a.set_vyr_6pc && (r.dmgred = 100 * (1 - Math.pow(.9985, o)), r.dmgmul.list[1] = 100 * o), r
            }
        },
        blackhole: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    },
                    Cooldown: {
                        cooldown: 12
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 12.9,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 7,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 7,
                        total: !0
                    },
                    "Explosion Damage": {
                        elem: "fir",
                        coeff: 7.25
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                }
            },
            active: !1,
            params: [{
                rune: "ed",
                min: 0,
                max: 25,
                val: 0,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                return "e" === e ? {
                    dmgcol: 3 * this.params[0].val
                } : "d" === e ? {
                    damage: 3 * this.params[0].val
                } : void 0
            }
        }
    }, DiabloCalc.passives.wizard = {
        blur: {
            buffs: {
                dmgred: 17
            }
        },
        powerhungry: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !1,
                    percent: 30
                }
            }
        },
        evocation: {
            buffs: {
                cdr: 20
            }
        },
        glasscannon: {
            buffs: {
                damage: 15,
                armor_percent: -10,
                resist_percent: -10
            }
        },
        prodigy: {},
        astralpresence: {
            buffs: {
                maxap: 20,
                apregen: 2.5
            }
        },
        illusionist: {},
        coldblooded: {
            active: !0,
            buffs: {
                dmgtaken: 10
            }
        },
        conflagration: {
            active: !0,
            buffs: {
                chctaken: 6
            }
        },
        paralysis: {},
        galvanizingward: {},
        temporalflux: {},
        dominance: {},
        arcanedynamo: {
            active: !1,
            buffs: {
                dmgmul: {
                    skills: ["rayoffrost", "arcaneorb", "arcanetorrent", "disintegrate", "hydra", "blackhole", "waveofforce", "energytwister", "meteor", "blizzard", "explosiveblast"],
                    percent: 60
                }
            }
        },
        unstableanomaly: {},
        unwaveringwill: {
            active: !0,
            buffs: {
                armor_percent: 20,
                resist_percent: 20,
                damage: 10
            }
        },
        audacity: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !1,
                    percent: 30
                }
            }
        },
        elementalexposure: {
            inactive: !1,
            getElems: function(e, a) {
                if ("wizard" !== DiabloCalc.charClass) return {};
                var o = {};
                if ("ee" === a || "tal2" === a) {
                    var r = DiabloCalc.getSlot("mainhand");
                    if (r && r.stats)
                        for (var l in r.stats)
                            if (DiabloCalc.stats[l].damage) switch (DiabloCalc.stats[l].elemental) {
                                case "fire":
                                    o.fir = !0;
                                    break;
                                case "cold":
                                    o.col = !0;
                                    break;
                                case "lightning":
                                    o.lit = !0;
                                    break;
                                case "arcane":
                                    o.arc = !0
                            }
                }
                "ee" === a && (a = "tal2");
                for (var c = ["fir", "col", "lit", "arc"], t = "arc", f = 0; f < c.length; ++f)(e["dmg" + c[f]] || 0) > (e["dmg" + t] || 0) && (t = c[f]);
                for (var m in e.skills) {
                    var i = e.skills[m];
                    switch (m) {
                        case "frostnova":
                            "tal2" !== a && "c" !== i || (o.col = !0);
                            break;
                        case "diamondskin":
                            "e" === i && (o.arc = !0);
                            break;
                        case "slowtime":
                            e.set_magnumopus_4pc && (o[t] = !0);
                            break;
                        case "teleport":
                            "a" === i && (o.arc = !0);
                            break;
                        case "icearmor":
                            "tal2" === a && "c" === i && (o.col = !0);
                            break;
                        case "stormarmor":
                            "tal2" === a && (o.lit = !0);
                            break;
                        case "magicweapon":
                            "tal2" === a && ("b" === i && (o.lit = !0), "a" === i && (o.fir = !0));
                            break;
                        case "energyarmor":
                            break;
                        case "mirrorimage":
                            "tal2" === a && "e" === i && (o.arc = !0);
                            break;
                        case "familiar":
                            if ("tal2" !== a) break;
                        case "archon":
                            e.set_vyrs_2pc && (o[t] = !0);
                        default:
                            if (DiabloCalc.skilltips.wizard[m]) {
                                o[DiabloCalc.skilltips.wizard[m].elements[i]] = !0
                            }
                    }
                }
                return e.gems.wreath && "tal2" === a && (o.lit = !0), o
            },
            active: !0,
            info: function(e) {
                var a = DiabloCalc.passives.wizard.elementalexposure.getElems(e, "ee"),
                    o = [];
                for (var r in a) o.push(DiabloCalc.elements[r]);
                if (o.length) return {
                    "Active Elements": o.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "ee")).length
                },
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    dmgtaken: (e.leg_primordialsoul ? 10 : 5) * this.params[0].val
                }
            }
        }
    }, DiabloCalc.partybuffs.wizard = {
        rayoffrost: {
            runelist: "a"
        },
        disintegrate: {
            runelist: "a"
        },
        frostnova: {
            runelist: "a"
        },
        slowtime: {
            runelist: "ae",
            boxnames: ["Delsere's Magnum Opus (4pc)"],
            multiple: !0,
            buffs: function(e) {
                var a = {};
                return this.runevals.a && (a.damage = 15), this.runevals.e && (a.ias = 10), this.boxvals[0] && (a.dmgred = 30), a
            }
        },
        energytwister: {
            runelist: "a"
        },
        blizzard: {
            runelist: "c"
        },
        coldblooded: {},
        conflagration: {}
    }, DiabloCalc.extraskills.wizard = {
        archon_arcanestrike: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_disintegrationwave: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_arcaneblast: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_slowtime: {
            required: function(e) {
                return e.skills.archon && ("b" === e.skills.archon || e.set_vyr_2pc)
            }
        },
        archon_teleport: {
            required: function(e) {
                return e.skills.archon && ("c" === e.skills.archon || e.set_vyr_2pc)
            }
        }
    };
} else {
    DiabloCalc.skills || (DiabloCalc.skills = {}), DiabloCalc.extraskills || (DiabloCalc.extraskills = {}), DiabloCalc.passives || (DiabloCalc.passives = {}), DiabloCalc.partybuffs || (DiabloCalc.partybuffs = {}), DiabloCalc.skills.wizard = {
        magicmissile: {
            info: function(e, a) {
                var o = (a.leg_mirrorball || 0) + 1,
                    r = {
                        sum: !0,
                        Damage: {
                            speed: 1,
                            fpa: 57.6,
                            round: "up",
                            count: o + ("b" === e ? 2 : 0)
                        }
                    };
                switch (a.leg_theshameofdelsere && (r.Damage.speed *= 1.5), "c" === e && (r["Burn Damage"] = {
                    factor: Math.min(1, a.info.aps * r.Damage.speed * (1 + o))
                }), e) {
                    case "x":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 2.3
                            }
                        };
                    case "a":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 3.25
                            }
                        };
                    case "d":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "col",
                                coeff: 1.75
                            }
                        };
                    case "b":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: .8
                            }
                        };
                    case "e":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "arc",
                                coeff: 2.85
                            }
                        };
                    case "c":
                        return {
                            DPS: r,
                            Damage: {
                                elem: "fir",
                                coeff: 2.3
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 1.3,
                                total: !0
                            }
                        }
                }
            }
        },
        shockpulse: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: 3,
                            fpa: 57.142834,
                            round: "up",
                            speed: "leg_theshameofdelsere?1.5:1"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.94
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 1.94
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.74
                    }
                },
                c: {
                    DPS: {
                        sum: !0,
                        Damage: {
                            fpa: 57.142834,
                            round: "up",
                            speed: 1
                        }
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 2.14
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 1.94
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: .33
                    }
                }
            }
        },
        spectralblade: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: 3,
                            fpa: 56.25,
                            round: "up",
                            speed: "(leg_theshameofdelsere?1.5:1)*(leg_fragmentofdestiny?1.5:1)"
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: .56
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: .77
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: .56
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: .56
                    }
                }
            },
            active: !0,
            params: [{
                rune: "a",
                name: "Stacks",
                min: 0,
                max: 30,
                val: 0
            }],
            buffs: function(e, a) {
                if ("a" === e) return {
                    dmgfir: this.params[0].val
                }
            }
        },
        electrocute: {
            info: {
                "*": {
                    DPS: {
                        sum: !0,
                        Damage: {
                            speed: "leg_theshameofdelsere?1.5:1",
                            fpa: 30
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    },
                    "Spark Damage": {
                        elem: "fir",
                        coeff: .44
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.4
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.38,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.1,
                        divide: {
                            "Base Speed": 2
                        }
                    }
                }
            }
        },
        rayoffrost: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 16,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    },
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 4.3,
                        addcoeff: [
                            [4.05, "$1"]
                        ],
                        total: !0
                    }
                },
                d: {
                    Cost: {
                        cost: 11,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    }
                },
                e: {
                    "Patch Damage": {
                        elem: "col",
                        coeff: 16.25,
                        total: !0
                    }
                },
                b: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: 3,
                        addcoeff: [
                            [2.2, "$1"]
                        ],
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["col"],
                        percent: 15
                    }
                }
            }
        },
        arcaneorb: {
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 4.35
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 7
                            }
                        };
                        break;
                    case "c":
                        o = {
                            Damage: {
                                elem: "arc",
                                coeff: 2.65
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                coeff: 3.49
                            }
                        };
                        break;
                    case "d":
                        o = {
                            Damage: {
                                elem: "fir",
                                coeff: 2.21
                            },
                            "Burn Damage": {
                                elem: "fir",
                                coeff: 7.34,
                                total: !0
                            }
                        };
                        break;
                    case "e":
                        o = {
                            "Explosion Damage": {
                                elem: "col",
                                coeff: 9.5
                            },
                            "Projectile Damage": {
                                elem: "col",
                                coeff: 6.35
                            },
                            "Shard Damage": {
                                elem: "col",
                                coeff: 3.15
                            }
                        }
                }
                var r = a.leg_unstablescepter || a.leg_unstablescepter_p6 ? 2 : 1;
                return o.DPS = {
                    sum: !0
                }, "e" !== e ? (o.DPS.Damage = {
                    count: r,
                    speed: 1,
                    fpa: 57.857109,
                    round: "up"
                }, "d" === e && (o.DPS["Burn Damage"] = {
                    count: 1
                })) : (o.DPS["Shard Damage"] = {
                    speed: 1,
                    fpa: 57.857109,
                    round: "up",
                    nobp: !0
                }, o.DPS["Projectile Damage"] = {
                    speed: 1,
                    fpa: 57.857109,
                    round: "up",
                    nobp: !0
                }, o.DPS["Explosion Damage"] = {
                    count: r,
                    speed: 1,
                    fpa: 57.857109,
                    round: "up"
                }), o = $.extend({
                    Cost: {
                        cost: 30
                    }
                }, o)
            },
            active: !1,
            params: [{
                rune: "b",
                min: 0,
                max: 15,
                val: 0,
                name: "Enemies Hit"
            }],
            buffs: function(e, a) {
                if ("b" === e) return {
                    dmgmul: {
                        elems: ["lit"],
                        percent: 2 * this.params[0].val
                    }
                }
            }
        },
        arcanetorrent: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 16,
                        fpa: 20,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    }
                },
                x: {
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    }
                },
                a: {
                    "Tick Damage": {
                        elem: "fir",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    }
                },
                e: {
                    Cost: {
                        cost: 16,
                        fpa: 30,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    },
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 12.15,
                        addcoeff: [
                            [6.4, "$1"]
                        ],
                        divide: {
                            "Base Speed": 2
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 30
                        }
                    }
                },
                c: {
                    Cost: {
                        cost: 16,
                        fpa: 40,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        }
                    },
                    Damage: {
                        elem: "arc",
                        coeff: 8.25
                    }
                },
                d: {
                    "Tick Damage": {
                        elem: "lit",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        coeff: 1.5
                    }
                },
                b: {
                    "Tick Damage": {
                        elem: "arc",
                        coeff: 4,
                        addcoeff: [
                            [3.05, "$1"]
                        ],
                        divide: {
                            "Base Speed": 3
                        }
                    },
                    DPS: {
                        sum: !0,
                        "Tick Damage": {
                            speed: 1,
                            fpa: 20
                        }
                    },
                    "Secondary Damage": {
                        elem: "arc",
                        coeff: 5.82
                    }
                }
            },
            active: !0,
            buffs: function(e, a) {
                if ("a" === e) return {
                    dmgred: 15 + 5 * this.params[0].val
                }
            }
        },
        disintegrate: {
            params: [{
                min: 0,
                max: 2,
                val: 2,
                name: "Channeled for",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 18,
                        fpa: 20,
                        rcr: {
                            leg_hergbrashsbinding: "leg_hergbrashsbinding"
                        },
                        bp: !0
                    }
                },
                x: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                },
                b: {
                    DPS: {
                        elem: "fir",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                },
                e: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    },
                    "Explosion Damage": {
                        elem: "arc",
                        coeff: 7.5
                    }
                },
                c: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 4.35,
                        addcoeff: [
                            [3.4, "$1"]
                        ],
                        total: !0
                    }
                },
                d: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    },
                    "Secondary Damage": {
                        elem: "arc",
                        coeff: 1.15
                    }
                },
                a: {
                    DPS: {
                        elem: "arc",
                        aps: !0,
                        coeff: 3.9,
                        addcoeff: [
                            [2.5, "$1"]
                        ],
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["arc"],
                        percent: 15
                    }
                }
            }
        },
        frostnova: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 11
                    }
                },
                d: {
                    Cooldown: {
                        cooldown: 7.5
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: 9.15,
                        total: !0
                    }
                }
            },
            active: !1,
            buffs: {
                e: {
                    chc: 10
                },
                a: {
                    dmgtaken: 33
                }
            }
        },
        diamondskin: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 15
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 8.63
                    }
                }
            },
            active: !1,
            buffs: {
                d: {
                    rcrint: 9
                }
            }
        },
        slowtime: {
            info: function(e, a) {
                return {
                    Cooldown: {
                        cooldown: "c" === e ? 12 : 15,
                        cdr: a.leg_gestureoforpheus || a.leg_gestureoforpheus_p2 || 0
                    }
                }
            },
            active: !1,
            buffs: function(e, a) {
                var o = {};
                return ("a" === e || a.leg_crownoftheprimus) && (o.dmgtaken = 15), ("e" === e || a.leg_crownoftheprimus) && (o.ias = 10), a.set_magnumopus_4pc && (o.dmgred = 60), o
            }
        },
        teleport: {
            info: function(e, a) {
                var o = a.leg_aetherwalker ? {
                    Cost: {
                        cost: 25
                    }
                } : {
                    Cooldown: {
                        cooldown: 11
                    }
                };
                return "a" === e && (o.Damage = {
                    elem: "arc",
                    coeff: 1.75
                }), o
            },
            active: !1,
            buffs: {
                c: {
                    dmgred: 25
                }
            }
        },
        waveofforce: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                a: {
                    Cooldown: {
                        cooldown: 5
                    },
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 3.9
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.9
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 4.75
                    }
                }
            },
            active: !1,
            params: [{
                rune: "d",
                min: 0,
                max: 20,
                val: 0,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                if ("d" === e) return {
                    dmgmul: {
                        elems: ["arc"],
                        percent: 4 * this.params[0].val
                    }
                }
            }
        },
        energytwister: {
            params: [{
                rune: "c",
                min: 1,
                max: 3,
                name: "Charges",
                buffs: !1
            }],
            info: {
                "*": {
                    Cost: {
                        cost: 35
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 15.25,
                        total: !0
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 15.25,
                        total: !0
                    },
                    Cost: {
                        cost: 25
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 15.25,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 15.25,
                        total: !0
                    },
                    "Large Tornado Damage": {
                        elem: "arc",
                        coeff: 32,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 8.35,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 15.25,
                        total: !0
                    },
                    "Bolt Damage": {
                        elem: "lit",
                        addcoeff: [
                            [1.96, "$1"]
                        ]
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    dmgtaken: {
                        elems: ["fir"],
                        percent: 15
                    }
                }
            }
        },
        hydra: {
            params: [{
                min: 1,
                max: function(e) {
                    return ("d" === e.skills.hydra ? 1 : e.set_typhon_2pc ? 5 : 3) * (e.leg_serpentssparker || e.leg_serpentssparker_p68 ? 2 : 1)
                },
                step: function(e) {
                    return e.set_typhon_4pc ? 1 : "d" === e.skills.hydra ? 1 : e.set_typhon_2pc ? 5 : 3
                },
                name: "Hydras",
                buffs: !1
            }, {
                min: 0,
                max: 50,
                val: 5,
                name: "Distance",
                buffs: !1,
                show: function(e, a) {
                    return "d" === e || void 0 !== a.gems.zei || "b" === e && a.leg_starfire
                }
            }],
            info: function(e, a) {
                var o;
                switch (e) {
                    case "x":
                        o = {
                            Damage: {
                                elem: "fir",
                                pet: !0,
                                coeff: 1.65
                            }
                        };
                        break;
                    case "e":
                        o = {
                            Damage: {
                                elem: "arc",
                                pet: !0,
                                coeff: 2.05
                            }
                        };
                        break;
                    case "b":
                        o = {
                            Damage: {
                                elem: "lit",
                                pet: !0,
                                coeff: 2.55
                            }
                        };
                        break;
                    case "c":
                        o = {
                            "Burn Damage": {
                                elem: "fir",
                                pet: !0,
                                coeff: 1.55,
                                total: !0
                            }
                        };
                        break;
                    case "a":
                        o = {
                            Damage: {
                                elem: "col",
                                pet: !0,
                                coeff: 2.55
                            }
                        };
                        break;
                    case "d":
                        o = {
                            "Tick Damage": {
                                elem: "fir",
                                pet: !0,
                                coeff: .99,
                                total: !0
                            }
                        }
                }
                if ("b" === e && a.passives.paralysis && a.leg_manaldheal && (o["Manald Heal Damage"] = {
                        elem: "lit",
                        coeff: .01 * a.leg_manaldheal,
                        pet: !0,
                        aps: !0,
                        manald: !0
                    }), "d" !== e) {
                    var r = "c" === e ? "Burn Damage" : "Damage";
                    void 0 !== a.gems.zei && (o[r].exclude = ["zei"], o[r].percent = {}, o[r].percent[DiabloCalc.legendaryGems.zei.name] = this.params[1].val * (4 + .08 * a.gems.zei) / 10), "b" === e && a.leg_starfire && (o[r].exclude = ["P42_Unique_Wand_003_x1"], o[r].percent = {}, o[r].percent[DiabloCalc.itemById.P42_Unique_Wand_003_x1.name] = this.params[1].val * a.leg_starfire / 10), o.DPS = {
                        sum: !0
                    }, o.DPS[r] = {
                        pet: "a" === e ? 86 : 76.300583,
                        area: !1,
                        speed: 1,
                        count: this.params[0].val
                    }
                } else {
                    void 0 !== a.gems.zei && (o["Tick Damage"].exclude = ["zei"], o["Tick Damage"].percent = {}, o["Tick Damage"].percent[DiabloCalc.legendaryGems.zei.name] = this.params[1].val * (4 + .08 * a.gems.zei) / 10);
                    var l = 5 - 1.8 * this.params[1].val / 50;
                    o["Layer Damage"] = {
                        sum: !0,
                        "Tick Damage": {
                            count: Math.floor(l / .3)
                        }
                    }, o.DPS = {
                        sum: !0,
                        "Layer Damage": {
                            pet: 76.595741,
                            area: !1,
                            speed: 1,
                            count: this.params[0].val
                        }
                    }
                }
                return $.extend({
                    Cost: {
                        cost: 15
                    }
                }, o)
            }
        },
        meteor: {
            params: [{
                rune: "d",
                min: "40*(1-0.01*rcr_ap)*(1-0.01*(leg_thegrandvizier_p6&&50||leg_thegrandvizier))-rcrint",
                max: "maxap",
                name: "Arcane Power",
                buffs: !1
            }],
            active: !0,
            activetip: "3 or fewer targets",
            activeshow: function(e, a) {
                return !!(a.leg_nilfursboast || a.leg_nilfursboast_p2 || a.leg_nilfursboast_p6)
            },
            info: function(e, a) {
                var o = {
                    x: {
                        Damage: {
                            elem: "fir",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    e: {
                        Damage: {
                            elem: "lit",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    d: {
                        Damage: {
                            elem: "arc",
                            coeff: 7.4,
                            addcoeff: [
                                [.2, "$1-40*(1-0.01*rcr_ap)*(1-0.01*(leg_thegrandvizier_p6&&50||leg_thegrandvizier))+rcrint"], 2.35
                            ],
                            total: 1
                        }
                    },
                    c: {
                        Damage: {
                            elem: "col",
                            coeff: 7.4,
                            addcoeff: [2.35],
                            total: 0
                        }
                    },
                    b: {
                        Damage: {
                            elem: "fir",
                            coeff: 2.77,
                            addcoeff: [.7],
                            total: 0
                        },
                        "Total Damage": {
                            sum: !0,
                            Damage: {
                                count: 7
                            }
                        },
                        "Average Damage": {
                            sum: !0,
                            tip: "Small target gets hit by 2.5 meteors, on average",
                            Damage: {
                                count: 2.5
                            }
                        }
                    },
                    a: {
                        Cooldown: {
                            cooldown: 15
                        },
                        Damage: {
                            elem: "fir",
                            coeff: 16.48,
                            addcoeff: [6.25],
                            total: 0
                        }
                    }
                }[e];
                a.leg_nilfursboast_p6 ? (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P61_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p6 : 600) : a.leg_nilfursboast_p2 ? (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P41_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast_p2 : 200) : a.leg_nilfursboast && (o.Damage.percent = {}, o.Damage.percent[DiabloCalc.itemById.P2_Unique_Boots_01.name] = this.active ? a.leg_nilfursboast : 100);
                var r = {};
                return a.leg_thegrandvizier_p6 ? r.leg_thegrandvizier_p6 = 50 : a.leg_thegrandvizier && (r.leg_thegrandvizier = a.leg_thegrandvizier), o = $.extend({
                    Cost: {
                        cost: 40,
                        rcr: r
                    }
                }, o), "d" === e && DiabloCalc.isSkillActive("arcanedynamo") && (o.Damage.percent = $.extend(o.Damage.percent || {}, {
                    "Arcane Dynamo (bug)": 60
                })), o
            }
        },
        blizzard: {
            info: {
                "*": {
                    Cost: {
                        cost: 40
                    }
                },
                x: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                d: {
                    Damage: {
                        elem: "col",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    },
                    Cost: {
                        cost: 10
                    }
                },
                b: {
                    Damage: {
                        elem: "fir",
                        coeff: 10.75,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 6
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "col",
                        coeff: 18.1,
                        total: !0
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            divide: 8
                        }
                    }
                }
            },
            active: !0,
            buffs: {
                c: {
                    dmgtaken: {
                        elems: ["lit"],
                        percent: 15
                    }
                }
            }
        },
        icearmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                a: {
                    Damage: {
                        elem: "col",
                        coeff: 1.89
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: .75
                    }
                },
                c: {
                    DPS: {
                        elem: "col",
                        aps: !0,
                        coeff: .8,
                        total: !0
                    }
                }
            },
            active: !0,
            params: [{
                rune: "d",
                min: 0,
                max: 3,
                name: "Stacks"
            }],
            buffs: function(e, a) {
                var o = a.leg_haloofarlyse || 12;
                switch (e) {
                    case "x":
                    case "b":
                        return {
                            meleedef: o
                        };
                    case "d":
                        return {
                            meleedef: o,
                            armor_percent: 20 * this.params[0].val
                        };
                    case "a":
                    case "e":
                    case "c":
                        return {
                            meleedef: o
                        }
                }
            }
        },
        stormarmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                x: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                c: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Thorns Damage": {
                        elem: "lit",
                        coeff: 1.89
                    }
                },
                d: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 3.15
                    }
                },
                b: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    }
                },
                e: {
                    Damage: {
                        elem: "lit",
                        coeff: 1.75
                    },
                    "Electrocute Damage": {
                        elem: "lit",
                        coeff: 4.25
                    }
                }
            },
            active: !0,
            buffs: {
                d: {
                    rcrint: 3
                }
            }
        },
        magicweapon: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                },
                b: {
                    "Zap Damage": {
                        elem: "lit",
                        coeff: .61
                    }
                },
                a: {
                    "Burn Damage": {
                        elem: "fir",
                        coeff: 3,
                        total: !0
                    }
                }
            },
            active: !0,
            buffs: {
                x: {
                    damage: 10
                },
                b: {
                    damage: 10
                },
                c: {
                    damage: 20
                },
                d: {
                    damage: 10
                },
                a: {
                    damage: 10
                },
                e: {
                    damage: 10
                }
            }
        },
        familiar: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 2.4
                    }
                },
                c: {
                    Damage: {
                        elem: "col",
                        coeff: 2.4
                    }
                },
                e: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 2.4
                    }
                }
            },
            active: !0,
            buffs: {
                a: {
                    damage: 10
                },
                d: {
                    apregen: 4.5
                }
            }
        },
        energyarmor: {
            info: {
                "*": {
                    Cost: {
                        cost: 25
                    }
                }
            },
            active: !0,
            buffs: {
                x: {
                    armor_percent: 35,
                    maxap: -20
                },
                d: {
                    armor_percent: 35,
                    maxap: -20
                },
                e: {
                    armor_percent: 35,
                    maxap: -20,
                    chc: 5
                },
                b: {
                    armor_percent: 35,
                    maxap: 20
                },
                c: {
                    armor_percent: 35,
                    maxap: -20
                },
                a: {
                    armor_percent: 35,
                    maxap: -20,
                    resist_percent: 25
                }
            }
        },
        explosiveblast: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    },
                    Cooldown: {
                        cooldown: 6
                    },
                    Damage: null,
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?4:1",
                            cd: 6,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 9.45
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 14.85
                    }
                },
                c: {
                    Cooldown: {
                        cooldown: 3
                    },
                    Damage: {
                        elem: "lit",
                        coeff: 9.45
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?4:1",
                            cd: 3,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                },
                a: {
                    Damage: {
                        elem: "fir",
                        coeff: 9.09
                    }
                },
                b: {
                    Damage: {
                        elem: "col",
                        coeff: 9.9
                    }
                },
                e: {
                    Damage: {
                        elem: "fir",
                        coeff: 5.2
                    },
                    DPS: {
                        sum: !0,
                        Damage: {
                            count: "(leg_wandofwoh||leg_wandofwoh_p6)?12:3",
                            cd: 6,
                            speed: 1,
                            fpa: 56.249996,
                            round: "up",
                            nobp: !0
                        }
                    }
                }
            }
        },
        mirrorimage: {
            info: {
                "*": {
                    Cooldown: {
                        cooldown: 15
                    }
                },
                e: {
                    "Explosion Damage": {
                        elem: "arc",
                        coeff: 3.09
                    }
                }
            }
        },
        archon: {
            info: function(e, a) {
                var o = {
                        Uptime: {
                            duration: 20,
                            cooldown: "d" == e || a.set_vyr_2pc ? 100 : 120
                        }
                    },
                    r = DiabloCalc.skilltips.wizard.archon.elements[e];
                if (("e" === e || a.set_vyr_2pc) && (o["Explosion Damage"] = {
                        elem: r,
                        coeff: 36.8
                    }), a.set_vyr_2pc && (r = a.info.maxelem), o["Arcane Strike Damage"] = {
                        elem: r,
                        coeff: 7.9
                    }, o["Disintegration Wave DPS"] = {
                        elem: r,
                        aps: !0,
                        coeff: 7.79,
                        total: !0
                    }, o["Arcane Blast Damage"] = {
                        elem: r,
                        coeff: 6.04
                    }, o["Arcane Strike DPS"] = {
                        sum: !0,
                        "Arcane Strike Damage": {
                            speed: 1,
                            fpa: 57.599954,
                            round: "up"
                        }
                    }, a.set_chantodo_2pc && (o["Chantodo's DPS"] = {
                        elem: "max",
                        srcelem: DiabloCalc.skilltips.wizard.archon.elements[e],
                        coeff: 40,
                        aps: !0,
                        divide: {
                            Scaling: 1.75
                        }
                    }, this.params[1].val && (o["Chantodo's DPS"].addcoeff = [
                        [40, this.params[1].val]
                    ])), "a" === e || a.set_vyr_2pc)
                    for (var l in o) o[l].coeff && (o[l].percent = {}, o[l].percent[this.runes.a] = 50);
                return o
            },
            active: !1,
            params: [{
                min: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)",
                max: "(leg_fazulasimprobablechain||leg_fazulasimprobablechain_p2)+50",
                val: "min",
                name: "Stacks",
                inf: !0,
                buffs: !1
            }, {
                min: 0,
                max: 20,
                val: 20,
                name: "Chantodo's",
                buffs: !1,
                show: function(e, a) {
                    return !!a.set_chantodo_2pc
                }
            }],
            buffs: function(e, a) {
                var o = this.params[0].val;
                (a.leg_theswami || a.leg_theswami_p3) && DiabloCalc.itemaffixes.leg_theswami && DiabloCalc.itemaffixes.leg_theswami.active && (o += DiabloCalc.itemaffixes.leg_theswami.params[0].val);
                var r = {
                    ccr: 100,
                    dmgmul: {
                        list: [30, 6 * o]
                    },
                    armor_percent: 150,
                    resist_percent: 150
                };
                return a.set_vyr_4pc && (r.ias = 1 * o, r.armor_percent += 1 * o, r.resist_percent += 1 * o), a.set_vyr_6pc && (r.dmgred = 100 * (1 - Math.pow(.9985, o)), r.dmgmul.list[1] = 100 * o), r
            }
        },
        blackhole: {
            info: {
                "*": {
                    Cost: {
                        cost: 20
                    },
                    Cooldown: {
                        cooldown: 12
                    }
                },
                x: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                },
                a: {
                    Damage: {
                        elem: "lit",
                        coeff: 12.9,
                        total: !0
                    }
                },
                e: {
                    Damage: {
                        elem: "col",
                        coeff: 7,
                        total: !0
                    }
                },
                b: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                },
                c: {
                    Damage: {
                        elem: "fir",
                        coeff: 7,
                        total: !0
                    },
                    "Explosion Damage": {
                        elem: "fir",
                        coeff: 7.25
                    }
                },
                d: {
                    Damage: {
                        elem: "arc",
                        coeff: 7,
                        total: !0
                    }
                }
            },
            active: !1,
            params: [{
                rune: "ed",
                min: 0,
                max: 25,
                val: 0,
                name: "Enemies Hit",
                inf: !0
            }],
            buffs: function(e, a) {
                return "e" === e ? {
                    dmgcol: 3 * this.params[0].val
                } : "d" === e ? {
                    damage: 3 * this.params[0].val
                } : void 0
            }
        }
    }, DiabloCalc.passives.wizard = {
        blur: {
            buffs: {
                dmgred: 17
            }
        },
        powerhungry: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !1,
                    percent: 30
                }
            }
        },
        evocation: {
            buffs: {
                cdr: 20
            }
        },
        glasscannon: {
            buffs: {
                damage: 15,
                armor_percent: -10,
                resist_percent: -10
            }
        },
        prodigy: {},
        astralpresence: {
            buffs: {
                maxap: 20,
                apregen: 2.5
            }
        },
        illusionist: {},
        coldblooded: {
            active: !0,
            buffs: {
                dmgtaken: 10
            }
        },
        conflagration: {
            active: !0,
            buffs: {
                chctaken: 6
            }
        },
        paralysis: {},
        galvanizingward: {},
        temporalflux: {},
        dominance: {},
        arcanedynamo: {
            active: !1,
            buffs: {
                dmgmul: {
                    skills: ["rayoffrost", "arcaneorb", "arcanetorrent", "disintegrate", "hydra", "blackhole", "waveofforce", "energytwister", "meteor", "blizzard", "explosiveblast"],
                    percent: 60
                }
            }
        },
        unstableanomaly: {},
        unwaveringwill: {
            active: !0,
            buffs: {
                armor_percent: 20,
                resist_percent: 20,
                damage: 10
            }
        },
        audacity: {
            active: !0,
            buffs: {
                dmgmul: {
                    pet: !1,
                    percent: 30
                }
            }
        },
        elementalexposure: {
            inactive: !1,
            getElems: function(e, a) {
                if ("wizard" !== DiabloCalc.charClass) return {};
                var o = {};
                if ("ee" === a || "tal2" === a) {
                    var r = DiabloCalc.getSlot("mainhand");
                    if (r && r.stats)
                        for (var l in r.stats)
                            if (DiabloCalc.stats[l].damage) switch (DiabloCalc.stats[l].elemental) {
                                case "fire":
                                    o.fir = !0;
                                    break;
                                case "cold":
                                    o.col = !0;
                                    break;
                                case "lightning":
                                    o.lit = !0;
                                    break;
                                case "arcane":
                                    o.arc = !0
                            }
                }
                "ee" === a && (a = "tal2");
                for (var c = ["fir", "col", "lit", "arc"], t = "arc", f = 0; f < c.length; ++f)(e["dmg" + c[f]] || 0) > (e["dmg" + t] || 0) && (t = c[f]);
                for (var m in e.skills) {
                    var i = e.skills[m];
                    switch (m) {
                        case "frostnova":
                            "tal2" !== a && "c" !== i || (o.col = !0);
                            break;
                        case "diamondskin":
                            "e" === i && (o.arc = !0);
                            break;
                        case "slowtime":
                            e.set_magnumopus_4pc && (o[t] = !0);
                            break;
                        case "teleport":
                            "a" === i && (o.arc = !0);
                            break;
                        case "icearmor":
                            "tal2" === a && "c" === i && (o.col = !0);
                            break;
                        case "stormarmor":
                            "tal2" === a && (o.lit = !0);
                            break;
                        case "magicweapon":
                            "tal2" === a && ("b" === i && (o.lit = !0), "a" === i && (o.fir = !0));
                            break;
                        case "energyarmor":
                            break;
                        case "mirrorimage":
                            "tal2" === a && "e" === i && (o.arc = !0);
                            break;
                        case "familiar":
                            if ("tal2" !== a) break;
                        case "archon":
                            e.set_vyrs_2pc && (o[t] = !0);
                        default:
                            if (DiabloCalc.skilltips.wizard[m]) {
                                o[DiabloCalc.skilltips.wizard[m].elements[i]] = !0
                            }
                    }
                }
                return e.gems.wreath && "tal2" === a && (o.lit = !0), o
            },
            active: !0,
            info: function(e) {
                var a = DiabloCalc.passives.wizard.elementalexposure.getElems(e, "ee"),
                    o = [];
                for (var r in a) o.push(DiabloCalc.elements[r]);
                if (o.length) return {
                    "Active Elements": o.join(", ")
                }
            },
            params: [{
                min: 0,
                max: function(e) {
                    return Object.keys(DiabloCalc.passives.wizard.elementalexposure.getElems(e, "ee")).length
                },
                name: "Stacks"
            }],
            buffs: function(e) {
                return {
                    dmgtaken: (e.leg_primordialsoul ? 10 : 5) * this.params[0].val
                }
            }
        }
    }, DiabloCalc.partybuffs.wizard = {
        rayoffrost: {
            runelist: "a"
        },
        disintegrate: {
            runelist: "a"
        },
        frostnova: {
            runelist: "a"
        },
        slowtime: {
            runelist: "ae",
            boxnames: ["Delsere's Magnum Opus (4pc)"],
            multiple: !0,
            buffs: function(e) {
                var a = {};
                return this.runevals.a && (a.damage = 15), this.runevals.e && (a.ias = 10), this.boxvals[0] && (a.dmgred = 30), a
            }
        },
        energytwister: {
            runelist: "a"
        },
        blizzard: {
            runelist: "c"
        },
        coldblooded: {},
        conflagration: {}
    }, DiabloCalc.extraskills.wizard = {
        archon_arcanestrike: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_disintegrationwave: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_arcaneblast: {
            required: function(e) {
                return !!e.skills.archon
            }
        },
        archon_slowtime: {
            required: function(e) {
                return e.skills.archon && ("b" === e.skills.archon || e.set_vyr_2pc)
            }
        },
        archon_teleport: {
            required: function(e) {
                return e.skills.archon && ("c" === e.skills.archon || e.set_vyr_2pc)
            }
        }
    };
}! function() {
    function a(a) {
        var l = a.shift(),
            i = a[0];
        if (void 0 === i && (i = null), C[l] && (C[l][i] = void 0), u[l])
            for (var e = 0; e < u[l].length; ++e) u[l][e].apply(null, a)
    }

    function l() {
        if (m = void 0, window.localStorage) {
            var a = DiabloCalc.getAllProfiles();
            if (! function(a) {
                    try {
                        if (1 !== a.profiles.length) return !1;
                        for (var l = a.profiles[0], i = 0; i < l.skills.length; ++i)
                            if (l.skills[i]) return !1;
                        for (i = 0; i < l.passives.length; ++i)
                            if (l.passives[i]) return !1;
                        return !(l.paragon.level || !$.isEmptyObject(l.items) || l.priority && l.priority.length)
                    } catch (a) {
                        return !1
                    }
                }(a)) {
                $(".restore-profile").remove();
                try {
                    localStorage.setItem("profile", JSON.stringify(a))
                } catch (a) {}
            }
        }
    }

    function i(a) {
        return a < 10 ? "0" + a : a.toString()
    }

    function e(a, l) {
        if (a instanceof Array) {
            if (!(l instanceof Array)) return !1;
            if (a.length !== l.length) return !1;
            for (var i = 0; i < a.length; ++i)
                if (!e(a[i], l[i])) return !1
        } else {
            if ("object" != typeof a) return a === l;
            if ("object" != typeof l) return !1;
            for (var t in a)
                if (!e(a[t], l[t])) return !1;
            for (var t in l)
                if (!a.hasOwnProperty(t)) return !1
        }
        return !0
    }

    function t(a) {
        var l = [];
        if (void 0 !== a.active && l.push(a.active ? 1 : 0), a.params) {
            for (var i = [], e = 0; e < a.params.length; ++e) void 0 === a.params[e]._val ? i.push(a.params[e].val) : i.push(a.params[e]._val);
            l.push(i)
        }
        if (a.boxvals) {
            for (var i = [], e = 0; e < a.boxvals.length; ++e) i.push(a.boxvals[e] ? 1 : 0);
            l.push(i)
        } else if (a.boxnames) {
            for (var i = [], e = 0; e < a.boxnames.length; ++e) i.push(0);
            l.push(i)
        }
        if (a.runevals)
            if (a.multiple) {
                i = {};
                for (var t in a.runevals) i[t] = a.runevals[t] ? 1 : 0;
                l.push(i)
            } else l.push(a.runevals);
        else if (a.runelist && ("*" === a.runelist || a.runelist.length > 1))
            if (a.multiple) {
                i = {};
                for (var t in a.runes) i[t] = 0;
                l.push(i)
            } else l.push("*" === a.runelist ? "x" : a.runelist[0]);
        return l
    }

    function o(a, l) {
        var i = l.slice();
        if (void 0 !== a.active && i.length && (a.active = !!i.shift()), a.params && i.length) {
            if ("object" == typeof(t = i.shift()))
                for (e = 0; e < a.params.length && e < t.length; ++e) void 0 === a.params[e]._val ? a.params[e].val = t[e] : a.params[e]._val = t[e]
        }
        if (a.boxvals && i.length) {
            if ("object" == typeof(t = i.shift()))
                for (var e = 0; e < a.boxvals.length && e < t.length; ++e) a.boxvals[e] = !!t[e]
        }
        if (a.runevals && i.length) {
            var t = i.shift();
            if (a.multiple) {
                if ("object" == typeof t)
                    for (var o in a.runevals) a.runevals[o] = !!t[o]
            } else "string" == typeof t && (a.runevals = t)
        }
    }

    function s(a, l, i) {
        if (i.params && $.each(i.params, function(a, l) {
                if (!l._done) {
                    if (l._done = !0, "string" == typeof l.step || "function" == typeof l.step) {
                        var e = l.step;
                        Object.defineProperty(l, "step", {
                            get: function() {
                                var a = 0;
                                if (DiabloCalc.getStats) {
                                    var l = DiabloCalc.getStats(!0);
                                    a = "string" == typeof e ? l.execString(e) : e.call(i, l)
                                }
                                return a
                            }
                        })
                    }
                    if ("string" == typeof l.inf || "function" == typeof l.inf) {
                        var t = l.inf;
                        Object.defineProperty(l, "inf", {
                            get: function() {
                                var a = 0;
                                if (DiabloCalc.getStats) {
                                    var l = DiabloCalc.getStats(!0);
                                    a = "string" == typeof t ? l.execString(t) : e.call(t, l)
                                }
                                return !!a
                            }
                        })
                    }
                    if ("string" == typeof l.min || "function" == typeof l.min || "string" == typeof l.max || "function" == typeof l.max ? (void 0 === l.val && (l.val = "max"), l._val = l.val, Object.defineProperty(l, "val", {
                            get: function() {
                                return null === l._val || "max" === l._val ? l.max : "min" === l._val ? l.min : Math.min(l.max, Math.max(l._val, l.min))
                            },
                            set: function(a) {
                                a <= l.min ? l._val = "min" : a >= l.max && !l.inf ? l._val = "max" : l._val = a
                            }
                        })) : void 0 !== l.val && "string" != typeof l.val || (void 0 === l.val || "max" === l.val ? l.val = l.max : l.val = l.min), "string" == typeof l.min || "function" == typeof l.min) {
                        var o = l.min;
                        Object.defineProperty(l, "min", {
                            get: function() {
                                var a = 0;
                                if (DiabloCalc.getStats) {
                                    var e = DiabloCalc.getStats(!0);
                                    a = "string" == typeof o ? e.execString(o) : o.call(i, e)
                                }
                                var t = l.step || 1;
                                return Math.ceil(a / t) * t
                            }
                        })
                    }
                    if ("string" == typeof l.max || "function" == typeof l.max) {
                        s = l.max;
                        Object.defineProperty(l, "max", {
                            get: function() {
                                var a = 0;
                                if (DiabloCalc.getStats) {
                                    var e = DiabloCalc.getStats(!0);
                                    a = "string" == typeof s ? e.execString(s) : s.call(i, e)
                                }
                                var t = l.step || 1;
                                if (a = Math.floor(a / t) * t, l.inf) {
                                    var o = l.min,
                                        r = void 0 === l._val ? l.val : l._val;
                                    "max" !== r && null !== r || (r = a), "min" === r && (r = o);
                                    var c = 1.33 * (r - o) + o;
                                    return Math.max(a, Math.floor(c / t) * t)
                                }
                                return a
                            }
                        })
                    } else if (l.inf) {
                        var s = l.max;
                        Object.defineProperty(l, "max", {
                            get: function() {
                                return Math.max(s, Math.floor(1.33 * l.val / (l.step || 1)) * (l.step || 1))
                            }
                        })
                    }
                    "function" == typeof l.name && Object.defineProperty(l, "name", {
                        get: l.name
                    })
                }
            }), i.boxnames) {
            i.boxvals = [];
            for (var e = 0; e < i.boxnames.length; ++e) i.boxvals.push(!1)
        }
        if (i.runelist)
            if (i.multiple) {
                var o = {};
                for (var l in i.runes) o[l] = !1;
                i.runevals = o
            } else i.runevals = "*" === i.runelist ? "x" : i.runelist[0];
        var s = t(i);
        s.length && (p[a].objects[l] = i, p[a].defaults[l] = s)
    }

    function r(a, l, i) {
        if (i >= l.length) return a;
        if ("*" === l[i]) {
            s = {};
            for (var e in a) {
                var t = r(a[e], l, i + 1);
                void 0 !== t && (s[e] = t)
            }
            if (!$.isEmptyObject(s)) return s
        } else if (void 0 !== a[l[i]]) {
            var o = r(a[l[i]], l, i + 1);
            if (void 0 !== o) {
                var s;
                return (s = {})[l[i]] = o, s
            }
        }
    }

    function c(a) {
        if (a.format) return a.format;
        for (var l = [], i = 0; i < (void 0 === a.args ? 1 : a.args); ++i) l.push("%d");
        return "+" + l.join("-") + " " + a.name
    }

    function n(a, l) {
        this.re = a, this.list = l
    }

    function f(a, l, i) {
        var e = [],
            t = !1,
            o = !1;
        l = (l = (l = (l = (l = (l = l || c(a)).replace(/%(?:\{([0-9]+)\})?(d|\.[0-9]f|p)/g, function(a, l, i) {
            return e.push(l ? parseInt(l) : void 0), l && (t = !0), "p" === i && (o = !0), "p" === i ? "#" : "@"
        })).replace(/%%/g, "%")).replace(/[$-.]|[[-^]|[?|{}]/g, "\\$&")).replace(/@/g, "([0-9,]+(?:\\.[0-9]+)?)")).replace(/#/g, "(.+)"), a.class || i ? l += "(?: \\(" + DiabloCalc.classes[a.class || i].name + " Only\\))?" : o && (l += "(?: \\(.* Only\\))?");
        var s = new RegExp("^" + l + "$", "i");
        return t ? new n(s, e) : s
    }

    function b() {
        function a(a, l) {
            for (var i in l) "object" == typeof l[i] ? a[i] = l[i] : DiabloCalc.stats[i] && DiabloCalc.stats[i].dr ? a[i] = 100 * (1 - (1 - .01 * (a[i] || 0)) * (1 - .01 * l[i])) : a[i] = (a[i] || 0) + l[i]
        }
        DiabloCalc.itemById = {};
        for (I = 0; I < DiabloCalc.items.length; ++I) DiabloCalc.itemById[DiabloCalc.items[I].id] = DiabloCalc.items[I];
        for (var l in DiabloCalc.statLimits.legendary) DiabloCalc.statLimits.ancient.hasOwnProperty(l) || (DiabloCalc.statLimits.ancient[l] = DiabloCalc.statLimits.legendary[l]), DiabloCalc.statLimits.rare.hasOwnProperty(l) || (DiabloCalc.statLimits.rare[l] = DiabloCalc.statLimits.legendary[l]);
        DiabloCalc.statLimits.primal = $.extend({}, DiabloCalc.statLimits.ancient), _L.fixkey(DiabloCalc.statList.primary), _L.fixkey(DiabloCalc.statList.secondary), DiabloCalc.extendStats = function(a, l) {
            if ("string" != typeof l)
                for (i = 0; i < l.length; ++i) DiabloCalc.extendStats(a, l[i]);
            else if (DiabloCalc.statGroups[l])
                for (var i = 0; i < DiabloCalc.statGroups[l].length; ++i) DiabloCalc.extendStats(a, DiabloCalc.statGroups[l][i]);
            else DiabloCalc.stats[l] && a.push(l);
            return a
        };
        for (I = 0; I < DiabloCalc.potions.length; ++I) Object.defineProperty(DiabloCalc.itemById, DiabloCalc.potions[I].id, {
            value: DiabloCalc.potions[I],
            enumerable: !1
        });
        for (I = 0; I < DiabloCalc.extraItems.length; ++I) Object.defineProperty(DiabloCalc.itemById, DiabloCalc.extraItems[I].id, {
            value: DiabloCalc.extraItems[I],
            enumerable: !1
        });
        for (var e in DiabloCalc.skills)
            if (DiabloCalc.classes[e])
                for (var t in DiabloCalc.skills[e]) {
                    var o = DiabloCalc.skills[e][t].name,
                        r = "skill_" + e + "_" + t;
                    DiabloCalc.stats[r] = {
                        name: "{0} Damage".format(o),
                        format: "Increases {0} Damage by %d%%".format(o),
                        class: e,
                        skill: o
                    }
                }
            for (var e in DiabloCalc.passives)
                for (var t in DiabloCalc.passives[e]) DiabloCalc.passives[e][t].origname = DiabloCalc.passives[e][t].name;
        for (var t in DiabloCalc.stats) {
            (l = DiabloCalc.stats[t]).base || (l.regex = f(l))
        }
        for (I = 0; I < DiabloCalc.items.length; ++I) {
            (m = DiabloCalc.items[I]).required && m.required.custom && (m.required.custom.regex = f(m.required.custom, void 0, DiabloCalc.itemPowerClasses[m.required.custom.id])), m.legacy ? m.suffix = _L("Legacy") : m.retro && (m.suffix = _L("Retro"))
        }
        _L.patch.apply(DiabloCalc);
        for (var e in DiabloCalc.skills)
            if (DiabloCalc.classes[e])
                for (var t in DiabloCalc.skills[e]) {
                    var o = DiabloCalc.skills[e][t].name,
                        r = "skill_" + e + "_" + t;
                    (l = DiabloCalc.stats[r]).name = _L("{0} Damage").format(o), l.format = _L("Increases {0} Damage by %d%%").format(o), l.skill = o
                }
            DiabloCalc.sourceNames = {
            gems: _L("Gems"),
            paragon: _L("Paragon"),
            dualwield: _L("Dual Wielding"),
            seasonal: _L("Seasonal Buff")
        };
        var n = 0;
        for (var l in DiabloCalc.stats) DiabloCalc.stats[l].skill || (n += 10, DiabloCalc.stats[l].prio = n), DiabloCalc.sourceNames[l] = DiabloCalc.stats[l].name, DiabloCalc.stats[l].class && (DiabloCalc.stats[l].classes = [DiabloCalc.stats[l].class]), void 0 === DiabloCalc.stats[l].args && (DiabloCalc.stats[l].args = 1), DiabloCalc.stats[l].format || (DiabloCalc.stats[l].format = c(DiabloCalc.stats[l]));
        for (var l in DiabloCalc.stats) DiabloCalc.stats[l].skill && (DiabloCalc.stats[l].prio = DiabloCalc.stats.skill_wizard_teleport_cooldown.prio - 5);
        for (I = 0; I < DiabloCalc.statExclusiveGroups.length; ++I) {
            var b = DiabloCalc.statExclusiveGroups[I];
            $.each(DiabloCalc.extendStats([], b), function(a, l) {
                DiabloCalc.stats[l].group = b
            })
        }
        for (var u in DiabloCalc.itemSlots) DiabloCalc.itemSlots[u].types = {}, DiabloCalc.sourceNames[u] = DiabloCalc.itemSlots[u].name;
        for (var C in DiabloCalc.itemTypes) {
            u = DiabloCalc.itemTypes[C].slot;
            if (DiabloCalc.metaSlots[u])
                for (I = 0; I < DiabloCalc.metaSlots[u].slots.length; ++I) DiabloCalc.itemSlots[DiabloCalc.metaSlots[u].slots[I]].types[C] = DiabloCalc.itemTypes[C];
            else DiabloCalc.itemSlots[DiabloCalc.itemTypes[C].slot].types[C] = DiabloCalc.itemTypes[C];
            DiabloCalc.itemTypes[C].class && (DiabloCalc.itemTypes[C].classes = [DiabloCalc.itemTypes[C].class]), DiabloCalc.itemTypes[C].items = []
        }
        for (var D in DiabloCalc.itemSets) DiabloCalc.itemSets[D].items = [], DiabloCalc.sourceNames[D] = DiabloCalc.itemSets[D].name;
        DiabloCalc.items.sort(function(a, l) {
            if (a.quality != l.quality) return a.quality.localeCompare(l.quality);
            var i = a.name.toLowerCase().replace(/^(?:the|a) /, ""),
                e = l.name.toLowerCase().replace(/^(?:the|a) /, "");
            return i.localeCompare(e)
        });
        for (I = 0; I < DiabloCalc.items.length; ++I) {
            var m = DiabloCalc.items[I];
            if (m.ids)
                for (var p = 0; p < m.ids.length; ++p) DiabloCalc.itemById[m.ids[p]] = m;
            if (DiabloCalc.itemTypes[m.type].items.push(m), DiabloCalc.sourceNames[m.id] = m.name, m.set) {
                (D = DiabloCalc.itemSets[m.set]).items.push(m), D.class && (m.class = D.class), D.classes && (m.classes = D.classes)
            }
            m.class && (m.classes = [m.class]), m.required && m.required.custom && (m.required.custom.nostack = !0)
        }
        for (var D in DiabloCalc.itemSets) {
            var v = DiabloCalc.itemSets[D];
            DiabloCalc.sourceNames[D] = v.name, v.order && v.items.sort(function(a, l) {
                return v.order.indexOf(a.type) - v.order.indexOf(l.type)
            })
        }
        for (var C in DiabloCalc.itemTypes) {
            var g = {
                id: DiabloCalc.itemTypes[C].generic,
                name: DiabloCalc.GenderPair(DiabloCalc.qualities.rare.prefix, DiabloCalc.itemTypes[C].name),
                type: C,
                quality: "rare"
            };
            DiabloCalc.items.push(g), DiabloCalc.itemById[g.id] = g, DiabloCalc.itemTypes[C].items.unshift(g)
        }
        DiabloCalc.gemById = {};
        for (var C in DiabloCalc.gemColors) {
            var d = DiabloCalc.gemColors[C];
            if (!d.names) {
                d.names = [d.name];
                for (I = 1; I < DiabloCalc.gemQualities.length; ++I) d.names.push(DiabloCalc.gemQualities[I] + " " + d.name)
            }
            for (I = 0; I < DiabloCalc.gemQualities.length; ++I) DiabloCalc.gemById[d.id + i(I + 1)] = [I, C];
            for (I = 0; I < DiabloCalc.oldGemQualities.length; ++I) DiabloCalc.gemById[d.oldid + i(I + 1)] = [DiabloCalc.oldGemQualities[I], C]
        }
        var y = [];
        for (var C in DiabloCalc.legendaryGems) {
            var h = DiabloCalc.legendaryGems[C];
            if (h.effects) {
                if (DiabloCalc.gemById[h.id] = [C, 0], DiabloCalc.sourceNames[C] = h.name, h.ids)
                    for (I = 0; I < h.ids.length; ++I) DiabloCalc.gemById[h.ids[I]] = [C, 0];
                for (I = 0; I < h.effects.length; ++I) h.effects[I].args = (h.effects[I].value || []).length
            } else y.push(C)
        }
        for (I = 0; I < y.length; ++I) delete DiabloCalc.legendaryGems[y[I]];
        DiabloCalc.skillById = {};
        for (var e in DiabloCalc.skills) {
            var x = {},
                S = DiabloCalc.skills[e];
            for (var o in S) x[S[o].id] = o;
            S = DiabloCalc.passives[e];
            for (var o in S) x[S[o].id] = o;
            DiabloCalc.skillById[e] = x
        }
        DiabloCalc.getSlotId = function() {}, DiabloCalc.setSlot = function() {}, DiabloCalc.getParagon = function() {};
        for (var t in DiabloCalc.legendaryGems) s("global", t, DiabloCalc.legendaryGems[t]);
        for (var t in DiabloCalc.itemaffixes) DiabloCalc.itemaffixes[t].clone ? DiabloCalc.itemaffixes[t] = DiabloCalc.itemaffixes[DiabloCalc.itemaffixes[t].clone] : s("global", t, DiabloCalc.itemaffixes[t]);
        DiabloCalc.allSkills = {};
        for (var e in DiabloCalc.skills)
            for (var t in DiabloCalc.skills[e]) DiabloCalc.allSkills[t] = DiabloCalc.skills[e][t], DiabloCalc.sourceNames[t] = DiabloCalc.skills[e][t].name, s("global", t, DiabloCalc.skills[e][t]);
        DiabloCalc.allPassives = {};
        for (var e in DiabloCalc.passives)
            for (var t in DiabloCalc.passives[e]) DiabloCalc.allPassives[t] = DiabloCalc.passives[e][t], DiabloCalc.sourceNames[t] = DiabloCalc.passives[e][t].name, s("global", t, DiabloCalc.passives[e][t]);
        var P = DiabloCalc.locale("ui-skills.js");
        for (var e in DiabloCalc.classes) DiabloCalc.partybuffs[e] && $.each(DiabloCalc.partybuffs[e], function(l, i) {
            var t = DiabloCalc.skills[e][l] || DiabloCalc.passives[e][l];
            if (i.addpassive || (i.active = !1), i.charClass = e, i.id = l, i.runelist) {
                if (i.type = "skill", i.runes = {}, "*" === i.runelist) i.runes = $.extend({
                    x: P("No Rune")
                }, t.runes);
                else
                    for (var o = 0; o < i.runelist.length; ++o) i.runes[i.runelist[o]] = "x" === i.runelist[o] ? P("No Rune") : t.runes[i.runelist[o]];
                if (i.buffs && "function" == typeof i.buffs) {
                    if (!i.multiple) {
                        s = i.buffs;
                        i.buffs = function(a) {
                            var l = this.runevals || this.runelist;
                            return s.call(this, l, a)
                        }
                    }
                } else {
                    var s = i.buffs || t.buffs,
                        r = i.passive || t.passive,
                        c = 0,
                        n = -1;
                    s && r ? i.addpassive ? (i.boxnames = ["Passive", "Active"], c = 1, n = 0) : i.boxnames = ["Activated"] : (r = s || r, s = void 0);
                    var f = r,
                        b = s;
                    "object" == typeof r && (f = function(a, l) {
                        return r[a]
                    }), "object" == typeof s && (b = function(a, l) {
                        return s[a]
                    }), i.buffs = function(l) {
                        var i = {};
                        if (this.multiple)
                            for (var e in this.runes) this.runevals[e] && ((n < 0 || !this.boxvals || this.boxvals[n]) && a(i, f.call(this, e, l)), s && this.boxvals && this.boxvals[c] && a(i, b.call(this, e, l)));
                        else {
                            e = this.runevals || this.runelist;
                            (n < 0 || !this.boxvals || this.boxvals[n]) && a(i, f.call(this, e, l)), s && this.boxvals && this.boxvals[c] && a(i, b.call(this, e, l))
                        }
                        return i
                    }
                }
            } else if (i.type = "passive", !i.buffs || "function" != typeof i.buffs) {
                s = i.buffs || t.buffs;
                i.buffs = "function" == typeof s ? s : function() {
                    return s
                }
            }
        });
        DiabloCalc.itemFromAffix = {};
        for (var t in DiabloCalc.itemById)
            if (DiabloCalc.itemById[t].required && DiabloCalc.itemById[t].required.custom) {
                var _ = DiabloCalc.itemById[t].required.custom;
                DiabloCalc.itemFromAffix[_.id] = DiabloCalc.itemById[t], DiabloCalc.partybuffs.items[_.id] && (DiabloCalc.partybuffs.items[_.id].item = t, 0 !== _.args && (DiabloCalc.partybuffs.items[_.id].params = [{
                    min: _.min,
                    max: _.max,
                    name: "Amount"
                }]))
            }
        var k = DiabloCalc.partybuffs.items;
        DiabloCalc.partybuffs.items = {}, $.each(k, function(a, l) {
            l.active = !1, l.id = a, DiabloCalc.legendaryGems[a] ? (l.type = "gem", DiabloCalc.partybuffs.items[a] = l, s("party", "buff_" + a, l)) : l.item && (l.type = "affix", l.stat ? l.buffs = function() {
                var a = {};
                return a[this.stat] = this.params[0].val, a
            } : "function" == typeof DiabloCalc.itemaffixes[a].buffs ? l.buffs = DiabloCalc.itemaffixes[a].buffs : l.buffs = function() {
                return DiabloCalc.itemaffixes[a].buffs
            }, DiabloCalc.partybuffs.items[l.item] = l)
        }), DiabloCalc._partybuffs = DiabloCalc.partybuffs, DiabloCalc.partybuffs = [];
        for (var I = 0; I < 3; ++I) {
            DiabloCalc.partybuffs.push($.extend(!0, {}, DiabloCalc._partybuffs));
            for (var e in DiabloCalc.partybuffs[I]) $.each(DiabloCalc.partybuffs[I][e], function(a, l) {
                s("party", "buff" + I + "_" + a, l)
            })
        }
        DiabloCalc.followerbuffs = DiabloCalc._partybuffs.followers, $.each(DiabloCalc.followerbuffs, function(a, l) {
            l.active = !1, l.id = a, l.type = "custom", DiabloCalc.sourceNames[a] = l.name, s("party", a, l)
        }), DiabloCalc.shrinebuffs = DiabloCalc._partybuffs.shrines, $.each(DiabloCalc.shrinebuffs, function(a, l) {
            l.active = !1, l.id = a, l.type = "custom", DiabloCalc.sourceNames[a] = l.name, s("party", a, l)
        })
    }
    DiabloCalc.GenderString = function(a, l) {
        if (!a.length) return a;
        if ("[" == a[0]) {
            var i = a.indexOf("]");
            i >= 0 && (a = a.slice(i + 1))
        }
        return !1 !== l ? a.charAt(0).toUpperCase() + a.slice(1) : a
    }, DiabloCalc.GenderPair = function(a, l, i) {
        var e = function(a, l) {
            if (!a.length || !l.length) return a + l;
            var i = "ah";
            if ((e = l.match(/\[([a-z]+)\]([^\[]+)/)) && (i = e[1], l = e[2]), "[" != a[0]) return a + " " + l;
            for (var e, t = /\[([a-z]+)\]([^\[]+)/g, o = {}; e = t.exec(a);) o[e[1]] = e[2];
            if (!(i in o))
                for (var s in o) {
                    i = s;
                    break
                }
            return (o[i] || "") + " " + l
        }(a, l);
        return !1 !== i ? e.charAt(0).toUpperCase() + e.slice(1) : e
    };
    var u = {},
        C = {};
    DiabloCalc.register = function(a, l) {
        u[a] || (u[a] = []), u[a].push(l)
    }, DiabloCalc.unregister = function(a, l) {
        if (u[a])
            for (var i = 0; i < u[a].length; ++i)
                if (u[a][i] === l) return void u[a].splice(i, 1)
    }, DiabloCalc.importActive = 1, DiabloCalc.trigger = function(l, i) {
        if (!DiabloCalc.importActive && (void 0 === i && (i = null), C[l] || (C[l] = {}), !C[l][i])) {
            var e = Array.prototype.slice.call(arguments);
            C[l][i] = setTimeout(a, 0, e)
        }
    }, DiabloCalc.triggerNow = function() {
        a(Array.prototype.slice.call(arguments))
    }, DiabloCalc.importStart = function() {
        DiabloCalc.importActive++, DiabloCalc.spinStart()
    }, DiabloCalc.importEnd = function(a, l) {
        DiabloCalc.spinStop(), DiabloCalc.importActive--, DiabloCalc.trigger("importEnd", a, l)
    };
    var D = {};
    DiabloCalc.register("updateSlotStats", function(a) {
        D[a] = void 0
    }), DiabloCalc.register("updateSlotItem", function(a) {
        D[a] = void 0, DiabloCalc.trigger("updateSlotStats", a)
    }), DiabloCalc.register("importEnd", function() {
        D = {}
    }), DiabloCalc.getSlot = function(a) {
        return DiabloCalc.importActive && DiabloCalc.getSlotData ? DiabloCalc.getSlotData(a) : (void 0 === D[a] && DiabloCalc.getSlotData && (D[a] = DiabloCalc.getSlotData(a)), D[a])
    };
    var m;
    window.onbeforeunload = function(a) {
        m && l()
    }, DiabloCalc.register("updateStats", function() {
        m || (m = setTimeout(l, 1e4))
    }), DiabloCalc.register("updatePriority", function() {
        m || (m = setTimeout(l, 1e4))
    }), DiabloCalc.register("updateStatPriority", function() {
        m || (m = setTimeout(l, 1e4))
    }), DiabloCalc.getStorage = function(a) {
        var l;
        try {
            l = window.localStorage ? localStorage.getItem(a) : $.cookie(a)
        } catch (a) {
            return
        }
        if (!l) return l;
        try {
            return JSON.parse(l)
        } catch (a) {
            return l
        }
    }, DiabloCalc.setStorage = function(a, l) {
        try {
            l = JSON.stringify(l), window.localStorage ? localStorage.setItem(a, l) : $.cookie(a, l, {
                days: 365
            })
        } catch (a) {}
    }, DiabloCalc.sourceNames = {}, DiabloCalc.getProfile = function() {
        var a = DiabloCalc.getSkills();
        a.paragon = DiabloCalc.getParagonLevels(), a.class = $(".char-class").val(), a.seasonal = DiabloCalc.seasonal || 0, a.gender = DiabloCalc.gender || "female", a.items = {};
        for (var l in DiabloCalc.itemSlots) {
            var i = DiabloCalc.getSlot(l);
            i && (a.items[l] = i)
        }
        a.active = DiabloCalc.getActive("party"), DiabloCalc.priority && (a.priority = DiabloCalc.priority.getData()), DiabloCalc.Optimizer && (a.statPriority = $.extend(!0, [], DiabloCalc.Optimizer.priority)), a.mainset = "";
        var e = DiabloCalc.getStats();
        for (var t in DiabloCalc.itemSets) e["set_" + t + "_6pc"] && (a.mainset = t);
        return a.buildinfo = DiabloCalc.buildinfo, a
    }, DiabloCalc.getAllProfiles = DiabloCalc.getProfile, DiabloCalc.setProfile = function(a, l) {
        if (DiabloCalc.importStart(), (a.class && a.class != $(".char-class") || a.gender && a.gender !== (DiabloCalc.gender || "female")) && (DiabloCalc.gender = a.gender, $(".char-class").val(a.class).change().trigger("chosen:updated")), DiabloCalc.seasonal = a.seasonal && a.seasonal === DiabloCalc.season ? DiabloCalc.season : 0, $(".seasonal-box input").prop("checked", !!DiabloCalc.seasonal), a.items) {
            for (var i in DiabloCalc.itemSlots) a.items[i] || DiabloCalc.setSlot(i, null);
            for (var i in a.items) DiabloCalc.setSlot(i, a.items[i])
        }
        DiabloCalc.setSkills(a), a.paragon && DiabloCalc.setParagon(a.paragon), a.active && DiabloCalc.setActive("party", a.active), DiabloCalc.priority && a.priority && DiabloCalc.priority.setData(a.priority), DiabloCalc.Optimizer && a.statPriority && (DiabloCalc.Optimizer.priority = a.statPriority, DiabloCalc.Optimizer.updatePriority()), DiabloCalc.buildinfo = a.buildinfo, DiabloCalc.importEnd(l, a.values)
    }, DiabloCalc.setAllProfiles = DiabloCalc.setProfile, DiabloCalc.charClass = null, DiabloCalc.register("changeClass", function() {
        DiabloCalc.charClass = $(".char-class").val()
    }), DiabloCalc.getItemIcon = function(a, l) {
        "string" != typeof a && (a = DiabloCalc.gemColors[a[1]].id + i(a[0] + 1)), DiabloCalc.legendaryGems[a] && (a = DiabloCalc.legendaryGems[a].id);
        var e = DiabloCalc.itemIcons[a],
            t = location.protocol + "//" + location.hostname + DiabloCalc.relPath + "webgl/icons/";
        if (e && e[1]) {
            if ("number" == typeof e[1]) return t + e[1];
            e = e[1];
            var o = DiabloCalc.classToIcon[DiabloCalc.charClass],
                s = "male" === DiabloCalc.gender ? 0 : 1;
            return void 0 !== e[o + s] ? t + e[o + s] : void 0 !== e[o] ? t + e[o] : void 0 !== e[s] ? t + e[s] : t + e[0]
        }
        return DiabloCalc.itemById[a] && DiabloCalc.itemById[a].icon ? t + DiabloCalc.itemById[a].icon : ""
    };
    var p = {
        global: {
            objects: {},
            defaults: {}
        },
        party: {
            objects: {},
            defaults: {}
        }
    };
    DiabloCalc.getActive = function(a) {
        var l = !1;
        "global+" === a && (l = !0, a = "global");
        var i = {};
        if ($.each(p[a].objects, function(l, o) {
                var s = t(o);
                void 0 === p[a].defaults[l] || e(s, p[a].defaults[l]) || (i[l] = s)
            }), "party" === a) {
            for (var o = 0; o < DiabloCalc.partybuffs.length; ++o) DiabloCalc.partybuffs[o].class && (i["buff" + o] = DiabloCalc.partybuffs[o].class);
            for (var s in DiabloCalc.options) DiabloCalc.optionPerProfile[s] && (i[s] = DiabloCalc.options[s])
        } else
            for (var s in DiabloCalc.options) DiabloCalc.optionPerProfile[s] && !l || (i[s] = DiabloCalc.options[s]);
        return i
    }, DiabloCalc.setActive = function(a, l) {
        if ($.each(p[a].objects, function(i, e) {
                if ("object" == typeof l[i]) o(e, l[i]);
                else if (l.active && void 0 !== l.active[i] || l.params && l.params[i]) {
                    var t = [];
                    l.active && void 0 !== l.active[i] && t.push(l.active[i]), l.params && l.params[i] && t.push(l.params[i]), o(e, t)
                } else void 0 !== l[i] ? o(e, [l[i]]) : o(e, p[a].defaults[i])
            }), "party" === a) {
            for (var i = 0; i < DiabloCalc.partybuffs.length; ++i) DiabloCalc.partybuffs[i].class = l["buff" + i];
            for (var e in DiabloCalc.options) DiabloCalc.optionPerProfile[e] && void 0 !== l[e] && (DiabloCalc.options[e] = l[e])
        } else
            for (var e in DiabloCalc.options) DiabloCalc.optionPerProfile[e] || void 0 !== l[e] && (DiabloCalc.options[e] = l[e]);
        DiabloCalc.trigger("updateStats"), DiabloCalc.trigger("updateParams")
    }, DiabloCalc.exportData = function(a) {
        return r(this, a.split("."), 0)
    }, n.prototype.exec = function(a) {
        for (var l = this.re.exec(a), i = [l[0]], e = 0; e < this.list.length; ++e) void 0 === this.list[e] ? i.push(l[e]) : i[this.list[e] + 1] = l[e];
        return i
    }, DiabloCalc.getStatRegex = f, $.cookie.json = !0;
    var v = $.cookie("locale") || "enUS",
        g = fetch("locale/" + v).then(function(a) {
            return a.json()
        }),
        d = fetch(DiabloCalc.ptr ? "data.js" : "data").then(function(a) {
            return a.json()
        });
    DiabloCalc.loadData = function() {
        g.then(function(a) {
            $.extend(!0, DiabloCalc, a), DiabloCalc.translateMainPage(), d.then(function(a) {
                $.extend(!0, DiabloCalc, a), b(), DiabloCalc.onDataLoaded()
            })
        })
    }
}();
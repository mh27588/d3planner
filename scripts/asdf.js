Tooltip.prototype.breakpoints=function(a,e){function s(a,s){var t;return(t=e.framesmh&&e.framesoh?.5*(Math.floor(e.fpa/(e.dspeed*a))+Math.floor(e.fpa/(e.dspeed*s)))+e.fpadelta:Math.floor(e.fpa/(e.dspeed*a))+e.fpadelta)<e.frames?'<span class="d3-color-green">+'+DC.formatNumber(100*(e.frames/t-1),1)+"%</span>":t>e.frames?'<span class="d3-color-red">-'+DC.formatNumber(100*(1-e.frames/t),1)+"%</span>":'<span class="d3-color-gray">+0%</span>'}function t(a){var e=a[0]===b||a[0]===u?' class="current"':"";return"<td"+e+">"+a[0]+"</td><td"+e+">"+a[1]+"</td>"}if(e.pet){if(e.frames>6){var r=a.info.mainhand.speed/(1+.01*(a.ias||0)),o=e.fpa/(e.frames-5)/e.speed,d=Math.ceil(10*(100*o/r-100-(a.ias||0)))/10;this.line(!1,"IAS to next breakpoint: {0}",'<span class="d3-color-white">'+d+"%</span>")}this.body_+="</p><table><tr><th>"+["FPA","APS","Pet APS","Delta"].map(_L).join("</th><th>")+"</th></tr>";for(y=6*Math.ceil(Math.floor(e.fpa)/6);y>=6;y-=6){P=Math.max(1,e.fpa/(y+1)/e.speed+51e-6);if(e.speed/(y+1)>5)break;this.body_+="<tr"+(y===e.frames?' class="current"':"")+"><td>"+y+"</td>",this.body_+="<td>"+P.toFixed(4)+"</td><td>"+Math.max(1,e.fpa/(y+1)+51e-6).toFixed(4)+"</td>";var f=100*(e.frames/y-1);this.body_+='<td class="'+(f<0?"d3-color-red":f>0?"d3-color-green":"d3-color-gray")+'">',this.body_+=(f<0?f.toFixed(1):"+"+f.toFixed(1))+"%</td></tr>"}this.body_+="</table><p>"}else{if(e.framesmh&&e.framesoh){if(e.framesmh>1&&e.framesoh>1){var i=e.fpa/(e.framesmh-e.fpadelta)/e.dspeed+51e-6,p=e.fpa/(e.framesoh-e.fpadelta)/e.dspeed+51e-6;i=(l=Math.min(i/a.info.mainhand.speed,p/a.info.offhand.speed))*a.info.mainhand.speed,p=l*a.info.offhand.speed;d=Math.ceil(10*(l*(100+(a.ias||0))-100-(a.ias||0)))/10;this.line(!1,"Next breakpoint: {0} APS ({1} IAS), {2} DPS",'<span class="d3-color-white">'+DC.formatNumber(i,4,1e4)+'</span>/<span class="d3-color-white">'+DC.formatNumber(p,4,1e4)+"</span>",'<span class="d3-color-white">+'+d+"</span>",s(i,p))}var h=e.fpa/(e.framesmh+1-e.fpadelta)/e.dspeed-51e-6,n=e.fpa/(e.framesoh+1-e.fpadelta)/e.dspeed-51e-6;h=(m=Math.max(h/a.info.mainhand.speed,n/a.info.offhand.speed))*a.info.mainhand.speed,n=m*a.info.offhand.speed;d=Math.ceil(10*(m*(100+(a.ias||0))-100-(a.ias||0)))/10;this.line(!1,"Previous breakpoint: {0} APS ({1} IAS), {2} DPS",'<span class="d3-color-white">'+DC.formatNumber(h,4,1e4)+'</span>/<span class="d3-color-white">'+DC.formatNumber(n,4,1e4)+"</span>",'<span class="d3-color-white">'+d+"</span>",s(h,n))}else{if(e.frames>1){var l=e.fpa/(e.frames-e.fpadelta)/e.dspeed+51e-6,r=e.basespeed/(1+.01*(a.ias||0)),d=Math.ceil(10*(100*l/r-100-(a.ias||0)))/10;this.line(!1,"Next breakpoint: {0} APS ({1} IAS), {2} DPS",'<span class="d3-color-white">'+DC.formatNumber(l,4,1e4)+"</span>",'<span class="d3-color-white">'+d+"</span>",s(l))}var m=e.fpa/(e.frames+1-e.fpadelta)/e.dspeed-51e-6,r=e.basespeed/(1+.01*(a.ias||0)),d=Math.ceil(10*(100*m/r-100-(a.ias||0)))/10;this.line(!1,"Previous breakpoint: {0} APS ({1} IAS), {2} DPS",'<span class="d3-color-white">'+DC.formatNumber(m,4,1e4)+"</span>",'<span class="d3-color-white">'+d+"</span>",s(m))}if(!e.sequence){var c="<th>"+_L("FPA")+"</th><th>"+_L("APS")+"</th>";this.body_+='</p><table class="col2"><tr>'+c+"<th></th>"+c+"<th></th>"+c+"</tr>";var b=e.frames,u=e.frames;e.framesmh&&e.framesoh&&(b=e.framesmh,u=e.framesoh);var M=[],v=Math.max(3,a.info.mainhand.speed);e.framesoh&&(v=Math.max(v,a.info.offhand.speed)),v=Math.max(1.2*v,v+.5);for(var y=Math.floor(e.fpa)+e.fpadelta;y>=1;y-=1){var P;if((P=Math.max(1,e.fpa/(y+1-e.fpadelta)/e.dspeed+51e-6))>v&&M.length%3==0)break;M.push([y,P.toFixed(4)])}for(var S=Math.ceil(M.length/3),_=0;_<S;++_){this.body_+="<tr>"+t(M[_]);var x=M[_][0]===b||M[_][0]===u?' class="current"':"";this.body_+="<td"+x+">"+M[_][0]+"</td><td"+x+">"+M[_][1]+"</td>",_+S<M.length&&(this.body_+="<td></td>"+t(M[_+S])),_+S+S<M.length&&(this.body_+="<td></td>"+t(M[_+S+S])),this.body_+="</tr>"}this.body_+="</table><p>"}}};